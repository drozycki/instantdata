var M1=(qo,Oi)=>()=>(Oi||qo((Oi={exports:{}}).exports,Oi),Oi.exports);var S1=M1((L1,Vu)=>{(function(qo,Oi){typeof Vu=="object"&&Vu.exports?Vu.exports=Oi():qo.moduleName=Oi()})(typeof self<"u"?self:void 0,()=>{var qo=(()=>{var Oi=Object.defineProperty,Th=Object.getOwnPropertyDescriptor,kh=Object.getOwnPropertyNames,Mh=Object.prototype.hasOwnProperty,hf=(E,k)=>()=>(E&&(k=E(E=0)),k),xe=(E,k)=>()=>(k||E((k={exports:{}}).exports,k),k.exports),Sh=(E,k,i,t)=>{if(k&&typeof k=="object"||typeof k=="function")for(let e of kh(k))!Mh.call(E,e)&&e!==i&&Oi(E,e,{get:()=>k[e],enumerable:!(t=Th(k,e))||t.enumerable});return E},Oh=E=>Sh(Oi({},"__esModule",{value:!0}),E),qu=xe(E=>{E.version="3.0.1"}),Lh=xe((E,k)=>{(function(i,t,e){t[i]=t[i]||e(),typeof k<"u"&&k.exports&&(k.exports=t[i])})("Promise",typeof window<"u"?window:E,function(){var i,t,e,n=Object.prototype.toString,l=typeof setImmediate<"u"?function(m){return setImmediate(m)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(m,c,h,b){return Object.defineProperty(m,c,{value:h,writable:!0,configurable:b!==!1})}}catch{i=function(c,h,b){return c[h]=b,c}}e=function(){var m,c,h;function b(_,w){this.fn=_,this.self=w,this.next=void 0}return{add:function(_,w){h=new b(_,w),c?c.next=h:m=h,c=h,h=void 0},drain:function(){var _=m;for(m=c=t=void 0;_;)_.fn.call(_.self),_=_.next}}}();function a(m,c){e.add(m,c),t||(t=l(e.drain))}function o(m){var c,h=typeof m;return m!=null&&(h=="object"||h=="function")&&(c=m.then),typeof c=="function"?c:!1}function s(){for(var m=0;m<this.chain.length;m++)r(this,this.state===1?this.chain[m].success:this.chain[m].failure,this.chain[m]);this.chain.length=0}function r(m,c,h){var b,_;try{c===!1?h.reject(m.msg):(c===!0?b=m.msg:b=c.call(void 0,m.msg),b===h.promise?h.reject(TypeError("Promise-chain cycle")):(_=o(b))?_.call(b,h.resolve,h.reject):h.resolve(b))}catch(w){h.reject(w)}}function p(m){var c,h=this;if(!h.triggered){h.triggered=!0,h.def&&(h=h.def);try{(c=o(m))?a(function(){var b=new g(h);try{c.call(m,function(){p.apply(b,arguments)},function(){u.apply(b,arguments)})}catch(_){u.call(b,_)}}):(h.msg=m,h.state=1,h.chain.length>0&&a(s,h))}catch(b){u.call(new g(h),b)}}}function u(m){var c=this;c.triggered||(c.triggered=!0,c.def&&(c=c.def),c.msg=m,c.state=2,c.chain.length>0&&a(s,c))}function d(m,c,h,b){for(var _=0;_<c.length;_++)(function(w){m.resolve(c[w]).then(function(K){h(w,K)},b)})(_)}function g(m){this.def=m,this.triggered=!1}function v(m){this.promise=m,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function x(m){if(typeof m!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var c=new v(this);this.then=function(h,b){var _={success:typeof h=="function"?h:!0,failure:typeof b=="function"?b:!1};return _.promise=new this.constructor(function(w,K){if(typeof w!="function"||typeof K!="function")throw TypeError("Not a function");_.resolve=w,_.reject=K}),c.chain.push(_),c.state!==0&&a(s,c),_.promise},this.catch=function(h){return this.then(void 0,h)};try{m.call(void 0,function(h){p.call(c,h)},function(h){u.call(c,h)})}catch(h){u.call(c,h)}}var y=i({},"constructor",x,!1);return x.prototype=y,i(y,"__NPO__",0,!1),i(x,"resolve",function(m){var c=this;return m&&typeof m=="object"&&m.__NPO__===1?m:new c(function(h,b){if(typeof h!="function"||typeof b!="function")throw TypeError("Not a function");h(m)})}),i(x,"reject",function(m){return new this(function(c,h){if(typeof c!="function"||typeof h!="function")throw TypeError("Not a function");h(m)})}),i(x,"all",function(m){var c=this;return n.call(m)!="[object Array]"?c.reject(TypeError("Not an array")):m.length===0?c.resolve([]):new c(function(h,b){if(typeof h!="function"||typeof b!="function")throw TypeError("Not a function");var _=m.length,w=Array(_),K=0;d(c,m,function(D,I){w[D]=I,++K===_&&h(w)},b)})}),i(x,"race",function(m){var c=this;return n.call(m)!="[object Array]"?c.reject(TypeError("Not an array")):new c(function(h,b){if(typeof h!="function"||typeof b!="function")throw TypeError("Not a function");d(c,m,function(_,w){h(w)},b)})}),x})}),Jn=xe((E,k)=>{(function(){var i={version:"3.8.2"},t=[].slice,e=function(f){return t.call(f)},n=self.document;function l(f){return f&&(f.ownerDocument||f.document||f).documentElement}function a(f){return f&&(f.ownerDocument&&f.ownerDocument.defaultView||f.document&&f||f.defaultView)}if(n)try{e(n.documentElement.childNodes)[0].nodeType}catch{e=function(M){for(var Y=M.length,Q=new Array(Y);Y--;)Q[Y]=M[Y];return Q}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch{var o=this.Element.prototype,s=o.setAttribute,r=o.setAttributeNS,p=this.CSSStyleDeclaration.prototype,u=p.setProperty;o.setAttribute=function(M,Y){s.call(this,M,Y+"")},o.setAttributeNS=function(M,Y,Q){r.call(this,M,Y,Q+"")},p.setProperty=function(M,Y,Q){u.call(this,M,Y+"",Q)}}i.ascending=d;function d(f,M){return f<M?-1:f>M?1:f>=M?0:NaN}i.descending=function(f,M){return M<f?-1:M>f?1:M>=f?0:NaN},i.min=function(f,M){var Y=-1,Q=f.length,ne,ce;if(arguments.length===1){for(;++Y<Q;)if((ce=f[Y])!=null&&ce>=ce){ne=ce;break}for(;++Y<Q;)(ce=f[Y])!=null&&ne>ce&&(ne=ce)}else{for(;++Y<Q;)if((ce=M.call(f,f[Y],Y))!=null&&ce>=ce){ne=ce;break}for(;++Y<Q;)(ce=M.call(f,f[Y],Y))!=null&&ne>ce&&(ne=ce)}return ne},i.max=function(f,M){var Y=-1,Q=f.length,ne,ce;if(arguments.length===1){for(;++Y<Q;)if((ce=f[Y])!=null&&ce>=ce){ne=ce;break}for(;++Y<Q;)(ce=f[Y])!=null&&ce>ne&&(ne=ce)}else{for(;++Y<Q;)if((ce=M.call(f,f[Y],Y))!=null&&ce>=ce){ne=ce;break}for(;++Y<Q;)(ce=M.call(f,f[Y],Y))!=null&&ce>ne&&(ne=ce)}return ne},i.extent=function(f,M){var Y=-1,Q=f.length,ne,ce,me;if(arguments.length===1){for(;++Y<Q;)if((ce=f[Y])!=null&&ce>=ce){ne=me=ce;break}for(;++Y<Q;)(ce=f[Y])!=null&&(ne>ce&&(ne=ce),me<ce&&(me=ce))}else{for(;++Y<Q;)if((ce=M.call(f,f[Y],Y))!=null&&ce>=ce){ne=me=ce;break}for(;++Y<Q;)(ce=M.call(f,f[Y],Y))!=null&&(ne>ce&&(ne=ce),me<ce&&(me=ce))}return[ne,me]};function g(f){return f===null?NaN:+f}function v(f){return!isNaN(f)}i.sum=function(f,M){var Y=0,Q=f.length,ne,ce=-1;if(arguments.length===1)for(;++ce<Q;)v(ne=+f[ce])&&(Y+=ne);else for(;++ce<Q;)v(ne=+M.call(f,f[ce],ce))&&(Y+=ne);return Y},i.mean=function(f,M){var Y=0,Q=f.length,ne,ce=-1,me=Q;if(arguments.length===1)for(;++ce<Q;)v(ne=g(f[ce]))?Y+=ne:--me;else for(;++ce<Q;)v(ne=g(M.call(f,f[ce],ce)))?Y+=ne:--me;if(me)return Y/me},i.quantile=function(f,M){var Y=(f.length-1)*M+1,Q=Math.floor(Y),ne=+f[Q-1],ce=Y-Q;return ce?ne+ce*(f[Q]-ne):ne},i.median=function(f,M){var Y=[],Q=f.length,ne,ce=-1;if(arguments.length===1)for(;++ce<Q;)v(ne=g(f[ce]))&&Y.push(ne);else for(;++ce<Q;)v(ne=g(M.call(f,f[ce],ce)))&&Y.push(ne);if(Y.length)return i.quantile(Y.sort(d),.5)},i.variance=function(f,M){var Y=f.length,Q=0,ne,ce,me=0,ge=-1,Te=0;if(arguments.length===1)for(;++ge<Y;)v(ne=g(f[ge]))&&(ce=ne-Q,Q+=ce/++Te,me+=ce*(ne-Q));else for(;++ge<Y;)v(ne=g(M.call(f,f[ge],ge)))&&(ce=ne-Q,Q+=ce/++Te,me+=ce*(ne-Q));if(Te>1)return me/(Te-1)},i.deviation=function(){var f=i.variance.apply(this,arguments);return f&&Math.sqrt(f)};function x(f){return{left:function(M,Y,Q,ne){for(arguments.length<3&&(Q=0),arguments.length<4&&(ne=M.length);Q<ne;){var ce=Q+ne>>>1;f(M[ce],Y)<0?Q=ce+1:ne=ce}return Q},right:function(M,Y,Q,ne){for(arguments.length<3&&(Q=0),arguments.length<4&&(ne=M.length);Q<ne;){var ce=Q+ne>>>1;f(M[ce],Y)>0?ne=ce:Q=ce+1}return Q}}}var y=x(d);i.bisectLeft=y.left,i.bisect=i.bisectRight=y.right,i.bisector=function(f){return x(f.length===1?function(M,Y){return d(f(M),Y)}:f)},i.shuffle=function(f,M,Y){(Q=arguments.length)<3&&(Y=f.length,Q<2&&(M=0));for(var Q=Y-M,ne,ce;Q;)ce=Math.random()*Q--|0,ne=f[Q+M],f[Q+M]=f[ce+M],f[ce+M]=ne;return f},i.permute=function(f,M){for(var Y=M.length,Q=new Array(Y);Y--;)Q[Y]=f[M[Y]];return Q},i.pairs=function(f){for(var M=0,Y=f.length-1,Q,ne=f[0],ce=new Array(Y<0?0:Y);M<Y;)ce[M]=[Q=ne,ne=f[++M]];return ce},i.transpose=function(f){if(!(ce=f.length))return[];for(var M=-1,Y=i.min(f,m),Q=new Array(Y);++M<Y;)for(var ne=-1,ce,me=Q[M]=new Array(ce);++ne<ce;)me[ne]=f[ne][M];return Q};function m(f){return f.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(f){var M=[];for(var Y in f)M.push(Y);return M},i.values=function(f){var M=[];for(var Y in f)M.push(f[Y]);return M},i.entries=function(f){var M=[];for(var Y in f)M.push({key:Y,value:f[Y]});return M},i.merge=function(f){for(var M=f.length,Y,Q=-1,ne=0,ce,me;++Q<M;)ne+=f[Q].length;for(ce=new Array(ne);--M>=0;)for(me=f[M],Y=me.length;--Y>=0;)ce[--ne]=me[Y];return ce};var c=Math.abs;i.range=function(f,M,Y){if(arguments.length<3&&(Y=1,arguments.length<2&&(M=f,f=0)),(M-f)/Y===1/0)throw new Error("infinite range");var Q=[],ne=h(c(Y)),ce=-1,me;if(f*=ne,M*=ne,Y*=ne,Y<0)for(;(me=f+Y*++ce)>M;)Q.push(me/ne);else for(;(me=f+Y*++ce)<M;)Q.push(me/ne);return Q};function h(f){for(var M=1;f*M%1;)M*=10;return M}function b(f,M){for(var Y in M)Object.defineProperty(f.prototype,Y,{value:M[Y],enumerable:!1})}i.map=function(f,M){var Y=new _;if(f instanceof _)f.forEach(function(ge,Te){Y.set(ge,Te)});else if(Array.isArray(f)){var Q=-1,ne=f.length,ce;if(arguments.length===1)for(;++Q<ne;)Y.set(Q,f[Q]);else for(;++Q<ne;)Y.set(M.call(f,ce=f[Q],Q),ce)}else for(var me in f)Y.set(me,f[me]);return Y};function _(){this._=Object.create(null)}var w="__proto__",K="\0";b(_,{has:C,get:function(f){return this._[D(f)]},set:function(f,M){return this._[D(f)]=M},remove:H,keys:z,values:function(){var f=[];for(var M in this._)f.push(this._[M]);return f},entries:function(){var f=[];for(var M in this._)f.push({key:I(M),value:this._[M]});return f},size:R,empty:U,forEach:function(f){for(var M in this._)f.call(this,I(M),this._[M])}});function D(f){return(f+="")===w||f[0]===K?K+f:f}function I(f){return(f+="")[0]===K?f.slice(1):f}function C(f){return D(f)in this._}function H(f){return(f=D(f))in this._&&delete this._[f]}function z(){var f=[];for(var M in this._)f.push(I(M));return f}function R(){var f=0;for(var M in this._)++f;return f}function U(){for(var f in this._)return!1;return!0}i.nest=function(){var f={},M=[],Y=[],Q,ne;function ce(ge,Te,Ee){if(Ee>=M.length)return ne?ne.call(f,Te):Q?Te.sort(Q):Te;for(var Fe=-1,Ke=Te.length,Qe=M[Ee++],_t,Ot,et,yt=new _,bt;++Fe<Ke;)(bt=yt.get(_t=Qe(Ot=Te[Fe])))?bt.push(Ot):yt.set(_t,[Ot]);return ge?(Ot=ge(),et=function(Mt,Lt){Ot.set(Mt,ce(ge,Lt,Ee))}):(Ot={},et=function(Mt,Lt){Ot[Mt]=ce(ge,Lt,Ee)}),yt.forEach(et),Ot}function me(ge,Te){if(Te>=M.length)return ge;var Ee=[],Fe=Y[Te++];return ge.forEach(function(Ke,Qe){Ee.push({key:Ke,values:me(Qe,Te)})}),Fe?Ee.sort(function(Ke,Qe){return Fe(Ke.key,Qe.key)}):Ee}return f.map=function(ge,Te){return ce(Te,ge,0)},f.entries=function(ge){return me(ce(i.map,ge,0),0)},f.key=function(ge){return M.push(ge),f},f.sortKeys=function(ge){return Y[M.length-1]=ge,f},f.sortValues=function(ge){return Q=ge,f},f.rollup=function(ge){return ne=ge,f},f},i.set=function(f){var M=new Z;if(f)for(var Y=0,Q=f.length;Y<Q;++Y)M.add(f[Y]);return M};function Z(){this._=Object.create(null)}b(Z,{has:C,add:function(f){return this._[D(f+="")]=!0,f},remove:H,values:z,size:R,empty:U,forEach:function(f){for(var M in this._)f.call(this,I(M))}}),i.behavior={};function G(f){return f}i.rebind=function(f,M){for(var Y=1,Q=arguments.length,ne;++Y<Q;)f[ne=arguments[Y]]=P(f,M,M[ne]);return f};function P(f,M,Y){return function(){var Q=Y.apply(M,arguments);return Q===M?f:Q}}function A(f,M){if(M in f)return M;M=M.charAt(0).toUpperCase()+M.slice(1);for(var Y=0,Q=O.length;Y<Q;++Y){var ne=O[Y]+M;if(ne in f)return ne}}var O=["webkit","ms","moz","Moz","o","O"];function L(){}i.dispatch=function(){for(var f=new S,M=-1,Y=arguments.length;++M<Y;)f[arguments[M]]=F(f);return f};function S(){}S.prototype.on=function(f,M){var Y=f.indexOf("."),Q="";if(Y>=0&&(Q=f.slice(Y+1),f=f.slice(0,Y)),f)return arguments.length<2?this[f].on(Q):this[f].on(Q,M);if(arguments.length===2){if(M==null)for(f in this)this.hasOwnProperty(f)&&this[f].on(Q,null);return this}};function F(f){var M=[],Y=new _;function Q(){for(var ne=M,ce=-1,me=ne.length,ge;++ce<me;)(ge=ne[ce].on)&&ge.apply(this,arguments);return f}return Q.on=function(ne,ce){var me=Y.get(ne),ge;return arguments.length<2?me&&me.on:(me&&(me.on=null,M=M.slice(0,ge=M.indexOf(me)).concat(M.slice(ge+1)),Y.remove(ne)),ce&&M.push(Y.set(ne,{on:ce})),f)},Q}i.event=null;function W(){i.event.preventDefault()}function ue(){for(var f=i.event,M;M=f.sourceEvent;)f=M;return f}function ae(f){for(var M=new S,Y=0,Q=arguments.length;++Y<Q;)M[arguments[Y]]=F(M);return M.of=function(ne,ce){return function(me){try{var ge=me.sourceEvent=i.event;me.target=f,i.event=me,M[me.type].apply(ne,ce)}finally{i.event=ge}}},M}i.requote=function(f){return f.replace(se,"\\$&")};var se=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(f,M){f.__proto__=M}:function(f,M){for(var Y in M)f[Y]=M[Y]};function ee(f){return q(f,X),f}var B=function(f,M){return M.querySelector(f)},re=function(f,M){return M.querySelectorAll(f)},J=function(f,M){var Y=f.matches||f[A(f,"matchesSelector")];return J=function(Q,ne){return Y.call(Q,ne)},J(f,M)};typeof Sizzle=="function"&&(B=function(f,M){return Sizzle(f,M)[0]||null},re=Sizzle,J=Sizzle.matchesSelector),i.selection=function(){return i.select(n.documentElement)};var X=i.selection.prototype=[];X.select=function(f){var M=[],Y,Q,ne,ce;f=N(f);for(var me=-1,ge=this.length;++me<ge;){M.push(Y=[]),Y.parentNode=(ne=this[me]).parentNode;for(var Te=-1,Ee=ne.length;++Te<Ee;)(ce=ne[Te])?(Y.push(Q=f.call(ce,ce.__data__,Te,me)),Q&&"__data__"in ce&&(Q.__data__=ce.__data__)):Y.push(null)}return ee(M)};function N(f){return typeof f=="function"?f:function(){return B(f,this)}}X.selectAll=function(f){var M=[],Y,Q;f=$(f);for(var ne=-1,ce=this.length;++ne<ce;)for(var me=this[ne],ge=-1,Te=me.length;++ge<Te;)(Q=me[ge])&&(M.push(Y=e(f.call(Q,Q.__data__,ge,ne))),Y.parentNode=Q);return ee(M)};function $(f){return typeof f=="function"?f:function(){return re(f,this)}}var te="http://www.w3.org/1999/xhtml",le={svg:"http://www.w3.org/2000/svg",xhtml:te,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:le,qualify:function(f){var M=f.indexOf(":"),Y=f;return M>=0&&(Y=f.slice(0,M))!=="xmlns"&&(f=f.slice(M+1)),le.hasOwnProperty(Y)?{space:le[Y],local:f}:f}},X.attr=function(f,M){if(arguments.length<2){if(typeof f=="string"){var Y=this.node();return f=i.ns.qualify(f),f.local?Y.getAttributeNS(f.space,f.local):Y.getAttribute(f)}for(M in f)this.each(pe(M,f[M]));return this}return this.each(pe(f,M))};function pe(f,M){f=i.ns.qualify(f);function Y(){this.removeAttribute(f)}function Q(){this.removeAttributeNS(f.space,f.local)}function ne(){this.setAttribute(f,M)}function ce(){this.setAttributeNS(f.space,f.local,M)}function me(){var Te=M.apply(this,arguments);Te==null?this.removeAttribute(f):this.setAttribute(f,Te)}function ge(){var Te=M.apply(this,arguments);Te==null?this.removeAttributeNS(f.space,f.local):this.setAttributeNS(f.space,f.local,Te)}return M==null?f.local?Q:Y:typeof M=="function"?f.local?ge:me:f.local?ce:ne}function fe(f){return f.trim().replace(/\s+/g," ")}X.classed=function(f,M){if(arguments.length<2){if(typeof f=="string"){var Y=this.node(),Q=(f=Me(f)).length,ne=-1;if(M=Y.classList){for(;++ne<Q;)if(!M.contains(f[ne]))return!1}else for(M=Y.getAttribute("class");++ne<Q;)if(!ye(f[ne]).test(M))return!1;return!0}for(M in f)this.each(He(M,f[M]));return this}return this.each(He(f,M))};function ye(f){return new RegExp("(?:^|\\s+)"+i.requote(f)+"(?:\\s+|$)","g")}function Me(f){return(f+"").trim().split(/^|\s+/)}function He(f,M){f=Me(f).map(Ne);var Y=f.length;function Q(){for(var ce=-1;++ce<Y;)f[ce](this,M)}function ne(){for(var ce=-1,me=M.apply(this,arguments);++ce<Y;)f[ce](this,me)}return typeof M=="function"?ne:Q}function Ne(f){var M=ye(f);return function(Y,Q){if(ne=Y.classList)return Q?ne.add(f):ne.remove(f);var ne=Y.getAttribute("class")||"";Q?(M.lastIndex=0,M.test(ne)||Y.setAttribute("class",fe(ne+" "+f))):Y.setAttribute("class",fe(ne.replace(M," ")))}}X.style=function(f,M,Y){var Q=arguments.length;if(Q<3){if(typeof f!="string"){Q<2&&(M="");for(Y in f)this.each(ze(Y,f[Y],M));return this}if(Q<2){var ne=this.node();return a(ne).getComputedStyle(ne,null).getPropertyValue(f)}Y=""}return this.each(ze(f,M,Y))};function ze(f,M,Y){function Q(){this.style.removeProperty(f)}function ne(){this.style.setProperty(f,M,Y)}function ce(){var me=M.apply(this,arguments);me==null?this.style.removeProperty(f):this.style.setProperty(f,me,Y)}return M==null?Q:typeof M=="function"?ce:ne}X.property=function(f,M){if(arguments.length<2){if(typeof f=="string")return this.node()[f];for(M in f)this.each(Re(M,f[M]));return this}return this.each(Re(f,M))};function Re(f,M){function Y(){delete this[f]}function Q(){this[f]=M}function ne(){var ce=M.apply(this,arguments);ce==null?delete this[f]:this[f]=ce}return M==null?Y:typeof M=="function"?ne:Q}X.text=function(f){return arguments.length?this.each(typeof f=="function"?function(){var M=f.apply(this,arguments);this.textContent=M??""}:f==null?function(){this.textContent=""}:function(){this.textContent=f}):this.node().textContent},X.html=function(f){return arguments.length?this.each(typeof f=="function"?function(){var M=f.apply(this,arguments);this.innerHTML=M??""}:f==null?function(){this.innerHTML=""}:function(){this.innerHTML=f}):this.node().innerHTML},X.append=function(f){return f=Ae(f),this.select(function(){return this.appendChild(f.apply(this,arguments))})};function Ae(f){function M(){var Q=this.ownerDocument,ne=this.namespaceURI;return ne===te&&Q.documentElement.namespaceURI===te?Q.createElement(f):Q.createElementNS(ne,f)}function Y(){return this.ownerDocument.createElementNS(f.space,f.local)}return typeof f=="function"?f:(f=i.ns.qualify(f)).local?Y:M}X.insert=function(f,M){return f=Ae(f),M=N(M),this.select(function(){return this.insertBefore(f.apply(this,arguments),M.apply(this,arguments)||null)})},X.remove=function(){return this.each(T)};function T(){var f=this.parentNode;f&&f.removeChild(this)}X.data=function(f,M){var Y=-1,Q=this.length,ne,ce;if(!arguments.length){for(f=new Array(Q=(ne=this[0]).length);++Y<Q;)(ce=ne[Y])&&(f[Y]=ce.__data__);return f}function me(Fe,Ke){var Qe,_t=Fe.length,Ot=Ke.length,et=Math.min(_t,Ot),yt=new Array(Ot),bt=new Array(Ot),Mt=new Array(_t),Lt,gt;if(M){var Qt=new _,pr=new Array(_t),Tr;for(Qe=-1;++Qe<_t;)(Lt=Fe[Qe])&&(Qt.has(Tr=M.call(Lt,Lt.__data__,Qe))?Mt[Qe]=Lt:Qt.set(Tr,Lt),pr[Qe]=Tr);for(Qe=-1;++Qe<Ot;)(Lt=Qt.get(Tr=M.call(Ke,gt=Ke[Qe],Qe)))?Lt!==!0&&(yt[Qe]=Lt,Lt.__data__=gt):bt[Qe]=V(gt),Qt.set(Tr,!0);for(Qe=-1;++Qe<_t;)Qe in pr&&Qt.get(pr[Qe])!==!0&&(Mt[Qe]=Fe[Qe])}else{for(Qe=-1;++Qe<et;)Lt=Fe[Qe],gt=Ke[Qe],Lt?(Lt.__data__=gt,yt[Qe]=Lt):bt[Qe]=V(gt);for(;Qe<Ot;++Qe)bt[Qe]=V(Ke[Qe]);for(;Qe<_t;++Qe)Mt[Qe]=Fe[Qe]}bt.update=yt,bt.parentNode=yt.parentNode=Mt.parentNode=Fe.parentNode,ge.push(bt),Te.push(yt),Ee.push(Mt)}var ge=ke([]),Te=ee([]),Ee=ee([]);if(typeof f=="function")for(;++Y<Q;)me(ne=this[Y],f.call(ne,ne.parentNode.__data__,Y));else for(;++Y<Q;)me(ne=this[Y],f);return Te.enter=function(){return ge},Te.exit=function(){return Ee},Te};function V(f){return{__data__:f}}X.datum=function(f){return arguments.length?this.property("__data__",f):this.property("__data__")},X.filter=function(f){var M=[],Y,Q,ne;typeof f!="function"&&(f=j(f));for(var ce=0,me=this.length;ce<me;ce++){M.push(Y=[]),Y.parentNode=(Q=this[ce]).parentNode;for(var ge=0,Te=Q.length;ge<Te;ge++)(ne=Q[ge])&&f.call(ne,ne.__data__,ge,ce)&&Y.push(ne)}return ee(M)};function j(f){return function(){return J(this,f)}}X.order=function(){for(var f=-1,M=this.length;++f<M;)for(var Y=this[f],Q=Y.length-1,ne=Y[Q],ce;--Q>=0;)(ce=Y[Q])&&(ne&&ne!==ce.nextSibling&&ne.parentNode.insertBefore(ce,ne),ne=ce);return this},X.sort=function(f){f=he.apply(this,arguments);for(var M=-1,Y=this.length;++M<Y;)this[M].sort(f);return this.order()};function he(f){return arguments.length||(f=d),function(M,Y){return M&&Y?f(M.__data__,Y.__data__):!M-!Y}}X.each=function(f){return be(this,function(M,Y,Q){f.call(M,M.__data__,Y,Q)})};function be(f,M){for(var Y=0,Q=f.length;Y<Q;Y++)for(var ne=f[Y],ce=0,me=ne.length,ge;ce<me;ce++)(ge=ne[ce])&&M(ge,ce,Y);return f}X.call=function(f){var M=e(arguments);return f.apply(M[0]=this,M),this},X.empty=function(){return!this.node()},X.node=function(){for(var f=0,M=this.length;f<M;f++)for(var Y=this[f],Q=0,ne=Y.length;Q<ne;Q++){var ce=Y[Q];if(ce)return ce}return null},X.size=function(){var f=0;return be(this,function(){++f}),f};function ke(f){return q(f,Ce),f}var Ce=[];i.selection.enter=ke,i.selection.enter.prototype=Ce,Ce.append=X.append,Ce.empty=X.empty,Ce.node=X.node,Ce.call=X.call,Ce.size=X.size,Ce.select=function(f){for(var M=[],Y,Q,ne,ce,me,ge=-1,Te=this.length;++ge<Te;){ne=(ce=this[ge]).update,M.push(Y=[]),Y.parentNode=ce.parentNode;for(var Ee=-1,Fe=ce.length;++Ee<Fe;)(me=ce[Ee])?(Y.push(ne[Ee]=Q=f.call(ce.parentNode,me.__data__,Ee,ge)),Q.__data__=me.__data__):Y.push(null)}return ee(M)},Ce.insert=function(f,M){return arguments.length<2&&(M=qe(this)),X.insert.call(this,f,M)};function qe(f){var M,Y;return function(Q,ne,ce){var me=f[ce].update,ge=me.length,Te;for(ce!=Y&&(Y=ce,M=0),ne>=M&&(M=ne+1);!(Te=me[M])&&++M<ge;);return Te}}i.select=function(f){var M;return typeof f=="string"?(M=[B(f,n)],M.parentNode=n.documentElement):(M=[f],M.parentNode=l(f)),ee([M])},i.selectAll=function(f){var M;return typeof f=="string"?(M=e(re(f,n)),M.parentNode=n.documentElement):(M=e(f),M.parentNode=null),ee([M])},X.on=function(f,M,Y){var Q=arguments.length;if(Q<3){if(typeof f!="string"){Q<2&&(M=!1);for(Y in f)this.each(at(Y,f[Y],M));return this}if(Q<2)return(Q=this.node()["__on"+f])&&Q._;Y=!1}return this.each(at(f,M,Y))};function at(f,M,Y){var Q="__on"+f,ne=f.indexOf("."),ce=vt;ne>0&&(f=f.slice(0,ne));var me=ct.get(f);me&&(f=me,ce=St);function ge(){var Fe=this[Q];Fe&&(this.removeEventListener(f,Fe,Fe.$),delete this[Q])}function Te(){var Fe=ce(M,e(arguments));ge.call(this),this.addEventListener(f,this[Q]=Fe,Fe.$=Y),Fe._=M}function Ee(){var Fe=new RegExp("^__on([^.]+)"+i.requote(f)+"$"),Ke;for(var Qe in this)if(Ke=Qe.match(Fe)){var _t=this[Qe];this.removeEventListener(Ke[1],_t,_t.$),delete this[Qe]}}return ne?M?Te:ge:M?L:Ee}var ct=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&ct.forEach(function(f){"on"+f in n&&ct.remove(f)});function vt(f,M){return function(Y){var Q=i.event;i.event=Y,M[0]=this.__data__;try{f.apply(this,M)}finally{i.event=Q}}}function St(f,M){var Y=vt(f,M);return function(Q){var ne=this,ce=Q.relatedTarget;(!ce||ce!==ne&&!(ce.compareDocumentPosition(ne)&8))&&Y.call(ne,Q)}}var ot,Ct=0;function It(f){var M=".dragsuppress-"+ ++Ct,Y="click"+M,Q=i.select(a(f)).on("touchmove"+M,W).on("dragstart"+M,W).on("selectstart"+M,W);if(ot==null&&(ot="onselectstart"in f?!1:A(f.style,"userSelect")),ot){var ne=l(f).style,ce=ne[ot];ne[ot]="none"}return function(me){if(Q.on(M,null),ot&&(ne[ot]=ce),me){var ge=function(){Q.on(Y,null)};Q.on(Y,function(){W(),ge()},!0),setTimeout(ge,0)}}}i.mouse=function(f){return Nt(f,ue())};var At=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Nt(f,M){M.changedTouches&&(M=M.changedTouches[0]);var Y=f.ownerSVGElement||f;if(Y.createSVGPoint){var Q=Y.createSVGPoint();if(At<0){var ne=a(f);if(ne.scrollX||ne.scrollY){Y=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ce=Y[0][0].getScreenCTM();At=!(ce.f||ce.e),Y.remove()}}return At?(Q.x=M.pageX,Q.y=M.pageY):(Q.x=M.clientX,Q.y=M.clientY),Q=Q.matrixTransform(f.getScreenCTM().inverse()),[Q.x,Q.y]}var me=f.getBoundingClientRect();return[M.clientX-me.left-f.clientLeft,M.clientY-me.top-f.clientTop]}i.touch=function(f,M,Y){if(arguments.length<3&&(Y=M,M=ue().changedTouches),M){for(var Q=0,ne=M.length,ce;Q<ne;++Q)if((ce=M[Q]).identifier===Y)return Nt(f,ce)}},i.behavior.drag=function(){var f=ae(ne,"drag","dragstart","dragend"),M=null,Y=ce(L,i.mouse,a,"mousemove","mouseup"),Q=ce(_e,i.touch,G,"touchmove","touchend");function ne(){this.on("mousedown.drag",Y).on("touchstart.drag",Q)}function ce(me,ge,Te,Ee,Fe){return function(){var Ke=this,Qe=i.event.target.correspondingElement||i.event.target,_t=Ke.parentNode,Ot=f.of(Ke,arguments),et=0,yt=me(),bt=".drag"+(yt==null?"":"-"+yt),Mt,Lt=i.select(Te(Qe)).on(Ee+bt,pr).on(Fe+bt,Tr),gt=It(Qe),Qt=ge(_t,yt);M?(Mt=M.apply(Ke,arguments),Mt=[Mt.x-Qt[0],Mt.y-Qt[1]]):Mt=[0,0],Ot({type:"dragstart"});function pr(){var Pr=ge(_t,yt),qr,Wr;Pr&&(qr=Pr[0]-Qt[0],Wr=Pr[1]-Qt[1],et|=qr|Wr,Qt=Pr,Ot({type:"drag",x:Pr[0]+Mt[0],y:Pr[1]+Mt[1],dx:qr,dy:Wr}))}function Tr(){ge(_t,yt)&&(Lt.on(Ee+bt,null).on(Fe+bt,null),gt(et),Ot({type:"dragend"}))}}}return ne.origin=function(me){return arguments.length?(M=me,ne):M},i.rebind(ne,f,"on")};function _e(){return i.event.changedTouches[0].identifier}i.touches=function(f,M){return arguments.length<2&&(M=ue().touches),M?e(M).map(function(Y){var Q=Nt(f,Y);return Q.identifier=Y.identifier,Q}):[]};var De=1e-6,je=De*De,ie=Math.PI,ve=2*ie,we=ve-De,Se=ie/2,Ue=ie/180,Le=180/ie;function tt(f,M,Y){return(M[0]-f[0])*(Y[1]-f[1])-(M[1]-f[1])*(Y[0]-f[0])}function nt(f){return f>1?Se:f<-1?-Se:Math.asin(f)}function ut(f){return((f=Math.exp(f))-1/f)/2}function Ye(f){return((f=Math.exp(f))+1/f)/2}function st(f){return((f=Math.exp(2*f))-1)/(f+1)}var xt=Math.SQRT2,Tt=2,tr=4;i.interpolateZoom=function(f,M){var Y=f[0],Q=f[1],ne=f[2],ce=M[0],me=M[1],ge=M[2],Te=ce-Y,Ee=me-Q,Fe=Te*Te+Ee*Ee,Ke,Qe;if(Fe<je)Qe=Math.log(ge/ne)/xt,Ke=function(Mt){return[Y+Mt*Te,Q+Mt*Ee,ne*Math.exp(xt*Mt*Qe)]};else{var _t=Math.sqrt(Fe),Ot=(ge*ge-ne*ne+tr*Fe)/(2*ne*Tt*_t),et=(ge*ge-ne*ne-tr*Fe)/(2*ge*Tt*_t),yt=Math.log(Math.sqrt(Ot*Ot+1)-Ot),bt=Math.log(Math.sqrt(et*et+1)-et);Qe=(bt-yt)/xt,Ke=function(Mt){var Lt=Mt*Qe,gt=Ye(yt),Qt=ne/(Tt*_t)*(gt*st(xt*Lt+yt)-ut(yt));return[Y+Qt*Te,Q+Qt*Ee,ne*gt/Ye(xt*Lt+yt)]}}return Ke.duration=Qe*1e3,Ke},i.behavior.zoom=function(){var f={x:0,y:0,k:1},M,Y,Q,ne=[960,500],ce=cr,me=250,ge=0,Te="mousedown.zoom",Ee="mousemove.zoom",Fe="mouseup.zoom",Ke,Qe="touchstart.zoom",_t,Ot=ae(Lt,"zoomstart","zoom","zoomend"),et,yt,bt,Mt;nr||(nr="onwheel"in n?(Er=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Er=function(){return i.event.wheelDelta},"mousewheel"):(Er=function(){return-i.event.detail},"MozMousePixelScroll"));function Lt(Cr){Cr.on(Te,vn).on(nr+".zoom",Aa).on("dblclick.zoom",Qn).on(Qe,Gn)}Lt.event=function(Cr){Cr.each(function(){var _n=Ot.of(this,arguments),On=f;zi?i.select(this).transition().each("start.zoom",function(){f=this.__chart__||{x:0,y:0,k:1},Wr(_n)}).tween("zoom:zoom",function(){var Hn=ne[0],ha=ne[1],Oa=Y?Y[0]:Hn/2,Ra=Y?Y[1]:ha/2,Va=i.interpolateZoom([(Oa-f.x)/f.k,(Ra-f.y)/f.k,Hn/f.k],[(Oa-On.x)/On.k,(Ra-On.y)/On.k,Hn/On.k]);return function($a){var Oe=Va($a),it=Hn/Oe[2];this.__chart__=f={x:Oa-Oe[0]*it,y:Ra-Oe[1]*it,k:it},bn(_n)}}).each("interrupt.zoom",function(){Xr(_n)}).each("end.zoom",function(){Xr(_n)}):(this.__chart__=f,Wr(_n),bn(_n),Xr(_n))})},Lt.translate=function(Cr){return arguments.length?(f={x:+Cr[0],y:+Cr[1],k:f.k},qr(),Lt):[f.x,f.y]},Lt.scale=function(Cr){return arguments.length?(f={x:f.x,y:f.y,k:null},pr(+Cr),qr(),Lt):f.k},Lt.scaleExtent=function(Cr){return arguments.length?(ce=Cr==null?cr:[+Cr[0],+Cr[1]],Lt):ce},Lt.center=function(Cr){return arguments.length?(Q=Cr&&[+Cr[0],+Cr[1]],Lt):Q},Lt.size=function(Cr){return arguments.length?(ne=Cr&&[+Cr[0],+Cr[1]],Lt):ne},Lt.duration=function(Cr){return arguments.length?(me=+Cr,Lt):me},Lt.x=function(Cr){return arguments.length?(yt=Cr,et=Cr.copy(),f={x:0,y:0,k:1},Lt):yt},Lt.y=function(Cr){return arguments.length?(Mt=Cr,bt=Cr.copy(),f={x:0,y:0,k:1},Lt):Mt};function gt(Cr){return[(Cr[0]-f.x)/f.k,(Cr[1]-f.y)/f.k]}function Qt(Cr){return[Cr[0]*f.k+f.x,Cr[1]*f.k+f.y]}function pr(Cr){f.k=Math.max(ce[0],Math.min(ce[1],Cr))}function Tr(Cr,_n){_n=Qt(_n),f.x+=Cr[0]-_n[0],f.y+=Cr[1]-_n[1]}function Pr(Cr,_n,On,Hn){Cr.__chart__={x:f.x,y:f.y,k:f.k},pr(Math.pow(2,Hn)),Tr(Y=_n,On),Cr=i.select(Cr),me>0&&(Cr=Cr.transition().duration(me)),Cr.call(Lt.event)}function qr(){yt&&yt.domain(et.range().map(function(Cr){return(Cr-f.x)/f.k}).map(et.invert)),Mt&&Mt.domain(bt.range().map(function(Cr){return(Cr-f.y)/f.k}).map(bt.invert))}function Wr(Cr){ge++||Cr({type:"zoomstart"})}function bn(Cr){qr(),Cr({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function Xr(Cr){--ge||(Cr({type:"zoomend"}),Y=null)}function vn(){var Cr=this,_n=Ot.of(Cr,arguments),On=0,Hn=i.select(a(Cr)).on(Ee,Ra).on(Fe,Va),ha=gt(i.mouse(Cr)),Oa=It(Cr);vl.call(Cr),Wr(_n);function Ra(){On=1,Tr(i.mouse(Cr),ha),bn(_n)}function Va(){Hn.on(Ee,null).on(Fe,null),Oa(On),Xr(_n)}}function Gn(){var Cr=this,_n=Ot.of(Cr,arguments),On={},Hn=0,ha,Oa=".zoom-"+i.event.changedTouches[0].identifier,Ra="touchmove"+Oa,Va="touchend"+Oa,$a=[],Oe=i.select(Cr),it=It(Cr);Vt(),Wr(_n),Oe.on(Te,null).on(Qe,Vt);function dt(){var Jt=i.touches(Cr);return ha=f.k,Jt.forEach(function(gr){gr.identifier in On&&(On[gr.identifier]=gt(gr))}),Jt}function Vt(){var Jt=i.event.target;i.select(Jt).on(Ra,lr).on(Va,er),$a.push(Jt);for(var gr=i.event.changedTouches,_r=0,wr=gr.length;_r<wr;++_r)On[gr[_r].identifier]=null;var Rr=dt(),cn=Date.now();if(Rr.length===1){if(cn-_t<500){var Zr=Rr[0];Pr(Cr,Zr,On[Zr.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),W()}_t=cn}else if(Rr.length>1){var Zr=Rr[0],Sr=Rr[1],dr=Zr[0]-Sr[0],Pt=Zr[1]-Sr[1];Hn=dr*dr+Pt*Pt}}function lr(){var Jt=i.touches(Cr),gr,_r,wr,Rr;vl.call(Cr);for(var cn=0,Zr=Jt.length;cn<Zr;++cn,Rr=null)if(wr=Jt[cn],Rr=On[wr.identifier]){if(_r)break;gr=wr,_r=Rr}if(Rr){var Sr=(Sr=wr[0]-gr[0])*Sr+(Sr=wr[1]-gr[1])*Sr,dr=Hn&&Math.sqrt(Sr/Hn);gr=[(gr[0]+wr[0])/2,(gr[1]+wr[1])/2],_r=[(_r[0]+Rr[0])/2,(_r[1]+Rr[1])/2],pr(dr*ha)}_t=null,Tr(gr,_r),bn(_n)}function er(){if(i.event.touches.length){for(var Jt=i.event.changedTouches,gr=0,_r=Jt.length;gr<_r;++gr)delete On[Jt[gr].identifier];for(var wr in On)return void dt()}i.selectAll($a).on(Oa,null),Oe.on(Te,vn).on(Qe,Gn),it(),Xr(_n)}}function Aa(){var Cr=Ot.of(this,arguments);Ke?clearTimeout(Ke):(vl.call(this),M=gt(Y=Q||i.mouse(this)),Wr(Cr)),Ke=setTimeout(function(){Ke=null,Xr(Cr)},50),W(),pr(Math.pow(2,Er()*.002)*f.k),Tr(Y,M),bn(Cr)}function Qn(){var Cr=i.mouse(this),_n=Math.log(f.k)/Math.LN2;Pr(this,Cr,gt(Cr),i.event.shiftKey?Math.ceil(_n)-1:Math.floor(_n)+1)}return i.rebind(Lt,Ot,"on")};var cr=[0,1/0],Er,nr;i.color=yr;function yr(){}yr.prototype.toString=function(){return this.rgb()+""},i.hsl=qt;function qt(f,M,Y){return this instanceof qt?(this.h=+f,this.s=+M,void(this.l=+Y)):arguments.length<2?f instanceof qt?new qt(f.h,f.s,f.l):Ve(""+f,Ze,qt):new qt(f,M,Y)}var Zt=qt.prototype=new yr;Zt.brighter=function(f){return f=Math.pow(.7,arguments.length?f:1),new qt(this.h,this.s,this.l/f)},Zt.darker=function(f){return f=Math.pow(.7,arguments.length?f:1),new qt(this.h,this.s,f*this.l)},Zt.rgb=function(){return jr(this.h,this.s,this.l)};function jr(f,M,Y){var Q,ne;f=isNaN(f)?0:(f%=360)<0?f+360:f,M=isNaN(M)||M<0?0:M>1?1:M,Y=Y<0?0:Y>1?1:Y,ne=Y<=.5?Y*(1+M):Y+M-Y*M,Q=2*Y-ne;function ce(ge){return ge>360?ge-=360:ge<0&&(ge+=360),ge<60?Q+(ne-Q)*ge/60:ge<180?ne:ge<240?Q+(ne-Q)*(240-ge)/60:Q}function me(ge){return Math.round(ce(ge)*255)}return new de(me(f+120),me(f),me(f-120))}i.hcl=Ar;function Ar(f,M,Y){return this instanceof Ar?(this.h=+f,this.c=+M,void(this.l=+Y)):arguments.length<2?f instanceof Ar?new Ar(f.h,f.c,f.l):f instanceof zt?Sn(f.l,f.a,f.b):Sn((f=Be((f=i.rgb(f)).r,f.g,f.b)).l,f.a,f.b):new Ar(f,M,Y)}var kr=Ar.prototype=new yr;kr.brighter=function(f){return new Ar(this.h,this.c,Math.min(100,this.l+xr*(arguments.length?f:1)))},kr.darker=function(f){return new Ar(this.h,this.c,Math.max(0,this.l-xr*(arguments.length?f:1)))},kr.rgb=function(){return rr(this.h,this.c,this.l).rgb()};function rr(f,M,Y){return isNaN(f)&&(f=0),isNaN(M)&&(M=0),new zt(Y,Math.cos(f*=Ue)*M,Math.sin(f)*M)}i.lab=zt;function zt(f,M,Y){return this instanceof zt?(this.l=+f,this.a=+M,void(this.b=+Y)):arguments.length<2?f instanceof zt?new zt(f.l,f.a,f.b):f instanceof Ar?rr(f.h,f.c,f.l):Be((f=de(f)).r,f.g,f.b):new zt(f,M,Y)}var xr=18,Gr=.95047,fn=1,br=1.08883,Jr=zt.prototype=new yr;Jr.brighter=function(f){return new zt(Math.min(100,this.l+xr*(arguments.length?f:1)),this.a,this.b)},Jr.darker=function(f){return new zt(Math.max(0,this.l-xr*(arguments.length?f:1)),this.a,this.b)},Jr.rgb=function(){return $r(this.l,this.a,this.b)};function $r(f,M,Y){var Q=(f+16)/116,ne=Q+M/500,ce=Q-Y/200;return ne=Bt(ne)*Gr,Q=Bt(Q)*fn,ce=Bt(ce)*br,new de(oe(3.2404542*ne-1.5371385*Q-.4985314*ce),oe(-.969266*ne+1.8760108*Q+.041556*ce),oe(.0556434*ne-.2040259*Q+1.0572252*ce))}function Sn(f,M,Y){return f>0?new Ar(Math.atan2(Y,M)*Le,Math.sqrt(M*M+Y*Y),f):new Ar(NaN,NaN,f)}function Bt(f){return f>.206893034?f*f*f:(f-4/29)/7.787037}function gn(f){return f>.008856?Math.pow(f,1/3):7.787037*f+4/29}function oe(f){return Math.round(255*(f<=.00304?12.92*f:1.055*Math.pow(f,1/2.4)-.055))}i.rgb=de;function de(f,M,Y){return this instanceof de?(this.r=~~f,this.g=~~M,void(this.b=~~Y)):arguments.length<2?f instanceof de?new de(f.r,f.g,f.b):Ve(""+f,de,jr):new de(f,M,Y)}function Ge(f){return new de(f>>16,f>>8&255,f&255)}function We(f){return Ge(f)+""}var Pe=de.prototype=new yr;Pe.brighter=function(f){f=Math.pow(.7,arguments.length?f:1);var M=this.r,Y=this.g,Q=this.b,ne=30;return!M&&!Y&&!Q?new de(ne,ne,ne):(M&&M<ne&&(M=ne),Y&&Y<ne&&(Y=ne),Q&&Q<ne&&(Q=ne),new de(Math.min(255,M/f),Math.min(255,Y/f),Math.min(255,Q/f)))},Pe.darker=function(f){return f=Math.pow(.7,arguments.length?f:1),new de(f*this.r,f*this.g,f*this.b)},Pe.hsl=function(){return Ze(this.r,this.g,this.b)},Pe.toString=function(){return"#"+Ie(this.r)+Ie(this.g)+Ie(this.b)};function Ie(f){return f<16?"0"+Math.max(0,f).toString(16):Math.min(255,f).toString(16)}function Ve(f,M,Y){var Q=0,ne=0,ce=0,me,ge,Te;if(me=/([a-z]+)\((.*)\)/.exec(f=f.toLowerCase()),me)switch(ge=me[2].split(","),me[1]){case"hsl":return Y(parseFloat(ge[0]),parseFloat(ge[1])/100,parseFloat(ge[2])/100);case"rgb":return M(Xe(ge[0]),Xe(ge[1]),Xe(ge[2]))}return(Te=rt.get(f))?M(Te.r,Te.g,Te.b):(f!=null&&f.charAt(0)==="#"&&!isNaN(Te=parseInt(f.slice(1),16))&&(f.length===4?(Q=(Te&3840)>>4,Q=Q>>4|Q,ne=Te&240,ne=ne>>4|ne,ce=Te&15,ce=ce<<4|ce):f.length===7&&(Q=(Te&16711680)>>16,ne=(Te&65280)>>8,ce=Te&255)),M(Q,ne,ce))}function Ze(f,M,Y){var Q=Math.min(f/=255,M/=255,Y/=255),ne=Math.max(f,M,Y),ce=ne-Q,me,ge,Te=(ne+Q)/2;return ce?(ge=Te<.5?ce/(ne+Q):ce/(2-ne-Q),f==ne?me=(M-Y)/ce+(M<Y?6:0):M==ne?me=(Y-f)/ce+2:me=(f-M)/ce+4,me*=60):(me=NaN,ge=Te>0&&Te<1?0:me),new qt(me,ge,Te)}function Be(f,M,Y){f=Je(f),M=Je(M),Y=Je(Y);var Q=gn((.4124564*f+.3575761*M+.1804375*Y)/Gr),ne=gn((.2126729*f+.7151522*M+.072175*Y)/fn),ce=gn((.0193339*f+.119192*M+.9503041*Y)/br);return zt(116*ne-16,500*(Q-ne),200*(ne-ce))}function Je(f){return(f/=255)<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function Xe(f){var M=parseFloat(f);return f.charAt(f.length-1)==="%"?Math.round(M*2.55):M}var rt=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});rt.forEach(function(f,M){rt.set(f,Ge(M))});function kt(f){return typeof f=="function"?f:function(){return f}}i.functor=kt,i.xhr=Dt(G);function Dt(f){return function(M,Y,Q){return arguments.length===2&&typeof Y=="function"&&(Q=Y,Y=null),Rt(M,Y,f,Q)}}function Rt(f,M,Y,Q){var ne={},ce=i.dispatch("beforesend","progress","load","error"),me={},ge=new XMLHttpRequest,Te=null;self.XDomainRequest&&!("withCredentials"in ge)&&/^(http(s)?:)?\/\//.test(f)&&(ge=new XDomainRequest),"onload"in ge?ge.onload=ge.onerror=Ee:ge.onreadystatechange=function(){ge.readyState>3&&Ee()};function Ee(){var Fe=ge.status,Ke;if(!Fe&&ir(ge)||Fe>=200&&Fe<300||Fe===304){try{Ke=Y.call(ne,ge)}catch(Qe){ce.error.call(ne,Qe);return}ce.load.call(ne,Ke)}else ce.error.call(ne,ge)}return ge.onprogress=function(Fe){var Ke=i.event;i.event=Fe;try{ce.progress.call(ne,ge)}finally{i.event=Ke}},ne.header=function(Fe,Ke){return Fe=(Fe+"").toLowerCase(),arguments.length<2?me[Fe]:(Ke==null?delete me[Fe]:me[Fe]=Ke+"",ne)},ne.mimeType=function(Fe){return arguments.length?(M=Fe==null?null:Fe+"",ne):M},ne.responseType=function(Fe){return arguments.length?(Te=Fe,ne):Te},ne.response=function(Fe){return Y=Fe,ne},["get","post"].forEach(function(Fe){ne[Fe]=function(){return ne.send.apply(ne,[Fe].concat(e(arguments)))}}),ne.send=function(Fe,Ke,Qe){if(arguments.length===2&&typeof Ke=="function"&&(Qe=Ke,Ke=null),ge.open(Fe,f,!0),M!=null&&!("accept"in me)&&(me.accept=M+",*/*"),ge.setRequestHeader)for(var _t in me)ge.setRequestHeader(_t,me[_t]);return M!=null&&ge.overrideMimeType&&ge.overrideMimeType(M),Te!=null&&(ge.responseType=Te),Qe!=null&&ne.on("error",Qe).on("load",function(Ot){Qe(null,Ot)}),ce.beforesend.call(ne,ge),ge.send(Ke??null),ne},ne.abort=function(){return ge.abort(),ne},i.rebind(ne,ce,"on"),Q==null?ne:ne.get(Kt(Q))}function Kt(f){return f.length===1?function(M,Y){f(M==null?Y:null)}:f}function ir(f){var M=f.responseType;return M&&M!=="text"?f.response:f.responseText}i.dsv=function(f,M){var Y=new RegExp('["'+f+`
]`),Q=f.charCodeAt(0);function ne(Ee,Fe,Ke){arguments.length<3&&(Ke=Fe,Fe=null);var Qe=Rt(Ee,M,Fe==null?ce:me(Fe),Ke);return Qe.row=function(_t){return arguments.length?Qe.response((Fe=_t)==null?ce:me(_t)):Fe},Qe}function ce(Ee){return ne.parse(Ee.responseText)}function me(Ee){return function(Fe){return ne.parse(Fe.responseText,Ee)}}ne.parse=function(Ee,Fe){var Ke;return ne.parseRows(Ee,function(Qe,_t){if(Ke)return Ke(Qe,_t-1);var Ot=function(et){for(var yt={},bt=Qe.length,Mt=0;Mt<bt;++Mt)yt[Qe[Mt]]=et[Mt];return yt};Ke=Fe?function(et,yt){return Fe(Ot(et),yt)}:Ot})},ne.parseRows=function(Ee,Fe){var Ke={},Qe={},_t=[],Ot=Ee.length,et=0,yt=0,bt,Mt;function Lt(){if(et>=Ot)return Qe;if(Mt)return Mt=!1,Ke;var Qt=et;if(Ee.charCodeAt(Qt)===34){for(var pr=Qt;pr++<Ot;)if(Ee.charCodeAt(pr)===34){if(Ee.charCodeAt(pr+1)!==34)break;++pr}et=pr+2;var Tr=Ee.charCodeAt(pr+1);return Tr===13?(Mt=!0,Ee.charCodeAt(pr+2)===10&&++et):Tr===10&&(Mt=!0),Ee.slice(Qt+1,pr).replace(/""/g,'"')}for(;et<Ot;){var Tr=Ee.charCodeAt(et++),Pr=1;if(Tr===10)Mt=!0;else if(Tr===13)Mt=!0,Ee.charCodeAt(et)===10&&(++et,++Pr);else if(Tr!==Q)continue;return Ee.slice(Qt,et-Pr)}return Ee.slice(Qt)}for(;(bt=Lt())!==Qe;){for(var gt=[];bt!==Ke&&bt!==Qe;)gt.push(bt),bt=Lt();Fe&&(gt=Fe(gt,yt++))==null||_t.push(gt)}return _t},ne.format=function(Ee){if(Array.isArray(Ee[0]))return ne.formatRows(Ee);var Fe=new Z,Ke=[];return Ee.forEach(function(Qe){for(var _t in Qe)Fe.has(_t)||Ke.push(Fe.add(_t))}),[Ke.map(Te).join(f)].concat(Ee.map(function(Qe){return Ke.map(function(_t){return Te(Qe[_t])}).join(f)})).join(`
`)},ne.formatRows=function(Ee){return Ee.map(ge).join(`
`)};function ge(Ee){return Ee.map(Te).join(f)}function Te(Ee){return Y.test(Ee)?'"'+Ee.replace(/\"/g,'""')+'"':Ee}return ne},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Fr,or,mr,Mr,Qr=this[A(this,"requestAnimationFrame")]||function(f){setTimeout(f,17)};i.timer=function(){hn.apply(this,arguments)};function hn(f,M,Y){var Q=arguments.length;Q<2&&(M=0),Q<3&&(Y=Date.now());var ne=Y+M,ce={c:f,t:ne,n:null};return or?or.n=ce:Fr=ce,or=ce,mr||(Mr=clearTimeout(Mr),mr=1,Qr(Fn)),ce}function Fn(){var f=wn(),M=Pn()-f;M>24?(isFinite(M)&&(clearTimeout(Mr),Mr=setTimeout(Fn,M)),mr=0):(mr=1,Qr(Fn))}i.timer.flush=function(){wn(),Pn()};function wn(){for(var f=Date.now(),M=Fr;M;)f>=M.t&&M.c(f-M.t)&&(M.c=null),M=M.n;return f}function Pn(){for(var f,M=Fr,Y=1/0;M;)M.c?(M.t<Y&&(Y=M.t),M=(f=M).n):M=f?f.n=M.n:Fr=M.n;return or=f,Y}i.round=function(f,M){return M?Math.round(f*(M=Math.pow(10,M)))/M:Math.round(f)},i.geom={};function aa(f){return f[0]}function oa(f){return f[1]}i.geom.hull=function(f){var M=aa,Y=oa;if(arguments.length)return Q(f);function Q(ne){if(ne.length<3)return[];var ce=kt(M),me=kt(Y),ge,Te=ne.length,Ee=[],Fe=[];for(ge=0;ge<Te;ge++)Ee.push([+ce.call(this,ne[ge],ge),+me.call(this,ne[ge],ge),ge]);for(Ee.sort(Ir),ge=0;ge<Te;ge++)Fe.push([Ee[ge][0],-Ee[ge][1]]);var Ke=jn(Ee),Qe=jn(Fe),_t=Qe[0]===Ke[0],Ot=Qe[Qe.length-1]===Ke[Ke.length-1],et=[];for(ge=Ke.length-1;ge>=0;--ge)et.push(ne[Ee[Ke[ge]][2]]);for(ge=+_t;ge<Qe.length-Ot;++ge)et.push(ne[Ee[Qe[ge]][2]]);return et}return Q.x=function(ne){return arguments.length?(M=ne,Q):M},Q.y=function(ne){return arguments.length?(Y=ne,Q):Y},Q};function jn(f){for(var M=f.length,Y=[0,1],Q=2,ne=2;ne<M;ne++){for(;Q>1&&tt(f[Y[Q-2]],f[Y[Q-1]],f[ne])<=0;)--Q;Y[Q++]=ne}return Y.slice(0,Q)}function Ir(f,M){return f[0]-M[0]||f[1]-M[1]}i.geom.polygon=function(f){return q(f,qn),f};var qn=i.geom.polygon.prototype=[];qn.area=function(){for(var f=-1,M=this.length,Y,Q=this[M-1],ne=0;++f<M;)Y=Q,Q=this[f],ne+=Y[1]*Q[0]-Y[0]*Q[1];return ne*.5},qn.centroid=function(f){var M=-1,Y=this.length,Q=0,ne=0,ce,me=this[Y-1],ge;for(arguments.length||(f=-1/(6*this.area()));++M<Y;)ce=me,me=this[M],ge=ce[0]*me[1]-me[0]*ce[1],Q+=(ce[0]+me[0])*ge,ne+=(ce[1]+me[1])*ge;return[Q*f,ne*f]},qn.clip=function(f){for(var M,Y=ia(f),Q=-1,ne=this.length-ia(this),ce,me,ge=this[ne-1],Te,Ee,Fe;++Q<ne;){for(M=f.slice(),f.length=0,Te=this[Q],Ee=M[(me=M.length-Y)-1],ce=-1;++ce<me;)Fe=M[ce],Wn(Fe,ge,Te)?(Wn(Ee,ge,Te)||f.push(ya(Ee,Fe,ge,Te)),f.push(Fe)):Wn(Ee,ge,Te)&&f.push(ya(Ee,Fe,ge,Te)),Ee=Fe;Y&&f.push(f[0]),ge=Te}return f};function Wn(f,M,Y){return(Y[0]-M[0])*(f[1]-M[1])<(Y[1]-M[1])*(f[0]-M[0])}function ya(f,M,Y,Q){var ne=f[0],ce=Y[0],me=M[0]-ne,ge=Q[0]-ce,Te=f[1],Ee=Y[1],Fe=M[1]-Te,Ke=Q[1]-Ee,Qe=(ge*(Te-Ee)-Ke*(ne-ce))/(Ke*me-ge*Fe);return[ne+Qe*me,Te+Qe*Fe]}function ia(f){var M=f[0],Y=f[f.length-1];return!(M[0]-Y[0]||M[1]-Y[1])}var xn,yn,An,Yn=[],Zn,Xn,ea=[];function Kn(){Ti(this),this.edge=this.site=this.circle=null}function Ta(f){var M=Yn.pop()||new Kn;return M.site=f,M}function la(f){_a(f),An.remove(f),Yn.push(f),Ti(f)}function fa(f){var M=f.circle,Y=M.x,Q=M.cy,ne={x:Y,y:Q},ce=f.P,me=f.N,ge=[f];la(f);for(var Te=ce;Te.circle&&c(Y-Te.circle.x)<De&&c(Q-Te.circle.cy)<De;)ce=Te.P,ge.unshift(Te),la(Te),Te=ce;ge.unshift(Te),_a(Te);for(var Ee=me;Ee.circle&&c(Y-Ee.circle.x)<De&&c(Q-Ee.circle.cy)<De;)me=Ee.N,ge.push(Ee),la(Ee),Ee=me;ge.push(Ee),_a(Ee);var Fe=ge.length,Ke;for(Ke=1;Ke<Fe;++Ke)Ee=ge[Ke],Te=ge[Ke-1],ua(Ee.edge,Te.site,Ee.site,ne);Te=ge[0],Ee=ge[Fe-1],Ee.edge=da(Te.site,Ee.site,null,ne),ta(Te),ta(Ee)}function Un(f){for(var M=f.x,Y=f.y,Q,ne,ce,me,ge=An._;ge;)if(ce=ka(ge,Y)-M,ce>De)ge=ge.L;else if(me=M-La(ge,Y),me>De){if(!ge.R){Q=ge;break}ge=ge.R}else{ce>-1e-6?(Q=ge.P,ne=ge):me>-1e-6?(Q=ge,ne=ge.N):Q=ne=ge;break}var Te=Ta(f);if(An.insert(Q,Te),!(!Q&&!ne)){if(Q===ne){_a(Q),ne=Ta(Q.site),An.insert(Te,ne),Te.edge=ne.edge=da(Q.site,Te.site),ta(Q),ta(ne);return}if(!ne){Te.edge=da(Q.site,Te.site);return}_a(Q),_a(ne);var Ee=Q.site,Fe=Ee.x,Ke=Ee.y,Qe=f.x-Fe,_t=f.y-Ke,Ot=ne.site,et=Ot.x-Fe,yt=Ot.y-Ke,bt=2*(Qe*yt-_t*et),Mt=Qe*Qe+_t*_t,Lt=et*et+yt*yt,gt={x:(yt*Mt-_t*Lt)/bt+Fe,y:(Qe*Lt-et*Mt)/bt+Ke};ua(ne.edge,Ee,Ot,gt),Te.edge=da(Ee,f,null,gt),ne.edge=da(f,Ot,null,gt),ta(Q),ta(ne)}}function ka(f,M){var Y=f.site,Q=Y.x,ne=Y.y,ce=ne-M;if(!ce)return Q;var me=f.P;if(!me)return-1/0;Y=me.site;var ge=Y.x,Te=Y.y,Ee=Te-M;if(!Ee)return ge;var Fe=ge-Q,Ke=1/ce-1/Ee,Qe=Fe/Ee;return Ke?(-Qe+Math.sqrt(Qe*Qe-2*Ke*(Fe*Fe/(-2*Ee)-Te+Ee/2+ne-ce/2)))/Ke+Q:(Q+ge)/2}function La(f,M){var Y=f.N;if(Y)return ka(Y,M);var Q=f.site;return Q.y===M?Q.x:1/0}function Fa(f){this.site=f,this.edges=[]}Fa.prototype.prepare=function(){for(var f=this.edges,M=f.length,Y;M--;)Y=f[M].edge,(!Y.b||!Y.a)&&f.splice(M,1);return f.sort(Ja),f.length};function Ua(f){for(var M=f[0][0],Y=f[1][0],Q=f[0][1],ne=f[1][1],ce,me,ge,Te,Ee=yn,Fe=Ee.length,Ke,Qe,_t,Ot,et,yt;Fe--;)if(Ke=Ee[Fe],!(!Ke||!Ke.prepare()))for(_t=Ke.edges,Ot=_t.length,Qe=0;Qe<Ot;)yt=_t[Qe].end(),ge=yt.x,Te=yt.y,et=_t[++Qe%Ot].start(),ce=et.x,me=et.y,(c(ge-ce)>De||c(Te-me)>De)&&(_t.splice(Qe,0,new Ka(In(Ke.site,yt,c(ge-M)<De&&ne-Te>De?{x:M,y:c(ce-M)<De?me:ne}:c(Te-ne)<De&&Y-ge>De?{x:c(me-ne)<De?ce:Y,y:ne}:c(ge-Y)<De&&Te-Q>De?{x:Y,y:c(ce-Y)<De?me:Q}:c(Te-Q)<De&&ge-M>De?{x:c(me-Q)<De?ce:M,y:Q}:null),Ke.site,null)),++Ot)}function Ja(f,M){return M.angle-f.angle}function Ia(){Ti(this),this.x=this.y=this.arc=this.site=this.cy=null}function ta(f){var M=f.P,Y=f.N;if(!(!M||!Y)){var Q=M.site,ne=f.site,ce=Y.site;if(Q!==ce){var me=ne.x,ge=ne.y,Te=Q.x-me,Ee=Q.y-ge,Fe=ce.x-me,Ke=ce.y-ge,Qe=2*(Te*Ke-Ee*Fe);if(!(Qe>=-1e-12)){var _t=Te*Te+Ee*Ee,Ot=Fe*Fe+Ke*Ke,et=(Ke*_t-Ee*Ot)/Qe,yt=(Te*Ot-Fe*_t)/Qe,Ke=yt+ge,bt=ea.pop()||new Ia;bt.arc=f,bt.site=ne,bt.x=et+me,bt.y=Ke+Math.sqrt(et*et+yt*yt),bt.cy=Ke,f.circle=bt;for(var Mt=null,Lt=Xn._;Lt;)if(bt.y<Lt.y||bt.y===Lt.y&&bt.x<=Lt.x)if(Lt.L)Lt=Lt.L;else{Mt=Lt.P;break}else if(Lt.R)Lt=Lt.R;else{Mt=Lt;break}Xn.insert(Mt,bt),Mt||(Zn=bt)}}}}function _a(f){var M=f.circle;M&&(M.P||(Zn=M.N),Xn.remove(M),ea.push(M),Ti(M),f.circle=null)}function pi(f,M,Y,Q){return function(ne){var ce=ne.a,me=ne.b,ge=ce.x,Te=ce.y,Ee=me.x,Fe=me.y,Ke=0,Qe=1,_t=Ee-ge,Ot=Fe-Te,et;if(et=f-ge,!(!_t&&et>0)){if(et/=_t,_t<0){if(et<Ke)return;et<Qe&&(Qe=et)}else if(_t>0){if(et>Qe)return;et>Ke&&(Ke=et)}if(et=Y-ge,!(!_t&&et<0)){if(et/=_t,_t<0){if(et>Qe)return;et>Ke&&(Ke=et)}else if(_t>0){if(et<Ke)return;et<Qe&&(Qe=et)}if(et=M-Te,!(!Ot&&et>0)){if(et/=Ot,Ot<0){if(et<Ke)return;et<Qe&&(Qe=et)}else if(Ot>0){if(et>Qe)return;et>Ke&&(Ke=et)}if(et=Q-Te,!(!Ot&&et<0)){if(et/=Ot,Ot<0){if(et>Qe)return;et>Ke&&(Ke=et)}else if(Ot>0){if(et<Ke)return;et<Qe&&(Qe=et)}return Ke>0&&(ne.a={x:ge+Ke*_t,y:Te+Ke*Ot}),Qe<1&&(ne.b={x:ge+Qe*_t,y:Te+Qe*Ot}),ne}}}}}}function sa(f){for(var M=xn,Y=pi(f[0][0],f[0][1],f[1][0],f[1][1]),Q=M.length,ne;Q--;)ne=M[Q],(!ra(ne,f)||!Y(ne)||c(ne.a.x-ne.b.x)<De&&c(ne.a.y-ne.b.y)<De)&&(ne.a=ne.b=null,M.splice(Q,1))}function ra(f,M){var Y=f.b;if(Y)return!0;var Q=f.a,ne=M[0][0],ce=M[1][0],me=M[0][1],ge=M[1][1],Te=f.l,Ee=f.r,Fe=Te.x,Ke=Te.y,Qe=Ee.x,_t=Ee.y,Ot=(Fe+Qe)/2,et=(Ke+_t)/2,yt,bt;if(_t===Ke){if(Ot<ne||Ot>=ce)return;if(Fe>Qe){if(!Q)Q={x:Ot,y:me};else if(Q.y>=ge)return;Y={x:Ot,y:ge}}else{if(!Q)Q={x:Ot,y:ge};else if(Q.y<me)return;Y={x:Ot,y:me}}}else if(yt=(Fe-Qe)/(_t-Ke),bt=et-yt*Ot,yt<-1||yt>1)if(Fe>Qe){if(!Q)Q={x:(me-bt)/yt,y:me};else if(Q.y>=ge)return;Y={x:(ge-bt)/yt,y:ge}}else{if(!Q)Q={x:(ge-bt)/yt,y:ge};else if(Q.y<me)return;Y={x:(me-bt)/yt,y:me}}else if(Ke<_t){if(!Q)Q={x:ne,y:yt*ne+bt};else if(Q.x>=ce)return;Y={x:ce,y:yt*ce+bt}}else{if(!Q)Q={x:ce,y:yt*ce+bt};else if(Q.x<ne)return;Y={x:ne,y:yt*ne+bt}}return f.a=Q,f.b=Y,!0}function ma(f,M){this.l=f,this.r=M,this.a=this.b=null}function da(f,M,Y,Q){var ne=new ma(f,M);return xn.push(ne),Y&&ua(ne,f,M,Y),Q&&ua(ne,M,f,Q),yn[f.i].edges.push(new Ka(ne,f,M)),yn[M.i].edges.push(new Ka(ne,M,f)),ne}function In(f,M,Y){var Q=new ma(f,null);return Q.a=M,Q.b=Y,xn.push(Q),Q}function ua(f,M,Y,Q){!f.a&&!f.b?(f.a=Q,f.l=M,f.r=Y):f.l===Y?f.b=Q:f.a=Q}function Ka(f,M,Y){var Q=f.a,ne=f.b;this.edge=f,this.site=M,this.angle=Y?Math.atan2(Y.y-M.y,Y.x-M.x):f.l===M?Math.atan2(ne.x-Q.x,Q.y-ne.y):Math.atan2(Q.x-ne.x,ne.y-Q.y)}Ka.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function mi(){this._=null}function Ti(f){f.U=f.C=f.L=f.R=f.P=f.N=null}mi.prototype={insert:function(f,M){var Y,Q,ne;if(f){if(M.P=f,M.N=f.N,f.N&&(f.N.P=M),f.N=M,f.R){for(f=f.R;f.L;)f=f.L;f.L=M}else f.R=M;Y=f}else this._?(f=ro(this._),M.P=null,M.N=f,f.P=f.L=M,Y=f):(M.P=M.N=null,this._=M,Y=null);for(M.L=M.R=null,M.U=Y,M.C=!0,f=M;Y&&Y.C;)Q=Y.U,Y===Q.L?(ne=Q.R,ne&&ne.C?(Y.C=ne.C=!1,Q.C=!0,f=Q):(f===Y.R&&(ki(this,Y),f=Y,Y=f.U),Y.C=!1,Q.C=!0,oi(this,Q))):(ne=Q.L,ne&&ne.C?(Y.C=ne.C=!1,Q.C=!0,f=Q):(f===Y.L&&(oi(this,Y),f=Y,Y=f.U),Y.C=!1,Q.C=!0,ki(this,Q))),Y=f.U;this._.C=!1},remove:function(f){f.N&&(f.N.P=f.P),f.P&&(f.P.N=f.N),f.N=f.P=null;var M=f.U,Y,Q=f.L,ne=f.R,ce,me;if(Q?ne?ce=ro(ne):ce=Q:ce=ne,M?M.L===f?M.L=ce:M.R=ce:this._=ce,Q&&ne?(me=ce.C,ce.C=f.C,ce.L=Q,Q.U=ce,ce!==ne?(M=ce.U,ce.U=f.U,f=ce.R,M.L=f,ce.R=ne,ne.U=ce):(ce.U=M,M=ce,f=ce.R)):(me=f.C,f=ce),f&&(f.U=M),!me){if(f&&f.C){f.C=!1;return}do{if(f===this._)break;if(f===M.L){if(Y=M.R,Y.C&&(Y.C=!1,M.C=!0,ki(this,M),Y=M.R),Y.L&&Y.L.C||Y.R&&Y.R.C){(!Y.R||!Y.R.C)&&(Y.L.C=!1,Y.C=!0,oi(this,Y),Y=M.R),Y.C=M.C,M.C=Y.R.C=!1,ki(this,M),f=this._;break}}else if(Y=M.L,Y.C&&(Y.C=!1,M.C=!0,oi(this,M),Y=M.L),Y.L&&Y.L.C||Y.R&&Y.R.C){(!Y.L||!Y.L.C)&&(Y.R.C=!1,Y.C=!0,ki(this,Y),Y=M.L),Y.C=M.C,M.C=Y.L.C=!1,oi(this,M),f=this._;break}Y.C=!0,f=M,M=M.U}while(!f.C);f&&(f.C=!1)}}};function ki(f,M){var Y=M,Q=M.R,ne=Y.U;ne?ne.L===Y?ne.L=Q:ne.R=Q:f._=Q,Q.U=ne,Y.U=Q,Y.R=Q.L,Y.R&&(Y.R.U=Y),Q.L=Y}function oi(f,M){var Y=M,Q=M.L,ne=Y.U;ne?ne.L===Y?ne.L=Q:ne.R=Q:f._=Q,Q.U=ne,Y.U=Q,Y.L=Q.R,Y.L&&(Y.L.U=Y),Q.R=Y}function ro(f){for(;f.L;)f=f.L;return f}function Hi(f,M){var Y=f.sort(no).pop(),Q,ne,ce;for(xn=[],yn=new Array(f.length),An=new mi,Xn=new mi;;)if(ce=Zn,Y&&(!ce||Y.y<ce.y||Y.y===ce.y&&Y.x<ce.x))(Y.x!==Q||Y.y!==ne)&&(yn[Y.i]=new Fa(Y),Un(Y),Q=Y.x,ne=Y.y),Y=f.pop();else if(ce)fa(ce.arc);else break;M&&(sa(M),Ua(M));var me={cells:yn,edges:xn};return An=Xn=xn=yn=null,me}function no(f,M){return M.y-f.y||M.x-f.x}i.geom.voronoi=function(f){var M=aa,Y=oa,Q=M,ne=Y,ce=Vi;if(f)return me(f);function me(Te){var Ee=new Array(Te.length),Fe=ce[0][0],Ke=ce[0][1],Qe=ce[1][0],_t=ce[1][1];return Hi(ge(Te),ce).cells.forEach(function(Ot,et){var yt=Ot.edges,bt=Ot.site,Mt=Ee[et]=yt.length?yt.map(function(Lt){var gt=Lt.start();return[gt.x,gt.y]}):bt.x>=Fe&&bt.x<=Qe&&bt.y>=Ke&&bt.y<=_t?[[Fe,_t],[Qe,_t],[Qe,Ke],[Fe,Ke]]:[];Mt.point=Te[et]}),Ee}function ge(Te){return Te.map(function(Ee,Fe){return{x:Math.round(Q(Ee,Fe)/De)*De,y:Math.round(ne(Ee,Fe)/De)*De,i:Fe}})}return me.links=function(Te){return Hi(ge(Te)).edges.filter(function(Ee){return Ee.l&&Ee.r}).map(function(Ee){return{source:Te[Ee.l.i],target:Te[Ee.r.i]}})},me.triangles=function(Te){var Ee=[];return Hi(ge(Te)).cells.forEach(function(Fe,Ke){for(var Qe=Fe.site,_t=Fe.edges.sort(Ja),Ot=-1,et=_t.length,yt,bt,Mt=_t[et-1].edge,Lt=Mt.l===Qe?Mt.r:Mt.l;++Ot<et;)yt=Mt,bt=Lt,Mt=_t[Ot].edge,Lt=Mt.l===Qe?Mt.r:Mt.l,Ke<bt.i&&Ke<Lt.i&&qi(Qe,bt,Lt)<0&&Ee.push([Te[Ke],Te[bt.i],Te[Lt.i]])}),Ee},me.x=function(Te){return arguments.length?(Q=kt(M=Te),me):M},me.y=function(Te){return arguments.length?(ne=kt(Y=Te),me):Y},me.clipExtent=function(Te){return arguments.length?(ce=Te??Vi,me):ce===Vi?null:ce},me.size=function(Te){return arguments.length?me.clipExtent(Te&&[[0,0],Te]):ce===Vi?null:ce&&ce[1]},me};var Vi=[[-1e6,-1e6],[1e6,1e6]];function qi(f,M,Y){return(f.x-Y.x)*(M.y-f.y)-(f.x-M.x)*(Y.y-f.y)}i.geom.delaunay=function(f){return i.geom.voronoi().triangles(f)},i.geom.quadtree=function(f,M,Y,Q,ne){var ce=aa,me=oa,ge;if(ge=arguments.length)return ce=Nc,me=Rc,ge===3&&(ne=Y,Q=M,Y=M=0),Te(f);function Te(Ee){var Fe,Ke=kt(ce),Qe=kt(me),_t,Ot,et,yt,bt,Mt,Lt,gt;if(M!=null)bt=M,Mt=Y,Lt=Q,gt=ne;else if(Lt=gt=-(bt=Mt=1/0),_t=[],Ot=[],yt=Ee.length,ge)for(et=0;et<yt;++et)Fe=Ee[et],Fe.x<bt&&(bt=Fe.x),Fe.y<Mt&&(Mt=Fe.y),Fe.x>Lt&&(Lt=Fe.x),Fe.y>gt&&(gt=Fe.y),_t.push(Fe.x),Ot.push(Fe.y);else for(et=0;et<yt;++et){var Qt=+Ke(Fe=Ee[et],et),pr=+Qe(Fe,et);Qt<bt&&(bt=Qt),pr<Mt&&(Mt=pr),Qt>Lt&&(Lt=Qt),pr>gt&&(gt=pr),_t.push(Qt),Ot.push(pr)}var Tr=Lt-bt,Pr=gt-Mt;Tr>Pr?gt=Mt+Tr:Lt=bt+Pr;function qr(Xr,vn,Gn,Aa,Qn,Cr,_n,On){if(!(isNaN(Gn)||isNaN(Aa)))if(Xr.leaf){var Hn=Xr.x,ha=Xr.y;if(Hn!=null)if(c(Hn-Gn)+c(ha-Aa)<.01)Wr(Xr,vn,Gn,Aa,Qn,Cr,_n,On);else{var Oa=Xr.point;Xr.x=Xr.y=Xr.point=null,Wr(Xr,Oa,Hn,ha,Qn,Cr,_n,On),Wr(Xr,vn,Gn,Aa,Qn,Cr,_n,On)}else Xr.x=Gn,Xr.y=Aa,Xr.point=vn}else Wr(Xr,vn,Gn,Aa,Qn,Cr,_n,On)}function Wr(Xr,vn,Gn,Aa,Qn,Cr,_n,On){var Hn=(Qn+_n)*.5,ha=(Cr+On)*.5,Oa=Gn>=Hn,Ra=Aa>=ha,Va=Ra<<1|Oa;Xr.leaf=!1,Xr=Xr.nodes[Va]||(Xr.nodes[Va]=eu()),Oa?Qn=Hn:_n=Hn,Ra?Cr=ha:On=ha,qr(Xr,vn,Gn,Aa,Qn,Cr,_n,On)}var bn=eu();if(bn.add=function(Xr){qr(bn,Xr,+Ke(Xr,++et),+Qe(Xr,et),bt,Mt,Lt,gt)},bn.visit=function(Xr){Po(Xr,bn,bt,Mt,Lt,gt)},bn.find=function(Xr){return jc(bn,Xr[0],Xr[1],bt,Mt,Lt,gt)},et=-1,M==null){for(;++et<yt;)qr(bn,Ee[et],_t[et],Ot[et],bt,Mt,Lt,gt);--et}else Ee.forEach(bn.add);return _t=Ot=Ee=Fe=null,bn}return Te.x=function(Ee){return arguments.length?(ce=Ee,Te):ce},Te.y=function(Ee){return arguments.length?(me=Ee,Te):me},Te.extent=function(Ee){return arguments.length?(Ee==null?M=Y=Q=ne=null:(M=+Ee[0][0],Y=+Ee[0][1],Q=+Ee[1][0],ne=+Ee[1][1]),Te):M==null?null:[[M,Y],[Q,ne]]},Te.size=function(Ee){return arguments.length?(Ee==null?M=Y=Q=ne=null:(M=Y=0,Q=+Ee[0],ne=+Ee[1]),Te):M==null?null:[Q-M,ne-Y]},Te};function Nc(f){return f.x}function Rc(f){return f.y}function eu(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Po(f,M,Y,Q,ne,ce){if(!f(M,Y,Q,ne,ce)){var me=(Y+ne)*.5,ge=(Q+ce)*.5,Te=M.nodes;Te[0]&&Po(f,Te[0],Y,Q,me,ge),Te[1]&&Po(f,Te[1],me,Q,ne,ge),Te[2]&&Po(f,Te[2],Y,ge,me,ce),Te[3]&&Po(f,Te[3],me,ge,ne,ce)}}function jc(f,M,Y,Q,ne,ce,me){var ge=1/0,Te;return function Ee(Fe,Ke,Qe,_t,Ot){if(!(Ke>ce||Qe>me||_t<Q||Ot<ne)){if(et=Fe.point){var et,yt=M-Fe.x,bt=Y-Fe.y,Mt=yt*yt+bt*bt;if(Mt<ge){var Lt=Math.sqrt(ge=Mt);Q=M-Lt,ne=Y-Lt,ce=M+Lt,me=Y+Lt,Te=et}}for(var gt=Fe.nodes,Qt=(Ke+_t)*.5,pr=(Qe+Ot)*.5,Tr=M>=Qt,Pr=Y>=pr,qr=Pr<<1|Tr,Wr=qr+4;qr<Wr;++qr)if(Fe=gt[qr&3])switch(qr&3){case 0:Ee(Fe,Ke,Qe,Qt,pr);break;case 1:Ee(Fe,Qt,Qe,_t,pr);break;case 2:Ee(Fe,Ke,pr,Qt,Ot);break;case 3:Ee(Fe,Qt,pr,_t,Ot);break}}}(f,Q,ne,ce,me),Te}i.interpolateRgb=Rl;function Rl(f,M){f=i.rgb(f),M=i.rgb(M);var Y=f.r,Q=f.g,ne=f.b,ce=M.r-Y,me=M.g-Q,ge=M.b-ne;return function(Te){return"#"+Ie(Math.round(Y+ce*Te))+Ie(Math.round(Q+me*Te))+Ie(Math.round(ne+ge*Te))}}i.interpolateObject=tu;function tu(f,M){var Y={},Q={},ne;for(ne in f)ne in M?Y[ne]=Ha(f[ne],M[ne]):Q[ne]=f[ne];for(ne in M)ne in f||(Q[ne]=M[ne]);return function(ce){for(ne in Y)Q[ne]=Y[ne](ce);return Q}}i.interpolateNumber=xi;function xi(f,M){return f=+f,M=+M,function(Y){return f*(1-Y)+M*Y}}i.interpolateString=ao;function ao(f,M){var Y=jl.lastIndex=io.lastIndex=0,Q,ne,ce,me=-1,ge=[],Te=[];for(f=f+"",M=M+"";(Q=jl.exec(f))&&(ne=io.exec(M));)(ce=ne.index)>Y&&(ce=M.slice(Y,ce),ge[me]?ge[me]+=ce:ge[++me]=ce),(Q=Q[0])===(ne=ne[0])?ge[me]?ge[me]+=ne:ge[++me]=ne:(ge[++me]=null,Te.push({i:me,x:xi(Q,ne)})),Y=io.lastIndex;return Y<M.length&&(ce=M.slice(Y),ge[me]?ge[me]+=ce:ge[++me]=ce),ge.length<2?Te[0]?(M=Te[0].x,function(Ee){return M(Ee)+""}):function(){return M}:(M=Te.length,function(Ee){for(var Fe=0,Ke;Fe<M;++Fe)ge[(Ke=Te[Fe]).i]=Ke.x(Ee);return ge.join("")})}var jl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,io=new RegExp(jl.source,"g");i.interpolate=Ha;function Ha(f,M){for(var Y=i.interpolators.length,Q;--Y>=0&&!(Q=i.interpolators[Y](f,M)););return Q}i.interpolators=[function(f,M){var Y=typeof M;return(Y==="string"?rt.has(M.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(M)?Rl:ao:M instanceof yr?Rl:Array.isArray(M)?Mi:Y==="object"&&isNaN(M)?tu:xi)(f,M)}],i.interpolateArray=Mi;function Mi(f,M){var Y=[],Q=[],ne=f.length,ce=M.length,me=Math.min(f.length,M.length),ge;for(ge=0;ge<me;++ge)Y.push(Ha(f[ge],M[ge]));for(;ge<ne;++ge)Q[ge]=f[ge];for(;ge<ce;++ge)Q[ge]=M[ge];return function(Te){for(ge=0;ge<me;++ge)Q[ge]=Y[ge](Te);return Q}}var zl=function(){return G},ru=i.map({linear:zl,poly:iu,quad:function(){return zc},cubic:function(){return oo},sin:function(){return ou},exp:function(){return Wi},circle:function(){return lu},elastic:su,back:Bc,bounce:function(){return Uc}}),nu=i.map({in:G,out:Bl,"in-out":Ul,"out-in":function(f){return Ul(Bl(f))}});i.ease=function(f){var M=f.indexOf("-"),Y=M>=0?f.slice(0,M):f,Q=M>=0?f.slice(M+1):"in";return Y=ru.get(Y)||zl,Q=nu.get(Q)||G,au(Q(Y.apply(null,t.call(arguments,1))))};function au(f){return function(M){return M<=0?0:M>=1?1:f(M)}}function Bl(f){return function(M){return 1-f(1-M)}}function Ul(f){return function(M){return .5*(M<.5?f(2*M):2-f(2-2*M))}}function zc(f){return f*f}function oo(f){return f*f*f}function Na(f){if(f<=0)return 0;if(f>=1)return 1;var M=f*f,Y=M*f;return 4*(f<.5?Y:3*(f-M)+Y-.75)}function iu(f){return function(M){return Math.pow(M,f)}}function ou(f){return 1-Math.cos(f*Se)}function Wi(f){return Math.pow(2,10*(f-1))}function lu(f){return 1-Math.sqrt(1-f*f)}function su(f,M){var Y;return arguments.length<2&&(M=.45),arguments.length?Y=M/ve*Math.asin(1/f):(f=1,Y=M/4),function(Q){return 1+f*Math.pow(2,-10*Q)*Math.sin((Q-Y)*ve/M)}}function Bc(f){return f||(f=1.70158),function(M){return M*M*((f+1)*M-f)}}function Uc(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+.9375:7.5625*(f-=2.625/2.75)*f+.984375}i.interpolateHcl=Hc;function Hc(f,M){f=i.hcl(f),M=i.hcl(M);var Y=f.h,Q=f.c,ne=f.l,ce=M.h-Y,me=M.c-Q,ge=M.l-ne;return isNaN(me)&&(me=0,Q=isNaN(Q)?M.c:Q),isNaN(ce)?(ce=0,Y=isNaN(Y)?M.h:Y):ce>180?ce-=360:ce<-180&&(ce+=360),function(Te){return rr(Y+ce*Te,Q+me*Te,ne+ge*Te)+""}}i.interpolateHsl=Vc;function Vc(f,M){f=i.hsl(f),M=i.hsl(M);var Y=f.h,Q=f.s,ne=f.l,ce=M.h-Y,me=M.s-Q,ge=M.l-ne;return isNaN(me)&&(me=0,Q=isNaN(Q)?M.s:Q),isNaN(ce)?(ce=0,Y=isNaN(Y)?M.h:Y):ce>180?ce-=360:ce<-180&&(ce+=360),function(Te){return jr(Y+ce*Te,Q+me*Te,ne+ge*Te)+""}}i.interpolateLab=Hl;function Hl(f,M){f=i.lab(f),M=i.lab(M);var Y=f.l,Q=f.a,ne=f.b,ce=M.l-Y,me=M.a-Q,ge=M.b-ne;return function(Te){return $r(Y+ce*Te,Q+me*Te,ne+ge*Te)+""}}i.interpolateRound=Vl;function Vl(f,M){return M-=f,function(Y){return Math.round(f+M*Y)}}i.transform=function(f){var M=n.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Y){if(Y!=null){M.setAttribute("transform",Y);var Q=M.transform.baseVal.consolidate()}return new uu(Q?Q.matrix:el)})(f)};function uu(f){var M=[f.a,f.b],Y=[f.c,f.d],Q=Wl(M),ne=ql(M,Y),ce=Wl(qc(Y,M,-ne))||0;M[0]*Y[1]<Y[0]*M[1]&&(M[0]*=-1,M[1]*=-1,Q*=-1,ne*=-1),this.rotate=(Q?Math.atan2(M[1],M[0]):Math.atan2(-Y[0],Y[1]))*Le,this.translate=[f.e,f.f],this.scale=[Q,ce],this.skew=ce?Math.atan2(ne,ce)*Le:0}uu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function ql(f,M){return f[0]*M[0]+f[1]*M[1]}function Wl(f){var M=Math.sqrt(ql(f,f));return M&&(f[0]/=M,f[1]/=M),M}function qc(f,M,Y){return f[0]+=Y*M[0],f[1]+=Y*M[1],f}var el={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Yl;function lo(f){return f.length?f.pop()+",":""}function Ii(f,M,Y,Q){if(f[0]!==M[0]||f[1]!==M[1]){var ne=Y.push("translate(",null,",",null,")");Q.push({i:ne-4,x:xi(f[0],M[0])},{i:ne-2,x:xi(f[1],M[1])})}else(M[0]||M[1])&&Y.push("translate("+M+")")}function tl(f,M,Y,Q){f!==M?(f-M>180?M+=360:M-f>180&&(f+=360),Q.push({i:Y.push(lo(Y)+"rotate(",null,")")-2,x:xi(f,M)})):M&&Y.push(lo(Y)+"rotate("+M+")")}function cu(f,M,Y,Q){f!==M?Q.push({i:Y.push(lo(Y)+"skewX(",null,")")-2,x:xi(f,M)}):M&&Y.push(lo(Y)+"skewX("+M+")")}function fu(f,M,Y,Q){if(f[0]!==M[0]||f[1]!==M[1]){var ne=Y.push(lo(Y)+"scale(",null,",",null,")");Q.push({i:ne-4,x:xi(f[0],M[0])},{i:ne-2,x:xi(f[1],M[1])})}else(M[0]!==1||M[1]!==1)&&Y.push(lo(Y)+"scale("+M+")")}function Yl(f,M){var Y=[],Q=[];return f=i.transform(f),M=i.transform(M),Ii(f.translate,M.translate,Y,Q),tl(f.rotate,M.rotate,Y,Q),cu(f.skew,M.skew,Y,Q),fu(f.scale,M.scale,Y,Q),f=M=null,function(ne){for(var ce=-1,me=Q.length,ge;++ce<me;)Y[(ge=Q[ce]).i]=ge.x(ne);return Y.join("")}}function du(f,M){return M=(M-=f=+f)||1/M,function(Y){return(Y-f)/M}}function hu(f,M){return M=(M-=f=+f)||1/M,function(Y){return Math.max(0,Math.min(1,(Y-f)/M))}}i.layout={},i.layout.bundle=function(){return function(f){for(var M=[],Y=-1,Q=f.length;++Y<Q;)M.push(pu(f[Y]));return M}};function pu(f){for(var M=f.source,Y=f.target,Q=gu(M,Y),ne=[M];M!==Q;)M=M.parent,ne.push(M);for(var ce=ne.length;Y!==Q;)ne.splice(ce,0,Y),Y=Y.parent;return ne}function Gl(f){for(var M=[],Y=f.parent;Y!=null;)M.push(f),f=Y,Y=Y.parent;return M.push(f),M}function gu(f,M){if(f===M)return f;for(var Y=Gl(f),Q=Gl(M),ne=Y.pop(),ce=Q.pop(),me=null;ne===ce;)me=ne,ne=Y.pop(),ce=Q.pop();return me}i.layout.chord=function(){var f={},M,Y,Q,ne,ce=0,me,ge,Te;function Ee(){var Ke={},Qe=[],_t=i.range(ne),Ot=[],et,yt,bt,Mt,Lt;for(M=[],Y=[],et=0,Mt=-1;++Mt<ne;){for(yt=0,Lt=-1;++Lt<ne;)yt+=Q[Mt][Lt];Qe.push(yt),Ot.push(i.range(ne)),et+=yt}for(me&&_t.sort(function(bn,Xr){return me(Qe[bn],Qe[Xr])}),ge&&Ot.forEach(function(bn,Xr){bn.sort(function(vn,Gn){return ge(Q[Xr][vn],Q[Xr][Gn])})}),et=(ve-ce*ne)/et,yt=0,Mt=-1;++Mt<ne;){for(bt=yt,Lt=-1;++Lt<ne;){var gt=_t[Mt],Qt=Ot[gt][Lt],pr=Q[gt][Qt],Tr=yt,Pr=yt+=pr*et;Ke[gt+"-"+Qt]={index:gt,subindex:Qt,startAngle:Tr,endAngle:Pr,value:pr}}Y[gt]={index:gt,startAngle:bt,endAngle:yt,value:Qe[gt]},yt+=ce}for(Mt=-1;++Mt<ne;)for(Lt=Mt-1;++Lt<ne;){var qr=Ke[Mt+"-"+Lt],Wr=Ke[Lt+"-"+Mt];(qr.value||Wr.value)&&M.push(qr.value<Wr.value?{source:Wr,target:qr}:{source:qr,target:Wr})}Te&&Fe()}function Fe(){M.sort(function(Ke,Qe){return Te((Ke.source.value+Ke.target.value)/2,(Qe.source.value+Qe.target.value)/2)})}return f.matrix=function(Ke){return arguments.length?(ne=(Q=Ke)&&Q.length,M=Y=null,f):Q},f.padding=function(Ke){return arguments.length?(ce=Ke,M=Y=null,f):ce},f.sortGroups=function(Ke){return arguments.length?(me=Ke,M=Y=null,f):me},f.sortSubgroups=function(Ke){return arguments.length?(ge=Ke,M=null,f):ge},f.sortChords=function(Ke){return arguments.length?(Te=Ke,M&&Fe(),f):Te},f.chords=function(){return M||Ee(),M},f.groups=function(){return Y||Ee(),Y},f},i.layout.force=function(){var f={},M=i.dispatch("start","tick","end"),Y,Q=[1,1],ne,ce,me=.9,ge=Jl,Te=so,Ee=-30,Fe=mu,Ke=.1,Qe=.64,_t=[],Ot=[],et,yt,bt;function Mt(gt){return function(Qt,pr,Tr,Pr){if(Qt.point!==gt){var qr=Qt.cx-gt.x,Wr=Qt.cy-gt.y,bn=Pr-pr,Xr=qr*qr+Wr*Wr;if(bn*bn/Qe<Xr){if(Xr<Fe){var vn=Qt.charge/Xr;gt.px-=qr*vn,gt.py-=Wr*vn}return!0}if(Qt.point&&Xr&&Xr<Fe){var vn=Qt.pointCharge/Xr;gt.px-=qr*vn,gt.py-=Wr*vn}}return!Qt.charge}}f.tick=function(){if((ce*=.99)<.005)return Y=null,M.end({type:"end",alpha:ce=0}),!0;var gt=_t.length,Qt=Ot.length,pr,Tr,Pr,qr,Wr,bn,Xr,vn,Gn;for(Tr=0;Tr<Qt;++Tr)Pr=Ot[Tr],qr=Pr.source,Wr=Pr.target,vn=Wr.x-qr.x,Gn=Wr.y-qr.y,(bn=vn*vn+Gn*Gn)&&(bn=ce*yt[Tr]*((bn=Math.sqrt(bn))-et[Tr])/bn,vn*=bn,Gn*=bn,Wr.x-=vn*(Xr=qr.weight+Wr.weight?qr.weight/(qr.weight+Wr.weight):.5),Wr.y-=Gn*Xr,qr.x+=vn*(Xr=1-Xr),qr.y+=Gn*Xr);if((Xr=ce*Ke)&&(vn=Q[0]/2,Gn=Q[1]/2,Tr=-1,Xr))for(;++Tr<gt;)Pr=_t[Tr],Pr.x+=(vn-Pr.x)*Xr,Pr.y+=(Gn-Pr.y)*Xr;if(Ee)for(bi(pr=i.geom.quadtree(_t),ce,bt),Tr=-1;++Tr<gt;)(Pr=_t[Tr]).fixed||pr.visit(Mt(Pr));for(Tr=-1;++Tr<gt;)Pr=_t[Tr],Pr.fixed?(Pr.x=Pr.px,Pr.y=Pr.py):(Pr.x-=(Pr.px-(Pr.px=Pr.x))*me,Pr.y-=(Pr.py-(Pr.py=Pr.y))*me);M.tick({type:"tick",alpha:ce})},f.nodes=function(gt){return arguments.length?(_t=gt,f):_t},f.links=function(gt){return arguments.length?(Ot=gt,f):Ot},f.size=function(gt){return arguments.length?(Q=gt,f):Q},f.linkDistance=function(gt){return arguments.length?(ge=typeof gt=="function"?gt:+gt,f):ge},f.distance=f.linkDistance,f.linkStrength=function(gt){return arguments.length?(Te=typeof gt=="function"?gt:+gt,f):Te},f.friction=function(gt){return arguments.length?(me=+gt,f):me},f.charge=function(gt){return arguments.length?(Ee=typeof gt=="function"?gt:+gt,f):Ee},f.chargeDistance=function(gt){return arguments.length?(Fe=gt*gt,f):Math.sqrt(Fe)},f.gravity=function(gt){return arguments.length?(Ke=+gt,f):Ke},f.theta=function(gt){return arguments.length?(Qe=gt*gt,f):Math.sqrt(Qe)},f.alpha=function(gt){return arguments.length?(gt=+gt,ce?gt>0?ce=gt:(Y.c=null,Y.t=NaN,Y=null,M.end({type:"end",alpha:ce=0})):gt>0&&(M.start({type:"start",alpha:ce=gt}),Y=hn(f.tick)),f):ce},f.start=function(){var gt,Qt=_t.length,pr=Ot.length,Tr=Q[0],Pr=Q[1],qr,Wr;for(gt=0;gt<Qt;++gt)(Wr=_t[gt]).index=gt,Wr.weight=0;for(gt=0;gt<pr;++gt)Wr=Ot[gt],typeof Wr.source=="number"&&(Wr.source=_t[Wr.source]),typeof Wr.target=="number"&&(Wr.target=_t[Wr.target]),++Wr.source.weight,++Wr.target.weight;for(gt=0;gt<Qt;++gt)Wr=_t[gt],isNaN(Wr.x)&&(Wr.x=bn("x",Tr)),isNaN(Wr.y)&&(Wr.y=bn("y",Pr)),isNaN(Wr.px)&&(Wr.px=Wr.x),isNaN(Wr.py)&&(Wr.py=Wr.y);if(et=[],typeof ge=="function")for(gt=0;gt<pr;++gt)et[gt]=+ge.call(this,Ot[gt],gt);else for(gt=0;gt<pr;++gt)et[gt]=ge;if(yt=[],typeof Te=="function")for(gt=0;gt<pr;++gt)yt[gt]=+Te.call(this,Ot[gt],gt);else for(gt=0;gt<pr;++gt)yt[gt]=Te;if(bt=[],typeof Ee=="function")for(gt=0;gt<Qt;++gt)bt[gt]=+Ee.call(this,_t[gt],gt);else for(gt=0;gt<Qt;++gt)bt[gt]=Ee;function bn(Xr,vn){if(!qr){for(qr=new Array(Qt),Qn=0;Qn<Qt;++Qn)qr[Qn]=[];for(Qn=0;Qn<pr;++Qn){var Gn=Ot[Qn];qr[Gn.source.index].push(Gn.target),qr[Gn.target.index].push(Gn.source)}}for(var Aa=qr[gt],Qn=-1,Cr=Aa.length,_n;++Qn<Cr;)if(!isNaN(_n=Aa[Qn][Xr]))return _n;return Math.random()*vn}return f.resume()},f.resume=function(){return f.alpha(.1)},f.stop=function(){return f.alpha(0)},f.drag=function(){if(ne||(ne=i.behavior.drag().origin(G).on("dragstart.force",yu).on("drag.force",Lt).on("dragend.force",gi)),!arguments.length)return ne;this.on("mouseover.force",vu).on("mouseout.force",Wc).call(ne)};function Lt(gt){gt.px=i.event.x,gt.py=i.event.y,f.resume()}return i.rebind(f,M,"on")};function yu(f){f.fixed|=2}function gi(f){f.fixed&=-7}function vu(f){f.fixed|=4,f.px=f.x,f.py=f.y}function Wc(f){f.fixed&=-5}function bi(f,M,Y){var Q=0,ne=0;if(f.charge=0,!f.leaf)for(var ce=f.nodes,me=ce.length,ge=-1,Te;++ge<me;)Te=ce[ge],Te!=null&&(bi(Te,M,Y),f.charge+=Te.charge,Q+=Te.charge*Te.cx,ne+=Te.charge*Te.cy);if(f.point){f.leaf||(f.point.x+=Math.random()-.5,f.point.y+=Math.random()-.5);var Ee=M*Y[f.point.index];f.charge+=f.pointCharge=Ee,Q+=Ee*f.point.x,ne+=Ee*f.point.y}f.cx=Q/f.charge,f.cy=ne/f.charge}var Jl=20,so=1,mu=1/0;i.layout.hierarchy=function(){var f=Gc,M=xu,Y=Yc;function Q(ne){var ce=[ne],me=[],ge;for(ne.depth=0;(ge=ce.pop())!=null;)if(me.push(ge),(Ee=M.call(Q,ge,ge.depth))&&(Te=Ee.length)){for(var Te,Ee,Fe;--Te>=0;)ce.push(Fe=Ee[Te]),Fe.parent=ge,Fe.depth=ge.depth+1;Y&&(ge.value=0),ge.children=Ee}else Y&&(ge.value=+Y.call(Q,ge,ge.depth)||0),delete ge.children;return yi(ne,function(Ke){var Qe,_t;f&&(Qe=Ke.children)&&Qe.sort(f),Y&&(_t=Ke.parent)&&(_t.value+=Ke.value)}),me}return Q.sort=function(ne){return arguments.length?(f=ne,Q):f},Q.children=function(ne){return arguments.length?(M=ne,Q):M},Q.value=function(ne){return arguments.length?(Y=ne,Q):Y},Q.revalue=function(ne){return Y&&(co(ne,function(ce){ce.children&&(ce.value=0)}),yi(ne,function(ce){var me;ce.children||(ce.value=+Y.call(Q,ce,ce.depth)||0),(me=ce.parent)&&(me.value+=ce.value)})),ne},Q};function uo(f,M){return i.rebind(f,M,"sort","children","value"),f.nodes=f,f.links=Jc,f}function co(f,M){for(var Y=[f];(f=Y.pop())!=null;)if(M(f),(ne=f.children)&&(Q=ne.length))for(var Q,ne;--Q>=0;)Y.push(ne[Q])}function yi(f,M){for(var Y=[f],Q=[];(f=Y.pop())!=null;)if(Q.push(f),(me=f.children)&&(ce=me.length))for(var ne=-1,ce,me;++ne<ce;)Y.push(me[ne]);for(;(f=Q.pop())!=null;)M(f)}function xu(f){return f.children}function Yc(f){return f.value}function Gc(f,M){return M.value-f.value}function Jc(f){return i.merge(f.map(function(M){return(M.children||[]).map(function(Y){return{source:M,target:Y}})}))}i.layout.partition=function(){var f=i.layout.hierarchy(),M=[1,1];function Y(ce,me,ge,Te){var Ee=ce.children;if(ce.x=me,ce.y=ce.depth*Te,ce.dx=ge,ce.dy=Te,Ee&&(Ke=Ee.length)){var Fe=-1,Ke,Qe,_t;for(ge=ce.value?ge/ce.value:0;++Fe<Ke;)Y(Qe=Ee[Fe],me,_t=Qe.value*ge,Te),me+=_t}}function Q(ce){var me=ce.children,ge=0;if(me&&(Ee=me.length))for(var Te=-1,Ee;++Te<Ee;)ge=Math.max(ge,Q(me[Te]));return 1+ge}function ne(ce,me){var ge=f.call(this,ce,me);return Y(ge[0],0,M[0],M[1]/Q(ge[0])),ge}return ne.size=function(ce){return arguments.length?(M=ce,ne):M},uo(ne,f)},i.layout.pie=function(){var f=Number,M=bu,Y=0,Q=ve,ne=0;function ce(me){var ge=me.length,Te=me.map(function(Mt,Lt){return+f.call(ce,Mt,Lt)}),Ee=+(typeof Y=="function"?Y.apply(this,arguments):Y),Fe=(typeof Q=="function"?Q.apply(this,arguments):Q)-Ee,Ke=Math.min(Math.abs(Fe)/ge,+(typeof ne=="function"?ne.apply(this,arguments):ne)),Qe=Ke*(Fe<0?-1:1),_t=i.sum(Te),Ot=_t?(Fe-ge*Qe)/_t:0,et=i.range(ge),yt=[],bt;return M!=null&&et.sort(M===bu?function(Mt,Lt){return Te[Lt]-Te[Mt]}:function(Mt,Lt){return M(me[Mt],me[Lt])}),et.forEach(function(Mt){yt[Mt]={data:me[Mt],value:bt=Te[Mt],startAngle:Ee,endAngle:Ee+=bt*Ot+Qe,padAngle:Ke}}),yt}return ce.value=function(me){return arguments.length?(f=me,ce):f},ce.sort=function(me){return arguments.length?(M=me,ce):M},ce.startAngle=function(me){return arguments.length?(Y=me,ce):Y},ce.endAngle=function(me){return arguments.length?(Q=me,ce):Q},ce.padAngle=function(me){return arguments.length?(ne=me,ce):ne},ce};var bu={};i.layout.stack=function(){var f=G,M=nl,Y=fo,Q=rl,ne=Zc,ce=Zl;function me(ge,Te){if(!(Ot=ge.length))return ge;var Ee=ge.map(function(Mt,Lt){return f.call(me,Mt,Lt)}),Fe=Ee.map(function(Mt){return Mt.map(function(Lt,gt){return[ne.call(me,Lt,gt),ce.call(me,Lt,gt)]})}),Ke=M.call(me,Fe,Te);Ee=i.permute(Ee,Ke),Fe=i.permute(Fe,Ke);var Qe=Y.call(me,Fe,Te),_t=Ee[0].length,Ot,et,yt,bt;for(yt=0;yt<_t;++yt)for(Q.call(me,Ee[0][yt],bt=Qe[yt],Fe[0][yt][1]),et=1;et<Ot;++et)Q.call(me,Ee[et][yt],bt+=Fe[et-1][yt][1],Fe[et][yt][1]);return ge}return me.values=function(ge){return arguments.length?(f=ge,me):f},me.order=function(ge){return arguments.length?(M=typeof ge=="function"?ge:Kc.get(ge)||nl,me):M},me.offset=function(ge){return arguments.length?(Y=typeof ge=="function"?ge:$c.get(ge)||fo,me):Y},me.x=function(ge){return arguments.length?(ne=ge,me):ne},me.y=function(ge){return arguments.length?(ce=ge,me):ce},me.out=function(ge){return arguments.length?(Q=ge,me):Q},me};function Zc(f){return f.x}function Zl(f){return f.y}function rl(f,M,Y){f.y0=M,f.y=Y}var Kc=i.map({"inside-out":function(f){var M=f.length,Y,Q,ne=f.map(Kl),ce=f.map(Xc),me=i.range(M).sort(function(Ke,Qe){return ne[Ke]-ne[Qe]}),ge=0,Te=0,Ee=[],Fe=[];for(Y=0;Y<M;++Y)Q=me[Y],ge<Te?(ge+=ce[Q],Ee.push(Q)):(Te+=ce[Q],Fe.push(Q));return Fe.reverse().concat(Ee)},reverse:function(f){return i.range(f.length).reverse()},default:nl}),$c=i.map({silhouette:function(f){var M=f.length,Y=f[0].length,Q=[],ne=0,ce,me,ge,Te=[];for(me=0;me<Y;++me){for(ce=0,ge=0;ce<M;ce++)ge+=f[ce][me][1];ge>ne&&(ne=ge),Q.push(ge)}for(me=0;me<Y;++me)Te[me]=(ne-Q[me])/2;return Te},wiggle:function(f){var M=f.length,Y=f[0],Q=Y.length,ne,ce,me,ge,Te,Ee,Fe,Ke,Qe,_t=[];for(_t[0]=Ke=Qe=0,ce=1;ce<Q;++ce){for(ne=0,ge=0;ne<M;++ne)ge+=f[ne][ce][1];for(ne=0,Te=0,Fe=Y[ce][0]-Y[ce-1][0];ne<M;++ne){for(me=0,Ee=(f[ne][ce][1]-f[ne][ce-1][1])/(2*Fe);me<ne;++me)Ee+=(f[me][ce][1]-f[me][ce-1][1])/Fe;Te+=Ee*f[ne][ce][1]}_t[ce]=Ke-=ge?Te/ge*Fe:0,Ke<Qe&&(Qe=Ke)}for(ce=0;ce<Q;++ce)_t[ce]-=Qe;return _t},expand:function(f){var M=f.length,Y=f[0].length,Q=1/M,ne,ce,me,ge=[];for(ce=0;ce<Y;++ce){for(ne=0,me=0;ne<M;ne++)me+=f[ne][ce][1];if(me)for(ne=0;ne<M;ne++)f[ne][ce][1]/=me;else for(ne=0;ne<M;ne++)f[ne][ce][1]=Q}for(ce=0;ce<Y;++ce)ge[ce]=0;return ge},zero:fo});function nl(f){return i.range(f.length)}function fo(f){for(var M=-1,Y=f[0].length,Q=[];++M<Y;)Q[M]=0;return Q}function Kl(f){for(var M=1,Y=0,Q=f[0][1],ne,ce=f.length;M<ce;++M)(ne=f[M][1])>Q&&(Y=M,Q=ne);return Y}function Xc(f){return f.reduce(_u,0)}function _u(f,M){return f+M[1]}i.layout.histogram=function(){var f=!0,M=Number,Y=ef,Q=Qc;function ne(ce,me){for(var ge=[],Te=ce.map(M,this),Ee=Y.call(this,Te,me),Fe=Q.call(this,Ee,Te,me),Ke,me=-1,Qe=Te.length,_t=Fe.length-1,Ot=f?1:1/Qe,et;++me<_t;)Ke=ge[me]=[],Ke.dx=Fe[me+1]-(Ke.x=Fe[me]),Ke.y=0;if(_t>0)for(me=-1;++me<Qe;)et=Te[me],et>=Ee[0]&&et<=Ee[1]&&(Ke=ge[i.bisect(Fe,et,1,_t)-1],Ke.y+=Ot,Ke.push(ce[me]));return ge}return ne.value=function(ce){return arguments.length?(M=ce,ne):M},ne.range=function(ce){return arguments.length?(Y=kt(ce),ne):Y},ne.bins=function(ce){return arguments.length?(Q=typeof ce=="number"?function(me){return wu(me,ce)}:kt(ce),ne):Q},ne.frequency=function(ce){return arguments.length?(f=!!ce,ne):f},ne};function Qc(f,M){return wu(f,Math.ceil(Math.log(M.length)/Math.LN2+1))}function wu(f,M){for(var Y=-1,Q=+f[0],ne=(f[1]-Q)/M,ce=[];++Y<=M;)ce[Y]=ne*Y+Q;return ce}function ef(f){return[i.min(f),i.max(f)]}i.layout.pack=function(){var f=i.layout.hierarchy().sort(tf),M=0,Y=[1,1],Q;function ne(ce,me){var ge=f.call(this,ce,me),Te=ge[0],Ee=Y[0],Fe=Y[1],Ke=Q==null?Math.sqrt:typeof Q=="function"?Q:function(){return Q};if(Te.x=Te.y=0,yi(Te,function(_t){_t.r=+Ke(_t.value)}),yi(Te,Tu),M){var Qe=M*(Q?1:Math.max(2*Te.r/Ee,2*Te.r/Fe))/2;yi(Te,function(_t){_t.r+=Qe}),yi(Te,Tu),yi(Te,function(_t){_t.r-=Qe})}return ku(Te,Ee/2,Fe/2,Q?1:1/Math.max(2*Te.r/Ee,2*Te.r/Fe)),ge}return ne.size=function(ce){return arguments.length?(Y=ce,ne):Y},ne.radius=function(ce){return arguments.length?(Q=ce==null||typeof ce=="function"?ce:+ce,ne):Q},ne.padding=function(ce){return arguments.length?(M=+ce,ne):M},uo(ne,f)};function tf(f,M){return f.value-M.value}function $l(f,M){var Y=f._pack_next;f._pack_next=M,M._pack_prev=f,M._pack_next=Y,Y._pack_prev=M}function Xl(f,M){f._pack_next=M,M._pack_prev=f}function Au(f,M){var Y=M.x-f.x,Q=M.y-f.y,ne=f.r+M.r;return .999*ne*ne>Y*Y+Q*Q}function Tu(f){if(!(M=f.children)||!(Qe=M.length))return;var M,Y=1/0,Q=-1/0,ne=1/0,ce=-1/0,me,ge,Te,Ee,Fe,Ke,Qe;function _t(gt){Y=Math.min(gt.x-gt.r,Y),Q=Math.max(gt.x+gt.r,Q),ne=Math.min(gt.y-gt.r,ne),ce=Math.max(gt.y+gt.r,ce)}if(M.forEach(rf),me=M[0],me.x=-me.r,me.y=0,_t(me),Qe>1&&(ge=M[1],ge.x=ge.r,ge.y=0,_t(ge),Qe>2))for(Te=M[2],Mu(me,ge,Te),_t(Te),$l(me,Te),me._pack_prev=Te,$l(Te,ge),ge=me._pack_next,Ee=3;Ee<Qe;Ee++){Mu(me,ge,Te=M[Ee]);var Ot=0,et=1,yt=1;for(Fe=ge._pack_next;Fe!==ge;Fe=Fe._pack_next,et++)if(Au(Fe,Te)){Ot=1;break}if(Ot==1)for(Ke=me._pack_prev;Ke!==Fe._pack_prev&&!Au(Ke,Te);Ke=Ke._pack_prev,yt++);Ot?(et<yt||et==yt&&ge.r<me.r?Xl(me,ge=Fe):Xl(me=Ke,ge),Ee--):($l(me,Te),ge=Te,_t(Te))}var bt=(Y+Q)/2,Mt=(ne+ce)/2,Lt=0;for(Ee=0;Ee<Qe;Ee++)Te=M[Ee],Te.x-=bt,Te.y-=Mt,Lt=Math.max(Lt,Te.r+Math.sqrt(Te.x*Te.x+Te.y*Te.y));f.r=Lt,M.forEach(nf)}function rf(f){f._pack_next=f._pack_prev=f}function nf(f){delete f._pack_next,delete f._pack_prev}function ku(f,M,Y,Q){var ne=f.children;if(f.x=M+=Q*f.x,f.y=Y+=Q*f.y,f.r*=Q,ne)for(var ce=-1,me=ne.length;++ce<me;)ku(ne[ce],M,Y,Q)}function Mu(f,M,Y){var Q=f.r+Y.r,ne=M.x-f.x,ce=M.y-f.y;if(Q&&(ne||ce)){var me=M.r+Y.r,ge=ne*ne+ce*ce;me*=me,Q*=Q;var Te=.5+(Q-me)/(2*ge),Ee=Math.sqrt(Math.max(0,2*me*(Q+ge)-(Q-=ge)*Q-me*me))/(2*ge);Y.x=f.x+Te*ne+Ee*ce,Y.y=f.y+Te*ce-Ee*ne}else Y.x=f.x+Q,Y.y=f.y}i.layout.tree=function(){var f=i.layout.hierarchy().sort(null).value(null),M=Su,Y=[1,1],Q=null;function ne(Fe,Ke){var Qe=f.call(this,Fe,Ke),_t=Qe[0],Ot=ce(_t);if(yi(Ot,me),Ot.parent.m=-Ot.z,co(Ot,ge),Q)co(_t,Ee);else{var et=_t,yt=_t,bt=_t;co(_t,function(Qt){Qt.x<et.x&&(et=Qt),Qt.x>yt.x&&(yt=Qt),Qt.depth>bt.depth&&(bt=Qt)});var Mt=M(et,yt)/2-et.x,Lt=Y[0]/(yt.x+M(yt,et)/2+Mt),gt=Y[1]/(bt.depth||1);co(_t,function(Qt){Qt.x=(Qt.x+Mt)*Lt,Qt.y=Qt.depth*gt})}return Qe}function ce(Fe){for(var Ke={A:null,children:[Fe]},Qe=[Ke],_t;(_t=Qe.pop())!=null;)for(var Ot=_t.children,et,yt=0,bt=Ot.length;yt<bt;++yt)Qe.push((Ot[yt]=et={_:Ot[yt],parent:_t,children:(et=Ot[yt].children)&&et.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:yt}).a=et);return Ke.children[0]}function me(Fe){var Ke=Fe.children,Qe=Fe.parent.children,_t=Fe.i?Qe[Fe.i-1]:null;if(Ke.length){Ou(Fe);var Ot=(Ke[0].z+Ke[Ke.length-1].z)/2;_t?(Fe.z=_t.z+M(Fe._,_t._),Fe.m=Fe.z-Ot):Fe.z=Ot}else _t&&(Fe.z=_t.z+M(Fe._,_t._));Fe.parent.A=Te(Fe,_t,Fe.parent.A||Qe[0])}function ge(Fe){Fe._.x=Fe.z+Fe.parent.m,Fe.m+=Fe.parent.m}function Te(Fe,Ke,Qe){if(Ke){for(var _t=Fe,Ot=Fe,et=Ke,yt=_t.parent.children[0],bt=_t.m,Mt=Ot.m,Lt=et.m,gt=yt.m,Qt;et=es(et),_t=Ql(_t),et&&_t;)yt=Ql(yt),Ot=es(Ot),Ot.a=Fe,Qt=et.z+Lt-_t.z-bt+M(et._,_t._),Qt>0&&(_i(af(et,Fe,Qe),Fe,Qt),bt+=Qt,Mt+=Qt),Lt+=et.m,bt+=_t.m,gt+=yt.m,Mt+=Ot.m;et&&!es(Ot)&&(Ot.t=et,Ot.m+=Lt-Mt),_t&&!Ql(yt)&&(yt.t=_t,yt.m+=bt-gt,Qe=Fe)}return Qe}function Ee(Fe){Fe.x*=Y[0],Fe.y=Fe.depth*Y[1]}return ne.separation=function(Fe){return arguments.length?(M=Fe,ne):M},ne.size=function(Fe){return arguments.length?(Q=(Y=Fe)==null?Ee:null,ne):Q?null:Y},ne.nodeSize=function(Fe){return arguments.length?(Q=(Y=Fe)==null?null:Ee,ne):Q?Y:null},uo(ne,f)};function Su(f,M){return f.parent==M.parent?1:2}function Ql(f){var M=f.children;return M.length?M[0]:f.t}function es(f){var M=f.children,Y;return(Y=M.length)?M[Y-1]:f.t}function _i(f,M,Y){var Q=Y/(M.i-f.i);M.c-=Q,M.s+=Y,f.c+=Q,M.z+=Y,M.m+=Y}function Ou(f){for(var M=0,Y=0,Q=f.children,ne=Q.length,ce;--ne>=0;)ce=Q[ne],ce.z+=M,ce.m+=M,M+=ce.s+(Y+=ce.c)}function af(f,M,Y){return f.a.parent===M.parent?f.a:Y}i.layout.cluster=function(){var f=i.layout.hierarchy().sort(null).value(null),M=Su,Y=[1,1],Q=!1;function ne(ce,me){var ge=f.call(this,ce,me),Te=ge[0],Ee,Fe=0;yi(Te,function(et){var yt=et.children;yt&&yt.length?(et.x=lf(yt),et.y=of(yt)):(et.x=Ee?Fe+=M(et,Ee):0,et.y=0,Ee=et)});var Ke=Lu(Te),Qe=Cu(Te),_t=Ke.x-M(Ke,Qe)/2,Ot=Qe.x+M(Qe,Ke)/2;return yi(Te,Q?function(et){et.x=(et.x-Te.x)*Y[0],et.y=(Te.y-et.y)*Y[1]}:function(et){et.x=(et.x-_t)/(Ot-_t)*Y[0],et.y=(1-(Te.y?et.y/Te.y:1))*Y[1]}),ge}return ne.separation=function(ce){return arguments.length?(M=ce,ne):M},ne.size=function(ce){return arguments.length?(Q=(Y=ce)==null,ne):Q?null:Y},ne.nodeSize=function(ce){return arguments.length?(Q=(Y=ce)!=null,ne):Q?Y:null},uo(ne,f)};function of(f){return 1+i.max(f,function(M){return M.y})}function lf(f){return f.reduce(function(M,Y){return M+Y.x},0)/f.length}function Lu(f){var M=f.children;return M&&M.length?Lu(M[0]):f}function Cu(f){var M=f.children,Y;return M&&(Y=M.length)?Cu(M[Y-1]):f}i.layout.treemap=function(){var f=i.layout.hierarchy(),M=Math.round,Y=[1,1],Q=null,ne=ts,ce=!1,me,ge="squarify",Te=.5*(1+Math.sqrt(5));function Ee(et,yt){for(var bt=-1,Mt=et.length,Lt,gt;++bt<Mt;)gt=(Lt=et[bt]).value*(yt<0?0:yt),Lt.area=isNaN(gt)||gt<=0?0:gt}function Fe(et){var yt=et.children;if(yt&&yt.length){var bt=ne(et),Mt=[],Lt=yt.slice(),gt,Qt=1/0,pr,Tr=ge==="slice"?bt.dx:ge==="dice"?bt.dy:ge==="slice-dice"?et.depth&1?bt.dy:bt.dx:Math.min(bt.dx,bt.dy),Pr;for(Ee(Lt,bt.dx*bt.dy/et.value),Mt.area=0;(Pr=Lt.length)>0;)Mt.push(gt=Lt[Pr-1]),Mt.area+=gt.area,ge!=="squarify"||(pr=Qe(Mt,Tr))<=Qt?(Lt.pop(),Qt=pr):(Mt.area-=Mt.pop().area,_t(Mt,Tr,bt,!1),Tr=Math.min(bt.dx,bt.dy),Mt.length=Mt.area=0,Qt=1/0);Mt.length&&(_t(Mt,Tr,bt,!0),Mt.length=Mt.area=0),yt.forEach(Fe)}}function Ke(et){var yt=et.children;if(yt&&yt.length){var bt=ne(et),Mt=yt.slice(),Lt,gt=[];for(Ee(Mt,bt.dx*bt.dy/et.value),gt.area=0;Lt=Mt.pop();)gt.push(Lt),gt.area+=Lt.area,Lt.z!=null&&(_t(gt,Lt.z?bt.dx:bt.dy,bt,!Mt.length),gt.length=gt.area=0);yt.forEach(Ke)}}function Qe(et,yt){for(var bt=et.area,Mt,Lt=0,gt=1/0,Qt=-1,pr=et.length;++Qt<pr;)(Mt=et[Qt].area)&&(Mt<gt&&(gt=Mt),Mt>Lt&&(Lt=Mt));return bt*=bt,yt*=yt,bt?Math.max(yt*Lt*Te/bt,bt/(yt*gt*Te)):1/0}function _t(et,yt,bt,Mt){var Lt=-1,gt=et.length,Qt=bt.x,pr=bt.y,Tr=yt?M(et.area/yt):0,Pr;if(yt==bt.dx){for((Mt||Tr>bt.dy)&&(Tr=bt.dy);++Lt<gt;)Pr=et[Lt],Pr.x=Qt,Pr.y=pr,Pr.dy=Tr,Qt+=Pr.dx=Math.min(bt.x+bt.dx-Qt,Tr?M(Pr.area/Tr):0);Pr.z=!0,Pr.dx+=bt.x+bt.dx-Qt,bt.y+=Tr,bt.dy-=Tr}else{for((Mt||Tr>bt.dx)&&(Tr=bt.dx);++Lt<gt;)Pr=et[Lt],Pr.x=Qt,Pr.y=pr,Pr.dx=Tr,pr+=Pr.dy=Math.min(bt.y+bt.dy-pr,Tr?M(Pr.area/Tr):0);Pr.z=!1,Pr.dy+=bt.y+bt.dy-pr,bt.x+=Tr,bt.dx-=Tr}}function Ot(et){var yt=me||f(et),bt=yt[0];return bt.x=bt.y=0,bt.value?(bt.dx=Y[0],bt.dy=Y[1]):bt.dx=bt.dy=0,me&&f.revalue(bt),Ee([bt],bt.dx*bt.dy/bt.value),(me?Ke:Fe)(bt),ce&&(me=yt),yt}return Ot.size=function(et){return arguments.length?(Y=et,Ot):Y},Ot.padding=function(et){if(!arguments.length)return Q;function yt(Lt){var gt=et.call(Ot,Lt,Lt.depth);return gt==null?ts(Lt):Du(Lt,typeof gt=="number"?[gt,gt,gt,gt]:gt)}function bt(Lt){return Du(Lt,et)}var Mt;return ne=(Q=et)==null?ts:(Mt=typeof et)=="function"?yt:(Mt==="number"&&(et=[et,et,et,et]),bt),Ot},Ot.round=function(et){return arguments.length?(M=et?Math.round:Number,Ot):M!=Number},Ot.sticky=function(et){return arguments.length?(ce=et,me=null,Ot):ce},Ot.ratio=function(et){return arguments.length?(Te=et,Ot):Te},Ot.mode=function(et){return arguments.length?(ge=et+"",Ot):ge},uo(Ot,f)};function ts(f){return{x:f.x,y:f.y,dx:f.dx,dy:f.dy}}function Du(f,M){var Y=f.x+M[3],Q=f.y+M[0],ne=f.dx-M[1]-M[3],ce=f.dy-M[0]-M[2];return ne<0&&(Y+=ne/2,ne=0),ce<0&&(Q+=ce/2,ce=0),{x:Y,y:Q,dx:ne,dy:ce}}i.random={normal:function(f,M){var Y=arguments.length;return Y<2&&(M=1),Y<1&&(f=0),function(){var Q,ne,ce;do Q=Math.random()*2-1,ne=Math.random()*2-1,ce=Q*Q+ne*ne;while(!ce||ce>1);return f+M*Q*Math.sqrt(-2*Math.log(ce)/ce)}},logNormal:function(){var f=i.random.normal.apply(i,arguments);return function(){return Math.exp(f())}},bates:function(f){var M=i.random.irwinHall(f);return function(){return M()/f}},irwinHall:function(f){return function(){for(var M=0,Y=0;Y<f;Y++)M+=Math.random();return M}}},i.scale={};function al(f){var M=f[0],Y=f[f.length-1];return M<Y?[M,Y]:[Y,M]}function Sa(f){return f.rangeExtent?f.rangeExtent():al(f.range())}function ho(f,M,Y,Q){var ne=Y(f[0],f[1]),ce=Q(M[0],M[1]);return function(me){return ce(ne(me))}}function Ni(f,M){var Y=0,Q=f.length-1,ne=f[Y],ce=f[Q],me;return ce<ne&&(me=Y,Y=Q,Q=me,me=ne,ne=ce,ce=me),f[Y]=M.floor(ne),f[Q]=M.ceil(ce),f}function Eu(f){return f?{floor:function(M){return Math.floor(M/f)*f},ceil:function(M){return Math.ceil(M/f)*f}}:po}var po={floor:G,ceil:G};function Pu(f,M,Y,Q){var ne=[],ce=[],me=0,ge=Math.min(f.length,M.length)-1;for(f[ge]<f[0]&&(f=f.slice().reverse(),M=M.slice().reverse());++me<=ge;)ne.push(Y(f[me-1],f[me])),ce.push(Q(M[me-1],M[me]));return function(Te){var Ee=i.bisect(f,Te,1,ge)-1;return ce[Ee](ne[Ee](Te))}}i.scale.linear=function(){return Yi([0,1],[0,1],Ha,!1)};function Yi(f,M,Y,Q){var ne,ce;function me(){var Te=Math.min(f.length,M.length)>2?Pu:ho,Ee=Q?hu:du;return ne=Te(f,M,Ee,Y),ce=Te(M,f,Ee,Ha),ge}function ge(Te){return ne(Te)}return ge.invert=function(Te){return ce(Te)},ge.domain=function(Te){return arguments.length?(f=Te.map(Number),me()):f},ge.range=function(Te){return arguments.length?(M=Te,me()):M},ge.rangeRound=function(Te){return ge.range(Te).interpolate(Vl)},ge.clamp=function(Te){return arguments.length?(Q=Te,me()):Q},ge.interpolate=function(Te){return arguments.length?(Y=Te,me()):Y},ge.ticks=function(Te){return Io(f,Te)},ge.tickFormat=function(Te,Ee){return d3_scale_linearTickFormat(f,Te,Ee)},ge.nice=function(Te){return ol(f,Te),me()},ge.copy=function(){return Yi(f,M,Y,Q)},me()}function il(f,M){return i.rebind(f,M,"range","rangeRound","interpolate","clamp")}function ol(f,M){return Ni(f,Eu(Fo(f,M)[2])),Ni(f,Eu(Fo(f,M)[2])),f}function Fo(f,M){M==null&&(M=10);var Y=al(f),Q=Y[1]-Y[0],ne=Math.pow(10,Math.floor(Math.log(Q/M)/Math.LN10)),ce=M/Q*ne;return ce<=.15?ne*=10:ce<=.35?ne*=5:ce<=.75&&(ne*=2),Y[0]=Math.ceil(Y[0]/ne)*ne,Y[1]=Math.floor(Y[1]/ne)*ne+ne*.5,Y[2]=ne,Y}function Io(f,M){return i.range.apply(i,Fo(f,M))}i.scale.log=function(){return ll(i.scale.linear().domain([0,1]),10,!0,[1,10])};function ll(f,M,Y,Q){function ne(ge){return(Y?Math.log(ge<0?0:ge):-Math.log(ge>0?0:-ge))/Math.log(M)}function ce(ge){return Y?Math.pow(M,ge):-Math.pow(M,-ge)}function me(ge){return f(ne(ge))}return me.invert=function(ge){return ce(f.invert(ge))},me.domain=function(ge){return arguments.length?(Y=ge[0]>=0,f.domain((Q=ge.map(Number)).map(ne)),me):Q},me.base=function(ge){return arguments.length?(M=+ge,f.domain(Q.map(ne)),me):M},me.nice=function(){var ge=Ni(Q.map(ne),Y?Math:sl);return f.domain(ge),Q=ge.map(ce),me},me.ticks=function(){var ge=al(Q),Te=[],Ee=ge[0],Fe=ge[1],Ke=Math.floor(ne(Ee)),Qe=Math.ceil(ne(Fe)),_t=M%1?2:M;if(isFinite(Qe-Ke)){if(Y){for(;Ke<Qe;Ke++)for(var Ot=1;Ot<_t;Ot++)Te.push(ce(Ke)*Ot);Te.push(ce(Ke))}else for(Te.push(ce(Ke));Ke++<Qe;)for(var Ot=_t-1;Ot>0;Ot--)Te.push(ce(Ke)*Ot);for(Ke=0;Te[Ke]<Ee;Ke++);for(Qe=Te.length;Te[Qe-1]>Fe;Qe--);Te=Te.slice(Ke,Qe)}return Te},me.copy=function(){return ll(f.copy(),M,Y,Q)},il(me,f)}var sl={floor:function(f){return-Math.ceil(-f)},ceil:function(f){return-Math.floor(-f)}};i.scale.pow=function(){return rs(i.scale.linear(),1,[0,1])};function rs(f,M,Y){var Q=No(M),ne=No(1/M);function ce(me){return f(Q(me))}return ce.invert=function(me){return ne(f.invert(me))},ce.domain=function(me){return arguments.length?(f.domain((Y=me.map(Number)).map(Q)),ce):Y},ce.ticks=function(me){return Io(Y,me)},ce.tickFormat=function(me,ge){return d3_scale_linearTickFormat(Y,me,ge)},ce.nice=function(me){return ce.domain(ol(Y,me))},ce.exponent=function(me){return arguments.length?(Q=No(M=me),ne=No(1/M),f.domain(Y.map(Q)),ce):M},ce.copy=function(){return rs(f.copy(),M,Y)},il(ce,f)}function No(f){return function(M){return M<0?-Math.pow(-M,f):Math.pow(M,f)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return ns([],{t:"range",a:[[]]})};function ns(f,M){var Y,Q,ne;function ce(ge){return Q[((Y.get(ge)||(M.t==="range"?Y.set(ge,f.push(ge)):NaN))-1)%Q.length]}function me(ge,Te){return i.range(f.length).map(function(Ee){return ge+Te*Ee})}return ce.domain=function(ge){if(!arguments.length)return f;f=[],Y=new _;for(var Te=-1,Ee=ge.length,Fe;++Te<Ee;)Y.has(Fe=ge[Te])||Y.set(Fe,f.push(Fe));return ce[M.t].apply(ce,M.a)},ce.range=function(ge){return arguments.length?(Q=ge,ne=0,M={t:"range",a:arguments},ce):Q},ce.rangePoints=function(ge,Te){arguments.length<2&&(Te=0);var Ee=ge[0],Fe=ge[1],Ke=f.length<2?(Ee=(Ee+Fe)/2,0):(Fe-Ee)/(f.length-1+Te);return Q=me(Ee+Ke*Te/2,Ke),ne=0,M={t:"rangePoints",a:arguments},ce},ce.rangeRoundPoints=function(ge,Te){arguments.length<2&&(Te=0);var Ee=ge[0],Fe=ge[1],Ke=f.length<2?(Ee=Fe=Math.round((Ee+Fe)/2),0):(Fe-Ee)/(f.length-1+Te)|0;return Q=me(Ee+Math.round(Ke*Te/2+(Fe-Ee-(f.length-1+Te)*Ke)/2),Ke),ne=0,M={t:"rangeRoundPoints",a:arguments},ce},ce.rangeBands=function(ge,Te,Ee){arguments.length<2&&(Te=0),arguments.length<3&&(Ee=Te);var Fe=ge[1]<ge[0],Ke=ge[Fe-0],Qe=ge[1-Fe],_t=(Qe-Ke)/(f.length-Te+2*Ee);return Q=me(Ke+_t*Ee,_t),Fe&&Q.reverse(),ne=_t*(1-Te),M={t:"rangeBands",a:arguments},ce},ce.rangeRoundBands=function(ge,Te,Ee){arguments.length<2&&(Te=0),arguments.length<3&&(Ee=Te);var Fe=ge[1]<ge[0],Ke=ge[Fe-0],Qe=ge[1-Fe],_t=Math.floor((Qe-Ke)/(f.length-Te+2*Ee));return Q=me(Ke+Math.round((Qe-Ke-(f.length-Te)*_t)/2),_t),Fe&&Q.reverse(),ne=Math.round(_t*(1-Te)),M={t:"rangeRoundBands",a:arguments},ce},ce.rangeBand=function(){return ne},ce.rangeExtent=function(){return al(M.a[0])},ce.copy=function(){return ns(f,M)},ce.domain(f)}i.scale.category10=function(){return i.scale.ordinal().range(Fu)},i.scale.category20=function(){return i.scale.ordinal().range(Iu)},i.scale.category20b=function(){return i.scale.ordinal().range(as)},i.scale.category20c=function(){return i.scale.ordinal().range(is)};var Fu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(We),Iu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(We),as=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(We),is=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(We);i.scale.quantile=function(){return os([],[])};function os(f,M){var Y;function Q(){var ce=0,me=M.length;for(Y=[];++ce<me;)Y[ce-1]=i.quantile(f,ce/me);return ne}function ne(ce){if(!isNaN(ce=+ce))return M[i.bisect(Y,ce)]}return ne.domain=function(ce){return arguments.length?(f=ce.map(g).filter(v).sort(d),Q()):f},ne.range=function(ce){return arguments.length?(M=ce,Q()):M},ne.quantiles=function(){return Y},ne.invertExtent=function(ce){return ce=M.indexOf(ce),ce<0?[NaN,NaN]:[ce>0?Y[ce-1]:f[0],ce<Y.length?Y[ce]:f[f.length-1]]},ne.copy=function(){return os(f,M)},Q()}i.scale.quantize=function(){return ls(0,1,[0,1])};function ls(f,M,Y){var Q,ne;function ce(ge){return Y[Math.max(0,Math.min(ne,Math.floor(Q*(ge-f))))]}function me(){return Q=Y.length/(M-f),ne=Y.length-1,ce}return ce.domain=function(ge){return arguments.length?(f=+ge[0],M=+ge[ge.length-1],me()):[f,M]},ce.range=function(ge){return arguments.length?(Y=ge,me()):Y},ce.invertExtent=function(ge){return ge=Y.indexOf(ge),ge=ge<0?NaN:ge/Q+f,[ge,ge+1/Q]},ce.copy=function(){return ls(f,M,Y)},me()}i.scale.threshold=function(){return ss([.5],[0,1])};function ss(f,M){function Y(Q){if(Q<=Q)return M[i.bisect(f,Q)]}return Y.domain=function(Q){return arguments.length?(f=Q,Y):f},Y.range=function(Q){return arguments.length?(M=Q,Y):M},Y.invertExtent=function(Q){return Q=M.indexOf(Q),[f[Q-1],f[Q]]},Y.copy=function(){return ss(f,M)},Y}i.scale.identity=function(){return us([0,1])};function us(f){function M(Y){return+Y}return M.invert=M,M.domain=M.range=function(Y){return arguments.length?(f=Y.map(M),M):f},M.ticks=function(Y){return Io(f,Y)},M.tickFormat=function(Y,Q){return d3_scale_linearTickFormat(f,Y,Q)},M.copy=function(){return us(f)},M}i.svg={};function cs(){return 0}i.svg.arc=function(){var f=Nu,M=fs,Y=cs,Q=Ro,ne=ul,ce=ds,me=hs;function ge(){var Ee=Math.max(0,+f.apply(this,arguments)),Fe=Math.max(0,+M.apply(this,arguments)),Ke=ne.apply(this,arguments)-Se,Qe=ce.apply(this,arguments)-Se,_t=Math.abs(Qe-Ke),Ot=Ke>Qe?0:1;if(Fe<Ee&&(et=Fe,Fe=Ee,Ee=et),_t>=we)return Te(Fe,Ot)+(Ee?Te(Ee,1-Ot):"")+"Z";var et,yt,bt,Mt,Lt=0,gt=0,Qt,pr,Tr,Pr,qr,Wr,bn,Xr,vn=[];if((Mt=(+me.apply(this,arguments)||0)/2)&&(bt=Q===Ro?Math.sqrt(Ee*Ee+Fe*Fe):+Q.apply(this,arguments),Ot||(gt*=-1),Fe&&(gt=nt(bt/Fe*Math.sin(Mt))),Ee&&(Lt=nt(bt/Ee*Math.sin(Mt)))),Fe){Qt=Fe*Math.cos(Ke+gt),pr=Fe*Math.sin(Ke+gt),Tr=Fe*Math.cos(Qe-gt),Pr=Fe*Math.sin(Qe-gt);var Gn=Math.abs(Qe-Ke-2*gt)<=ie?0:1;if(gt&&jo(Qt,pr,Tr,Pr)===Ot^Gn){var Aa=(Ke+Qe)/2;Qt=Fe*Math.cos(Aa),pr=Fe*Math.sin(Aa),Tr=Pr=null}}else Qt=pr=0;if(Ee){qr=Ee*Math.cos(Qe-Lt),Wr=Ee*Math.sin(Qe-Lt),bn=Ee*Math.cos(Ke+Lt),Xr=Ee*Math.sin(Ke+Lt);var Qn=Math.abs(Ke-Qe+2*Lt)<=ie?0:1;if(Lt&&jo(qr,Wr,bn,Xr)===1-Ot^Qn){var Cr=(Ke+Qe)/2;qr=Ee*Math.cos(Cr),Wr=Ee*Math.sin(Cr),bn=Xr=null}}else qr=Wr=0;if(_t>De&&(et=Math.min(Math.abs(Fe-Ee)/2,+Y.apply(this,arguments)))>.001){yt=Ee<Fe^Ot?0:1;var _n=et,On=et;if(_t<ie){var Hn=bn==null?[qr,Wr]:Tr==null?[Qt,pr]:ya([Qt,pr],[bn,Xr],[Tr,Pr],[qr,Wr]),ha=Qt-Hn[0],Oa=pr-Hn[1],Ra=Tr-Hn[0],Va=Pr-Hn[1],$a=1/Math.sin(Math.acos((ha*Ra+Oa*Va)/(Math.sqrt(ha*ha+Oa*Oa)*Math.sqrt(Ra*Ra+Va*Va)))/2),Oe=Math.sqrt(Hn[0]*Hn[0]+Hn[1]*Hn[1]);On=Math.min(et,(Ee-Oe)/($a-1)),_n=Math.min(et,(Fe-Oe)/($a+1))}if(Tr!=null){var it=zo(bn==null?[qr,Wr]:[bn,Xr],[Qt,pr],Fe,_n,Ot),dt=zo([Tr,Pr],[qr,Wr],Fe,_n,Ot);et===_n?vn.push("M",it[0],"A",_n,",",_n," 0 0,",yt," ",it[1],"A",Fe,",",Fe," 0 ",1-Ot^jo(it[1][0],it[1][1],dt[1][0],dt[1][1]),",",Ot," ",dt[1],"A",_n,",",_n," 0 0,",yt," ",dt[0]):vn.push("M",it[0],"A",_n,",",_n," 0 1,",yt," ",dt[0])}else vn.push("M",Qt,",",pr);if(bn!=null){var Vt=zo([Qt,pr],[bn,Xr],Ee,-On,Ot),lr=zo([qr,Wr],Tr==null?[Qt,pr]:[Tr,Pr],Ee,-On,Ot);et===On?vn.push("L",lr[0],"A",On,",",On," 0 0,",yt," ",lr[1],"A",Ee,",",Ee," 0 ",Ot^jo(lr[1][0],lr[1][1],Vt[1][0],Vt[1][1]),",",1-Ot," ",Vt[1],"A",On,",",On," 0 0,",yt," ",Vt[0]):vn.push("L",lr[0],"A",On,",",On," 0 0,",yt," ",Vt[0])}else vn.push("L",qr,",",Wr)}else vn.push("M",Qt,",",pr),Tr!=null&&vn.push("A",Fe,",",Fe," 0 ",Gn,",",Ot," ",Tr,",",Pr),vn.push("L",qr,",",Wr),bn!=null&&vn.push("A",Ee,",",Ee," 0 ",Qn,",",1-Ot," ",bn,",",Xr);return vn.push("Z"),vn.join("")}function Te(Ee,Fe){return"M0,"+Ee+"A"+Ee+","+Ee+" 0 1,"+Fe+" 0,"+-Ee+"A"+Ee+","+Ee+" 0 1,"+Fe+" 0,"+Ee}return ge.innerRadius=function(Ee){return arguments.length?(f=kt(Ee),ge):f},ge.outerRadius=function(Ee){return arguments.length?(M=kt(Ee),ge):M},ge.cornerRadius=function(Ee){return arguments.length?(Y=kt(Ee),ge):Y},ge.padRadius=function(Ee){return arguments.length?(Q=Ee==Ro?Ro:kt(Ee),ge):Q},ge.startAngle=function(Ee){return arguments.length?(ne=kt(Ee),ge):ne},ge.endAngle=function(Ee){return arguments.length?(ce=kt(Ee),ge):ce},ge.padAngle=function(Ee){return arguments.length?(me=kt(Ee),ge):me},ge.centroid=function(){var Ee=(+f.apply(this,arguments)+ +M.apply(this,arguments))/2,Fe=(+ne.apply(this,arguments)+ +ce.apply(this,arguments))/2-Se;return[Math.cos(Fe)*Ee,Math.sin(Fe)*Ee]},ge};var Ro="auto";function Nu(f){return f.innerRadius}function fs(f){return f.outerRadius}function ul(f){return f.startAngle}function ds(f){return f.endAngle}function hs(f){return f&&f.padAngle}function jo(f,M,Y,Q){return(f-Y)*M-(M-Q)*f>0?0:1}function zo(f,M,Y,Q,ne){var ce=f[0]-M[0],me=f[1]-M[1],ge=(ne?Q:-Q)/Math.sqrt(ce*ce+me*me),Te=ge*me,Ee=-ge*ce,Fe=f[0]+Te,Ke=f[1]+Ee,Qe=M[0]+Te,_t=M[1]+Ee,Ot=(Fe+Qe)/2,et=(Ke+_t)/2,yt=Qe-Fe,bt=_t-Ke,Mt=yt*yt+bt*bt,Lt=Y-Q,gt=Fe*_t-Qe*Ke,Qt=(bt<0?-1:1)*Math.sqrt(Math.max(0,Lt*Lt*Mt-gt*gt)),pr=(gt*bt-yt*Qt)/Mt,Tr=(-gt*yt-bt*Qt)/Mt,Pr=(gt*bt+yt*Qt)/Mt,qr=(-gt*yt+bt*Qt)/Mt,Wr=pr-Ot,bn=Tr-et,Xr=Pr-Ot,vn=qr-et;return Wr*Wr+bn*bn>Xr*Xr+vn*vn&&(pr=Pr,Tr=qr),[[pr-Te,Tr-Ee],[pr*Y/Lt,Tr*Y/Lt]]}function cl(){return!0}function ps(f){var M=aa,Y=oa,Q=cl,ne=li,ce=ne.key,me=.7;function ge(Te){var Ee=[],Fe=[],Ke=-1,Qe=Te.length,_t,Ot=kt(M),et=kt(Y);function yt(){Ee.push("M",ne(f(Fe),me))}for(;++Ke<Qe;)Q.call(this,_t=Te[Ke],Ke)?Fe.push([+Ot.call(this,_t,Ke),+et.call(this,_t,Ke)]):Fe.length&&(yt(),Fe=[]);return Fe.length&&yt(),Ee.length?Ee.join(""):null}return ge.x=function(Te){return arguments.length?(M=Te,ge):M},ge.y=function(Te){return arguments.length?(Y=Te,ge):Y},ge.defined=function(Te){return arguments.length?(Q=Te,ge):Q},ge.interpolate=function(Te){return arguments.length?(typeof Te=="function"?ce=ne=Te:ce=(ne=fl.get(Te)||li).key,ge):ce},ge.tension=function(Te){return arguments.length?(me=Te,ge):me},ge}i.svg.line=function(){return ps(G)};var fl=i.map({linear:li,"linear-closed":dl,step:Bo,"step-before":hl,"step-after":go,basis:Ji,"basis-open":mo,"basis-closed":xo,bundle:gs,cardinal:yo,"cardinal-open":Si,"cardinal-closed":pl,monotone:Ru});fl.forEach(function(f,M){M.key=f,M.closed=/-closed$/.test(f)});function li(f){return f.length>1?f.join("L"):f+"Z"}function dl(f){return f.join("L")+"Z"}function Bo(f){for(var M=0,Y=f.length,Q=f[0],ne=[Q[0],",",Q[1]];++M<Y;)ne.push("H",(Q[0]+(Q=f[M])[0])/2,"V",Q[1]);return Y>1&&ne.push("H",Q[0]),ne.join("")}function hl(f){for(var M=0,Y=f.length,Q=f[0],ne=[Q[0],",",Q[1]];++M<Y;)ne.push("V",(Q=f[M])[1],"H",Q[0]);return ne.join("")}function go(f){for(var M=0,Y=f.length,Q=f[0],ne=[Q[0],",",Q[1]];++M<Y;)ne.push("H",(Q=f[M])[0],"V",Q[1]);return ne.join("")}function Si(f,M){return f.length<4?li(f):f[1]+Gi(f.slice(1,-1),vo(f,M))}function pl(f,M){return f.length<3?dl(f):f[0]+Gi((f.push(f[0]),f),vo([f[f.length-2]].concat(f,[f[1]]),M))}function yo(f,M){return f.length<3?li(f):f[0]+Gi(f,vo(f,M))}function Gi(f,M){if(M.length<1||f.length!=M.length&&f.length!=M.length+2)return li(f);var Y=f.length!=M.length,Q="",ne=f[0],ce=f[1],me=M[0],ge=me,Te=1;if(Y&&(Q+="Q"+(ce[0]-me[0]*2/3)+","+(ce[1]-me[1]*2/3)+","+ce[0]+","+ce[1],ne=f[1],Te=2),M.length>1){ge=M[1],ce=f[Te],Te++,Q+="C"+(ne[0]+me[0])+","+(ne[1]+me[1])+","+(ce[0]-ge[0])+","+(ce[1]-ge[1])+","+ce[0]+","+ce[1];for(var Ee=2;Ee<M.length;Ee++,Te++)ce=f[Te],ge=M[Ee],Q+="S"+(ce[0]-ge[0])+","+(ce[1]-ge[1])+","+ce[0]+","+ce[1]}if(Y){var Fe=f[Te];Q+="Q"+(ce[0]+ge[0]*2/3)+","+(ce[1]+ge[1]*2/3)+","+Fe[0]+","+Fe[1]}return Q}function vo(f,M){for(var Y=[],Q=(1-M)/2,ne,ce=f[0],me=f[1],ge=1,Te=f.length;++ge<Te;)ne=ce,ce=me,me=f[ge],Y.push([Q*(me[0]-ne[0]),Q*(me[1]-ne[1])]);return Y}function Ji(f){if(f.length<3)return li(f);var M=1,Y=f.length,Q=f[0],ne=Q[0],ce=Q[1],me=[ne,ne,ne,(Q=f[1])[0]],ge=[ce,ce,ce,Q[1]],Te=[ne,",",ce,"L",ni(wi,me),",",ni(wi,ge)];for(f.push(f[Y-1]);++M<=Y;)Q=f[M],me.shift(),me.push(Q[0]),ge.shift(),ge.push(Q[1]),Ri(Te,me,ge);return f.pop(),Te.push("L",Q),Te.join("")}function mo(f){if(f.length<4)return li(f);for(var M=[],Y=-1,Q=f.length,ne,ce=[0],me=[0];++Y<3;)ne=f[Y],ce.push(ne[0]),me.push(ne[1]);for(M.push(ni(wi,ce)+","+ni(wi,me)),--Y;++Y<Q;)ne=f[Y],ce.shift(),ce.push(ne[0]),me.shift(),me.push(ne[1]),Ri(M,ce,me);return M.join("")}function xo(f){for(var M,Y=-1,Q=f.length,ne=Q+4,ce,me=[],ge=[];++Y<4;)ce=f[Y%Q],me.push(ce[0]),ge.push(ce[1]);for(M=[ni(wi,me),",",ni(wi,ge)],--Y;++Y<ne;)ce=f[Y%Q],me.shift(),me.push(ce[0]),ge.shift(),ge.push(ce[1]),Ri(M,me,ge);return M.join("")}function gs(f,M){var Y=f.length-1;if(Y)for(var Q=f[0][0],ne=f[0][1],ce=f[Y][0]-Q,me=f[Y][1]-ne,ge=-1,Te,Ee;++ge<=Y;)Te=f[ge],Ee=ge/Y,Te[0]=M*Te[0]+(1-M)*(Q+Ee*ce),Te[1]=M*Te[1]+(1-M)*(ne+Ee*me);return Ji(f)}function ni(f,M){return f[0]*M[0]+f[1]*M[1]+f[2]*M[2]+f[3]*M[3]}var Uo=[0,2/3,1/3,0],gl=[0,1/3,2/3,0],wi=[0,1/6,2/3,1/6];function Ri(f,M,Y){f.push("C",ni(Uo,M),",",ni(Uo,Y),",",ni(gl,M),",",ni(gl,Y),",",ni(wi,M),",",ni(wi,Y))}function ji(f,M){return(M[1]-f[1])/(M[0]-f[0])}function sf(f){for(var M=0,Y=f.length-1,Q=[],ne=f[0],ce=f[1],me=Q[0]=ji(ne,ce);++M<Y;)Q[M]=(me+(me=ji(ne=ce,ce=f[M+1])))/2;return Q[M]=me,Q}function uf(f){for(var M=[],Y,Q,ne,ce,me=sf(f),ge=-1,Te=f.length-1;++ge<Te;)Y=ji(f[ge],f[ge+1]),c(Y)<De?me[ge]=me[ge+1]=0:(Q=me[ge]/Y,ne=me[ge+1]/Y,ce=Q*Q+ne*ne,ce>9&&(ce=Y*3/Math.sqrt(ce),me[ge]=ce*Q,me[ge+1]=ce*ne));for(ge=-1;++ge<=Te;)ce=(f[Math.min(Te,ge+1)][0]-f[Math.max(0,ge-1)][0])/(6*(1+me[ge]*me[ge])),M.push([ce||0,me[ge]*ce||0]);return M}function Ru(f){return f.length<3?li(f):f[0]+Gi(f,uf(f))}i.svg.line.radial=function(){var f=ps(ys);return f.radius=f.x,delete f.x,f.angle=f.y,delete f.y,f};function ys(f){for(var M,Y=-1,Q=f.length,ne,ce;++Y<Q;)M=f[Y],ne=M[0],ce=M[1]-Se,M[0]=ne*Math.cos(ce),M[1]=ne*Math.sin(ce);return f}function vs(f){var M=aa,Y=aa,Q=0,ne=oa,ce=cl,me=li,ge=me.key,Te=me,Ee="L",Fe=.7;function Ke(Qe){var _t=[],Ot=[],et=[],yt=-1,bt=Qe.length,Mt,Lt=kt(M),gt=kt(Q),Qt=M===Y?function(){return Tr}:kt(Y),pr=Q===ne?function(){return Pr}:kt(ne),Tr,Pr;function qr(){_t.push("M",me(f(et),Fe),Ee,Te(f(Ot.reverse()),Fe),"Z")}for(;++yt<bt;)ce.call(this,Mt=Qe[yt],yt)?(Ot.push([Tr=+Lt.call(this,Mt,yt),Pr=+gt.call(this,Mt,yt)]),et.push([+Qt.call(this,Mt,yt),+pr.call(this,Mt,yt)])):Ot.length&&(qr(),Ot=[],et=[]);return Ot.length&&qr(),_t.length?_t.join(""):null}return Ke.x=function(Qe){return arguments.length?(M=Y=Qe,Ke):Y},Ke.x0=function(Qe){return arguments.length?(M=Qe,Ke):M},Ke.x1=function(Qe){return arguments.length?(Y=Qe,Ke):Y},Ke.y=function(Qe){return arguments.length?(Q=ne=Qe,Ke):ne},Ke.y0=function(Qe){return arguments.length?(Q=Qe,Ke):Q},Ke.y1=function(Qe){return arguments.length?(ne=Qe,Ke):ne},Ke.defined=function(Qe){return arguments.length?(ce=Qe,Ke):ce},Ke.interpolate=function(Qe){return arguments.length?(typeof Qe=="function"?ge=me=Qe:ge=(me=fl.get(Qe)||li).key,Te=me.reverse||me,Ee=me.closed?"M":"L",Ke):ge},Ke.tension=function(Qe){return arguments.length?(Fe=Qe,Ke):Fe},Ke}hl.reverse=go,go.reverse=hl,i.svg.area=function(){return vs(G)},i.svg.area.radial=function(){var f=vs(ys);return f.radius=f.x,delete f.x,f.innerRadius=f.x0,delete f.x0,f.outerRadius=f.x1,delete f.x1,f.angle=f.y,delete f.y,f.startAngle=f.y0,delete f.y0,f.endAngle=f.y1,delete f.y1,f};function ju(f){return f.source}function Zi(f){return f.target}i.svg.chord=function(){var f=ju,M=Zi,Y=ms,Q=ul,ne=ds;function ce(Fe,Ke){var Qe=me(this,f,Fe,Ke),_t=me(this,M,Fe,Ke);return"M"+Qe.p0+Te(Qe.r,Qe.p1,Qe.a1-Qe.a0)+(ge(Qe,_t)?Ee(Qe.r,Qe.p1,Qe.r,Qe.p0):Ee(Qe.r,Qe.p1,_t.r,_t.p0)+Te(_t.r,_t.p1,_t.a1-_t.a0)+Ee(_t.r,_t.p1,Qe.r,Qe.p0))+"Z"}function me(Fe,Ke,Qe,_t){var Ot=Ke.call(Fe,Qe,_t),et=Y.call(Fe,Ot,_t),yt=Q.call(Fe,Ot,_t)-Se,bt=ne.call(Fe,Ot,_t)-Se;return{r:et,a0:yt,a1:bt,p0:[et*Math.cos(yt),et*Math.sin(yt)],p1:[et*Math.cos(bt),et*Math.sin(bt)]}}function ge(Fe,Ke){return Fe.a0==Ke.a0&&Fe.a1==Ke.a1}function Te(Fe,Ke,Qe){return"A"+Fe+","+Fe+" 0 "+ +(Qe>ie)+",1 "+Ke}function Ee(Fe,Ke,Qe,_t){return"Q 0,0 "+_t}return ce.radius=function(Fe){return arguments.length?(Y=kt(Fe),ce):Y},ce.source=function(Fe){return arguments.length?(f=kt(Fe),ce):f},ce.target=function(Fe){return arguments.length?(M=kt(Fe),ce):M},ce.startAngle=function(Fe){return arguments.length?(Q=kt(Fe),ce):Q},ce.endAngle=function(Fe){return arguments.length?(ne=kt(Fe),ce):ne},ce};function ms(f){return f.radius}i.svg.diagonal=function(){var f=ju,M=Zi,Y=zu;function Q(ne,ce){var me=f.call(this,ne,ce),ge=M.call(this,ne,ce),Te=(me.y+ge.y)/2,Ee=[me,{x:me.x,y:Te},{x:ge.x,y:Te},ge];return Ee=Ee.map(Y),"M"+Ee[0]+"C"+Ee[1]+" "+Ee[2]+" "+Ee[3]}return Q.source=function(ne){return arguments.length?(f=kt(ne),Q):f},Q.target=function(ne){return arguments.length?(M=kt(ne),Q):M},Q.projection=function(ne){return arguments.length?(Y=ne,Q):Y},Q};function zu(f){return[f.x,f.y]}i.svg.diagonal.radial=function(){var f=i.svg.diagonal(),M=zu,Y=f.projection;return f.projection=function(Q){return arguments.length?Y(cf(M=Q)):M},f};function cf(f){return function(){var M=f.apply(this,arguments),Y=M[0],Q=M[1]-Se;return[Y*Math.cos(Q),Y*Math.sin(Q)]}}i.svg.symbol=function(){var f=df,M=ff;function Y(Q,ne){return(Uu.get(f.call(this,Q,ne))||Bu)(M.call(this,Q,ne))}return Y.type=function(Q){return arguments.length?(f=kt(Q),Y):f},Y.size=function(Q){return arguments.length?(M=kt(Q),Y):M},Y};function ff(){return 64}function df(){return"circle"}function Bu(f){var M=Math.sqrt(f/ie);return"M0,"+M+"A"+M+","+M+" 0 1,1 0,"+-M+"A"+M+","+M+" 0 1,1 0,"+M+"Z"}var Uu=i.map({circle:Bu,cross:function(f){var M=Math.sqrt(f/5)/2;return"M"+-3*M+","+-M+"H"+-M+"V"+-3*M+"H"+M+"V"+-M+"H"+3*M+"V"+M+"H"+M+"V"+3*M+"H"+-M+"V"+M+"H"+-3*M+"Z"},diamond:function(f){var M=Math.sqrt(f/(2*Hu)),Y=M*Hu;return"M0,"+-M+"L"+Y+",0 0,"+M+" "+-Y+",0Z"},square:function(f){var M=Math.sqrt(f)/2;return"M"+-M+","+-M+"L"+M+","+-M+" "+M+","+M+" "+-M+","+M+"Z"},"triangle-down":function(f){var M=Math.sqrt(f/yl),Y=M*yl/2;return"M0,"+Y+"L"+M+","+-Y+" "+-M+","+-Y+"Z"},"triangle-up":function(f){var M=Math.sqrt(f/yl),Y=M*yl/2;return"M0,"+-Y+"L"+M+","+Y+" "+-M+","+Y+"Z"}});i.svg.symbolTypes=Uu.keys();var yl=Math.sqrt(3),Hu=Math.tan(30*Ue);X.transition=function(f){for(var M=zi||++ml,Y=xl(f),Q=[],ne,ce,me=bo||{time:Date.now(),ease:Na,delay:0,duration:250},ge=-1,Te=this.length;++ge<Te;){Q.push(ne=[]);for(var Ee=this[ge],Fe=-1,Ke=Ee.length;++Fe<Ke;)(ce=Ee[Fe])&&_o(ce,Fe,Y,M,me),ne.push(ce)}return Ki(Q,Y,M)},X.interrupt=function(f){return this.each(f==null?vl:xs(xl(f)))};var vl=xs(xl());function xs(f){return function(){var M,Y,Q;(M=this[f])&&(Q=M[Y=M.active])&&(Q.timer.c=null,Q.timer.t=NaN,--M.count?delete M[Y]:delete this[f],M.active+=.5,Q.event&&Q.event.interrupt.call(this,this.__data__,Q.index))}}function Ki(f,M,Y){return q(f,wa),f.namespace=M,f.id=Y,f}var wa=[],ml=0,zi,bo;wa.call=X.call,wa.empty=X.empty,wa.node=X.node,wa.size=X.size,i.transition=function(f,M){return f&&f.transition?zi?f.transition(M):f:i.selection().transition(f)},i.transition.prototype=wa,wa.select=function(f){var M=this.id,Y=this.namespace,Q=[],ne,ce,me;f=N(f);for(var ge=-1,Te=this.length;++ge<Te;){Q.push(ne=[]);for(var Ee=this[ge],Fe=-1,Ke=Ee.length;++Fe<Ke;)(me=Ee[Fe])&&(ce=f.call(me,me.__data__,Fe,ge))?("__data__"in me&&(ce.__data__=me.__data__),_o(ce,Fe,Y,M,me[Y][M]),ne.push(ce)):ne.push(null)}return Ki(Q,Y,M)},wa.selectAll=function(f){var M=this.id,Y=this.namespace,Q=[],ne,ce,me,ge,Te;f=$(f);for(var Ee=-1,Fe=this.length;++Ee<Fe;)for(var Ke=this[Ee],Qe=-1,_t=Ke.length;++Qe<_t;)if(me=Ke[Qe]){Te=me[Y][M],ce=f.call(me,me.__data__,Qe,Ee),Q.push(ne=[]);for(var Ot=-1,et=ce.length;++Ot<et;)(ge=ce[Ot])&&_o(ge,Ot,Y,M,Te),ne.push(ge)}return Ki(Q,Y,M)},wa.filter=function(f){var M=[],Y,Q,ne;typeof f!="function"&&(f=j(f));for(var ce=0,me=this.length;ce<me;ce++){M.push(Y=[]);for(var Q=this[ce],ge=0,Te=Q.length;ge<Te;ge++)(ne=Q[ge])&&f.call(ne,ne.__data__,ge,ce)&&Y.push(ne)}return Ki(M,this.namespace,this.id)},wa.tween=function(f,M){var Y=this.id,Q=this.namespace;return arguments.length<2?this.node()[Q][Y].tween.get(f):be(this,M==null?function(ne){ne[Q][Y].tween.remove(f)}:function(ne){ne[Q][Y].tween.set(f,M)})};function Ho(f,M,Y,Q){var ne=f.id,ce=f.namespace;return be(f,typeof Y=="function"?function(me,ge,Te){me[ce][ne].tween.set(M,Q(Y.call(me,me.__data__,ge,Te)))}:(Y=Q(Y),function(me){me[ce][ne].tween.set(M,Y)}))}wa.attr=function(f,M){if(arguments.length<2){for(M in f)this.attr(M,f[M]);return this}var Y=f=="transform"?Yl:Ha,Q=i.ns.qualify(f);function ne(){this.removeAttribute(Q)}function ce(){this.removeAttributeNS(Q.space,Q.local)}function me(Te){return Te==null?ne:(Te+="",function(){var Ee=this.getAttribute(Q),Fe;return Ee!==Te&&(Fe=Y(Ee,Te),function(Ke){this.setAttribute(Q,Fe(Ke))})})}function ge(Te){return Te==null?ce:(Te+="",function(){var Ee=this.getAttributeNS(Q.space,Q.local),Fe;return Ee!==Te&&(Fe=Y(Ee,Te),function(Ke){this.setAttributeNS(Q.space,Q.local,Fe(Ke))})})}return Ho(this,"attr."+f,M,Q.local?ge:me)},wa.attrTween=function(f,M){var Y=i.ns.qualify(f);function Q(ce,me){var ge=M.call(this,ce,me,this.getAttribute(Y));return ge&&function(Te){this.setAttribute(Y,ge(Te))}}function ne(ce,me){var ge=M.call(this,ce,me,this.getAttributeNS(Y.space,Y.local));return ge&&function(Te){this.setAttributeNS(Y.space,Y.local,ge(Te))}}return this.tween("attr."+f,Y.local?ne:Q)},wa.style=function(f,M,Y){var Q=arguments.length;if(Q<3){if(typeof f!="string"){Q<2&&(M="");for(Y in f)this.style(Y,f[Y],M);return this}Y=""}function ne(){this.style.removeProperty(f)}function ce(me){return me==null?ne:(me+="",function(){var ge=a(this).getComputedStyle(this,null).getPropertyValue(f),Te;return ge!==me&&(Te=Ha(ge,me),function(Ee){this.style.setProperty(f,Te(Ee),Y)})})}return Ho(this,"style."+f,M,ce)},wa.styleTween=function(f,M,Y){arguments.length<3&&(Y="");function Q(ne,ce){var me=M.call(this,ne,ce,a(this).getComputedStyle(this,null).getPropertyValue(f));return me&&function(ge){this.style.setProperty(f,me(ge),Y)}}return this.tween("style."+f,Q)},wa.text=function(f){return Ho(this,"text",f,bs)};function bs(f){return f==null&&(f=""),function(){this.textContent=f}}wa.remove=function(){var f=this.namespace;return this.each("end.transition",function(){var M;this[f].count<2&&(M=this.parentNode)&&M.removeChild(this)})},wa.ease=function(f){var M=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][M].ease:(typeof f!="function"&&(f=i.ease.apply(i,arguments)),be(this,function(Q){Q[Y][M].ease=f}))},wa.delay=function(f){var M=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][M].delay:be(this,typeof f=="function"?function(Q,ne,ce){Q[Y][M].delay=+f.call(Q,Q.__data__,ne,ce)}:(f=+f,function(Q){Q[Y][M].delay=f}))},wa.duration=function(f){var M=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][M].duration:be(this,typeof f=="function"?function(Q,ne,ce){Q[Y][M].duration=Math.max(1,f.call(Q,Q.__data__,ne,ce))}:(f=Math.max(1,f),function(Q){Q[Y][M].duration=f}))},wa.each=function(f,M){var Y=this.id,Q=this.namespace;if(arguments.length<2){var ne=bo,ce=zi;try{zi=Y,be(this,function(me,ge,Te){bo=me[Q][Y],f.call(me,me.__data__,ge,Te)})}finally{bo=ne,zi=ce}}else be(this,function(me){var ge=me[Q][Y];(ge.event||(ge.event=i.dispatch("start","end","interrupt"))).on(f,M)});return this},wa.transition=function(){for(var f=this.id,M=++ml,Y=this.namespace,Q=[],ne,ce,me,ge,Te=0,Ee=this.length;Te<Ee;Te++){Q.push(ne=[]);for(var ce=this[Te],Fe=0,Ke=ce.length;Fe<Ke;Fe++)(me=ce[Fe])&&(ge=me[Y][f],_o(me,Fe,Y,M,{time:ge.time,ease:ge.ease,delay:ge.delay+ge.duration,duration:ge.duration})),ne.push(me)}return Ki(Q,Y,M)};function xl(f){return f==null?"__transition__":"__transition_"+f+"__"}function _o(f,M,Y,Q,ne){var ce=f[Y]||(f[Y]={active:0,count:0}),me=ce[Q],ge,Te,Ee,Fe,Ke;function Qe(et){var yt=me.delay;if(Te.t=yt+ge,yt<=et)return _t(et-yt);Te.c=_t}function _t(et){var yt=ce.active,bt=ce[yt];bt&&(bt.timer.c=null,bt.timer.t=NaN,--ce.count,delete ce[yt],bt.event&&bt.event.interrupt.call(f,f.__data__,bt.index));for(var Mt in ce)if(+Mt<Q){var Lt=ce[Mt];Lt.timer.c=null,Lt.timer.t=NaN,--ce.count,delete ce[Mt]}Te.c=Ot,hn(function(){return Te.c&&Ot(et||1)&&(Te.c=null,Te.t=NaN),1},0,ge),ce.active=Q,me.event&&me.event.start.call(f,f.__data__,M),Ke=[],me.tween.forEach(function(gt,Qt){(Qt=Qt.call(f,f.__data__,M))&&Ke.push(Qt)}),Fe=me.ease,Ee=me.duration}function Ot(et){for(var yt=et/Ee,bt=Fe(yt),Mt=Ke.length;Mt>0;)Ke[--Mt].call(f,bt);if(yt>=1)return me.event&&me.event.end.call(f,f.__data__,M),--ce.count?delete ce[Q]:delete f[Y],1}me||(ge=ne.time,Te=hn(Qe,0,ge),me=ce[Q]={tween:new _,time:ge,timer:Te,delay:ne.delay,duration:ne.duration,ease:ne.ease,index:M},ne=null,++ce.count)}i.svg.axis=function(){var f=i.scale.linear(),M=bl,Y=6,Q=6,ne=3,ce=[10],me=null,ge;function Te(Ee){Ee.each(function(){var Fe=i.select(this),Ke=this.__chart__||f,Qe=this.__chart__=f.copy(),_t=me??(Qe.ticks?Qe.ticks.apply(Qe,ce):Qe.domain()),Ot=ge??(Qe.tickFormat?Qe.tickFormat.apply(Qe,ce):G),et=Fe.selectAll(".tick").data(_t,Qe),yt=et.enter().insert("g",".domain").attr("class","tick").style("opacity",De),bt=i.transition(et.exit()).style("opacity",De).remove(),Mt=i.transition(et.order()).style("opacity",1),Lt=Math.max(Y,0)+ne,gt,Qt=Sa(Qe),pr=Fe.selectAll(".domain").data([0]),Tr=(pr.enter().append("path").attr("class","domain"),i.transition(pr));yt.append("line"),yt.append("text");var Pr=yt.select("line"),qr=Mt.select("line"),Wr=et.select("text").text(Ot),bn=yt.select("text"),Xr=Mt.select("text"),vn=M==="top"||M==="left"?-1:1,Gn,Aa,Qn,Cr;if(M==="bottom"||M==="top"?(gt=ws,Gn="x",Qn="y",Aa="x2",Cr="y2",Wr.attr("dy",vn<0?"0em":".71em").style("text-anchor","middle"),Tr.attr("d","M"+Qt[0]+","+vn*Q+"V0H"+Qt[1]+"V"+vn*Q)):(gt=As,Gn="y",Qn="x",Aa="y2",Cr="x2",Wr.attr("dy",".32em").style("text-anchor",vn<0?"end":"start"),Tr.attr("d","M"+vn*Q+","+Qt[0]+"H0V"+Qt[1]+"H"+vn*Q)),Pr.attr(Cr,vn*Y),bn.attr(Qn,vn*Lt),qr.attr(Aa,0).attr(Cr,vn*Y),Xr.attr(Gn,0).attr(Qn,vn*Lt),Qe.rangeBand){var _n=Qe,On=_n.rangeBand()/2;Ke=Qe=function(Hn){return _n(Hn)+On}}else Ke.rangeBand?Ke=Qe:bt.call(gt,Qe,Ke);yt.call(gt,Ke,Qe),Mt.call(gt,Qe,Qe)})}return Te.scale=function(Ee){return arguments.length?(f=Ee,Te):f},Te.orient=function(Ee){return arguments.length?(M=Ee in _s?Ee+"":bl,Te):M},Te.ticks=function(){return arguments.length?(ce=e(arguments),Te):ce},Te.tickValues=function(Ee){return arguments.length?(me=Ee,Te):me},Te.tickFormat=function(Ee){return arguments.length?(ge=Ee,Te):ge},Te.tickSize=function(Ee){var Fe=arguments.length;return Fe?(Y=+Ee,Q=+arguments[Fe-1],Te):Y},Te.innerTickSize=function(Ee){return arguments.length?(Y=+Ee,Te):Y},Te.outerTickSize=function(Ee){return arguments.length?(Q=+Ee,Te):Q},Te.tickPadding=function(Ee){return arguments.length?(ne=+Ee,Te):ne},Te.tickSubdivide=function(){return arguments.length&&Te},Te};var bl="bottom",_s={top:1,right:1,bottom:1,left:1};function ws(f,M,Y){f.attr("transform",function(Q){var ne=M(Q);return"translate("+(isFinite(ne)?ne:Y(Q))+",0)"})}function As(f,M,Y){f.attr("transform",function(Q){var ne=M(Q);return"translate(0,"+(isFinite(ne)?ne:Y(Q))+")"})}i.svg.brush=function(){var f=ae(Fe,"brushstart","brush","brushend"),M=null,Y=null,Q=[0,0],ne=[0,0],ce,me,ge=!0,Te=!0,Ee=Vo[0];function Fe(et){et.each(function(){var yt=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ot).on("touchstart.brush",Ot),bt=yt.selectAll(".background").data([0]);bt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),yt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Mt=yt.selectAll(".resize").data(Ee,G);Mt.exit().remove(),Mt.enter().append("g").attr("class",function(pr){return"resize "+pr}).style("cursor",function(pr){return Ts[pr]}).append("rect").attr("x",function(pr){return/[ew]$/.test(pr)?-3:null}).attr("y",function(pr){return/^[ns]/.test(pr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Mt.style("display",Fe.empty()?"none":null);var Lt=i.transition(yt),gt=i.transition(bt),Qt;M&&(Qt=Sa(M),gt.attr("x",Qt[0]).attr("width",Qt[1]-Qt[0]),Qe(Lt)),Y&&(Qt=Sa(Y),gt.attr("y",Qt[0]).attr("height",Qt[1]-Qt[0]),_t(Lt)),Ke(Lt)})}Fe.event=function(et){et.each(function(){var yt=f.of(this,arguments),bt={x:Q,y:ne,i:ce,j:me},Mt=this.__chart__||bt;this.__chart__=bt,zi?i.select(this).transition().each("start.brush",function(){ce=Mt.i,me=Mt.j,Q=Mt.x,ne=Mt.y,yt({type:"brushstart"})}).tween("brush:brush",function(){var Lt=Mi(Q,bt.x),gt=Mi(ne,bt.y);return ce=me=null,function(Qt){Q=bt.x=Lt(Qt),ne=bt.y=gt(Qt),yt({type:"brush",mode:"resize"})}}).each("end.brush",function(){ce=bt.i,me=bt.j,yt({type:"brush",mode:"resize"}),yt({type:"brushend"})}):(yt({type:"brushstart"}),yt({type:"brush",mode:"resize"}),yt({type:"brushend"}))})};function Ke(et){et.selectAll(".resize").attr("transform",function(yt){return"translate("+Q[+/e$/.test(yt)]+","+ne[+/^s/.test(yt)]+")"})}function Qe(et){et.select(".extent").attr("x",Q[0]),et.selectAll(".extent,.n>rect,.s>rect").attr("width",Q[1]-Q[0])}function _t(et){et.select(".extent").attr("y",ne[0]),et.selectAll(".extent,.e>rect,.w>rect").attr("height",ne[1]-ne[0])}function Ot(){var et=this,yt=i.select(i.event.target),bt=f.of(et,arguments),Mt=i.select(et),Lt=yt.datum(),gt=!/^(n|s)$/.test(Lt)&&M,Qt=!/^(e|w)$/.test(Lt)&&Y,pr=yt.classed("extent"),Tr=It(et),Pr,qr=i.mouse(et),Wr,bn=i.select(a(et)).on("keydown.brush",Gn).on("keyup.brush",Aa);if(i.event.changedTouches?bn.on("touchmove.brush",Qn).on("touchend.brush",_n):bn.on("mousemove.brush",Qn).on("mouseup.brush",_n),Mt.interrupt().selectAll("*").interrupt(),pr)qr[0]=Q[0]-qr[0],qr[1]=ne[0]-qr[1];else if(Lt){var Xr=+/w$/.test(Lt),vn=+/^n/.test(Lt);Wr=[Q[1-Xr]-qr[0],ne[1-vn]-qr[1]],qr[0]=Q[Xr],qr[1]=ne[vn]}else i.event.altKey&&(Pr=qr.slice());Mt.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",yt.style("cursor")),bt({type:"brushstart"}),Qn();function Gn(){i.event.keyCode==32&&(pr||(Pr=null,qr[0]-=Q[1],qr[1]-=ne[1],pr=2),W())}function Aa(){i.event.keyCode==32&&pr==2&&(qr[0]+=Q[1],qr[1]+=ne[1],pr=0,W())}function Qn(){var On=i.mouse(et),Hn=!1;Wr&&(On[0]+=Wr[0],On[1]+=Wr[1]),pr||(i.event.altKey?(Pr||(Pr=[(Q[0]+Q[1])/2,(ne[0]+ne[1])/2]),qr[0]=Q[+(On[0]<Pr[0])],qr[1]=ne[+(On[1]<Pr[1])]):Pr=null),gt&&Cr(On,M,0)&&(Qe(Mt),Hn=!0),Qt&&Cr(On,Y,1)&&(_t(Mt),Hn=!0),Hn&&(Ke(Mt),bt({type:"brush",mode:pr?"move":"resize"}))}function Cr(On,Hn,ha){var Oa=Sa(Hn),Ra=Oa[0],Va=Oa[1],$a=qr[ha],Oe=ha?ne:Q,it=Oe[1]-Oe[0],dt,Vt;if(pr&&(Ra-=$a,Va-=it+$a),dt=(ha?Te:ge)?Math.max(Ra,Math.min(Va,On[ha])):On[ha],pr?Vt=(dt+=$a)+it:(Pr&&($a=Math.max(Ra,Math.min(Va,2*Pr[ha]-dt))),$a<dt?(Vt=dt,dt=$a):Vt=$a),Oe[0]!=dt||Oe[1]!=Vt)return ha?me=null:ce=null,Oe[0]=dt,Oe[1]=Vt,!0}function _n(){Qn(),Mt.style("pointer-events","all").selectAll(".resize").style("display",Fe.empty()?"none":null),i.select("body").style("cursor",null),bn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Tr(),bt({type:"brushend"})}}return Fe.x=function(et){return arguments.length?(M=et,Ee=Vo[!M<<1|!Y],Fe):M},Fe.y=function(et){return arguments.length?(Y=et,Ee=Vo[!M<<1|!Y],Fe):Y},Fe.clamp=function(et){return arguments.length?(M&&Y?(ge=!!et[0],Te=!!et[1]):M?ge=!!et:Y&&(Te=!!et),Fe):M&&Y?[ge,Te]:M?ge:Y?Te:null},Fe.extent=function(et){var yt,bt,Mt,Lt,gt;return arguments.length?(M&&(yt=et[0],bt=et[1],Y&&(yt=yt[0],bt=bt[0]),ce=[yt,bt],M.invert&&(yt=M(yt),bt=M(bt)),bt<yt&&(gt=yt,yt=bt,bt=gt),(yt!=Q[0]||bt!=Q[1])&&(Q=[yt,bt])),Y&&(Mt=et[0],Lt=et[1],M&&(Mt=Mt[1],Lt=Lt[1]),me=[Mt,Lt],Y.invert&&(Mt=Y(Mt),Lt=Y(Lt)),Lt<Mt&&(gt=Mt,Mt=Lt,Lt=gt),(Mt!=ne[0]||Lt!=ne[1])&&(ne=[Mt,Lt])),Fe):(M&&(ce?(yt=ce[0],bt=ce[1]):(yt=Q[0],bt=Q[1],M.invert&&(yt=M.invert(yt),bt=M.invert(bt)),bt<yt&&(gt=yt,yt=bt,bt=gt))),Y&&(me?(Mt=me[0],Lt=me[1]):(Mt=ne[0],Lt=ne[1],Y.invert&&(Mt=Y.invert(Mt),Lt=Y.invert(Lt)),Lt<Mt&&(gt=Mt,Mt=Lt,Lt=gt))),M&&Y?[[yt,Mt],[bt,Lt]]:M?[yt,bt]:Y&&[Mt,Lt])},Fe.clear=function(){return Fe.empty()||(Q=[0,0],ne=[0,0],ce=me=null),Fe},Fe.empty=function(){return!!M&&Q[0]==Q[1]||!!Y&&ne[0]==ne[1]},i.rebind(Fe,f,"on")};var Ts={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vo=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=Dt(function(f){return f.responseText}),i.json=function(f,M){return Rt(f,"application/json",ks,M)};function ks(f){return JSON.parse(f.responseText)}i.html=function(f,M){return Rt(f,"text/html",Ms,M)};function Ms(f){var M=n.createRange();return M.selectNode(n.body),M.createContextualFragment(f.responseText)}i.xml=Dt(function(f){return f.responseXML}),typeof k=="object"&&k.exports?k.exports=i:this.d3=i}).apply(self)}),pf=xe((E,k)=>{(function(i,t){typeof E=="object"&&typeof k<"u"?t(E):(i=i||self,t(i.d3=i.d3||{}))})(E,function(i){var t=new Date,e=new Date;function n(j,he,be,ke){function Ce(qe){return j(qe=arguments.length===0?new Date:new Date(+qe)),qe}return Ce.floor=function(qe){return j(qe=new Date(+qe)),qe},Ce.ceil=function(qe){return j(qe=new Date(qe-1)),he(qe,1),j(qe),qe},Ce.round=function(qe){var at=Ce(qe),ct=Ce.ceil(qe);return qe-at<ct-qe?at:ct},Ce.offset=function(qe,at){return he(qe=new Date(+qe),at==null?1:Math.floor(at)),qe},Ce.range=function(qe,at,ct){var vt=[],St;if(qe=Ce.ceil(qe),ct=ct==null?1:Math.floor(ct),!(qe<at)||!(ct>0))return vt;do vt.push(St=new Date(+qe)),he(qe,ct),j(qe);while(St<qe&&qe<at);return vt},Ce.filter=function(qe){return n(function(at){if(at>=at)for(;j(at),!qe(at);)at.setTime(at-1)},function(at,ct){if(at>=at)if(ct<0)for(;++ct<=0;)for(;he(at,-1),!qe(at););else for(;--ct>=0;)for(;he(at,1),!qe(at););})},be&&(Ce.count=function(qe,at){return t.setTime(+qe),e.setTime(+at),j(t),j(e),Math.floor(be(t,e))},Ce.every=function(qe){return qe=Math.floor(qe),!isFinite(qe)||!(qe>0)?null:qe>1?Ce.filter(ke?function(at){return ke(at)%qe===0}:function(at){return Ce.count(0,at)%qe===0}):Ce}),Ce}var l=n(function(){},function(j,he){j.setTime(+j+he)},function(j,he){return he-j});l.every=function(j){return j=Math.floor(j),!isFinite(j)||!(j>0)?null:j>1?n(function(he){he.setTime(Math.floor(he/j)*j)},function(he,be){he.setTime(+he+be*j)},function(he,be){return(be-he)/j}):l};var a=l.range,o=1e3,s=6e4,r=36e5,p=864e5,u=6048e5,d=n(function(j){j.setTime(j-j.getMilliseconds())},function(j,he){j.setTime(+j+he*o)},function(j,he){return(he-j)/o},function(j){return j.getUTCSeconds()}),g=d.range,v=n(function(j){j.setTime(j-j.getMilliseconds()-j.getSeconds()*o)},function(j,he){j.setTime(+j+he*s)},function(j,he){return(he-j)/s},function(j){return j.getMinutes()}),x=v.range,y=n(function(j){j.setTime(j-j.getMilliseconds()-j.getSeconds()*o-j.getMinutes()*s)},function(j,he){j.setTime(+j+he*r)},function(j,he){return(he-j)/r},function(j){return j.getHours()}),m=y.range,c=n(function(j){j.setHours(0,0,0,0)},function(j,he){j.setDate(j.getDate()+he)},function(j,he){return(he-j-(he.getTimezoneOffset()-j.getTimezoneOffset())*s)/p},function(j){return j.getDate()-1}),h=c.range;function b(j){return n(function(he){he.setDate(he.getDate()-(he.getDay()+7-j)%7),he.setHours(0,0,0,0)},function(he,be){he.setDate(he.getDate()+be*7)},function(he,be){return(be-he-(be.getTimezoneOffset()-he.getTimezoneOffset())*s)/u})}var _=b(0),w=b(1),K=b(2),D=b(3),I=b(4),C=b(5),H=b(6),z=_.range,R=w.range,U=K.range,Z=D.range,G=I.range,P=C.range,A=H.range,O=n(function(j){j.setDate(1),j.setHours(0,0,0,0)},function(j,he){j.setMonth(j.getMonth()+he)},function(j,he){return he.getMonth()-j.getMonth()+(he.getFullYear()-j.getFullYear())*12},function(j){return j.getMonth()}),L=O.range,S=n(function(j){j.setMonth(0,1),j.setHours(0,0,0,0)},function(j,he){j.setFullYear(j.getFullYear()+he)},function(j,he){return he.getFullYear()-j.getFullYear()},function(j){return j.getFullYear()});S.every=function(j){return!isFinite(j=Math.floor(j))||!(j>0)?null:n(function(he){he.setFullYear(Math.floor(he.getFullYear()/j)*j),he.setMonth(0,1),he.setHours(0,0,0,0)},function(he,be){he.setFullYear(he.getFullYear()+be*j)})};var F=S.range,W=n(function(j){j.setUTCSeconds(0,0)},function(j,he){j.setTime(+j+he*s)},function(j,he){return(he-j)/s},function(j){return j.getUTCMinutes()}),ue=W.range,ae=n(function(j){j.setUTCMinutes(0,0,0)},function(j,he){j.setTime(+j+he*r)},function(j,he){return(he-j)/r},function(j){return j.getUTCHours()}),se=ae.range,q=n(function(j){j.setUTCHours(0,0,0,0)},function(j,he){j.setUTCDate(j.getUTCDate()+he)},function(j,he){return(he-j)/p},function(j){return j.getUTCDate()-1}),ee=q.range;function B(j){return n(function(he){he.setUTCDate(he.getUTCDate()-(he.getUTCDay()+7-j)%7),he.setUTCHours(0,0,0,0)},function(he,be){he.setUTCDate(he.getUTCDate()+be*7)},function(he,be){return(be-he)/u})}var re=B(0),J=B(1),X=B(2),N=B(3),$=B(4),te=B(5),le=B(6),pe=re.range,fe=J.range,ye=X.range,Me=N.range,He=$.range,Ne=te.range,ze=le.range,Re=n(function(j){j.setUTCDate(1),j.setUTCHours(0,0,0,0)},function(j,he){j.setUTCMonth(j.getUTCMonth()+he)},function(j,he){return he.getUTCMonth()-j.getUTCMonth()+(he.getUTCFullYear()-j.getUTCFullYear())*12},function(j){return j.getUTCMonth()}),Ae=Re.range,T=n(function(j){j.setUTCMonth(0,1),j.setUTCHours(0,0,0,0)},function(j,he){j.setUTCFullYear(j.getUTCFullYear()+he)},function(j,he){return he.getUTCFullYear()-j.getUTCFullYear()},function(j){return j.getUTCFullYear()});T.every=function(j){return!isFinite(j=Math.floor(j))||!(j>0)?null:n(function(he){he.setUTCFullYear(Math.floor(he.getUTCFullYear()/j)*j),he.setUTCMonth(0,1),he.setUTCHours(0,0,0,0)},function(he,be){he.setUTCFullYear(he.getUTCFullYear()+be*j)})};var V=T.range;i.timeDay=c,i.timeDays=h,i.timeFriday=C,i.timeFridays=P,i.timeHour=y,i.timeHours=m,i.timeInterval=n,i.timeMillisecond=l,i.timeMilliseconds=a,i.timeMinute=v,i.timeMinutes=x,i.timeMonday=w,i.timeMondays=R,i.timeMonth=O,i.timeMonths=L,i.timeSaturday=H,i.timeSaturdays=A,i.timeSecond=d,i.timeSeconds=g,i.timeSunday=_,i.timeSundays=z,i.timeThursday=I,i.timeThursdays=G,i.timeTuesday=K,i.timeTuesdays=U,i.timeWednesday=D,i.timeWednesdays=Z,i.timeWeek=_,i.timeWeeks=z,i.timeYear=S,i.timeYears=F,i.utcDay=q,i.utcDays=ee,i.utcFriday=te,i.utcFridays=Ne,i.utcHour=ae,i.utcHours=se,i.utcMillisecond=l,i.utcMilliseconds=a,i.utcMinute=W,i.utcMinutes=ue,i.utcMonday=J,i.utcMondays=fe,i.utcMonth=Re,i.utcMonths=Ae,i.utcSaturday=le,i.utcSaturdays=ze,i.utcSecond=d,i.utcSeconds=g,i.utcSunday=re,i.utcSundays=pe,i.utcThursday=$,i.utcThursdays=He,i.utcTuesday=X,i.utcTuesdays=ye,i.utcWednesday=N,i.utcWednesdays=Me,i.utcWeek=re,i.utcWeeks=pe,i.utcYear=T,i.utcYears=V,Object.defineProperty(i,"__esModule",{value:!0})})}),_l=xe((E,k)=>{(function(i,t){typeof E=="object"&&typeof k<"u"?t(E,pf()):(i=i||self,t(i.d3=i.d3||{},i.d3))})(E,function(i,t){function e(_e){if(0<=_e.y&&_e.y<100){var De=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return De.setFullYear(_e.y),De}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function n(_e){if(0<=_e.y&&_e.y<100){var De=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return De.setUTCFullYear(_e.y),De}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function l(_e,De,je){return{y:_e,m:De,d:je,H:0,M:0,S:0,L:0}}function a(_e){var De=_e.dateTime,je=_e.date,ie=_e.time,ve=_e.periods,we=_e.days,Se=_e.shortDays,Ue=_e.months,Le=_e.shortMonths,tt=g(ve),nt=v(ve),ut=g(we),Ye=v(we),st=g(Se),xt=v(Se),Tt=g(Ue),tr=v(Ue),cr=g(Le),Er=v(Le),nr={a:$r,A:Sn,b:Bt,B:gn,c:null,d:O,e:O,f:ue,H:L,I:S,j:F,L:W,m:ae,M:se,p:oe,q:de,Q:at,s:ct,S:q,u:ee,U:B,V:re,w:J,W:X,x:null,X:null,y:N,Y:$,Z:te,"%":qe},yr={a:Ge,A:We,b:Pe,B:Ie,c:null,d:le,e:le,f:He,H:pe,I:fe,j:ye,L:Me,m:Ne,M:ze,p:Ve,q:Ze,Q:at,s:ct,S:Re,u:Ae,U:T,V,w:j,W:he,x:null,X:null,y:be,Y:ke,Z:Ce,"%":qe},qt={a:rr,A:zt,b:xr,B:Gr,c:fn,d:I,e:I,f:Z,H,I:H,j:C,L:U,m:D,M:z,p:kr,q:K,Q:P,s:A,S:R,u:y,U:m,V:c,w:x,W:h,x:br,X:Jr,y:_,Y:b,Z:w,"%":G};nr.x=Zt(je,nr),nr.X=Zt(ie,nr),nr.c=Zt(De,nr),yr.x=Zt(je,yr),yr.X=Zt(ie,yr),yr.c=Zt(De,yr);function Zt(Be,Je){return function(Xe){var rt=[],kt=-1,Dt=0,Rt=Be.length,Kt,ir,Fr;for(Xe instanceof Date||(Xe=new Date(+Xe));++kt<Rt;)Be.charCodeAt(kt)===37&&(rt.push(Be.slice(Dt,kt)),(ir=o[Kt=Be.charAt(++kt)])!=null?Kt=Be.charAt(++kt):ir=Kt==="e"?" ":"0",(Fr=Je[Kt])&&(Kt=Fr(Xe,ir)),rt.push(Kt),Dt=kt+1);return rt.push(Be.slice(Dt,kt)),rt.join("")}}function jr(Be,Je){return function(Xe){var rt=l(1900,void 0,1),kt=Ar(rt,Be,Xe+="",0),Dt,Rt;if(kt!=Xe.length)return null;if("Q"in rt)return new Date(rt.Q);if("s"in rt)return new Date(rt.s*1e3+("L"in rt?rt.L:0));if(Je&&!("Z"in rt)&&(rt.Z=0),"p"in rt&&(rt.H=rt.H%12+rt.p*12),rt.m===void 0&&(rt.m="q"in rt?rt.q:0),"V"in rt){if(rt.V<1||rt.V>53)return null;"w"in rt||(rt.w=1),"Z"in rt?(Dt=n(l(rt.y,0,1)),Rt=Dt.getUTCDay(),Dt=Rt>4||Rt===0?t.utcMonday.ceil(Dt):t.utcMonday(Dt),Dt=t.utcDay.offset(Dt,(rt.V-1)*7),rt.y=Dt.getUTCFullYear(),rt.m=Dt.getUTCMonth(),rt.d=Dt.getUTCDate()+(rt.w+6)%7):(Dt=e(l(rt.y,0,1)),Rt=Dt.getDay(),Dt=Rt>4||Rt===0?t.timeMonday.ceil(Dt):t.timeMonday(Dt),Dt=t.timeDay.offset(Dt,(rt.V-1)*7),rt.y=Dt.getFullYear(),rt.m=Dt.getMonth(),rt.d=Dt.getDate()+(rt.w+6)%7)}else("W"in rt||"U"in rt)&&("w"in rt||(rt.w="u"in rt?rt.u%7:"W"in rt?1:0),Rt="Z"in rt?n(l(rt.y,0,1)).getUTCDay():e(l(rt.y,0,1)).getDay(),rt.m=0,rt.d="W"in rt?(rt.w+6)%7+rt.W*7-(Rt+5)%7:rt.w+rt.U*7-(Rt+6)%7);return"Z"in rt?(rt.H+=rt.Z/100|0,rt.M+=rt.Z%100,n(rt)):e(rt)}}function Ar(Be,Je,Xe,rt){for(var kt=0,Dt=Je.length,Rt=Xe.length,Kt,ir;kt<Dt;){if(rt>=Rt)return-1;if(Kt=Je.charCodeAt(kt++),Kt===37){if(Kt=Je.charAt(kt++),ir=qt[Kt in o?Je.charAt(kt++):Kt],!ir||(rt=ir(Be,Xe,rt))<0)return-1}else if(Kt!=Xe.charCodeAt(rt++))return-1}return rt}function kr(Be,Je,Xe){var rt=tt.exec(Je.slice(Xe));return rt?(Be.p=nt[rt[0].toLowerCase()],Xe+rt[0].length):-1}function rr(Be,Je,Xe){var rt=st.exec(Je.slice(Xe));return rt?(Be.w=xt[rt[0].toLowerCase()],Xe+rt[0].length):-1}function zt(Be,Je,Xe){var rt=ut.exec(Je.slice(Xe));return rt?(Be.w=Ye[rt[0].toLowerCase()],Xe+rt[0].length):-1}function xr(Be,Je,Xe){var rt=cr.exec(Je.slice(Xe));return rt?(Be.m=Er[rt[0].toLowerCase()],Xe+rt[0].length):-1}function Gr(Be,Je,Xe){var rt=Tt.exec(Je.slice(Xe));return rt?(Be.m=tr[rt[0].toLowerCase()],Xe+rt[0].length):-1}function fn(Be,Je,Xe){return Ar(Be,De,Je,Xe)}function br(Be,Je,Xe){return Ar(Be,je,Je,Xe)}function Jr(Be,Je,Xe){return Ar(Be,ie,Je,Xe)}function $r(Be){return Se[Be.getDay()]}function Sn(Be){return we[Be.getDay()]}function Bt(Be){return Le[Be.getMonth()]}function gn(Be){return Ue[Be.getMonth()]}function oe(Be){return ve[+(Be.getHours()>=12)]}function de(Be){return 1+~~(Be.getMonth()/3)}function Ge(Be){return Se[Be.getUTCDay()]}function We(Be){return we[Be.getUTCDay()]}function Pe(Be){return Le[Be.getUTCMonth()]}function Ie(Be){return Ue[Be.getUTCMonth()]}function Ve(Be){return ve[+(Be.getUTCHours()>=12)]}function Ze(Be){return 1+~~(Be.getUTCMonth()/3)}return{format:function(Be){var Je=Zt(Be+="",nr);return Je.toString=function(){return Be},Je},parse:function(Be){var Je=jr(Be+="",!1);return Je.toString=function(){return Be},Je},utcFormat:function(Be){var Je=Zt(Be+="",yr);return Je.toString=function(){return Be},Je},utcParse:function(Be){var Je=jr(Be+="",!0);return Je.toString=function(){return Be},Je}}}var o={"-":"",_:" ",0:"0"},s=/^\s*\d+/,r=/^%/,p=/[\\^$*+?|[\]().{}]/g;function u(_e,De,je){var ie=_e<0?"-":"",ve=(ie?-_e:_e)+"",we=ve.length;return ie+(we<je?new Array(je-we+1).join(De)+ve:ve)}function d(_e){return _e.replace(p,"\\$&")}function g(_e){return new RegExp("^(?:"+_e.map(d).join("|")+")","i")}function v(_e){for(var De={},je=-1,ie=_e.length;++je<ie;)De[_e[je].toLowerCase()]=je;return De}function x(_e,De,je){var ie=s.exec(De.slice(je,je+1));return ie?(_e.w=+ie[0],je+ie[0].length):-1}function y(_e,De,je){var ie=s.exec(De.slice(je,je+1));return ie?(_e.u=+ie[0],je+ie[0].length):-1}function m(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.U=+ie[0],je+ie[0].length):-1}function c(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.V=+ie[0],je+ie[0].length):-1}function h(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.W=+ie[0],je+ie[0].length):-1}function b(_e,De,je){var ie=s.exec(De.slice(je,je+4));return ie?(_e.y=+ie[0],je+ie[0].length):-1}function _(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.y=+ie[0]+(+ie[0]>68?1900:2e3),je+ie[0].length):-1}function w(_e,De,je){var ie=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(De.slice(je,je+6));return ie?(_e.Z=ie[1]?0:-(ie[2]+(ie[3]||"00")),je+ie[0].length):-1}function K(_e,De,je){var ie=s.exec(De.slice(je,je+1));return ie?(_e.q=ie[0]*3-3,je+ie[0].length):-1}function D(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.m=ie[0]-1,je+ie[0].length):-1}function I(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.d=+ie[0],je+ie[0].length):-1}function C(_e,De,je){var ie=s.exec(De.slice(je,je+3));return ie?(_e.m=0,_e.d=+ie[0],je+ie[0].length):-1}function H(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.H=+ie[0],je+ie[0].length):-1}function z(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.M=+ie[0],je+ie[0].length):-1}function R(_e,De,je){var ie=s.exec(De.slice(je,je+2));return ie?(_e.S=+ie[0],je+ie[0].length):-1}function U(_e,De,je){var ie=s.exec(De.slice(je,je+3));return ie?(_e.L=+ie[0],je+ie[0].length):-1}function Z(_e,De,je){var ie=s.exec(De.slice(je,je+6));return ie?(_e.L=Math.floor(ie[0]/1e3),je+ie[0].length):-1}function G(_e,De,je){var ie=r.exec(De.slice(je,je+1));return ie?je+ie[0].length:-1}function P(_e,De,je){var ie=s.exec(De.slice(je));return ie?(_e.Q=+ie[0],je+ie[0].length):-1}function A(_e,De,je){var ie=s.exec(De.slice(je));return ie?(_e.s=+ie[0],je+ie[0].length):-1}function O(_e,De){return u(_e.getDate(),De,2)}function L(_e,De){return u(_e.getHours(),De,2)}function S(_e,De){return u(_e.getHours()%12||12,De,2)}function F(_e,De){return u(1+t.timeDay.count(t.timeYear(_e),_e),De,3)}function W(_e,De){return u(_e.getMilliseconds(),De,3)}function ue(_e,De){return W(_e,De)+"000"}function ae(_e,De){return u(_e.getMonth()+1,De,2)}function se(_e,De){return u(_e.getMinutes(),De,2)}function q(_e,De){return u(_e.getSeconds(),De,2)}function ee(_e){var De=_e.getDay();return De===0?7:De}function B(_e,De){return u(t.timeSunday.count(t.timeYear(_e)-1,_e),De,2)}function re(_e,De){var je=_e.getDay();return _e=je>=4||je===0?t.timeThursday(_e):t.timeThursday.ceil(_e),u(t.timeThursday.count(t.timeYear(_e),_e)+(t.timeYear(_e).getDay()===4),De,2)}function J(_e){return _e.getDay()}function X(_e,De){return u(t.timeMonday.count(t.timeYear(_e)-1,_e),De,2)}function N(_e,De){return u(_e.getFullYear()%100,De,2)}function $(_e,De){return u(_e.getFullYear()%1e4,De,4)}function te(_e){var De=_e.getTimezoneOffset();return(De>0?"-":(De*=-1,"+"))+u(De/60|0,"0",2)+u(De%60,"0",2)}function le(_e,De){return u(_e.getUTCDate(),De,2)}function pe(_e,De){return u(_e.getUTCHours(),De,2)}function fe(_e,De){return u(_e.getUTCHours()%12||12,De,2)}function ye(_e,De){return u(1+t.utcDay.count(t.utcYear(_e),_e),De,3)}function Me(_e,De){return u(_e.getUTCMilliseconds(),De,3)}function He(_e,De){return Me(_e,De)+"000"}function Ne(_e,De){return u(_e.getUTCMonth()+1,De,2)}function ze(_e,De){return u(_e.getUTCMinutes(),De,2)}function Re(_e,De){return u(_e.getUTCSeconds(),De,2)}function Ae(_e){var De=_e.getUTCDay();return De===0?7:De}function T(_e,De){return u(t.utcSunday.count(t.utcYear(_e)-1,_e),De,2)}function V(_e,De){var je=_e.getUTCDay();return _e=je>=4||je===0?t.utcThursday(_e):t.utcThursday.ceil(_e),u(t.utcThursday.count(t.utcYear(_e),_e)+(t.utcYear(_e).getUTCDay()===4),De,2)}function j(_e){return _e.getUTCDay()}function he(_e,De){return u(t.utcMonday.count(t.utcYear(_e)-1,_e),De,2)}function be(_e,De){return u(_e.getUTCFullYear()%100,De,2)}function ke(_e,De){return u(_e.getUTCFullYear()%1e4,De,4)}function Ce(){return"+0000"}function qe(){return"%"}function at(_e){return+_e}function ct(_e){return Math.floor(+_e/1e3)}var vt;St({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function St(_e){return vt=a(_e),i.timeFormat=vt.format,i.timeParse=vt.parse,i.utcFormat=vt.utcFormat,i.utcParse=vt.utcParse,vt}var ot="%Y-%m-%dT%H:%M:%S.%LZ";function Ct(_e){return _e.toISOString()}var It=Date.prototype.toISOString?Ct:i.utcFormat(ot);function At(_e){var De=new Date(_e);return isNaN(De)?null:De}var Nt=+new Date("2000-01-01T00:00:00.000Z")?At:i.utcParse(ot);i.isoFormat=It,i.isoParse=Nt,i.timeFormatDefaultLocale=St,i.timeFormatLocale=a,Object.defineProperty(i,"__esModule",{value:!0})})}),gf=xe((E,k)=>{(function(i,t){typeof E=="object"&&typeof k<"u"?t(E):(i=typeof globalThis<"u"?globalThis:i||self,t(i.d3=i.d3||{}))})(E,function(i){function t(D){return Math.abs(D=Math.round(D))>=1e21?D.toLocaleString("en").replace(/,/g,""):D.toString(10)}function e(D,I){if((C=(D=I?D.toExponential(I-1):D.toExponential()).indexOf("e"))<0)return null;var C,H=D.slice(0,C);return[H.length>1?H[0]+H.slice(2):H,+D.slice(C+1)]}function n(D){return D=e(Math.abs(D)),D?D[1]:NaN}function l(D,I){return function(C,H){for(var z=C.length,R=[],U=0,Z=D[0],G=0;z>0&&Z>0&&(G+Z+1>H&&(Z=Math.max(1,H-G)),R.push(C.substring(z-=Z,z+Z)),!((G+=Z+1)>H));)Z=D[U=(U+1)%D.length];return R.reverse().join(I)}}function a(D){return function(I){return I.replace(/[0-9]/g,function(C){return D[+C]})}}var o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(D){if(!(I=o.exec(D)))throw new Error("invalid format: "+D);var I;return new r({fill:I[1],align:I[2],sign:I[3],symbol:I[4],zero:I[5],width:I[6],comma:I[7],precision:I[8]&&I[8].slice(1),trim:I[9],type:I[10]})}s.prototype=r.prototype;function r(D){this.fill=D.fill===void 0?" ":D.fill+"",this.align=D.align===void 0?">":D.align+"",this.sign=D.sign===void 0?"-":D.sign+"",this.symbol=D.symbol===void 0?"":D.symbol+"",this.zero=!!D.zero,this.width=D.width===void 0?void 0:+D.width,this.comma=!!D.comma,this.precision=D.precision===void 0?void 0:+D.precision,this.trim=!!D.trim,this.type=D.type===void 0?"":D.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function p(D){e:for(var I=D.length,C=1,H=-1,z;C<I;++C)switch(D[C]){case".":H=z=C;break;case"0":H===0&&(H=C),z=C;break;default:if(!+D[C])break e;H>0&&(H=0);break}return H>0?D.slice(0,H)+D.slice(z+1):D}var u;function d(D,I){var C=e(D,I);if(!C)return D+"";var H=C[0],z=C[1],R=z-(u=Math.max(-8,Math.min(8,Math.floor(z/3)))*3)+1,U=H.length;return R===U?H:R>U?H+new Array(R-U+1).join("0"):R>0?H.slice(0,R)+"."+H.slice(R):"0."+new Array(1-R).join("0")+e(D,Math.max(0,I+R-1))[0]}function g(D,I){var C=e(D,I);if(!C)return D+"";var H=C[0],z=C[1];return z<0?"0."+new Array(-z).join("0")+H:H.length>z+1?H.slice(0,z+1)+"."+H.slice(z+1):H+new Array(z-H.length+2).join("0")}var v={"%":function(D,I){return(D*100).toFixed(I)},b:function(D){return Math.round(D).toString(2)},c:function(D){return D+""},d:t,e:function(D,I){return D.toExponential(I)},f:function(D,I){return D.toFixed(I)},g:function(D,I){return D.toPrecision(I)},o:function(D){return Math.round(D).toString(8)},p:function(D,I){return g(D*100,I)},r:g,s:d,X:function(D){return Math.round(D).toString(16).toUpperCase()},x:function(D){return Math.round(D).toString(16)}};function x(D){return D}var y=Array.prototype.map,m=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function c(D){var I=D.grouping===void 0||D.thousands===void 0?x:l(y.call(D.grouping,Number),D.thousands+""),C=D.currency===void 0?"":D.currency[0]+"",H=D.currency===void 0?"":D.currency[1]+"",z=D.decimal===void 0?".":D.decimal+"",R=D.numerals===void 0?x:a(y.call(D.numerals,String)),U=D.percent===void 0?"%":D.percent+"",Z=D.minus===void 0?"-":D.minus+"",G=D.nan===void 0?"NaN":D.nan+"";function P(O){O=s(O);var L=O.fill,S=O.align,F=O.sign,W=O.symbol,ue=O.zero,ae=O.width,se=O.comma,q=O.precision,ee=O.trim,B=O.type;B==="n"?(se=!0,B="g"):v[B]||(q===void 0&&(q=12),ee=!0,B="g"),(ue||L==="0"&&S==="=")&&(ue=!0,L="0",S="=");var re=W==="$"?C:W==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",J=W==="$"?H:/[%p]/.test(B)?U:"",X=v[B],N=/[defgprs%]/.test(B);q=q===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function $(te){var le=re,pe=J,fe,ye,Me;if(B==="c")pe=X(te)+pe,te="";else{te=+te;var He=te<0||1/te<0;if(te=isNaN(te)?G:X(Math.abs(te),q),ee&&(te=p(te)),He&&+te==0&&F!=="+"&&(He=!1),le=(He?F==="("?F:Z:F==="-"||F==="("?"":F)+le,pe=(B==="s"?m[8+u/3]:"")+pe+(He&&F==="("?")":""),N){for(fe=-1,ye=te.length;++fe<ye;)if(Me=te.charCodeAt(fe),48>Me||Me>57){pe=(Me===46?z+te.slice(fe+1):te.slice(fe))+pe,te=te.slice(0,fe);break}}}se&&!ue&&(te=I(te,1/0));var Ne=le.length+te.length+pe.length,ze=Ne<ae?new Array(ae-Ne+1).join(L):"";switch(se&&ue&&(te=I(ze+te,ze.length?ae-pe.length:1/0),ze=""),S){case"<":te=le+te+pe+ze;break;case"=":te=le+ze+te+pe;break;case"^":te=ze.slice(0,Ne=ze.length>>1)+le+te+pe+ze.slice(Ne);break;default:te=ze+le+te+pe;break}return R(te)}return $.toString=function(){return O+""},$}function A(O,L){var S=P((O=s(O),O.type="f",O)),F=Math.max(-8,Math.min(8,Math.floor(n(L)/3)))*3,W=Math.pow(10,-F),ue=m[8+F/3];return function(ae){return S(W*ae)+ue}}return{format:P,formatPrefix:A}}var h;b({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function b(D){return h=c(D),i.format=h.format,i.formatPrefix=h.formatPrefix,h}function _(D){return Math.max(0,-n(Math.abs(D)))}function w(D,I){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(I)/3)))*3-n(Math.abs(D)))}function K(D,I){return D=Math.abs(D),I=Math.abs(I)-D,Math.max(0,n(I)-n(D))+1}i.FormatSpecifier=r,i.formatDefaultLocale=b,i.formatLocale=c,i.formatSpecifier=s,i.precisionFixed=_,i.precisionPrefix=w,i.precisionRound=K,Object.defineProperty(i,"__esModule",{value:!0})})}),Ch=xe((E,k)=>{k.exports=function(i){for(var t=i.length,e,n=0;n<t;n++)if(e=i.charCodeAt(n),(e<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}}),Bn=xe((E,k)=>{var i=Ch();k.exports=function(t){var e=typeof t;if(e==="string"){var n=t;if(t=+t,t===0&&i(n))return!1}else if(e!=="number")return!1;return t-t<1}}),Pa=xe((E,k)=>{k.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"−"}}),yf=xe((E,k)=>{(function(i,t){typeof E=="object"&&typeof k<"u"?t(E):(i=typeof globalThis<"u"?globalThis:i||self,t(i["base64-arraybuffer"]={}))})(E,function(i){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<t.length;n++)e[t.charCodeAt(n)]=n;var l=function(o){var s=new Uint8Array(o),r,p=s.length,u="";for(r=0;r<p;r+=3)u+=t[s[r]>>2],u+=t[(s[r]&3)<<4|s[r+1]>>4],u+=t[(s[r+1]&15)<<2|s[r+2]>>6],u+=t[s[r+2]&63];return p%3===2?u=u.substring(0,u.length-1)+"=":p%3===1&&(u=u.substring(0,u.length-2)+"=="),u},a=function(o){var s=o.length*.75,r=o.length,p,u=0,d,g,v,x;o[o.length-1]==="="&&(s--,o[o.length-2]==="="&&s--);var y=new ArrayBuffer(s),m=new Uint8Array(y);for(p=0;p<r;p+=4)d=e[o.charCodeAt(p)],g=e[o.charCodeAt(p+1)],v=e[o.charCodeAt(p+2)],x=e[o.charCodeAt(p+3)],m[u++]=d<<2|g>>4,m[u++]=(g&15)<<4|v>>2,m[u++]=(v&3)<<6|x&63;return y};i.decode=a,i.encode=l,Object.defineProperty(i,"__esModule",{value:!0})})}),To=xe((E,k)=>{k.exports=function(i){return window&&window.process&&window.process.versions?Object.prototype.toString.call(i)==="[object Object]":Object.prototype.toString.call(i)==="[object Object]"&&Object.getPrototypeOf(i).hasOwnProperty("hasOwnProperty")}}),hi=xe(E=>{var k=yf().decode,i=To(),t=Array.isArray,e=ArrayBuffer,n=DataView;function l(d){return e.isView(d)&&!(d instanceof n)}E.isTypedArray=l;function a(d){return t(d)||l(d)}E.isArrayOrTypedArray=a;function o(d){return!a(d[0])}E.isArray1D=o,E.ensureArray=function(d,g){return t(d)||(d=[]),d.length=g,d};var s={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};s.uint8c=s.u1c,s.uint8=s.u1,s.int8=s.i1,s.uint16=s.u2,s.int16=s.i2,s.uint32=s.u4,s.int32=s.i4,s.float32=s.f4,s.float64=s.f8;function r(d){return d.constructor===ArrayBuffer}E.isArrayBuffer=r,E.decodeTypedArraySpec=function(d){var g=[],v=p(d),x=v.dtype,y=s[x];if(!y)throw new Error('Error in dtype: "'+x+'"');var m=y.BYTES_PER_ELEMENT,c=v.bdata;r(c)||(c=k(c));var h=v.shape===void 0?[c.byteLength/m]:(""+v.shape).split(",");h.reverse();var b=h.length,_,w,K=+h[0],D=m*K,I=0;if(b===1)g=new y(c);else if(b===2)for(_=+h[1],w=0;w<_;w++)g[w]=new y(c,I,K),I+=D;else if(b===3){_=+h[1];for(var C=+h[2],H=0;H<C;H++)for(g[H]=[],w=0;w<_;w++)g[H][w]=new y(c,I,K),I+=D}else throw new Error("ndim: "+b+'is not supported with the shape:"'+v.shape+'"');return g.bdata=v.bdata,g.dtype=v.dtype,g.shape=h.reverse().join(","),d._inputArray=g,g},E.isTypedArraySpec=function(d){return i(d)&&d.hasOwnProperty("dtype")&&typeof d.dtype=="string"&&d.hasOwnProperty("bdata")&&(typeof d.bdata=="string"||r(d.bdata))&&(d.shape===void 0||d.hasOwnProperty("shape")&&(typeof d.shape=="string"||typeof d.shape=="number"))};function p(d){return{bdata:d.bdata,dtype:d.dtype,shape:d.shape}}E.concat=function(){var d=[],g=!0,v=0,x,y,m,c,h,b,_,w;for(m=0;m<arguments.length;m++)c=arguments[m],b=c.length,b&&(y?d.push(c):(y=c,h=b),t(c)?x=!1:(g=!1,v?x!==c.constructor&&(x=!1):x=c.constructor),v+=b);if(!v)return[];if(!d.length)return y;if(g)return y.concat.apply(y,d);if(x){for(_=new x(v),_.set(y),m=0;m<d.length;m++)c=d[m],_.set(c,h),h+=c.length;return _}for(_=new Array(v),w=0;w<y.length;w++)_[w]=y[w];for(m=0;m<d.length;m++){for(c=d[m],w=0;w<c.length;w++)_[h+w]=c[w];h+=w}return _},E.maxRowLength=function(d){return u(d,Math.max,0)},E.minRowLength=function(d){return u(d,Math.min,1/0)};function u(d,g,v){if(a(d))if(a(d[0])){for(var x=v,y=0;y<d.length;y++)x=g(x,d[y].length);return x}else return d.length;return 0}}),Wu=xe((E,k)=>{var i=Bn(),t=hi().isArrayOrTypedArray;k.exports=function(u,d){if(i(d))d=String(d);else if(typeof d!="string"||d.substr(d.length-4)==="[-1]")throw"bad property string";var g=d.split("."),v,x,y,m;for(m=0;m<g.length;m++)if(String(g[m]).slice(0,2)==="__")throw"bad property string";for(m=0;m<g.length;){if(v=String(g[m]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),v){if(v[1])g[m]=v[1];else if(m===0)g.splice(0,1);else throw"bad property string";for(x=v[2].substr(1,v[2].length-2).split("]["),y=0;y<x.length;y++)m++,g.splice(m,0,Number(x[y]))}m++}return typeof u!="object"?p(u,d,g):{set:a(u,g,d),get:e(u,g),astr:d,parts:g,obj:u}};function e(u,d){return function(g){var v=u,x,y,m,c,h;for(c=0;c<d.length-1;c++){if(x=d[c],x===-1){for(y=!0,m=[],h=0;h<v.length;h++)m[h]=e(v[h],d.slice(c+1))(g),m[h]!==m[0]&&(y=!1);return y?m[0]:m}if(typeof x=="number"&&!t(v)||(v=v[x],typeof v!="object"||v===null))return}if(!(typeof v!="object"||v===null)&&(m=v[d[c]],!(!g&&m===null)))return m}}var n=/(^|\.)args\[/;function l(u,d){return u===void 0||u===null&&!d.match(n)}function a(u,d,g){return function(v){var x=u,y="",m=l(v,g),c,h;for(h=0;h<d.length-1;h++){if(c=d[h],typeof c=="number"&&!t(x))throw"array index but container is not an array";if(c===-1){if(m=!s(x,d.slice(h+1),v,g),m)break;return}if(!r(x,c,d[h+1],m))break;if(x=x[c],typeof x!="object"||x===null)throw"container is not an object";y=o(y,c)}if(m){if(h===d.length-1&&(delete x[d[h]],Array.isArray(x)&&+d[h]===x.length-1))for(;x.length&&x[x.length-1]===void 0;)x.pop()}else x[d[h]]=v}}function o(u,d){var g=d;return i(d)?g="["+d+"]":u&&(g="."+d),u+g}function s(u,d,g,v){var x=t(g),y=!0,m=g,c=v.replace("-1",0),h=x?!1:l(g,c),b=d[0],_;for(_=0;_<u.length;_++)c=v.replace("-1",_),x&&(m=g[_%g.length],h=l(m,c)),h&&(y=!1),r(u,_,b,h)&&a(u[_],d,v.replace("-1",_))(m);return y}function r(u,d,g,v){if(u[d]===void 0){if(v)return!1;typeof g=="number"?u[d]=[]:u[d]={}}return!0}function p(u,d,g){return{set:function(){throw"bad container"},get:function(){},astr:d,parts:g,obj:u}}}),Dh=xe((E,k)=>{var i=Wu(),t=/^\w*$/,e=0,n=1,l=2,a=3,o=4;k.exports=function(s,r,p,u){p=p||"name",u=u||"value";var d,g,v,x={};r&&r.length?(v=i(s,r),g=v.get()):g=s,r=r||"";var y={};if(g)for(d=0;d<g.length;d++)y[g[d][p]]=d;var m=t.test(u),c={set:function(h,b){var _=b===null?o:e;if(!g){if(!v||_===o)return;g=[],v.set(g)}var w=y[h];if(w===void 0){if(_===o)return;_=_|a,w=g.length,y[h]=w}else b!==(m?g[w][u]:i(g[w],u).get())&&(_=_|l);var K=g[w]=g[w]||{};return K[p]=h,m?K[u]=b:i(K,u).set(b),b!==null&&(_=_&-5),x[w]=x[w]|_,c},get:function(h){if(g){var b=y[h];if(b!==void 0)return m?g[b][u]:i(g[b],u).get()}},rename:function(h,b){var _=y[h];return _===void 0||(x[_]=x[_]|n,y[b]=_,delete y[h],g[_][p]=b),c},remove:function(h){var b=y[h];if(b===void 0)return c;var _=g[b];if(Object.keys(_).length>2)return x[b]=x[b]|l,c.set(h,null);if(m){for(d=b;d<g.length;d++)x[d]=x[d]|a;for(d=b;d<g.length;d++)y[g[d][p]]--;g.splice(b,1),delete y[h]}else i(_,u).set(null),x[b]=x[b]|l|o;return c},constructUpdate:function(){for(var h,b,_={},w=Object.keys(x),K=0;K<w.length;K++)b=w[K],h=r+"["+b+"]",g[b]?(x[b]&n&&(_[h+"."+p]=g[b][p]),x[b]&l&&(m?_[h+"."+u]=x[b]&o?null:g[b][u]:_[h+"."+u]=x[b]&o?null:i(g[b],u).get())):_[h]=null;return _}};return c}}),Eh=xe((E,k)=>{var i=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;k.exports=function(e,n){for(;n;){var l=e.match(i);if(l)e=l[1];else if(e.match(t))e="";else throw new Error("bad relativeAttr call:"+[e,n]);if(n.charAt(0)==="^")n=n.slice(1);else break}return e&&n.charAt(0)!=="["?e+"."+n:e+n}}),Yu=xe((E,k)=>{var i=Bn();k.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var n=Math.log(Math.min(e[0],e[1]))/Math.LN10;return i(n)||(n=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),n}}),Ph=xe((E,k)=>{var i=hi().isArrayOrTypedArray,t=To();k.exports=function e(n,l){for(var a in l){var o=l[a],s=n[a];if(s!==o)if(a.charAt(0)==="_"||typeof o=="function"){if(a in n)continue;n[a]=o}else if(i(o)&&i(s)&&t(o[0])){if(a==="customdata"||a==="ids")continue;for(var r=Math.min(o.length,s.length),p=0;p<r;p++)s[p]!==o[p]&&t(o[p])&&t(s[p])&&e(s[p],o[p])}else t(o)&&t(s)&&(e(s,o),Object.keys(s).length||delete n[a])}}}),wl=xe((E,k)=>{function i(e,n){var l=e%n;return l<0?l+n:l}function t(e,n){return Math.abs(e)>n/2?e-Math.round(e/n)*n:e}k.exports={mod:i,modHalf:t}}),Li=xe((E,k)=>{(function(i){var t=/^\s+/,e=/\s+$/,n=0,l=i.round,a=i.min,o=i.max,s=i.random;function r(N,$){if(N=N||"",$=$||{},N instanceof r)return N;if(!(this instanceof r))return new r(N,$);var te=p(N);this._originalInput=N,this._r=te.r,this._g=te.g,this._b=te.b,this._a=te.a,this._roundA=l(100*this._a)/100,this._format=$.format||te.format,this._gradientType=$.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=te.ok,this._tc_id=n++}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var N=this.toRgb();return(N.r*299+N.g*587+N.b*114)/1e3},getLuminance:function(){var N=this.toRgb(),$,te,le,pe,fe,ye;return $=N.r/255,te=N.g/255,le=N.b/255,$<=.03928?pe=$/12.92:pe=i.pow(($+.055)/1.055,2.4),te<=.03928?fe=te/12.92:fe=i.pow((te+.055)/1.055,2.4),le<=.03928?ye=le/12.92:ye=i.pow((le+.055)/1.055,2.4),.2126*pe+.7152*fe+.0722*ye},setAlpha:function(N){return this._a=O(N),this._roundA=l(100*this._a)/100,this},toHsv:function(){var N=v(this._r,this._g,this._b);return{h:N.h*360,s:N.s,v:N.v,a:this._a}},toHsvString:function(){var N=v(this._r,this._g,this._b),$=l(N.h*360),te=l(N.s*100),le=l(N.v*100);return this._a==1?"hsv("+$+", "+te+"%, "+le+"%)":"hsva("+$+", "+te+"%, "+le+"%, "+this._roundA+")"},toHsl:function(){var N=d(this._r,this._g,this._b);return{h:N.h*360,s:N.s,l:N.l,a:this._a}},toHslString:function(){var N=d(this._r,this._g,this._b),$=l(N.h*360),te=l(N.s*100),le=l(N.l*100);return this._a==1?"hsl("+$+", "+te+"%, "+le+"%)":"hsla("+$+", "+te+"%, "+le+"%, "+this._roundA+")"},toHex:function(N){return y(this._r,this._g,this._b,N)},toHexString:function(N){return"#"+this.toHex(N)},toHex8:function(N){return m(this._r,this._g,this._b,this._a,N)},toHex8String:function(N){return"#"+this.toHex8(N)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(L(this._r,255)*100)+"%",g:l(L(this._g,255)*100)+"%",b:l(L(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+l(L(this._r,255)*100)+"%, "+l(L(this._g,255)*100)+"%, "+l(L(this._b,255)*100)+"%)":"rgba("+l(L(this._r,255)*100)+"%, "+l(L(this._g,255)*100)+"%, "+l(L(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:P[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(N){var $="#"+c(this._r,this._g,this._b,this._a),te=$,le=this._gradientType?"GradientType = 1, ":"";if(N){var pe=r(N);te="#"+c(pe._r,pe._g,pe._b,pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+le+"startColorstr="+$+",endColorstr="+te+")"},toString:function(N){var $=!!N;N=N||this._format;var te=!1,le=this._a<1&&this._a>=0,pe=!$&&le&&(N==="hex"||N==="hex6"||N==="hex3"||N==="hex4"||N==="hex8"||N==="name");return pe?N==="name"&&this._a===0?this.toName():this.toRgbString():(N==="rgb"&&(te=this.toRgbString()),N==="prgb"&&(te=this.toPercentageRgbString()),(N==="hex"||N==="hex6")&&(te=this.toHexString()),N==="hex3"&&(te=this.toHexString(!0)),N==="hex4"&&(te=this.toHex8String(!0)),N==="hex8"&&(te=this.toHex8String()),N==="name"&&(te=this.toName()),N==="hsl"&&(te=this.toHslString()),N==="hsv"&&(te=this.toHsvString()),te||this.toHexString())},clone:function(){return r(this.toString())},_applyModification:function(N,$){var te=N.apply(null,[this].concat([].slice.call($)));return this._r=te._r,this._g=te._g,this._b=te._b,this.setAlpha(te._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(K,arguments)},darken:function(){return this._applyModification(D,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(I,arguments)},_applyCombination:function(N,$){return N.apply(null,[this].concat([].slice.call($)))},analogous:function(){return this._applyCombination(U,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(Z,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(H,arguments)},tetrad:function(){return this._applyCombination(z,arguments)}},r.fromRatio=function(N,$){if(typeof N=="object"){var te={};for(var le in N)N.hasOwnProperty(le)&&(le==="a"?te[le]=N[le]:te[le]=se(N[le]));N=te}return r(N,$)};function p(N){var $={r:0,g:0,b:0},te=1,le=null,pe=null,fe=null,ye=!1,Me=!1;return typeof N=="string"&&(N=J(N)),typeof N=="object"&&(re(N.r)&&re(N.g)&&re(N.b)?($=u(N.r,N.g,N.b),ye=!0,Me=String(N.r).substr(-1)==="%"?"prgb":"rgb"):re(N.h)&&re(N.s)&&re(N.v)?(le=se(N.s),pe=se(N.v),$=x(N.h,le,pe),ye=!0,Me="hsv"):re(N.h)&&re(N.s)&&re(N.l)&&(le=se(N.s),fe=se(N.l),$=g(N.h,le,fe),ye=!0,Me="hsl"),N.hasOwnProperty("a")&&(te=N.a)),te=O(te),{ok:ye,format:N.format||Me,r:a(255,o($.r,0)),g:a(255,o($.g,0)),b:a(255,o($.b,0)),a:te}}function u(N,$,te){return{r:L(N,255)*255,g:L($,255)*255,b:L(te,255)*255}}function d(N,$,te){N=L(N,255),$=L($,255),te=L(te,255);var le=o(N,$,te),pe=a(N,$,te),fe,ye,Me=(le+pe)/2;if(le==pe)fe=ye=0;else{var He=le-pe;switch(ye=Me>.5?He/(2-le-pe):He/(le+pe),le){case N:fe=($-te)/He+($<te?6:0);break;case $:fe=(te-N)/He+2;break;case te:fe=(N-$)/He+4;break}fe/=6}return{h:fe,s:ye,l:Me}}function g(N,$,te){var le,pe,fe;N=L(N,360),$=L($,100),te=L(te,100);function ye(Ne,ze,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<1/6?Ne+(ze-Ne)*6*Re:Re<1/2?ze:Re<2/3?Ne+(ze-Ne)*(2/3-Re)*6:Ne}if($===0)le=pe=fe=te;else{var Me=te<.5?te*(1+$):te+$-te*$,He=2*te-Me;le=ye(He,Me,N+1/3),pe=ye(He,Me,N),fe=ye(He,Me,N-1/3)}return{r:le*255,g:pe*255,b:fe*255}}function v(N,$,te){N=L(N,255),$=L($,255),te=L(te,255);var le=o(N,$,te),pe=a(N,$,te),fe,ye,Me=le,He=le-pe;if(ye=le===0?0:He/le,le==pe)fe=0;else{switch(le){case N:fe=($-te)/He+($<te?6:0);break;case $:fe=(te-N)/He+2;break;case te:fe=(N-$)/He+4;break}fe/=6}return{h:fe,s:ye,v:Me}}function x(N,$,te){N=L(N,360)*6,$=L($,100),te=L(te,100);var le=i.floor(N),pe=N-le,fe=te*(1-$),ye=te*(1-pe*$),Me=te*(1-(1-pe)*$),He=le%6,Ne=[te,ye,fe,fe,Me,te][He],ze=[Me,te,te,ye,fe,fe][He],Re=[fe,fe,Me,te,te,ye][He];return{r:Ne*255,g:ze*255,b:Re*255}}function y(N,$,te,le){var pe=[ae(l(N).toString(16)),ae(l($).toString(16)),ae(l(te).toString(16))];return le&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0):pe.join("")}function m(N,$,te,le,pe){var fe=[ae(l(N).toString(16)),ae(l($).toString(16)),ae(l(te).toString(16)),ae(q(le))];return pe&&fe[0].charAt(0)==fe[0].charAt(1)&&fe[1].charAt(0)==fe[1].charAt(1)&&fe[2].charAt(0)==fe[2].charAt(1)&&fe[3].charAt(0)==fe[3].charAt(1)?fe[0].charAt(0)+fe[1].charAt(0)+fe[2].charAt(0)+fe[3].charAt(0):fe.join("")}function c(N,$,te,le){var pe=[ae(q(le)),ae(l(N).toString(16)),ae(l($).toString(16)),ae(l(te).toString(16))];return pe.join("")}r.equals=function(N,$){return!N||!$?!1:r(N).toRgbString()==r($).toRgbString()},r.random=function(){return r.fromRatio({r:s(),g:s(),b:s()})};function h(N,$){$=$===0?0:$||10;var te=r(N).toHsl();return te.s-=$/100,te.s=S(te.s),r(te)}function b(N,$){$=$===0?0:$||10;var te=r(N).toHsl();return te.s+=$/100,te.s=S(te.s),r(te)}function _(N){return r(N).desaturate(100)}function w(N,$){$=$===0?0:$||10;var te=r(N).toHsl();return te.l+=$/100,te.l=S(te.l),r(te)}function K(N,$){$=$===0?0:$||10;var te=r(N).toRgb();return te.r=o(0,a(255,te.r-l(255*-($/100)))),te.g=o(0,a(255,te.g-l(255*-($/100)))),te.b=o(0,a(255,te.b-l(255*-($/100)))),r(te)}function D(N,$){$=$===0?0:$||10;var te=r(N).toHsl();return te.l-=$/100,te.l=S(te.l),r(te)}function I(N,$){var te=r(N).toHsl(),le=(te.h+$)%360;return te.h=le<0?360+le:le,r(te)}function C(N){var $=r(N).toHsl();return $.h=($.h+180)%360,r($)}function H(N){var $=r(N).toHsl(),te=$.h;return[r(N),r({h:(te+120)%360,s:$.s,l:$.l}),r({h:(te+240)%360,s:$.s,l:$.l})]}function z(N){var $=r(N).toHsl(),te=$.h;return[r(N),r({h:(te+90)%360,s:$.s,l:$.l}),r({h:(te+180)%360,s:$.s,l:$.l}),r({h:(te+270)%360,s:$.s,l:$.l})]}function R(N){var $=r(N).toHsl(),te=$.h;return[r(N),r({h:(te+72)%360,s:$.s,l:$.l}),r({h:(te+216)%360,s:$.s,l:$.l})]}function U(N,$,te){$=$||6,te=te||30;var le=r(N).toHsl(),pe=360/te,fe=[r(N)];for(le.h=(le.h-(pe*$>>1)+720)%360;--$;)le.h=(le.h+pe)%360,fe.push(r(le));return fe}function Z(N,$){$=$||6;for(var te=r(N).toHsv(),le=te.h,pe=te.s,fe=te.v,ye=[],Me=1/$;$--;)ye.push(r({h:le,s:pe,v:fe})),fe=(fe+Me)%1;return ye}r.mix=function(N,$,te){te=te===0?0:te||50;var le=r(N).toRgb(),pe=r($).toRgb(),fe=te/100,ye={r:(pe.r-le.r)*fe+le.r,g:(pe.g-le.g)*fe+le.g,b:(pe.b-le.b)*fe+le.b,a:(pe.a-le.a)*fe+le.a};return r(ye)},r.readability=function(N,$){var te=r(N),le=r($);return(i.max(te.getLuminance(),le.getLuminance())+.05)/(i.min(te.getLuminance(),le.getLuminance())+.05)},r.isReadable=function(N,$,te){var le=r.readability(N,$),pe,fe;switch(fe=!1,pe=X(te),pe.level+pe.size){case"AAsmall":case"AAAlarge":fe=le>=4.5;break;case"AAlarge":fe=le>=3;break;case"AAAsmall":fe=le>=7;break}return fe},r.mostReadable=function(N,$,te){var le=null,pe=0,fe,ye,Me,He;te=te||{},ye=te.includeFallbackColors,Me=te.level,He=te.size;for(var Ne=0;Ne<$.length;Ne++)fe=r.readability(N,$[Ne]),fe>pe&&(pe=fe,le=r($[Ne]));return r.isReadable(N,le,{level:Me,size:He})||!ye?le:(te.includeFallbackColors=!1,r.mostReadable(N,["#fff","#000"],te))};var G=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=r.hexNames=A(G);function A(N){var $={};for(var te in N)N.hasOwnProperty(te)&&($[N[te]]=te);return $}function O(N){return N=parseFloat(N),(isNaN(N)||N<0||N>1)&&(N=1),N}function L(N,$){W(N)&&(N="100%");var te=ue(N);return N=a($,o(0,parseFloat(N))),te&&(N=parseInt(N*$,10)/100),i.abs(N-$)<1e-6?1:N%$/parseFloat($)}function S(N){return a(1,o(0,N))}function F(N){return parseInt(N,16)}function W(N){return typeof N=="string"&&N.indexOf(".")!=-1&&parseFloat(N)===1}function ue(N){return typeof N=="string"&&N.indexOf("%")!=-1}function ae(N){return N.length==1?"0"+N:""+N}function se(N){return N<=1&&(N=N*100+"%"),N}function q(N){return i.round(parseFloat(N)*255).toString(16)}function ee(N){return F(N)/255}var B=function(){var N="[-\\+]?\\d+%?",$="[-\\+]?\\d*\\.\\d+%?",te="(?:"+$+")|(?:"+N+")",le="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?",pe="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?";return{CSS_UNIT:new RegExp(te),rgb:new RegExp("rgb"+le),rgba:new RegExp("rgba"+pe),hsl:new RegExp("hsl"+le),hsla:new RegExp("hsla"+pe),hsv:new RegExp("hsv"+le),hsva:new RegExp("hsva"+pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function re(N){return!!B.CSS_UNIT.exec(N)}function J(N){N=N.replace(t,"").replace(e,"").toLowerCase();var $=!1;if(G[N])N=G[N],$=!0;else if(N=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var te;return(te=B.rgb.exec(N))?{r:te[1],g:te[2],b:te[3]}:(te=B.rgba.exec(N))?{r:te[1],g:te[2],b:te[3],a:te[4]}:(te=B.hsl.exec(N))?{h:te[1],s:te[2],l:te[3]}:(te=B.hsla.exec(N))?{h:te[1],s:te[2],l:te[3],a:te[4]}:(te=B.hsv.exec(N))?{h:te[1],s:te[2],v:te[3]}:(te=B.hsva.exec(N))?{h:te[1],s:te[2],v:te[3],a:te[4]}:(te=B.hex8.exec(N))?{r:F(te[1]),g:F(te[2]),b:F(te[3]),a:ee(te[4]),format:$?"name":"hex8"}:(te=B.hex6.exec(N))?{r:F(te[1]),g:F(te[2]),b:F(te[3]),format:$?"name":"hex"}:(te=B.hex4.exec(N))?{r:F(te[1]+""+te[1]),g:F(te[2]+""+te[2]),b:F(te[3]+""+te[3]),a:ee(te[4]+""+te[4]),format:$?"name":"hex8"}:(te=B.hex3.exec(N))?{r:F(te[1]+""+te[1]),g:F(te[2]+""+te[2]),b:F(te[3]+""+te[3]),format:$?"name":"hex"}:!1}function X(N){var $,te;return N=N||{level:"AA",size:"small"},$=(N.level||"AA").toUpperCase(),te=(N.size||"small").toLowerCase(),$!=="AA"&&$!=="AAA"&&($="AA"),te!=="small"&&te!=="large"&&(te="small"),{level:$,size:te}}typeof k<"u"&&k.exports?k.exports=r:window.tinycolor=r})(Math)}),za=xe(E=>{var k=To(),i=Array.isArray;function t(n,l){var a,o;for(a=0;a<n.length;a++){if(o=n[a],o!==null&&typeof o=="object")return!1;o!==void 0&&(l[a]=o)}return!0}E.extendFlat=function(){return e(arguments,!1,!1,!1)},E.extendDeep=function(){return e(arguments,!0,!1,!1)},E.extendDeepAll=function(){return e(arguments,!0,!0,!1)},E.extendDeepNoArrays=function(){return e(arguments,!0,!1,!0)};function e(n,l,a,o){var s=n[0],r=n.length,p,u,d,g,v,x,y;if(r===2&&i(s)&&i(n[1])&&s.length===0){if(y=t(n[1],s),y)return s;s.splice(0,s.length)}for(var m=1;m<r;m++){p=n[m];for(u in p)d=s[u],g=p[u],o&&i(g)?s[u]=g:l&&g&&(k(g)||(v=i(g)))?(v?(v=!1,x=d&&i(d)?d:[]):x=d&&k(d)?d:{},s[u]=e([x,g],l,a,o)):(typeof g<"u"||a)&&(s[u]=g)}return s}}),ei=xe((E,k)=>{k.exports=function(i){var t=i.variantValues,e=i.editType,n=i.colorEditType;n===void 0&&(n=e);var l={editType:e,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};i.noNumericWeightValues&&(l.valType="enumerated",l.values=l.extras,l.extras=void 0,l.min=void 0,l.max=void 0);var a={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:n},weight:l,style:{editType:e,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:i.noFontVariant?void 0:{editType:e,valType:"enumerated",values:t||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:i.noFontTextcase?void 0:{editType:e,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:i.noFontLineposition?void 0:{editType:e,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:i.noFontShadow?void 0:{editType:e,valType:"string",dflt:i.autoShadowDflt?"auto":"none"},editType:e};return i.autoSize&&(a.size.dflt="auto"),i.autoColor&&(a.color.dflt="auto"),i.arrayOk&&(a.family.arrayOk=!0,a.weight.arrayOk=!0,a.style.arrayOk=!0,i.noFontVariant||(a.variant.arrayOk=!0),i.noFontTextcase||(a.textcase.arrayOk=!0),i.noFontLineposition||(a.lineposition.arrayOk=!0),i.noFontShadow||(a.shadow.arrayOk=!0),a.size.arrayOk=!0,a.color.arrayOk=!0),a}}),Os=xe((E,k)=>{k.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}),Al=xe((E,k)=>{var i=Os(),t=ei(),e=t({editType:"none"});e.family.dflt=i.HOVERFONT,e.size.dflt=i.HOVERFONTSIZE,k.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:e,grouptitlefont:t({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}),Gu=xe((E,k)=>{var i=ei(),t=Al().hoverlabel,e=za().extendFlat;k.exports={hoverlabel:{bgcolor:e({},t.bgcolor,{arrayOk:!0}),bordercolor:e({},t.bordercolor,{arrayOk:!0}),font:i({arrayOk:!0,editType:"none"}),align:e({},t.align,{arrayOk:!0}),namelength:e({},t.namelength,{arrayOk:!0}),editType:"none"}}}),Ci=xe((E,k)=>{var i=ei(),t=Gu();k.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:i({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:t.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}),Wo=xe((E,k)=>{var i=Li(),t={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},e=t.RdBu;function n(o,s){if(s||(s=e),!o)return s;function r(){try{o=t[o]||JSON.parse(o)}catch{o=s}}return typeof o=="string"&&(r(),typeof o=="string"&&r()),l(o)?o:s}function l(o){var s=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||+o[0][0]!=0||+o[o.length-1][0]!=1)return!1;for(var r=0;r<o.length;r++){var p=o[r];if(p.length!==2||+p[0]<s||!i(p[1]).isValid())return!1;s=+p[0]}return!0}function a(o){return t[o]!==void 0?!0:l(o)}k.exports={scales:t,defaultScale:e,get:n,isValid:a}}),Bi=xe(E=>{E.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],E.defaultLine="#444",E.lightLine="#eee",E.background="#fff",E.borderLine="#BEC8D9",E.lightFraction=100*10/11}),Nn=xe((E,k)=>{var i=Li(),t=Bn(),e=hi().isTypedArray,n=k.exports={},l=Bi();n.defaults=l.defaults;var a=n.defaultLine=l.defaultLine;n.lightLine=l.lightLine;var o=n.background=l.background;n.tinyRGB=function(r){var p=r.toRgb();return"rgb("+Math.round(p.r)+", "+Math.round(p.g)+", "+Math.round(p.b)+")"},n.rgb=function(r){return n.tinyRGB(i(r))},n.opacity=function(r){return r?i(r).getAlpha():0},n.addOpacity=function(r,p){var u=i(r).toRgb();return"rgba("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+", "+p+")"},n.combine=function(r,p){var u=i(r).toRgb();if(u.a===1)return i(r).toRgbString();var d=i(p||o).toRgb(),g=d.a===1?d:{r:255*(1-d.a)+d.r*d.a,g:255*(1-d.a)+d.g*d.a,b:255*(1-d.a)+d.b*d.a},v={r:g.r*(1-u.a)+u.r*u.a,g:g.g*(1-u.a)+u.g*u.a,b:g.b*(1-u.a)+u.b*u.a};return i(v).toRgbString()},n.interpolate=function(r,p,u){var d=i(r).toRgb(),g=i(p).toRgb(),v={r:u*d.r+(1-u)*g.r,g:u*d.g+(1-u)*g.g,b:u*d.b+(1-u)*g.b};return i(v).toRgbString()},n.contrast=function(r,p,u){var d=i(r);d.getAlpha()!==1&&(d=i(n.combine(r,o)));var g=d.isDark()?p?d.lighten(p):o:u?d.darken(u):a;return g.toString()},n.stroke=function(r,p){var u=i(p);r.style({stroke:n.tinyRGB(u),"stroke-opacity":u.getAlpha()})},n.fill=function(r,p){var u=i(p);r.style({fill:n.tinyRGB(u),"fill-opacity":u.getAlpha()})},n.clean=function(r){if(!(!r||typeof r!="object")){var p=Object.keys(r),u,d,g,v;for(u=0;u<p.length;u++)if(g=p[u],v=r[g],g.substr(g.length-5)==="color")if(Array.isArray(v))for(d=0;d<v.length;d++)v[d]=s(v[d]);else r[g]=s(v);else if(g.substr(g.length-10)==="colorscale"&&Array.isArray(v))for(d=0;d<v.length;d++)Array.isArray(v[d])&&(v[d][1]=s(v[d][1]));else if(Array.isArray(v)){var x=v[0];if(!Array.isArray(x)&&x&&typeof x=="object")for(d=0;d<v.length;d++)n.clean(v[d])}else v&&typeof v=="object"&&!e(v)&&n.clean(v)}};function s(r){if(t(r)||typeof r!="string")return r;var p=r.trim();if(p.substr(0,3)!=="rgb")return r;var u=p.match(/^rgba?\s*\(([^()]*)\)$/);if(!u)return r;var d=u[1].trim().split(/\s*[\s,]\s*/),g=p.charAt(3)==="a"&&d.length===4;if(!g&&d.length!==3)return r;for(var v=0;v<d.length;v++){if(!d[v].length||(d[v]=Number(d[v]),!(d[v]>=0)))return r;if(v===3)d[v]>1&&(d[v]=1);else if(d[v]>=1)return r}var x=Math.round(d[0]*255)+", "+Math.round(d[1]*255)+", "+Math.round(d[2]*255);return g?"rgba("+x+", "+d[3]+")":"rgb("+x+")"}}),Tl=xe((E,k)=>{k.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),kl=xe(E=>{E.counter=function(k,i,t,e){var n=(i||"")+(t?"":"$"),l=e===!1?"":"^";return k==="xy"?new RegExp(l+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(l+k+"([2-9]|[1-9][0-9]+)?"+n)}}),Fh=xe(E=>{var k=Bn(),i=Li(),t=za().extendFlat,e=Ci(),n=Wo(),l=Nn(),a=Tl().DESELECTDIM,o=Wu(),s=kl().counter,r=wl().modHalf,p=hi().isArrayOrTypedArray,u=hi().isTypedArraySpec,d=hi().decodeTypedArraySpec;E.valObjectMeta={data_array:{coerceFunction:function(v,x,y){x.set(p(v)?v:u(v)?d(v):y)}},enumerated:{coerceFunction:function(v,x,y,m){m.coerceNumber&&(v=+v),m.values.indexOf(v)===-1?x.set(y):x.set(v)},validateFunction:function(v,x){x.coerceNumber&&(v=+v);for(var y=x.values,m=0;m<y.length;m++){var c=String(y[m]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var h=new RegExp(c.substr(1,c.length-2));if(h.test(v))return!0}else if(v===y[m])return!0}return!1}},boolean:{coerceFunction:function(v,x,y){v===!0||v===!1?x.set(v):x.set(y)}},number:{coerceFunction:function(v,x,y,m){u(v)&&(v=d(v)),!k(v)||m.min!==void 0&&v<m.min||m.max!==void 0&&v>m.max?x.set(y):x.set(+v)}},integer:{coerceFunction:function(v,x,y,m){if((m.extras||[]).indexOf(v)!==-1){x.set(v);return}u(v)&&(v=d(v)),v%1||!k(v)||m.min!==void 0&&v<m.min||m.max!==void 0&&v>m.max?x.set(y):x.set(+v)}},string:{coerceFunction:function(v,x,y,m){if(typeof v!="string"){var c=typeof v=="number";m.strict===!0||!c?x.set(y):x.set(String(v))}else m.noBlank&&!v?x.set(y):x.set(v)}},color:{coerceFunction:function(v,x,y){u(v)&&(v=d(v)),i(v).isValid()?x.set(v):x.set(y)}},colorlist:{coerceFunction:function(v,x,y){function m(c){return i(c).isValid()}!Array.isArray(v)||!v.length?x.set(y):v.every(m)?x.set(v):x.set(y)}},colorscale:{coerceFunction:function(v,x,y){x.set(n.get(v,y))}},angle:{coerceFunction:function(v,x,y){u(v)&&(v=d(v)),v==="auto"?x.set("auto"):k(v)?x.set(r(+v,360)):x.set(y)}},subplotid:{coerceFunction:function(v,x,y,m){var c=m.regex||s(y);if(typeof v=="string"&&c.test(v)){x.set(v);return}x.set(y)},validateFunction:function(v,x){var y=x.dflt;return v===y?!0:typeof v!="string"?!1:!!s(y).test(v)}},flaglist:{coerceFunction:function(v,x,y,m){if((m.extras||[]).indexOf(v)!==-1){x.set(v);return}if(typeof v!="string"){x.set(y);return}for(var c=v.split("+"),h=0;h<c.length;){var b=c[h];m.flags.indexOf(b)===-1||c.indexOf(b)<h?c.splice(h,1):h++}c.length?x.set(c.join("+")):x.set(y)}},any:{coerceFunction:function(v,x,y){v===void 0?x.set(y):x.set(u(v)?d(v):v)}},info_array:{coerceFunction:function(v,x,y,m){function c(G,P,A){var O,L={set:function(S){O=S}};return A===void 0&&(A=P.dflt),E.valObjectMeta[P.valType].coerceFunction(G,L,A,P),O}if(u(v)&&(v=d(v)),!p(v)){x.set(y);return}var h=m.dimensions===2||m.dimensions==="1-2"&&Array.isArray(v)&&p(v[0]),b=m.items,_=[],w=Array.isArray(b),K=w&&h&&p(b[0]),D=h&&w&&!K,I=w&&!D?b.length:v.length,C,H,z,R,U,Z;if(y=Array.isArray(y)?y:[],h)for(C=0;C<I;C++)for(_[C]=[],z=p(v[C])?v[C]:[],D?U=b.length:w?U=b[C].length:U=z.length,H=0;H<U;H++)D?R=b[H]:w?R=b[C][H]:R=b,Z=c(z[H],R,(y[C]||[])[H]),Z!==void 0&&(_[C][H]=Z);else for(C=0;C<I;C++)Z=c(v[C],w?b[C]:b,y[C]),Z!==void 0&&(_[C]=Z);x.set(_)},validateFunction:function(v,x){if(!p(v))return!1;var y=x.items,m=Array.isArray(y),c=x.dimensions===2;if(!x.freeLength&&v.length!==y.length)return!1;for(var h=0;h<v.length;h++)if(c){if(!p(v[h])||!x.freeLength&&v[h].length!==y[h].length)return!1;for(var b=0;b<v[h].length;b++)if(!g(v[h][b],m?y[h][b]:y))return!1}else if(!g(v[h],m?y[h]:y))return!1;return!0}}},E.coerce=function(v,x,y,m,c){var h=o(y,m).get(),b=o(v,m),_=o(x,m),w=b.get(),K=x._template;if(w===void 0&&K&&(w=o(K,m).get(),K=0),c===void 0&&(c=h.dflt),h.arrayOk){if(p(w))return _.set(w),w;if(u(w))return w=d(w),_.set(w),w}var D=E.valObjectMeta[h.valType].coerceFunction;D(w,_,c,h);var I=_.get();return K&&I===c&&!g(w,h)&&(w=o(K,m).get(),D(w,_,c,h),I=_.get()),I},E.coerce2=function(v,x,y,m,c){var h=o(v,m),b=E.coerce(v,x,y,m,c),_=h.get();return _!=null?b:!1},E.coerceFont=function(v,x,y,m){m||(m={}),y=t({},y),y=t(y,m.overrideDflt||{});var c={family:v(x+".family",y.family),size:v(x+".size",y.size),color:v(x+".color",y.color),weight:v(x+".weight",y.weight),style:v(x+".style",y.style)};if(m.noFontVariant||(c.variant=v(x+".variant",y.variant)),m.noFontLineposition||(c.lineposition=v(x+".lineposition",y.lineposition)),m.noFontTextcase||(c.textcase=v(x+".textcase",y.textcase)),!m.noFontShadow){var h=y.shadow;h==="none"&&m.autoShadowDflt&&(h="auto"),c.shadow=v(x+".shadow",h)}return c},E.coercePattern=function(v,x,y,m){var c=v(x+".shape");if(c){v(x+".solidity"),v(x+".size");var h=v(x+".fillmode"),b=h==="overlay";if(!m){var _=v(x+".bgcolor",b?y:void 0);v(x+".fgcolor",b?l.contrast(_):y)}v(x+".fgopacity",b?.5:1)}},E.coerceHoverinfo=function(v,x,y){var m=x._module.attributes,c=m.hoverinfo?m:e,h=c.hoverinfo,b;if(y._dataLength===1){var _=h.dflt==="all"?h.flags.slice():h.dflt.split("+");_.splice(_.indexOf("name"),1),b=_.join("+")}return E.coerce(v,x,c,"hoverinfo",b)},E.coerceSelectionMarkerOpacity=function(v,x){if(v.marker){var y=v.marker.opacity;if(y!==void 0){var m,c;!p(y)&&!v.selected&&!v.unselected&&(m=y,c=a*y),x("selected.marker.opacity",m),x("unselected.marker.opacity",c)}}};function g(v,x){var y=E.valObjectMeta[x.valType];if(x.arrayOk&&p(v))return!0;if(y.validateFunction)return y.validateFunction(v,x);var m={},c=m,h={set:function(b){c=b}};return y.coerceFunction(v,h,m,x),c!==m}E.validate=g}),Yo=xe((E,k)=>{var i={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};function e(n,l){for(var a in n){var o=n[a];o.valType?l[a]=o.dflt:(l[a]||(l[a]={}),e(o,l[a]))}}e(i,t),k.exports={configAttributes:i,dfltConfig:t}}),vf=xe((E,k)=>{var i=Jn(),t=Bn(),e=[];k.exports=function(n,l){if(e.indexOf(n)!==-1)return;e.push(n);var a=1e3;t(l)?a=l:l==="long"&&(a=3e3);var o=i.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0);var s=o.selectAll(".notifier-note").data(e);function r(p){p.duration(700).style("opacity",0).each("end",function(u){var d=e.indexOf(u);d!==-1&&e.splice(d,1),i.select(this).remove()})}s.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(p){var u=i.select(this);u.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){u.transition().call(r)});for(var d=u.append("p"),g=p.split(/<br\s*\/?>/g),v=0;v<g.length;v++)v&&d.append("br"),d.append("span").text(g[v]);l==="stick"?u.transition().duration(350).style("opacity",1):u.transition().duration(700).style("opacity",1).transition().delay(a).call(r)})}}),Go=xe((E,k)=>{var i=Yo().dfltConfig,t=vf(),e=k.exports={};e.log=function(){var n;if(i.logging>1){var l=["LOG:"];for(n=0;n<arguments.length;n++)l.push(arguments[n]);console.trace.apply(console,l)}if(i.notifyOnLogging>1){var a=[];for(n=0;n<arguments.length;n++)a.push(arguments[n]);t(a.join("<br>"),"long")}},e.warn=function(){var n;if(i.logging>0){var l=["WARN:"];for(n=0;n<arguments.length;n++)l.push(arguments[n]);console.trace.apply(console,l)}if(i.notifyOnLogging>0){var a=[];for(n=0;n<arguments.length;n++)a.push(arguments[n]);t(a.join("<br>"),"stick")}},e.error=function(){var n;if(i.logging>0){var l=["ERROR:"];for(n=0;n<arguments.length;n++)l.push(arguments[n]);console.error.apply(console,l)}if(i.notifyOnLogging>0){var a=[];for(n=0;n<arguments.length;n++)a.push(arguments[n]);t(a.join("<br>"),"stick")}}}),Ju=xe((E,k)=>{k.exports=function(){}}),mf=xe((E,k)=>{k.exports=function(i,t){if(t instanceof RegExp){for(var e=t.toString(),n=0;n<i.length;n++)if(i[n]instanceof RegExp&&i[n].toString()===e)return i;i.push(t)}else(t||t===0)&&i.indexOf(t)===-1&&i.push(t);return i}}),Ih=xe((E,k)=>{k.exports=i;function i(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Nh=xe((E,k)=>{k.exports=i;function i(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}}),Rh=xe((E,k)=>{k.exports=i;function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}}),xf=xe((E,k)=>{k.exports=i;function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),jh=xe((E,k)=>{k.exports=i;function i(t,e){if(t===e){var n=e[1],l=e[2],a=e[3],o=e[6],s=e[7],r=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=l,t[9]=o,t[11]=e[14],t[12]=a,t[13]=s,t[14]=r}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}}),zh=xe((E,k)=>{k.exports=i;function i(t,e){var n=e[0],l=e[1],a=e[2],o=e[3],s=e[4],r=e[5],p=e[6],u=e[7],d=e[8],g=e[9],v=e[10],x=e[11],y=e[12],m=e[13],c=e[14],h=e[15],b=n*r-l*s,_=n*p-a*s,w=n*u-o*s,K=l*p-a*r,D=l*u-o*r,I=a*u-o*p,C=d*m-g*y,H=d*c-v*y,z=d*h-x*y,R=g*c-v*m,U=g*h-x*m,Z=v*h-x*c,G=b*Z-_*U+w*R+K*z-D*H+I*C;return G?(G=1/G,t[0]=(r*Z-p*U+u*R)*G,t[1]=(a*U-l*Z-o*R)*G,t[2]=(m*I-c*D+h*K)*G,t[3]=(v*D-g*I-x*K)*G,t[4]=(p*z-s*Z-u*H)*G,t[5]=(n*Z-a*z+o*H)*G,t[6]=(c*w-y*I-h*_)*G,t[7]=(d*I-v*w+x*_)*G,t[8]=(s*U-r*z+u*C)*G,t[9]=(l*z-n*U-o*C)*G,t[10]=(y*D-m*w+h*b)*G,t[11]=(g*w-d*D-x*b)*G,t[12]=(r*H-s*R-p*C)*G,t[13]=(n*R-l*H+a*C)*G,t[14]=(m*_-y*K-c*b)*G,t[15]=(d*K-g*_+v*b)*G,t):null}}),Bh=xe((E,k)=>{k.exports=i;function i(t,e){var n=e[0],l=e[1],a=e[2],o=e[3],s=e[4],r=e[5],p=e[6],u=e[7],d=e[8],g=e[9],v=e[10],x=e[11],y=e[12],m=e[13],c=e[14],h=e[15];return t[0]=r*(v*h-x*c)-g*(p*h-u*c)+m*(p*x-u*v),t[1]=-(l*(v*h-x*c)-g*(a*h-o*c)+m*(a*x-o*v)),t[2]=l*(p*h-u*c)-r*(a*h-o*c)+m*(a*u-o*p),t[3]=-(l*(p*x-u*v)-r*(a*x-o*v)+g*(a*u-o*p)),t[4]=-(s*(v*h-x*c)-d*(p*h-u*c)+y*(p*x-u*v)),t[5]=n*(v*h-x*c)-d*(a*h-o*c)+y*(a*x-o*v),t[6]=-(n*(p*h-u*c)-s*(a*h-o*c)+y*(a*u-o*p)),t[7]=n*(p*x-u*v)-s*(a*x-o*v)+d*(a*u-o*p),t[8]=s*(g*h-x*m)-d*(r*h-u*m)+y*(r*x-u*g),t[9]=-(n*(g*h-x*m)-d*(l*h-o*m)+y*(l*x-o*g)),t[10]=n*(r*h-u*m)-s*(l*h-o*m)+y*(l*u-o*r),t[11]=-(n*(r*x-u*g)-s*(l*x-o*g)+d*(l*u-o*r)),t[12]=-(s*(g*c-v*m)-d*(r*c-p*m)+y*(r*v-p*g)),t[13]=n*(g*c-v*m)-d*(l*c-a*m)+y*(l*v-a*g),t[14]=-(n*(r*c-p*m)-s*(l*c-a*m)+y*(l*p-a*r)),t[15]=n*(r*v-p*g)-s*(l*v-a*g)+d*(l*p-a*r),t}}),Uh=xe((E,k)=>{k.exports=i;function i(t){var e=t[0],n=t[1],l=t[2],a=t[3],o=t[4],s=t[5],r=t[6],p=t[7],u=t[8],d=t[9],g=t[10],v=t[11],x=t[12],y=t[13],m=t[14],c=t[15],h=e*s-n*o,b=e*r-l*o,_=e*p-a*o,w=n*r-l*s,K=n*p-a*s,D=l*p-a*r,I=u*y-d*x,C=u*m-g*x,H=u*c-v*x,z=d*m-g*y,R=d*c-v*y,U=g*c-v*m;return h*U-b*R+_*z+w*H-K*C+D*I}}),Hh=xe((E,k)=>{k.exports=i;function i(t,e,n){var l=e[0],a=e[1],o=e[2],s=e[3],r=e[4],p=e[5],u=e[6],d=e[7],g=e[8],v=e[9],x=e[10],y=e[11],m=e[12],c=e[13],h=e[14],b=e[15],_=n[0],w=n[1],K=n[2],D=n[3];return t[0]=_*l+w*r+K*g+D*m,t[1]=_*a+w*p+K*v+D*c,t[2]=_*o+w*u+K*x+D*h,t[3]=_*s+w*d+K*y+D*b,_=n[4],w=n[5],K=n[6],D=n[7],t[4]=_*l+w*r+K*g+D*m,t[5]=_*a+w*p+K*v+D*c,t[6]=_*o+w*u+K*x+D*h,t[7]=_*s+w*d+K*y+D*b,_=n[8],w=n[9],K=n[10],D=n[11],t[8]=_*l+w*r+K*g+D*m,t[9]=_*a+w*p+K*v+D*c,t[10]=_*o+w*u+K*x+D*h,t[11]=_*s+w*d+K*y+D*b,_=n[12],w=n[13],K=n[14],D=n[15],t[12]=_*l+w*r+K*g+D*m,t[13]=_*a+w*p+K*v+D*c,t[14]=_*o+w*u+K*x+D*h,t[15]=_*s+w*d+K*y+D*b,t}}),Vh=xe((E,k)=>{k.exports=i;function i(t,e,n){var l=n[0],a=n[1],o=n[2],s,r,p,u,d,g,v,x,y,m,c,h;return e===t?(t[12]=e[0]*l+e[4]*a+e[8]*o+e[12],t[13]=e[1]*l+e[5]*a+e[9]*o+e[13],t[14]=e[2]*l+e[6]*a+e[10]*o+e[14],t[15]=e[3]*l+e[7]*a+e[11]*o+e[15]):(s=e[0],r=e[1],p=e[2],u=e[3],d=e[4],g=e[5],v=e[6],x=e[7],y=e[8],m=e[9],c=e[10],h=e[11],t[0]=s,t[1]=r,t[2]=p,t[3]=u,t[4]=d,t[5]=g,t[6]=v,t[7]=x,t[8]=y,t[9]=m,t[10]=c,t[11]=h,t[12]=s*l+d*a+y*o+e[12],t[13]=r*l+g*a+m*o+e[13],t[14]=p*l+v*a+c*o+e[14],t[15]=u*l+x*a+h*o+e[15]),t}}),qh=xe((E,k)=>{k.exports=i;function i(t,e,n){var l=n[0],a=n[1],o=n[2];return t[0]=e[0]*l,t[1]=e[1]*l,t[2]=e[2]*l,t[3]=e[3]*l,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}}),Wh=xe((E,k)=>{k.exports=i;function i(t,e,n,l){var a=l[0],o=l[1],s=l[2],r=Math.sqrt(a*a+o*o+s*s),p,u,d,g,v,x,y,m,c,h,b,_,w,K,D,I,C,H,z,R,U,Z,G,P;return Math.abs(r)<1e-6?null:(r=1/r,a*=r,o*=r,s*=r,p=Math.sin(n),u=Math.cos(n),d=1-u,g=e[0],v=e[1],x=e[2],y=e[3],m=e[4],c=e[5],h=e[6],b=e[7],_=e[8],w=e[9],K=e[10],D=e[11],I=a*a*d+u,C=o*a*d+s*p,H=s*a*d-o*p,z=a*o*d-s*p,R=o*o*d+u,U=s*o*d+a*p,Z=a*s*d+o*p,G=o*s*d-a*p,P=s*s*d+u,t[0]=g*I+m*C+_*H,t[1]=v*I+c*C+w*H,t[2]=x*I+h*C+K*H,t[3]=y*I+b*C+D*H,t[4]=g*z+m*R+_*U,t[5]=v*z+c*R+w*U,t[6]=x*z+h*R+K*U,t[7]=y*z+b*R+D*U,t[8]=g*Z+m*G+_*P,t[9]=v*Z+c*G+w*P,t[10]=x*Z+h*G+K*P,t[11]=y*Z+b*G+D*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}}),Yh=xe((E,k)=>{k.exports=i;function i(t,e,n){var l=Math.sin(n),a=Math.cos(n),o=e[4],s=e[5],r=e[6],p=e[7],u=e[8],d=e[9],g=e[10],v=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+u*l,t[5]=s*a+d*l,t[6]=r*a+g*l,t[7]=p*a+v*l,t[8]=u*a-o*l,t[9]=d*a-s*l,t[10]=g*a-r*l,t[11]=v*a-p*l,t}}),Gh=xe((E,k)=>{k.exports=i;function i(t,e,n){var l=Math.sin(n),a=Math.cos(n),o=e[0],s=e[1],r=e[2],p=e[3],u=e[8],d=e[9],g=e[10],v=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a-u*l,t[1]=s*a-d*l,t[2]=r*a-g*l,t[3]=p*a-v*l,t[8]=o*l+u*a,t[9]=s*l+d*a,t[10]=r*l+g*a,t[11]=p*l+v*a,t}}),Jh=xe((E,k)=>{k.exports=i;function i(t,e,n){var l=Math.sin(n),a=Math.cos(n),o=e[0],s=e[1],r=e[2],p=e[3],u=e[4],d=e[5],g=e[6],v=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+u*l,t[1]=s*a+d*l,t[2]=r*a+g*l,t[3]=p*a+v*l,t[4]=u*a-o*l,t[5]=d*a-s*l,t[6]=g*a-r*l,t[7]=v*a-p*l,t}}),Zh=xe((E,k)=>{k.exports=i;function i(t,e,n){var l,a,o,s=n[0],r=n[1],p=n[2],u=Math.sqrt(s*s+r*r+p*p);return Math.abs(u)<1e-6?null:(u=1/u,s*=u,r*=u,p*=u,l=Math.sin(e),a=Math.cos(e),o=1-a,t[0]=s*s*o+a,t[1]=r*s*o+p*l,t[2]=p*s*o-r*l,t[3]=0,t[4]=s*r*o-p*l,t[5]=r*r*o+a,t[6]=p*r*o+s*l,t[7]=0,t[8]=s*p*o+r*l,t[9]=r*p*o-s*l,t[10]=p*p*o+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}}),Kh=xe((E,k)=>{k.exports=i;function i(t,e,n){var l=e[0],a=e[1],o=e[2],s=e[3],r=l+l,p=a+a,u=o+o,d=l*r,g=l*p,v=l*u,x=a*p,y=a*u,m=o*u,c=s*r,h=s*p,b=s*u;return t[0]=1-(x+m),t[1]=g+b,t[2]=v-h,t[3]=0,t[4]=g-b,t[5]=1-(d+m),t[6]=y+c,t[7]=0,t[8]=v+h,t[9]=y-c,t[10]=1-(d+x),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}}),$h=xe((E,k)=>{k.exports=i;function i(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Xh=xe((E,k)=>{k.exports=i;function i(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}}),Qh=xe((E,k)=>{k.exports=i;function i(t,e){var n=Math.sin(e),l=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),ep=xe((E,k)=>{k.exports=i;function i(t,e){var n=Math.sin(e),l=Math.cos(e);return t[0]=l,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),tp=xe((E,k)=>{k.exports=i;function i(t,e){var n=Math.sin(e),l=Math.cos(e);return t[0]=l,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),bf=xe((E,k)=>{k.exports=i;function i(t,e){var n=e[0],l=e[1],a=e[2],o=e[3],s=n+n,r=l+l,p=a+a,u=n*s,d=l*s,g=l*r,v=a*s,x=a*r,y=a*p,m=o*s,c=o*r,h=o*p;return t[0]=1-g-y,t[1]=d+h,t[2]=v-c,t[3]=0,t[4]=d-h,t[5]=1-u-y,t[6]=x+m,t[7]=0,t[8]=v+c,t[9]=x-m,t[10]=1-u-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),rp=xe((E,k)=>{k.exports=i;function i(t,e,n,l,a,o,s){var r=1/(n-e),p=1/(a-l),u=1/(o-s);return t[0]=o*2*r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o*2*p,t[6]=0,t[7]=0,t[8]=(n+e)*r,t[9]=(a+l)*p,t[10]=(s+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*u,t[15]=0,t}}),np=xe((E,k)=>{k.exports=i;function i(t,e,n,l,a){var o=1/Math.tan(e/2),s=1/(l-a);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+l)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*l*s,t[15]=0,t}}),ap=xe((E,k)=>{k.exports=i;function i(t,e,n,l){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),r=Math.tan(e.rightDegrees*Math.PI/180),p=2/(s+r),u=2/(a+o);return t[0]=p,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((s-r)*p*.5),t[9]=(a-o)*u*.5,t[10]=l/(n-l),t[11]=-1,t[12]=0,t[13]=0,t[14]=l*n/(n-l),t[15]=0,t}}),ip=xe((E,k)=>{k.exports=i;function i(t,e,n,l,a,o,s){var r=1/(e-n),p=1/(l-a),u=1/(o-s);return t[0]=-2*r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*p,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*r,t[13]=(a+l)*p,t[14]=(s+o)*u,t[15]=1,t}}),op=xe((E,k)=>{var i=xf();k.exports=t;function t(e,n,l,a){var o,s,r,p,u,d,g,v,x,y,m=n[0],c=n[1],h=n[2],b=a[0],_=a[1],w=a[2],K=l[0],D=l[1],I=l[2];return Math.abs(m-K)<1e-6&&Math.abs(c-D)<1e-6&&Math.abs(h-I)<1e-6?i(e):(g=m-K,v=c-D,x=h-I,y=1/Math.sqrt(g*g+v*v+x*x),g*=y,v*=y,x*=y,o=_*x-w*v,s=w*g-b*x,r=b*v-_*g,y=Math.sqrt(o*o+s*s+r*r),y?(y=1/y,o*=y,s*=y,r*=y):(o=0,s=0,r=0),p=v*r-x*s,u=x*o-g*r,d=g*s-v*o,y=Math.sqrt(p*p+u*u+d*d),y?(y=1/y,p*=y,u*=y,d*=y):(p=0,u=0,d=0),e[0]=o,e[1]=p,e[2]=g,e[3]=0,e[4]=s,e[5]=u,e[6]=v,e[7]=0,e[8]=r,e[9]=d,e[10]=x,e[11]=0,e[12]=-(o*m+s*c+r*h),e[13]=-(p*m+u*c+d*h),e[14]=-(g*m+v*c+x*h),e[15]=1,e)}}),lp=xe((E,k)=>{k.exports=i;function i(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}}),_f=xe((E,k)=>{k.exports={create:Ih(),clone:Nh(),copy:Rh(),identity:xf(),transpose:jh(),invert:zh(),adjoint:Bh(),determinant:Uh(),multiply:Hh(),translate:Vh(),scale:qh(),rotate:Wh(),rotateX:Yh(),rotateY:Gh(),rotateZ:Jh(),fromRotation:Zh(),fromRotationTranslation:Kh(),fromScaling:$h(),fromTranslation:Xh(),fromXRotation:Qh(),fromYRotation:ep(),fromZRotation:tp(),fromQuat:bf(),frustum:rp(),perspective:np(),perspectiveFromFieldOfView:ap(),ortho:ip(),lookAt:op(),str:lp()}}),Zu=xe(E=>{var k=_f();E.init2dArray=function(i,t){for(var e=new Array(i),n=0;n<i;n++)e[n]=new Array(t);return e},E.transposeRagged=function(i){var t=0,e=i.length,n,l;for(n=0;n<e;n++)t=Math.max(t,i[n].length);var a=new Array(t);for(n=0;n<t;n++)for(a[n]=new Array(e),l=0;l<e;l++)a[n][l]=i[l][n];return a},E.dot=function(i,t){if(!(i.length&&t.length)||i.length!==t.length)return null;var e=i.length,n,l;if(i[0].length)for(n=new Array(e),l=0;l<e;l++)n[l]=E.dot(i[l],t);else if(t[0].length){var a=E.transposeRagged(t);for(n=new Array(a.length),l=0;l<a.length;l++)n[l]=E.dot(i,a[l])}else for(n=0,l=0;l<e;l++)n+=i[l]*t[l];return n},E.translationMatrix=function(i,t){return[[1,0,i],[0,1,t],[0,0,1]]},E.rotationMatrix=function(i){var t=i*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},E.rotationXYMatrix=function(i,t,e){return E.dot(E.dot(E.translationMatrix(t,e),E.rotationMatrix(i)),E.translationMatrix(-t,-e))},E.apply3DTransform=function(i){return function(){var t=arguments,e=arguments.length===1?t[0]:[t[0],t[1],t[2]||0];return E.dot(i,[e[0],e[1],e[2],1]).slice(0,3)}},E.apply2DTransform=function(i){return function(){var t=arguments;t.length===3&&(t=t[0]);var e=arguments.length===1?t[0]:[t[0],t[1]];return E.dot(i,[e[0],e[1],1]).slice(0,2)}},E.apply2DTransform2=function(i){var t=E.apply2DTransform(i);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}},E.convertCssMatrix=function(i){if(i){var t=i.length;if(t===16)return i;if(t===6)return[i[0],i[1],0,0,i[2],i[3],0,0,0,0,1,0,i[4],i[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},E.inverseTransformMatrix=function(i){var t=[];return k.invert(t,i),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}}),Ls=xe((E,k)=>{var i=Jn(),t=Go(),e=Zu(),n=_f();function l(m){var c;if(typeof m=="string"){if(c=document.getElementById(m),c===null)throw new Error("No DOM element with id '"+m+"' exists on the page.");return c}else if(m==null)throw new Error("DOM element provided is null or undefined");return m}function a(m){var c=i.select(m);return c.node()instanceof HTMLElement&&c.size()&&c.classed("js-plotly-plot")}function o(m){var c=m&&m.parentNode;c&&c.removeChild(m)}function s(m,c){r("global",m,c)}function r(m,c,h){var b="plotly.js-style-"+m,_=document.getElementById(b);if(!(_&&_.matches(".no-inline-styles"))){_||(_=document.createElement("style"),_.setAttribute("id",b),_.appendChild(document.createTextNode("")),document.head.appendChild(_));var w=_.sheet;w?w.insertRule?w.insertRule(c+"{"+h+"}",0):w.addRule?w.addRule(c,h,0):t.warn("addStyleRule failed"):t.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function p(m){var c="plotly.js-style-"+m,h=document.getElementById(c);h&&o(h)}function u(m,c,h,b,_,w){var K=b.split(":"),D=_.split(":"),I="data-btn-style-event-added";w||(w=document),w.querySelectorAll(m).forEach(function(C){C.getAttribute(I)||(C.addEventListener("mouseenter",function(){var H=this.querySelector(h);H&&(H.style[K[0]]=K[1])}),C.addEventListener("mouseleave",function(){var H=this.querySelector(h);H&&(c&&this.matches(c)?H.style[K[0]]=K[1]:H.style[D[0]]=D[1])}),C.setAttribute(I,!0))})}function d(m){var c=v(m),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return c.forEach(function(b){var _=g(b);if(_){var w=e.convertCssMatrix(_);h=n.multiply(h,h,w)}}),h}function g(m){var c=window.getComputedStyle(m,null),h=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("-moz-transform")||c.getPropertyValue("-ms-transform")||c.getPropertyValue("-o-transform")||c.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(b){return+b})}function v(m){for(var c=[];x(m);)c.push(m),m=m.parentNode,typeof ShadowRoot=="function"&&m instanceof ShadowRoot&&(m=m.host);return c}function x(m){return m&&(m instanceof Element||m instanceof HTMLElement)}function y(m,c){return m&&c&&m.top===c.top&&m.left===c.left&&m.right===c.right&&m.bottom===c.bottom}k.exports={getGraphDiv:l,isPlotDiv:a,removeElement:o,addStyleRule:s,addRelatedStyleRule:r,deleteRelatedStyleRule:p,setStyleOnHover:u,getFullTransformMatrix:d,getElementTransformMatrix:g,getElementAndAncestors:v,equalDomRects:y}}),Cs=xe((E,k)=>{k.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}),Di=xe((E,k)=>{var i=za().extendFlat,t=To(),e={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},n={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=e.flags.slice().concat(["fullReplot"]),a=n.flags.slice().concat("layoutReplot");k.exports={traces:e,layout:n,traceFlags:function(){return o(l)},layoutFlags:function(){return o(a)},update:function(p,u){var d=u.editType;if(d&&d!=="none")for(var g=d.split("+"),v=0;v<g.length;v++)p[g[v]]=!0},overrideAll:s};function o(p){for(var u={},d=0;d<p.length;d++)u[p[d]]=!1;return u}function s(p,u,d){var g=i({},p);for(var v in g){var x=g[v];t(x)&&(g[v]=r(x,u,d,v))}return d==="from-root"&&(g.editType=u),g}function r(p,u,d,g){if(p.valType){var v=i({},p);if(v.editType=u,Array.isArray(p.items)){v.items=new Array(p.items.length);for(var x=0;x<p.items.length;x++)v.items[x]=r(p.items[x],u)}return v}else return s(p,u,g.charAt(0)==="_"?"nested":"from-root")}}),ko=xe(E=>{E.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},E.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}),wf=xe((E,k)=>{k.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}),Ds=xe(E=>{var k=wf();k.FORMAT_LINK,k.DATE_FORMAT_LINK;function i(t){var e=t.description?" "+t.description:"",n=t.keys||[];if(n.length>0){for(var l=[],a=0;a<n.length;a++)l[a]="`"+n[a]+"`";e=e+"Finally, the template string has access to ",n.length===1?e=e+"variable "+l[0]:e=e+"variables "+l.slice(0,-1).join(", ")+" and "+l.slice(-1)+"."}return e}E.hovertemplateAttrs=function(t,e){t=t||{},e=e||{},i(e);var n={valType:"string",dflt:"",editType:t.editType||"none"};return t.arrayOk!==!1&&(n.arrayOk=!0),n},E.texttemplateAttrs=function(t,e){t=t||{},e=e||{},i(e);var n={valType:"string",dflt:"",editType:t.editType||"calc"};return t.arrayOk!==!1&&(n.arrayOk=!0),n},E.shapeTexttemplateAttrs=function(t,e){t=t||{},e=e||{},t.newshape,i(e);var n={valType:"string",dflt:"",editType:t.editType||"arraydraw"};return n}}),Ku=xe((E,k)=>{function i(h,b){return b?b.d2l(h):h}function t(h,b){return b?b.l2d(h):h}function e(h){return h.x0}function n(h){return h.x1}function l(h){return h.y0}function a(h){return h.y1}function o(h){return h.x0shift||0}function s(h){return h.x1shift||0}function r(h){return h.y0shift||0}function p(h){return h.y1shift||0}function u(h,b){return i(h.x1,b)+s(h)-i(h.x0,b)-o(h)}function d(h,b,_){return i(h.y1,_)+p(h)-i(h.y0,_)-r(h)}function g(h,b){return Math.abs(u(h,b))}function v(h,b,_){return Math.abs(d(h,b,_))}function x(h,b,_){return h.type!=="line"?void 0:Math.sqrt(Math.pow(u(h,b),2)+Math.pow(d(h,b,_),2))}function y(h,b){return t((i(h.x1,b)+s(h)+i(h.x0,b)+o(h))/2,b)}function m(h,b,_){return t((i(h.y1,_)+p(h)+i(h.y0,_)+r(h))/2,_)}function c(h,b,_){return h.type!=="line"?void 0:d(h,b,_)/u(h,b)}k.exports={x0:e,x1:n,y0:l,y1:a,slope:c,dx:u,dy:d,width:g,height:v,length:x,xcenter:y,ycenter:m}}),sp=xe((E,k)=>{var i=Di().overrideAll,t=Ci(),e=ei(),n=ko().dash,l=za().extendFlat,a=Ds().shapeTexttemplateAttrs,o=Ku();k.exports=i({newshape:{visible:l({},t.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:l({},t.legend,{}),legendgroup:l({},t.legendgroup,{}),legendgrouptitle:{text:l({},t.legendgrouptitle.text,{}),font:e({})},legendrank:l({},t.legendrank,{}),legendwidth:l({},t.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:l({},n,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:l({},t.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:a({newshape:!0},{keys:Object.keys(o)}),font:e({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}),up=xe((E,k)=>{var i=ko().dash,t=za().extendFlat;k.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:t({},i,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}}),$u=xe((E,k)=>{k.exports=function(i){var t=i.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}}),Ml=xe((E,k)=>{var i=ei(),t=Cs(),e=Bi(),n=sp(),l=up(),a=$u(),o=za().extendFlat,s=i({editType:"calc"});s.family.dflt='"Open Sans", verdana, arial, sans-serif',s.size.dflt=12,s.color.dflt=e.defaultLine,k.exports={font:s,title:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:o(a({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:e.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:e.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:e.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:n.newshape,activeshape:n.activeshape,newselection:l.newselection,activeselection:l.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:o({},t.transition,{editType:"none"})}}),cp=hf(()=>{}),fp={},dp=hf(()=>{cp()}),mn=xe(E=>{var k=Go(),i=Ju(),t=mf(),e=To(),n=Ls().addStyleRule,l=za(),a=Ci(),o=Ml(),s=l.extendFlat,r=l.extendDeepAll;E.modules={},E.allCategories={},E.allTypes=[],E.subplotsRegistry={},E.componentsRegistry={},E.layoutArrayContainers=[],E.layoutArrayRegexes=[],E.traceLayoutAttributes={},E.localeRegistry={},E.apiMethodRegistry={},E.collectableSubplotTypes=null,E.register=function(h){if(E.collectableSubplotTypes=null,h)h&&!Array.isArray(h)&&(h=[h]);else throw new Error("No argument passed to Plotly.register.");for(var b=0;b<h.length;b++){var _=h[b];if(!_)throw new Error("Invalid module was attempted to be registered!");switch(_.moduleType){case"trace":p(_);break;case"transform":g(_);break;case"component":d(_);break;case"locale":v(_);break;case"apiMethod":var w=_.name;E.apiMethodRegistry[w]=_.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},E.getModule=function(h){var b=E.modules[c(h)];return b?b._module:!1},E.traceIs=function(h,b){if(h=c(h),h==="various")return!1;var _=E.modules[h];return _||(h&&k.log("Unrecognized trace type "+h+"."),_=E.modules[a.type.dflt]),!!_.categories[b]},E.getComponentMethod=function(h,b){var _=E.componentsRegistry[h];return _&&_[b]||i},E.call=function(){var h=arguments[0],b=[].slice.call(arguments,1);return E.apiMethodRegistry[h].apply(null,b)};function p(h){var b=h.name,_=h.categories,w=h.meta;if(E.modules[b]){k.log("Type "+b+" already registered");return}E.subplotsRegistry[h.basePlotModule.name]||u(h.basePlotModule);for(var K={},D=0;D<_.length;D++)K[_[D]]=!0,E.allCategories[_[D]]=!0;E.modules[b]={_module:h,categories:K},w&&Object.keys(w).length&&(E.modules[b].meta=w),E.allTypes.push(b);for(var I in E.componentsRegistry)y(I,b);h.layoutAttributes&&s(E.traceLayoutAttributes,h.layoutAttributes);var C=h.basePlotModule,H=C.name;if(H==="mapbox"){var z=C.constants.styleRules;for(var R in z)n(".js-plotly-plot .plotly .mapboxgl-"+R,z[R])}H==="map"&&(dp(),Oh(fp)),(H==="geo"||H==="mapbox"||H==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(h){var b=h.name;if(E.subplotsRegistry[b]){k.log("Plot type "+b+" already registered.");return}x(h),E.subplotsRegistry[b]=h;for(var _ in E.componentsRegistry)m(_,h.name)}function d(h){if(typeof h.name!="string")throw new Error("Component module *name* must be a string.");var b=h.name;E.componentsRegistry[b]=h,h.layoutAttributes&&(h.layoutAttributes._isLinkedToArray&&t(E.layoutArrayContainers,b),x(h));for(var _ in E.modules)y(b,_);for(var w in E.subplotsRegistry)m(b,w);h.schema&&h.schema.layout&&r(o,h.schema.layout)}function g(h){if(typeof h.name!="string")throw new Error("Transform module *name* must be a string.");var b="Transform module "+h.name,_=typeof h.transform=="function",w=typeof h.calcTransform=="function";if(!_&&!w)throw new Error(b+" is missing a *transform* or *calcTransform* method.");_&&w&&k.log([b+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),e(h.attributes)||k.log(b+" registered without an *attributes* object."),typeof h.supplyDefaults!="function"&&k.log(b+" registered without a *supplyDefaults* method.")}function v(h){var b=h.name,_=b.split("-")[0],w=h.dictionary,K=h.format,D=w&&Object.keys(w).length,I=K&&Object.keys(K).length,C=E.localeRegistry,H=C[b];if(H||(C[b]=H={}),_!==b){var z=C[_];z||(C[_]=z={}),D&&z.dictionary===H.dictionary&&(z.dictionary=w),I&&z.format===H.format&&(z.format=K)}D&&(H.dictionary=w),I&&(H.format=K)}function x(h){if(h.layoutAttributes){var b=h.layoutAttributes._arrayAttrRegexps;if(b)for(var _=0;_<b.length;_++)t(E.layoutArrayRegexes,b[_])}}function y(h,b){var _=E.componentsRegistry[h].schema;if(!(!_||!_.traces)){var w=_.traces[b];w&&r(E.modules[b]._module.attributes,w)}}function m(h,b){var _=E.componentsRegistry[h].schema;if(!(!_||!_.subplots)){var w=E.subplotsRegistry[b],K=w.layoutAttributes,D=w.attr==="subplot"?w.name:w.attr;Array.isArray(D)&&(D=D[0]);var I=_.subplots[D];K&&I&&r(K,I)}}function c(h){return typeof h=="object"&&(h=h.type),h}}),hp=xe(E=>{var k=_l().timeFormat,i=Bn(),t=Go(),e=wl().mod,n=Pa(),l=n.BADNUM,a=n.ONEDAY,o=n.ONEHOUR,s=n.ONEMIN,r=n.ONESEC,p=n.EPOCHJD,u=mn(),d=_l().utcFormat,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=new Date().getFullYear()-70;function y(G){return G&&u.componentsRegistry.calendars&&typeof G=="string"&&G!=="gregorian"}E.dateTick0=function(G,P){var A=m(G,!!P);if(P<2)return A;var O=E.dateTime2ms(A,G);return O+=a*(P-1),E.ms2DateTime(O,0,G)};function m(G,P){return y(G)?P?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[G]:u.getComponentMethod("calendars","CANONICAL_TICK")[G]:P?"2000-01-02":"2000-01-01"}E.dfltRange=function(G){return y(G)?u.getComponentMethod("calendars","DFLTRANGE")[G]:["2000-01-01","2001-01-01"]},E.isJSDate=function(G){return typeof G=="object"&&G!==null&&typeof G.getTime=="function"};var c,h;E.dateTime2ms=function(G,P){if(E.isJSDate(G)){var A=G.getTimezoneOffset()*s,O=(G.getUTCMinutes()-G.getMinutes())*s+(G.getUTCSeconds()-G.getSeconds())*r+(G.getUTCMilliseconds()-G.getMilliseconds());if(O){var L=3*s;A=A-L/2+e(O-A+L/2,L)}return G=Number(G)-A,G>=c&&G<=h?G:l}if(typeof G!="string"&&typeof G!="number")return l;G=String(G);var S=y(P),F=G.charAt(0);S&&(F==="G"||F==="g")&&(G=G.substr(1),P="");var W=S&&P.substr(0,7)==="chinese",ue=G.match(W?v:g);if(!ue)return l;var ae=ue[1],se=ue[3]||"1",q=Number(ue[5]||1),ee=Number(ue[7]||0),B=Number(ue[9]||0),re=Number(ue[11]||0);if(S){if(ae.length===2)return l;ae=Number(ae);var J;try{var X=u.getComponentMethod("calendars","getCal")(P);if(W){var N=se.charAt(se.length-1)==="i";se=parseInt(se,10),J=X.newDate(ae,X.toMonthIndex(ae,se,N),q)}else J=X.newDate(ae,Number(se),q)}catch{return l}return J?(J.toJD()-p)*a+ee*o+B*s+re*r:l}ae.length===2?ae=(Number(ae)+2e3-x)%100+x:ae=Number(ae),se-=1;var $=new Date(Date.UTC(2e3,se,q,ee,B));return $.setUTCFullYear(ae),$.getUTCMonth()!==se||$.getUTCDate()!==q?l:$.getTime()+re*r},c=E.MIN_MS=E.dateTime2ms("-9999"),h=E.MAX_MS=E.dateTime2ms("9999-12-31 23:59:59.9999"),E.isDateTime=function(G,P){return E.dateTime2ms(G,P)!==l};function b(G,P){return String(G+Math.pow(10,P)).substr(1)}var _=90*a,w=3*o,K=5*s;E.ms2DateTime=function(G,P,A){if(typeof G!="number"||!(G>=c&&G<=h))return l;P||(P=0);var O=Math.floor(e(G+.05,1)*10),L=Math.round(G-O/10),S,F,W,ue,ae,se;if(y(A)){var q=Math.floor(L/a)+p,ee=Math.floor(e(G,a));try{S=u.getComponentMethod("calendars","getCal")(A).fromJD(q).formatDate("yyyy-mm-dd")}catch{S=d("G%Y-%m-%d")(new Date(L))}if(S.charAt(0)==="-")for(;S.length<11;)S="-0"+S.substr(1);else for(;S.length<10;)S="0"+S;F=P<_?Math.floor(ee/o):0,W=P<_?Math.floor(ee%o/s):0,ue=P<w?Math.floor(ee%s/r):0,ae=P<K?ee%r*10+O:0}else se=new Date(L),S=d("%Y-%m-%d")(se),F=P<_?se.getUTCHours():0,W=P<_?se.getUTCMinutes():0,ue=P<w?se.getUTCSeconds():0,ae=P<K?se.getUTCMilliseconds()*10+O:0;return D(S,F,W,ue,ae)},E.ms2DateTimeLocal=function(G){if(!(G>=c+a&&G<=h-a))return l;var P=Math.floor(e(G+.05,1)*10),A=new Date(Math.round(G-P/10)),O=k("%Y-%m-%d")(A),L=A.getHours(),S=A.getMinutes(),F=A.getSeconds(),W=A.getUTCMilliseconds()*10+P;return D(O,L,S,F,W)};function D(G,P,A,O,L){if((P||A||O||L)&&(G+=" "+b(P,2)+":"+b(A,2),(O||L)&&(G+=":"+b(O,2),L))){for(var S=4;L%10===0;)S-=1,L/=10;G+="."+b(L,S)}return G}E.cleanDate=function(G,P,A){if(G===l)return P;if(E.isJSDate(G)||typeof G=="number"&&isFinite(G)){if(y(A))return t.error("JS Dates and milliseconds are incompatible with world calendars",G),P;if(G=E.ms2DateTimeLocal(+G),!G&&P!==void 0)return P}else if(!E.isDateTime(G,A))return t.error("unrecognized date",G),P;return G};var I=/%\d?f/g,C=/%h/g,H={1:"1",2:"1",3:"2",4:"2"};function z(G,P,A,O){G=G.replace(I,function(S){var F=Math.min(+S.charAt(1)||6,6),W=(P/1e3%1+2).toFixed(F).substr(2).replace(/0+$/,"")||"0";return W});var L=new Date(Math.floor(P+.05));if(G=G.replace(C,function(){return H[A("%q")(L)]}),y(O))try{G=u.getComponentMethod("calendars","worldCalFmt")(G,P,O)}catch{return"Invalid"}return A(G)(L)}var R=[59,59.9,59.99,59.999,59.9999];function U(G,P){var A=e(G+.05,a),O=b(Math.floor(A/o),2)+":"+b(e(Math.floor(A/s),60),2);if(P!=="M"){i(P)||(P=0);var L=Math.min(e(G/r,60),R[P]),S=(100+L).toFixed(P).substr(1);P>0&&(S=S.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+S}return O}E.formatDate=function(G,P,A,O,L,S){if(L=y(L)&&L,!P)if(A==="y")P=S.year;else if(A==="m")P=S.month;else if(A==="d")P=S.dayMonth+`
`+S.year;else return U(G,A)+`
`+z(S.dayMonthYear,G,O,L);return z(P,G,O,L)};var Z=3*a;E.incrementMonth=function(G,P,A){A=y(A)&&A;var O=e(G,a);if(G=Math.round(G-O),A)try{var L=Math.round(G/a)+p,S=u.getComponentMethod("calendars","getCal")(A),F=S.fromJD(L);return P%12?S.add(F,P,"m"):S.add(F,P/12,"y"),(F.toJD()-p)*a+O}catch{t.error("invalid ms "+G+" in calendar "+A)}var W=new Date(G+Z);return W.setUTCMonth(W.getUTCMonth()+P)+O-Z},E.findExactDates=function(G,P){for(var A=0,O=0,L=0,S=0,F,W,ue=y(P)&&u.getComponentMethod("calendars","getCal")(P),ae=0;ae<G.length;ae++){if(W=G[ae],!i(W)){S++;continue}if(!(W%a))if(ue)try{F=ue.fromJD(W/a+p),F.day()===1?F.month()===1?A++:O++:L++}catch{}else F=new Date(W),F.getUTCDate()===1?F.getUTCMonth()===0?A++:O++:L++}O+=A,L+=O;var se=G.length-S;return{exactYears:A/se,exactMonths:O/se,exactDays:L/se}}}),Af=xe((E,k)=>{k.exports=function(i){return i}}),Tf=xe(E=>{var k=Bn(),i=Go(),t=Af(),e=Pa().BADNUM,n=1e-9;E.findBin=function(r,p,u){if(k(p.start))return u?Math.ceil((r-p.start)/p.size-n)-1:Math.floor((r-p.start)/p.size+n);var d=0,g=p.length,v=0,x=g>1?(p[g-1]-p[0])/(g-1):1,y,m;for(x>=0?m=u?l:a:m=u?s:o,r+=x*n*(u?-1:1)*(x>=0?1:-1);d<g&&v++<100;)y=Math.floor((d+g)/2),m(p[y],r)?d=y+1:g=y;return v>90&&i.log("Long binary search..."),d-1};function l(r,p){return r<p}function a(r,p){return r<=p}function o(r,p){return r>p}function s(r,p){return r>=p}E.sorterAsc=function(r,p){return r-p},E.sorterDes=function(r,p){return p-r},E.distinctVals=function(r){var p=r.slice();p.sort(E.sorterAsc);var u;for(u=p.length-1;u>-1&&p[u]===e;u--);for(var d=p[u]-p[0]||1,g=d/(u||1)/1e4,v=[],x,y=0;y<=u;y++){var m=p[y],c=m-x;x===void 0?(v.push(m),x=m):c>g&&(d=Math.min(d,c),v.push(m),x=m)}return{vals:v,minDiff:d}},E.roundUp=function(r,p,u){for(var d=0,g=p.length-1,v,x=0,y=u?0:1,m=u?1:0,c=u?Math.ceil:Math.floor;d<g&&x++<100;)v=c((d+g)/2),p[v]<=r?d=v+y:g=v-m;return p[d]},E.sort=function(r,p){for(var u=0,d=0,g=1;g<r.length;g++){var v=p(r[g],r[g-1]);if(v<0?u=1:v>0&&(d=1),u&&d)return r.sort(p)}return d?r:r.reverse()},E.findIndexOfMin=function(r,p){p=p||t;for(var u=1/0,d,g=0;g<r.length;g++){var v=p(r[g]);v<u&&(u=v,d=g)}return d}}),Xu=xe((E,k)=>{k.exports=function(i){return Object.keys(i).sort()}}),pp=xe(E=>{var k=Bn(),i=hi().isArrayOrTypedArray;E.aggNums=function(t,e,n,l){var a,o;if((!l||l>n.length)&&(l=n.length),k(e)||(e=!1),i(n[0])){for(o=new Array(l),a=0;a<l;a++)o[a]=E.aggNums(t,e,n[a]);n=o}for(a=0;a<l;a++)k(e)?k(n[a])&&(e=t(+e,+n[a])):e=n[a];return e},E.len=function(t){return E.aggNums(function(e){return e+1},0,t)},E.mean=function(t,e){return e||(e=E.len(t)),E.aggNums(function(n,l){return n+l},0,t)/e},E.geometricMean=function(t,e){return e||(e=E.len(t)),Math.pow(E.aggNums(function(n,l){return n*l},1,t),1/e)},E.midRange=function(t){if(!(t===void 0||t.length===0))return(E.aggNums(Math.max,null,t)+E.aggNums(Math.min,null,t))/2},E.variance=function(t,e,n){return e||(e=E.len(t)),k(n)||(n=E.mean(t,e)),E.aggNums(function(l,a){return l+Math.pow(a-n,2)},0,t)/e},E.stdev=function(t,e,n){return Math.sqrt(E.variance(t,e,n))},E.median=function(t){var e=t.slice().sort();return E.interp(e,.5)},E.interp=function(t,e){if(!k(e))throw"n should be a finite number";if(e=e*t.length-.5,e<0)return t[0];if(e>t.length-1)return t[t.length-1];var n=e%1;return n*t[Math.ceil(e)]+(1-n)*t[Math.floor(e)]}}),gp=xe((E,k)=>{var i=wl(),t=i.mod,e=i.modHalf,n=Math.PI,l=2*n;function a(m){return m/180*n}function o(m){return m/n*180}function s(m){return Math.abs(m[1]-m[0])>l-1e-14}function r(m,c){return e(c-m,l)}function p(m,c){return Math.abs(r(m,c))}function u(m,c){if(s(c))return!0;var h,b;c[0]<c[1]?(h=c[0],b=c[1]):(h=c[1],b=c[0]),h=t(h,l),b=t(b,l),h>b&&(b+=l);var _=t(m,l),w=_+l;return _>=h&&_<=b||w>=h&&w<=b}function d(m,c,h,b){if(!u(c,b))return!1;var _,w;return h[0]<h[1]?(_=h[0],w=h[1]):(_=h[1],w=h[0]),m>=_&&m<=w}function g(m,c,h,b,_,w,K){_=_||0,w=w||0;var D=s([h,b]),I,C,H,z,R;D?(I=0,C=n,H=l):h<b?(I=h,H=b):(I=b,H=h),m<c?(z=m,R=c):(z=c,R=m);function U(A,O){return[A*Math.cos(O)+_,w-A*Math.sin(O)]}var Z=Math.abs(H-I)<=n?0:1;function G(A,O,L){return"A"+[A,A]+" "+[0,Z,L]+" "+U(A,O)}var P;return D?z===null?P="M"+U(R,I)+G(R,C,0)+G(R,H,0)+"Z":P="M"+U(z,I)+G(z,C,0)+G(z,H,0)+"ZM"+U(R,I)+G(R,C,1)+G(R,H,1)+"Z":z===null?(P="M"+U(R,I)+G(R,H,0),K&&(P+="L0,0Z")):P="M"+U(z,I)+"L"+U(R,I)+G(R,H,0)+"L"+U(z,H)+G(z,I,1)+"Z",P}function v(m,c,h,b,_){return g(null,m,c,h,b,_,0)}function x(m,c,h,b,_){return g(null,m,c,h,b,_,1)}function y(m,c,h,b,_,w){return g(m,c,h,b,_,w,1)}k.exports={deg2rad:a,rad2deg:o,angleDelta:r,angleDist:p,isFullCircle:s,isAngleInsideSector:u,isPtInsideSector:d,pathArc:v,pathSector:x,pathAnnulus:y}}),yp=xe(E=>{E.isLeftAnchor=function(k){return k.xanchor==="left"||k.xanchor==="auto"&&k.x<=1/3},E.isCenterAnchor=function(k){return k.xanchor==="center"||k.xanchor==="auto"&&k.x>1/3&&k.x<2/3},E.isRightAnchor=function(k){return k.xanchor==="right"||k.xanchor==="auto"&&k.x>=2/3},E.isTopAnchor=function(k){return k.yanchor==="top"||k.yanchor==="auto"&&k.y>=2/3},E.isMiddleAnchor=function(k){return k.yanchor==="middle"||k.yanchor==="auto"&&k.y>1/3&&k.y<2/3},E.isBottomAnchor=function(k){return k.yanchor==="bottom"||k.yanchor==="auto"&&k.y<=1/3}}),vp=xe(E=>{var k=wl().mod;E.segmentsIntersect=i;function i(a,o,s,r,p,u,d,g){var v=s-a,x=p-a,y=d-p,m=r-o,c=u-o,h=g-u,b=v*h-y*m;if(b===0)return null;var _=(x*h-y*c)/b,w=(x*m-v*c)/b;return w<0||w>1||_<0||_>1?null:{x:a+v*_,y:o+m*_}}E.segmentDistance=function(a,o,s,r,p,u,d,g){if(i(a,o,s,r,p,u,d,g))return 0;var v=s-a,x=r-o,y=d-p,m=g-u,c=v*v+x*x,h=y*y+m*m,b=Math.min(t(v,x,c,p-a,u-o),t(v,x,c,d-a,g-o),t(y,m,h,a-p,o-u),t(y,m,h,s-p,r-u));return Math.sqrt(b)};function t(a,o,s,r,p){var u=r*a+p*o;if(u<0)return r*r+p*p;if(u>s){var d=r-a,g=p-o;return d*d+g*g}else{var v=r*o-p*a;return v*v/s}}var e,n,l;E.getTextLocation=function(a,o,s,r){if((a!==n||r!==l)&&(e={},n=a,l=r),e[s])return e[s];var p=a.getPointAtLength(k(s-r/2,o)),u=a.getPointAtLength(k(s+r/2,o)),d=Math.atan((u.y-p.y)/(u.x-p.x)),g=a.getPointAtLength(k(s,o)),v=(g.x*4+p.x+u.x)/6,x=(g.y*4+p.y+u.y)/6,y={x:v,y:x,theta:d};return e[s]=y,y},E.clearLocationCache=function(){n=null},E.getVisibleSegment=function(a,o,s){var r=o.left,p=o.right,u=o.top,d=o.bottom,g=0,v=a.getTotalLength(),x=v,y,m;function c(b){var _=a.getPointAtLength(b);b===0?y=_:b===v&&(m=_);var w=_.x<r?r-_.x:_.x>p?_.x-p:0,K=_.y<u?u-_.y:_.y>d?_.y-d:0;return Math.sqrt(w*w+K*K)}for(var h=c(g);h;){if(g+=h+s,g>x)return;h=c(g)}for(h=c(x);h;){if(x-=h+s,g>x)return;h=c(x)}return{min:g,max:x,len:x-g,total:v,isClosed:g===0&&x===v&&Math.abs(y.x-m.x)<.1&&Math.abs(y.y-m.y)<.1}},E.findPointOnPath=function(a,o,s,r){r=r||{};for(var p=r.pathLength||a.getTotalLength(),u=r.tolerance||.001,d=r.iterationLimit||30,g=a.getPointAtLength(0)[s]>a.getPointAtLength(p)[s]?-1:1,v=0,x=0,y=p,m,c,h;v<d;){if(m=(x+y)/2,c=a.getPointAtLength(m),h=c[s]-o,Math.abs(h)<u)return c;g*h>0?y=m:x=m,v++}return c}}),Qu=xe(E=>{var k={};E.throttle=function(t,e,n){var l=k[t],a=Date.now();if(!l){for(var o in k)k[o].ts<a-6e4&&delete k[o];l=k[t]={ts:0,timer:null}}i(l);function s(){n(),l.ts=Date.now(),l.onDone&&(l.onDone(),l.onDone=null)}if(a>l.ts+e){s();return}l.timer=setTimeout(function(){s(),l.timer=null},e)},E.done=function(t){var e=k[t];return!e||!e.timer?Promise.resolve():new Promise(function(n){var l=e.onDone;e.onDone=function(){l&&l(),n(),e.onDone=null}})},E.clear=function(t){if(t)i(k[t]),delete k[t];else for(var e in k)E.clear(e)};function i(t){t&&t.timer!==null&&(clearTimeout(t.timer),t.timer=null)}}),mp=xe((E,k)=>{k.exports=function(i){i._responsiveChartHandler&&(window.removeEventListener("resize",i._responsiveChartHandler),delete i._responsiveChartHandler)}}),xp=xe((E,k)=>{k.exports=n,k.exports.isMobile=n,k.exports.default=n;var i=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,e=/android|ipad|playbook|silk/i;function n(l){l||(l={});let a=l.ua;if(!a&&typeof navigator<"u"&&(a=navigator.userAgent),a&&a.headers&&typeof a.headers["user-agent"]=="string"&&(a=a.headers["user-agent"]),typeof a!="string")return!1;let o=i.test(a)&&!t.test(a)||!!l.tablet&&e.test(a);return!o&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&a.indexOf("Macintosh")!==-1&&a.indexOf("Safari")!==-1&&(o=!0),o}}),bp=xe((E,k)=>{var i=Bn(),t=xp();k.exports=function(n){var l;if(n&&n.hasOwnProperty("userAgent")?l=n.userAgent:l=e(),typeof l!="string")return!0;var a=t({ua:{headers:{"user-agent":l}},tablet:!0,featureDetect:!1});if(!a)for(var o=l.split(" "),s=1;s<o.length;s++){var r=o[s];if(r.indexOf("Safari")!==-1)for(var p=s-1;p>-1;p--){var u=o[p];if(u.substr(0,8)==="Version/"){var d=u.substr(8).split(".")[0];if(i(d)&&(d=+d),d>=13)return!0}}}return a};function e(){var n;return typeof navigator<"u"&&(n=navigator.userAgent),n&&n.headers&&typeof n.headers["user-agent"]=="string"&&(n=n.headers["user-agent"]),n}}),_p=xe((E,k)=>{var i=Jn();k.exports=function(t,e,n){var l=t.selectAll("g."+n.replace(/\s/g,".")).data(e,function(o){return o[0].trace.uid});l.exit().remove(),l.enter().append("g").attr("class",n),l.order();var a=t.classed("rangeplot")?"nodeRangePlot3":"node3";return l.each(function(o){o[0][a]=i.select(this)}),l}}),wp=xe((E,k)=>{var i=mn();k.exports=function(t,e){for(var n=t._context.locale,l=0;l<2;l++){for(var a=t._context.locales,o=0;o<2;o++){var s=(a[n]||{}).dictionary;if(s){var r=s[e];if(r)return r}a=i.localeRegistry}var p=n.split("-")[0];if(p===n)break;n=p}return e}}),Ap=xe((E,k)=>{k.exports=function(i){for(var t={},e=[],n=0,l=0;l<i.length;l++){var a=i[l];t[a]!==1&&(t[a]=1,e[n++]=a)}return e}}),Tp=xe((E,k)=>{k.exports=function(n){for(var l=e(n)?t:i,a=[],o=0;o<n.length;o++){var s=n[o];l(s)&&a.push(s)}return a};function i(n){return n.visible===!0}function t(n){var l=n[0].trace;return l.visible===!0&&l._length!==0}function e(n){return Array.isArray(n)&&Array.isArray(n[0])&&n[0][0]&&n[0][0].trace}}),kp=xe((E,k)=>{k.exports=function(i,t){if(!t)return i;var e=1/Math.abs(t),n=e>1?(e*i+e*t)/e:i+t,l=String(n).length;if(l>16){var a=String(t).length,o=String(i).length;if(l>=o+a){var s=parseFloat(n).toPrecision(12);s.indexOf("e+")===-1&&(n=+s)}}return n}}),Mp=xe((E,k)=>{var i=Bn(),t=Pa().BADNUM,e=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;k.exports=function(n){return typeof n=="string"&&(n=n.replace(e,"")),i(n)?Number(n):t}}),sr=xe((E,k)=>{var i=Jn(),t=_l().utcFormat,e=gf().format,n=Bn(),l=Pa(),a=l.FP_SAFE,o=-a,s=l.BADNUM,r=k.exports={};r.adjustFormat=function(J){return!J||/^\d[.]\df/.test(J)||/[.]\d%/.test(J)?J:J==="0.f"?"~f":/^\d%/.test(J)?"~%":/^\ds/.test(J)?"~s":!/^[~,.0$]/.test(J)&&/[&fps]/.test(J)?"~"+J:J};var p={};r.warnBadFormat=function(J){var X=String(J);p[X]||(p[X]=1,r.warn('encountered bad format: "'+X+'"'))},r.noFormat=function(J){return String(J)},r.numberFormat=function(J){var X;try{X=e(r.adjustFormat(J))}catch{return r.warnBadFormat(J),r.noFormat}return X},r.nestedProperty=Wu(),r.keyedContainer=Dh(),r.relativeAttr=Eh(),r.isPlainObject=To(),r.toLogRange=Yu(),r.relinkPrivateKeys=Ph();var u=hi();r.isArrayBuffer=u.isArrayBuffer,r.isTypedArray=u.isTypedArray,r.isArrayOrTypedArray=u.isArrayOrTypedArray,r.isArray1D=u.isArray1D,r.ensureArray=u.ensureArray,r.concat=u.concat,r.maxRowLength=u.maxRowLength,r.minRowLength=u.minRowLength;var d=wl();r.mod=d.mod,r.modHalf=d.modHalf;var g=Fh();r.valObjectMeta=g.valObjectMeta,r.coerce=g.coerce,r.coerce2=g.coerce2,r.coerceFont=g.coerceFont,r.coercePattern=g.coercePattern,r.coerceHoverinfo=g.coerceHoverinfo,r.coerceSelectionMarkerOpacity=g.coerceSelectionMarkerOpacity,r.validate=g.validate;var v=hp();r.dateTime2ms=v.dateTime2ms,r.isDateTime=v.isDateTime,r.ms2DateTime=v.ms2DateTime,r.ms2DateTimeLocal=v.ms2DateTimeLocal,r.cleanDate=v.cleanDate,r.isJSDate=v.isJSDate,r.formatDate=v.formatDate,r.incrementMonth=v.incrementMonth,r.dateTick0=v.dateTick0,r.dfltRange=v.dfltRange,r.findExactDates=v.findExactDates,r.MIN_MS=v.MIN_MS,r.MAX_MS=v.MAX_MS;var x=Tf();r.findBin=x.findBin,r.sorterAsc=x.sorterAsc,r.sorterDes=x.sorterDes,r.distinctVals=x.distinctVals,r.roundUp=x.roundUp,r.sort=x.sort,r.findIndexOfMin=x.findIndexOfMin,r.sortObjectKeys=Xu();var y=pp();r.aggNums=y.aggNums,r.len=y.len,r.mean=y.mean,r.geometricMean=y.geometricMean,r.median=y.median,r.midRange=y.midRange,r.variance=y.variance,r.stdev=y.stdev,r.interp=y.interp;var m=Zu();r.init2dArray=m.init2dArray,r.transposeRagged=m.transposeRagged,r.dot=m.dot,r.translationMatrix=m.translationMatrix,r.rotationMatrix=m.rotationMatrix,r.rotationXYMatrix=m.rotationXYMatrix,r.apply3DTransform=m.apply3DTransform,r.apply2DTransform=m.apply2DTransform,r.apply2DTransform2=m.apply2DTransform2,r.convertCssMatrix=m.convertCssMatrix,r.inverseTransformMatrix=m.inverseTransformMatrix;var c=gp();r.deg2rad=c.deg2rad,r.rad2deg=c.rad2deg,r.angleDelta=c.angleDelta,r.angleDist=c.angleDist,r.isFullCircle=c.isFullCircle,r.isAngleInsideSector=c.isAngleInsideSector,r.isPtInsideSector=c.isPtInsideSector,r.pathArc=c.pathArc,r.pathSector=c.pathSector,r.pathAnnulus=c.pathAnnulus;var h=yp();r.isLeftAnchor=h.isLeftAnchor,r.isCenterAnchor=h.isCenterAnchor,r.isRightAnchor=h.isRightAnchor,r.isTopAnchor=h.isTopAnchor,r.isMiddleAnchor=h.isMiddleAnchor,r.isBottomAnchor=h.isBottomAnchor;var b=vp();r.segmentsIntersect=b.segmentsIntersect,r.segmentDistance=b.segmentDistance,r.getTextLocation=b.getTextLocation,r.clearLocationCache=b.clearLocationCache,r.getVisibleSegment=b.getVisibleSegment,r.findPointOnPath=b.findPointOnPath;var _=za();r.extendFlat=_.extendFlat,r.extendDeep=_.extendDeep,r.extendDeepAll=_.extendDeepAll,r.extendDeepNoArrays=_.extendDeepNoArrays;var w=Go();r.log=w.log,r.warn=w.warn,r.error=w.error;var K=kl();r.counterRegex=K.counter;var D=Qu();r.throttle=D.throttle,r.throttleDone=D.done,r.clearThrottle=D.clear;var I=Ls();r.getGraphDiv=I.getGraphDiv,r.isPlotDiv=I.isPlotDiv,r.removeElement=I.removeElement,r.addStyleRule=I.addStyleRule,r.addRelatedStyleRule=I.addRelatedStyleRule,r.deleteRelatedStyleRule=I.deleteRelatedStyleRule,r.setStyleOnHover=I.setStyleOnHover,r.getFullTransformMatrix=I.getFullTransformMatrix,r.getElementTransformMatrix=I.getElementTransformMatrix,r.getElementAndAncestors=I.getElementAndAncestors,r.equalDomRects=I.equalDomRects,r.clearResponsive=mp(),r.preserveDrawingBuffer=bp(),r.makeTraceGroups=_p(),r._=wp(),r.notifier=vf(),r.filterUnique=Ap(),r.filterVisible=Tp(),r.pushUnique=mf(),r.increment=kp(),r.cleanNumber=Mp(),r.ensureNumber=function(J){return n(J)?(J=Number(J),J>a||J<o?s:J):s},r.isIndex=function(J,X){return X!==void 0&&J>=X?!1:n(J)&&J>=0&&J%1===0},r.noop=Ju(),r.identity=Af(),r.repeat=function(J,X){for(var N=new Array(X),$=0;$<X;$++)N[$]=J;return N},r.swapAttrs=function(J,X,N,$){N||(N="x"),$||($="y");for(var te=0;te<X.length;te++){var le=X[te],pe=r.nestedProperty(J,le.replace("?",N)),fe=r.nestedProperty(J,le.replace("?",$)),ye=pe.get();pe.set(fe.get()),fe.set(ye)}},r.raiseToTop=function(J){J.parentNode.appendChild(J)},r.cancelTransition=function(J){return J.transition().duration(0)},r.constrain=function(J,X,N){return X>N?Math.max(N,Math.min(X,J)):Math.max(X,Math.min(N,J))},r.bBoxIntersect=function(J,X,N){return N=N||0,J.left<=X.right+N&&X.left<=J.right+N&&J.top<=X.bottom+N&&X.top<=J.bottom+N},r.simpleMap=function(J,X,N,$,te){for(var le=J.length,pe=new Array(le),fe=0;fe<le;fe++)pe[fe]=X(J[fe],N,$,te);return pe},r.randstr=function J(X,N,$,te){if($||($=16),N===void 0&&(N=24),N<=0)return"0";var le=Math.log(Math.pow(2,N))/Math.log($),pe="",fe,ye,Me;for(fe=2;le===1/0;fe*=2)le=Math.log(Math.pow(2,N/fe))/Math.log($)*fe;var He=le-Math.floor(le);for(fe=0;fe<Math.floor(le);fe++)Me=Math.floor(Math.random()*$).toString($),pe=Me+pe;He&&(ye=Math.pow($,He),Me=Math.floor(Math.random()*ye).toString($),pe=Me+pe);var Ne=parseInt(pe,$);return X&&X[pe]||Ne!==1/0&&Ne>=Math.pow(2,N)?te>10?(r.warn("randstr failed uniqueness"),pe):J(X,N,$,(te||0)+1):pe},r.OptionControl=function(J,X){J||(J={}),X||(X="opt");var N={};return N.optionList=[],N._newoption=function($){$[X]=J,N[$.name]=$,N.optionList.push($)},N["_"+X]=J,N},r.smooth=function(J,X){if(X=Math.round(X)||0,X<2)return J;var N=J.length,$=2*N,te=2*X-1,le=new Array(te),pe=new Array(N),fe,ye,Me,He;for(fe=0;fe<te;fe++)le[fe]=(1-Math.cos(Math.PI*(fe+1)/X))/(2*X);for(fe=0;fe<N;fe++){for(He=0,ye=0;ye<te;ye++)Me=fe+ye+1-X,Me<-N?Me-=$*Math.round(Me/$):Me>=$&&(Me-=$*Math.floor(Me/$)),Me<0?Me=-1-Me:Me>=N&&(Me=$-1-Me),He+=J[Me]*le[ye];pe[fe]=He}return pe},r.syncOrAsync=function(J,X,N){var $,te;function le(){return r.syncOrAsync(J,X,N)}for(;J.length;)if(te=J.splice(0,1)[0],$=te(X),$&&$.then)return $.then(le);return N&&N(X)},r.stripTrailingSlash=function(J){return J.substr(-1)==="/"?J.substr(0,J.length-1):J},r.noneOrAll=function(J,X,N){if(J){var $=!1,te=!0,le,pe;for(le=0;le<N.length;le++)pe=J[N[le]],pe!=null?$=!0:te=!1;if($&&!te)for(le=0;le<N.length;le++)J[N[le]]=X[N[le]]}},r.mergeArray=function(J,X,N,$){var te=typeof $=="function";if(r.isArrayOrTypedArray(J))for(var le=Math.min(J.length,X.length),pe=0;pe<le;pe++){var fe=J[pe];X[pe][N]=te?$(fe):fe}},r.mergeArrayCastPositive=function(J,X,N){return r.mergeArray(J,X,N,function($){var te=+$;return isFinite(te)&&te>0?te:0})},r.fillArray=function(J,X,N,$){if($=$||r.identity,r.isArrayOrTypedArray(J))for(var te=0;te<X.length;te++)X[te][N]=$(J[te])},r.castOption=function(J,X,N,$){$=$||r.identity;var te=r.nestedProperty(J,N).get();return r.isArrayOrTypedArray(te)?Array.isArray(X)&&r.isArrayOrTypedArray(te[X[0]])?$(te[X[0]][X[1]]):$(te[X]):te},r.extractOption=function(J,X,N,$){if(N in J)return J[N];var te=r.nestedProperty(X,$).get();if(!Array.isArray(te))return te};function C(J){var X={};for(var N in J)for(var $=J[N],te=0;te<$.length;te++)X[$[te]]=+N;return X}r.tagSelected=function(J,X,N){var $=X.selectedpoints,te=X._indexToPoints,le;te&&(le=C(te));function pe(Ne){return Ne!==void 0&&Ne<J.length}for(var fe=0;fe<$.length;fe++){var ye=$[fe];if(r.isIndex(ye)||r.isArrayOrTypedArray(ye)&&r.isIndex(ye[0])&&r.isIndex(ye[1])){var Me=le?le[ye]:ye,He=N?N[Me]:Me;pe(He)&&(J[He].selected=1)}}},r.selIndices2selPoints=function(J){var X=J.selectedpoints,N=J._indexToPoints;if(N){for(var $=C(N),te=[],le=0;le<X.length;le++){var pe=X[le];if(r.isIndex(pe)){var fe=$[pe];r.isIndex(fe)&&te.push(fe)}}return te}else return X},r.getTargetArray=function(J,X){var N=X.target;if(typeof N=="string"&&N){var $=r.nestedProperty(J,N).get();return r.isArrayOrTypedArray($)?$:!1}else if(r.isArrayOrTypedArray(N))return N;return!1};function H(J,X,N){var $={};typeof X!="object"&&(X={});var te=N==="pieLike"?-1:3,le=Object.keys(J),pe,fe,ye;for(pe=0;pe<le.length;pe++)fe=le[pe],ye=J[fe],!(fe.charAt(0)==="_"||typeof ye=="function")&&(fe==="module"?$[fe]=ye:Array.isArray(ye)?fe==="colorscale"||te===-1?$[fe]=ye.slice():$[fe]=ye.slice(0,te):r.isTypedArray(ye)?te===-1?$[fe]=ye.subarray():$[fe]=ye.subarray(0,te):ye&&typeof ye=="object"?$[fe]=H(J[fe],X[fe],N):$[fe]=ye);for(le=Object.keys(X),pe=0;pe<le.length;pe++)fe=le[pe],ye=X[fe],(typeof ye!="object"||!(fe in $)||typeof $[fe]!="object")&&($[fe]=ye);return $}r.minExtend=H,r.titleCase=function(J){return J.charAt(0).toUpperCase()+J.substr(1)},r.containsAny=function(J,X){for(var N=0;N<X.length;N++)if(J.indexOf(X[N])!==-1)return!0;return!1};var z=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return z.test(window.navigator.userAgent)};var R=/iPad|iPhone|iPod/;r.isIOS=function(){return R.test(window.navigator.userAgent)};var U=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var J=U.exec(window.navigator.userAgent);if(J&&J.length===2){var X=parseInt(J[1]);if(!isNaN(X))return X}return null},r.isD3Selection=function(J){return J instanceof i.selection},r.ensureSingle=function(J,X,N,$){var te=J.select(X+(N?"."+N:""));if(te.size())return te;var le=J.append(X);return N&&le.classed(N,!0),$&&le.call($),le},r.ensureSingleById=function(J,X,N,$){var te=J.select(X+"#"+N);if(te.size())return te;var le=J.append(X).attr("id",N);return $&&le.call($),le},r.objectFromPath=function(J,X){for(var N=J.split("."),$,te=$={},le=0;le<N.length;le++){var pe=N[le],fe=null,ye=N[le].match(/(.*)\[([0-9]+)\]/);ye?(pe=ye[1],fe=ye[2],$=$[pe]=[],le===N.length-1?$[fe]=X:$[fe]={},$=$[fe]):(le===N.length-1?$[pe]=X:$[pe]={},$=$[pe])}return te};var Z=/^([^\[\.]+)\.(.+)?/,G=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function P(J){return J.slice(0,2)==="__"}r.expandObjectPaths=function(J){var X,N,$,te,le,pe,fe;if(typeof J=="object"&&!Array.isArray(J)){for(N in J)if(J.hasOwnProperty(N))if(X=N.match(Z)){if(te=J[N],$=X[1],P($))continue;delete J[N],J[$]=r.extendDeepNoArrays(J[$]||{},r.objectFromPath(N,r.expandObjectPaths(te))[$])}else if(X=N.match(G)){if(te=J[N],$=X[1],P($))continue;if(le=parseInt(X[2]),delete J[N],J[$]=J[$]||[],X[3]===".")fe=X[4],pe=J[$][le]=J[$][le]||{},r.extendDeepNoArrays(pe,r.objectFromPath(fe,r.expandObjectPaths(te)));else{if(P($))continue;J[$][le]=r.expandObjectPaths(te)}}else{if(P(N))continue;J[N]=r.expandObjectPaths(J[N])}}return J},r.numSeparate=function(J,X,N){if(N||(N=!1),typeof X!="string"||X.length===0)throw new Error("Separator string required for formatting!");typeof J=="number"&&(J=String(J));var $=/(\d+)(\d{3})/,te=X.charAt(0),le=X.charAt(1),pe=J.split("."),fe=pe[0],ye=pe.length>1?te+pe[1]:"";if(le&&(pe.length>1||fe.length>4||N))for(;$.test(fe);)fe=fe.replace($,"$1"+le+"$2");return fe+ye},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var A=/^\w*$/;r.templateString=function(J,X){var N={};return J.replace(r.TEMPLATE_STRING_REGEX,function($,te){var le;return A.test(te)?le=X[te]:(N[te]=N[te]||r.nestedProperty(X,te).get,le=N[te](!0)),le!==void 0?le:""})};var O={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return ae.apply(O,arguments)};var L={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return ae.apply(L,arguments)};var S=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function F(J){var X=J.match(S);return X?{key:X[1],op:X[2],number:Number(X[3])}:{key:J,op:null,number:null}}var W={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return ae.apply(W,arguments)};var ue=/^[:|\|]/;function ae(J,X,N){var $=this,te=arguments;return X||(X={}),J.replace(r.TEMPLATE_STRING_REGEX,function(le,pe,fe){var ye=pe==="xother"||pe==="yother",Me=pe==="_xother"||pe==="_yother",He=pe==="_xother_"||pe==="_yother_",Ne=pe==="xother_"||pe==="yother_",ze=ye||Me||Ne||He,Re=pe;(Me||He)&&(Re=Re.substring(1)),(Ne||He)&&(Re=Re.substring(0,Re.length-1));var Ae=null,T=null;if($.parseMultDiv){var V=F(Re);Re=V.key,Ae=V.op,T=V.number}var j;if(ze){if(j=X[Re],j===void 0)return""}else{var he,be;for(be=3;be<te.length;be++)if(he=te[be],!!he){if(he.hasOwnProperty(Re)){j=he[Re];break}if(A.test(Re)||(j=r.nestedProperty(he,Re).get(!0)),j!==void 0)break}}if(j!==void 0&&(Ae==="*"&&(j*=T),Ae==="/"&&(j/=T)),j===void 0&&$)return $.count<$.max&&(r.warn("Variable '"+Re+"' in "+$.name+" could not be found!"),j=le),$.count===$.max&&r.warn("Too many "+$.name+" warnings - additional warnings will be suppressed"),$.count++,le;if(fe){var ke;if(fe[0]===":"&&(ke=N?N.numberFormat:r.numberFormat,j!==""&&(j=ke(fe.replace(ue,""))(j))),fe[0]==="|"){ke=N?N.timeFormat:t;var Ce=r.dateTime2ms(j);j=r.formatDate(Ce,fe.replace(ue,""),!1,ke)}}else{var qe=Re+"Label";X.hasOwnProperty(qe)&&(j=X[qe])}return ze&&(j="("+j+")",(Me||He)&&(j=" "+j),(Ne||He)&&(j=j+" ")),j})}var se=48,q=57;r.subplotSort=function(J,X){for(var N=Math.min(J.length,X.length)+1,$=0,te=0,le=0;le<N;le++){var pe=J.charCodeAt(le)||0,fe=X.charCodeAt(le)||0,ye=pe>=se&&pe<=q,Me=fe>=se&&fe<=q;if(ye&&($=10*$+pe-se),Me&&(te=10*te+fe-se),!ye||!Me){if($!==te)return $-te;if(pe!==fe)return pe-fe}}return te-$};var ee=2e9;r.seedPseudoRandom=function(){ee=2e9},r.pseudoRandom=function(){var J=ee;return ee=(69069*ee+1)%4294967296,Math.abs(ee-J)<429496729?r.pseudoRandom():ee/4294967296},r.fillText=function(J,X,N){var $=Array.isArray(N)?function(pe){N.push(pe)}:function(pe){N.text=pe},te=r.extractOption(J,X,"htx","hovertext");if(r.isValidTextValue(te))return $(te);var le=r.extractOption(J,X,"tx","text");if(r.isValidTextValue(le))return $(le)},r.isValidTextValue=function(J){return J||J===0},r.formatPercent=function(J,X){X=X||0;for(var N=(Math.round(100*J*Math.pow(10,X))*Math.pow(.1,X)).toFixed(X)+"%",$=0;$<X;$++)N.indexOf(".")!==-1&&(N=N.replace("0%","%"),N=N.replace(".%","%"));return N},r.isHidden=function(J){var X=window.getComputedStyle(J).display;return!X||X==="none"},r.strTranslate=function(J,X){return J||X?"translate("+J+","+X+")":""},r.strRotate=function(J){return J?"rotate("+J+")":""},r.strScale=function(J){return J!==1?"scale("+J+")":""},r.getTextTransform=function(J){var X=J.noCenter,N=J.textX,$=J.textY,te=J.targetX,le=J.targetY,pe=J.anchorX||0,fe=J.anchorY||0,ye=J.rotate,Me=J.scale;return Me?Me>1&&(Me=1):Me=0,r.strTranslate(te-Me*(N+pe),le-Me*($+fe))+r.strScale(Me)+(ye?"rotate("+ye+(X?"":" "+N+" "+$)+")":"")},r.setTransormAndDisplay=function(J,X){J.attr("transform",r.getTextTransform(X)),J.style("display",X.scale?null:"none")},r.ensureUniformFontSize=function(J,X){var N=r.extendFlat({},X);return N.size=Math.max(X.size,J._fullLayout.uniformtext.minsize||0),N},r.join2=function(J,X,N){var $=J.length;return $>1?J.slice(0,-1).join(X)+N+J[$-1]:J.join(X)},r.bigFont=function(J){return Math.round(1.2*J)};var B=r.getFirefoxVersion(),re=B!==null&&B<86;r.getPositionFromD3Event=function(){return re?[i.event.layerX,i.event.layerY]:[i.event.offsetX,i.event.offsetY]}}),Sp=xe(()=>{var E=sr(),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(t in k)i=t.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),E.addStyleRule(i,k[t]);var i,t}),kf=xe((E,k)=>{k.exports=!0}),Mf=xe((E,k)=>{var i=kf(),t;typeof window.matchMedia=="function"?t=!window.matchMedia("(hover: none)").matches:t=i,k.exports=t}),ec=xe((E,k)=>{var i=typeof Reflect=="object"?Reflect:null,t=i&&typeof i.apply=="function"?i.apply:function(_,w,K){return Function.prototype.apply.call(_,w,K)},e;i&&typeof i.ownKeys=="function"?e=i.ownKeys:Object.getOwnPropertySymbols?e=function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:e=function(_){return Object.getOwnPropertyNames(_)};function n(_){console&&console.warn&&console.warn(_)}var l=Number.isNaN||function(_){return _!==_};function a(){a.init.call(this)}k.exports=a,k.exports.once=c,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(_){if(typeof _!="number"||_<0||l(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");o=_}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||l(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this};function r(_){return _._maxListeners===void 0?a.defaultMaxListeners:_._maxListeners}a.prototype.getMaxListeners=function(){return r(this)},a.prototype.emit=function(_){for(var w=[],K=1;K<arguments.length;K++)w.push(arguments[K]);var D=_==="error",I=this._events;if(I!==void 0)D=D&&I.error===void 0;else if(!D)return!1;if(D){var C;if(w.length>0&&(C=w[0]),C instanceof Error)throw C;var H=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw H.context=C,H}var z=I[_];if(z===void 0)return!1;if(typeof z=="function")t(z,this,w);else for(var R=z.length,U=x(z,R),K=0;K<R;++K)t(U[K],this,w);return!0};function p(_,w,K,D){var I,C,H;if(s(K),C=_._events,C===void 0?(C=_._events=Object.create(null),_._eventsCount=0):(C.newListener!==void 0&&(_.emit("newListener",w,K.listener?K.listener:K),C=_._events),H=C[w]),H===void 0)H=C[w]=K,++_._eventsCount;else if(typeof H=="function"?H=C[w]=D?[K,H]:[H,K]:D?H.unshift(K):H.push(K),I=r(_),I>0&&H.length>I&&!H.warned){H.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=_,z.type=w,z.count=H.length,n(z)}return _}a.prototype.addListener=function(_,w){return p(this,_,w,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(_,w){return p(this,_,w,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(_,w,K){var D={fired:!1,wrapFn:void 0,target:_,type:w,listener:K},I=u.bind(D);return I.listener=K,D.wrapFn=I,I}a.prototype.once=function(_,w){return s(w),this.on(_,d(this,_,w)),this},a.prototype.prependOnceListener=function(_,w){return s(w),this.prependListener(_,d(this,_,w)),this},a.prototype.removeListener=function(_,w){var K,D,I,C,H;if(s(w),D=this._events,D===void 0)return this;if(K=D[_],K===void 0)return this;if(K===w||K.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete D[_],D.removeListener&&this.emit("removeListener",_,K.listener||w));else if(typeof K!="function"){for(I=-1,C=K.length-1;C>=0;C--)if(K[C]===w||K[C].listener===w){H=K[C].listener,I=C;break}if(I<0)return this;I===0?K.shift():y(K,I),K.length===1&&(D[_]=K[0]),D.removeListener!==void 0&&this.emit("removeListener",_,H||w)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(_){var w,K,D;if(K=this._events,K===void 0)return this;if(K.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):K[_]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete K[_]),this;if(arguments.length===0){var I=Object.keys(K),C;for(D=0;D<I.length;++D)C=I[D],C!=="removeListener"&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=K[_],typeof w=="function")this.removeListener(_,w);else if(w!==void 0)for(D=w.length-1;D>=0;D--)this.removeListener(_,w[D]);return this};function g(_,w,K){var D=_._events;if(D===void 0)return[];var I=D[w];return I===void 0?[]:typeof I=="function"?K?[I.listener||I]:[I]:K?m(I):x(I,I.length)}a.prototype.listeners=function(_){return g(this,_,!0)},a.prototype.rawListeners=function(_){return g(this,_,!1)},a.listenerCount=function(_,w){return typeof _.listenerCount=="function"?_.listenerCount(w):v.call(_,w)},a.prototype.listenerCount=v;function v(_){var w=this._events;if(w!==void 0){var K=w[_];if(typeof K=="function")return 1;if(K!==void 0)return K.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};function x(_,w){for(var K=new Array(w),D=0;D<w;++D)K[D]=_[D];return K}function y(_,w){for(;w+1<_.length;w++)_[w]=_[w+1];_.pop()}function m(_){for(var w=new Array(_.length),K=0;K<w.length;++K)w[K]=_[K].listener||_[K];return w}function c(_,w){return new Promise(function(K,D){function I(H){_.removeListener(w,C),D(H)}function C(){typeof _.removeListener=="function"&&_.removeListener("error",I),K([].slice.call(arguments))}b(_,w,C,{once:!0}),w!=="error"&&h(_,I,{once:!0})})}function h(_,w,K){typeof _.on=="function"&&b(_,"error",w,K)}function b(_,w,K,D){if(typeof _.on=="function")D.once?_.once(w,K):_.on(w,K);else if(typeof _.addEventListener=="function")_.addEventListener(w,function I(C){D.once&&_.removeEventListener(w,I),K(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}}),Es=xe((E,k)=>{var i=ec().EventEmitter,t={init:function(e){if(e._ev instanceof i)return e;var n=new i,l=new i;return e._ev=n,e._internalEv=l,e.on=n.on.bind(n),e.once=n.once.bind(n),e.removeListener=n.removeListener.bind(n),e.removeAllListeners=n.removeAllListeners.bind(n),e._internalOn=l.on.bind(l),e._internalOnce=l.once.bind(l),e._removeInternalListener=l.removeListener.bind(l),e._removeAllInternalListeners=l.removeAllListeners.bind(l),e.emit=function(a,o){n.emit(a,o),l.emit(a,o)},e},triggerHandler:function(e,n,l){var a,o=e._ev;if(!o)return;var s=o._events[n];if(!s)return;function r(u){if(u.listener){if(o.removeListener(n,u.listener),!u.fired)return u.fired=!0,u.listener.apply(o,[l])}else return u.apply(o,[l])}s=Array.isArray(s)?s:[s];var p;for(p=0;p<s.length-1;p++)r(s[p]);return a=r(s[p]),a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};k.exports=t}),Op=xe((E,k)=>{var i=sr(),t=Yo().dfltConfig;function e(l,a){for(var o=[],s,r=0;r<a.length;r++)s=a[r],s===l?o[r]=s:typeof s=="object"?o[r]=Array.isArray(s)?i.extendDeep([],s):i.extendDeepAll({},s):o[r]=s;return o}var n={};n.add=function(l,a,o,s,r){var p,u;if(l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},u=l.undoQueue.index,l.autoplay){l.undoQueue.inSequence||(l.autoplay=!1);return}!l.undoQueue.sequence||l.undoQueue.beginSequence?(p={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},l.undoQueue.queue.splice(u,l.undoQueue.queue.length-u,p),l.undoQueue.index+=1):p=l.undoQueue.queue[u-1],l.undoQueue.beginSequence=!1,p&&(p.undo.calls.unshift(a),p.undo.args.unshift(o),p.redo.calls.push(s),p.redo.args.push(r)),l.undoQueue.queue.length>t.queueLength&&(l.undoQueue.queue.shift(),l.undoQueue.index--)},n.startSequence=function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!0,l.undoQueue.beginSequence=!0},n.stopSequence=function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!1,l.undoQueue.beginSequence=!1},n.undo=function(l){var a,o;if(!(l.undoQueue===void 0||isNaN(l.undoQueue.index)||l.undoQueue.index<=0)){for(l.undoQueue.index--,a=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,o=0;o<a.undo.calls.length;o++)n.plotDo(l,a.undo.calls[o],a.undo.args[o]);l.undoQueue.inSequence=!1,l.autoplay=!1}},n.redo=function(l){var a,o;if(!(l.undoQueue===void 0||isNaN(l.undoQueue.index)||l.undoQueue.index>=l.undoQueue.queue.length)){for(a=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,o=0;o<a.redo.calls.length;o++)n.plotDo(l,a.redo.calls[o],a.redo.args[o]);l.undoQueue.inSequence=!1,l.autoplay=!1,l.undoQueue.index++}},n.plotDo=function(l,a,o){l.autoplay=!0,o=e(l,o),a.apply(null,o)},k.exports=n}),Sf=xe((E,k)=>{k.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}),Sl=xe(E=>{var k=mn(),i=sr(),t=Ci(),e=Ml(),n=Sf(),l=Cs(),a=Yo().configAttributes,o=Di(),s=i.extendDeepAll,r=i.isPlainObject,p=i.isArrayOrTypedArray,u=i.nestedProperty,d=i.valObjectMeta,g="_isSubplotObj",v="_isLinkedToArray",x="_arrayAttrRegexps",y="_deprecated",m=[g,v,x,y];E.IS_SUBPLOT_OBJ=g,E.IS_LINKED_TO_ARRAY=v,E.DEPRECATED=y,E.UNDERSCORE_ATTRS=m,E.get=function(){var U={};return k.allTypes.forEach(function(Z){U[Z]=_(Z)}),{defs:{valObjects:d,metaKeys:m.concat(["description","role","editType","impliedEdits"]),editType:{traces:o.traces,layout:o.layout},impliedEdits:{}},traces:U,layout:w(),frames:K(),animation:D(l),config:D(a)}},E.crawl=function(U,Z,G,P){var A=G||0;P=P||"",Object.keys(U).forEach(function(O){var L=U[O];if(m.indexOf(O)===-1){var S=(P?P+".":"")+O;Z(L,O,U,A,S),!E.isValObject(L)&&r(L)&&O!=="impliedEdits"&&E.crawl(L,Z,A+1,S)}})},E.isValObject=function(U){return U&&U.valType!==void 0},E.findArrayAttributes=function(U){var Z=[],G=[],P=[],A,O;function L(F,W,ue,ae){G=G.slice(0,ae).concat([W]),P=P.slice(0,ae).concat([F&&F._isLinkedToArray]);var se=F&&(F.valType==="data_array"||F.arrayOk===!0)&&!(G[ae-1]==="colorbar"&&(W==="ticktext"||W==="tickvals"));se&&S(A,0,"")}function S(F,W,ue){var ae=F[G[W]],se=ue+G[W];if(W===G.length-1)p(ae)&&Z.push(O+se);else if(P[W]){if(Array.isArray(ae))for(var q=0;q<ae.length;q++)r(ae[q])&&S(ae[q],W+1,se+"["+q+"].")}else r(ae)&&S(ae,W+1,se+".")}return A=U,O="",E.crawl(t,L),U._module&&U._module.attributes&&E.crawl(U._module.attributes,L),Z},E.getTraceValObject=function(U,Z){var G=Z[0],P=1,A,O,L=U._module;if(L||(L=(k.modules[U.type||t.type.dflt]||{})._module),!L)return!1;if(A=L.attributes,O=A&&A[G],!O){var S=L.basePlotModule;S&&S.attributes&&(O=S.attributes[G])}return O||(O=t[G]),h(O,Z,P)},E.getLayoutValObject=function(U,Z){var G=c(U,Z[0]);return h(G,Z,1)};function c(U,Z){var G,P,A,O,L=U._basePlotModules;if(L){var S;for(G=0;G<L.length;G++){if(A=L[G],A.attrRegex&&A.attrRegex.test(Z)){if(A.layoutAttrOverrides)return A.layoutAttrOverrides;!S&&A.layoutAttributes&&(S=A.layoutAttributes)}var F=A.baseLayoutAttrOverrides;if(F&&Z in F)return F[Z]}if(S)return S}var W=U._modules;if(W){for(G=0;G<W.length;G++)if(O=W[G].layoutAttributes,O&&Z in O)return O[Z]}for(P in k.componentsRegistry){if(A=k.componentsRegistry[P],A.name==="colorscale"&&Z.indexOf("coloraxis")===0)return A.layoutAttributes[Z];if(!A.schema&&Z===A.name)return A.layoutAttributes}return Z in e?e[Z]:!1}function h(U,Z,G){if(!U)return!1;if(U._isLinkedToArray){if(b(Z[G]))G++;else if(G<Z.length)return!1}for(;G<Z.length;G++){var P=U[Z[G]];if(r(P))U=P;else break;if(G===Z.length-1)break;if(U._isLinkedToArray){if(G++,!b(Z[G]))return!1}else if(U.valType==="info_array"){G++;var A=Z[G];if(!b(A))return!1;var O=U.items;if(Array.isArray(O)){if(A>=O.length)return!1;if(U.dimensions===2){if(G++,Z.length===G)return U;var L=Z[G];if(!b(L))return!1;U=O[A][L]}else U=O[A]}else U=O}}return U}function b(U){return U===Math.round(U)&&U>=0}function _(U){var Z,G;Z=k.modules[U]._module,G=Z.basePlotModule;var P={};P.type=null;var A=s({},t),O=s({},Z.attributes);E.crawl(O,function(F,W,ue,ae,se){u(A,se).set(void 0),F===void 0&&u(O,se).set(void 0)}),s(P,A),k.traceIs(U,"noOpacity")&&delete P.opacity,k.traceIs(U,"showLegend")||(delete P.showlegend,delete P.legendgroup),k.traceIs(U,"noHover")&&(delete P.hoverinfo,delete P.hoverlabel),Z.selectPoints||delete P.selectedpoints,s(P,O),G.attributes&&s(P,G.attributes),P.type=U;var L={meta:Z.meta||{},categories:Z.categories||{},animatable:!!Z.animatable,type:U,attributes:D(P)};if(Z.layoutAttributes){var S={};s(S,Z.layoutAttributes),L.layoutAttributes=D(S)}return Z.animatable||E.crawl(L,function(F){E.isValObject(F)&&"anim"in F&&delete F.anim}),L}function w(){var U={},Z,G;s(U,e);for(Z in k.subplotsRegistry)if(G=k.subplotsRegistry[Z],!!G.layoutAttributes)if(Array.isArray(G.attr))for(var P=0;P<G.attr.length;P++)z(U,G,G.attr[P]);else{var A=G.attr==="subplot"?G.name:G.attr;z(U,G,A)}for(Z in k.componentsRegistry){G=k.componentsRegistry[Z];var O=G.schema;if(O&&(O.subplots||O.layout)){var L=O.subplots;if(L&&L.xaxis&&!L.yaxis)for(var S in L.xaxis)delete U.yaxis[S];delete U.xaxis.shift,delete U.xaxis.autoshift}else G.name==="colorscale"?s(U,G.layoutAttributes):G.layoutAttributes&&R(U,G.layoutAttributes,G.name)}return{layoutAttributes:D(U)}}function K(){var U={frames:s({},n)};return D(U),U.frames}function D(U){return I(U),C(U),H(U),U}function I(U){function Z(P){return{valType:"string",editType:"none"}}function G(P,A,O){E.isValObject(P)?(P.arrayOk===!0||P.valType==="data_array")&&(O[A+"src"]=Z()):r(P)&&(P.role="object")}E.crawl(U,G)}function C(U){function Z(G,P,A){if(G){var O=G[v];O&&(delete G[v],A[P]={items:{}},A[P].items[O]=G,A[P].role="object")}}E.crawl(U,Z)}function H(U){function Z(G){for(var P in G)if(r(G[P]))Z(G[P]);else if(Array.isArray(G[P]))for(var A=0;A<G[P].length;A++)Z(G[P][A]);else G[P]instanceof RegExp&&(G[P]=G[P].toString())}Z(U)}function z(U,Z,G){var P=u(U,G),A=s({},Z.layoutAttributes);A[g]=!0,P.set(A)}function R(U,Z,G){var P=u(U,G);P.set(s(P.get()||{},Z))}}),ca=xe(E=>{var k=sr(),i=Ci(),t="templateitemname",e={name:{valType:"string",editType:"none"}};e[t]={valType:"string",editType:"calc"},E.templatedArray=function(a,o){return o._isLinkedToArray=a,o.name=e.name,o[t]=e[t],o},E.traceTemplater=function(a){var o={},s,r;for(s in a)r=a[s],Array.isArray(r)&&r.length&&(o[s]=0);function p(u){s=k.coerce(u,{},i,"type");var d={type:s,_template:null};if(s in o){r=a[s];var g=o[s]%r.length;o[s]++,d._template=r[g]}return d}return{newTrace:p}},E.newContainer=function(a,o,s){var r=a._template,p=r&&(r[o]||s&&r[s]);k.isPlainObject(p)||(p=null);var u=a[o]={_template:p};return u},E.arrayTemplater=function(a,o,s){var r=a._template,p=r&&r[l(o)],u=r&&r[o];(!Array.isArray(u)||!u.length)&&(u=[]);var d={};function g(x){var y={name:x.name,_input:x},m=y[t]=x[t];if(!n(m))return y._template=p,y;for(var c=0;c<u.length;c++){var h=u[c];if(h.name===m)return d[m]=1,y._template=h,y}return y[s]=x[s]||!1,y._template=!1,y}function v(){for(var x=[],y=0;y<u.length;y++){var m=u[y],c=m.name;if(n(c)&&!d[c]){var h={_template:m,name:c,_input:{_templateitemname:c}};h[t]=m[t],x.push(h),d[c]=1}}return x}return{newItem:g,defaultItems:v}};function n(a){return a&&typeof a=="string"}function l(a){var o=a.length-1;return a.charAt(o)!=="s"&&k.warn("bad argument to arrayDefaultKey: "+a),a.substr(0,a.length-1)+"defaults"}E.arrayDefaultKey=l,E.arrayEditor=function(a,o,s){var r=(k.nestedProperty(a,o).get()||[]).length,p=s._index,u=p>=r&&(s._input||{})._templateitemname;u&&(p=r);var d=o+"["+p+"]",g;function v(){g={},u&&(g[d]={},g[d][t]=u)}v();function x(h,b){g[h]=b}function y(h,b){u?k.nestedProperty(g[d],h).set(b):g[d+"."+h]=b}function m(){var h=g;return v(),h}function c(h,b){h&&y(h,b);var _=m();for(var w in _)k.nestedProperty(a,w).set(_[w])}return{modifyBase:x,modifyItem:y,getUpdateObj:m,applyUpdate:c}}}),Za=xe((E,k)=>{var i=kl().counter;k.exports={idRegex:{x:i("x","( domain)?"),y:i("y","( domain)?")},attrRegex:i("[xy]axis"),xAxisMatch:i("xaxis"),yAxisMatch:i("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}),Da=xe(E=>{var k=mn(),i=Za();E.id2name=function(e){if(!(typeof e!="string"||!e.match(i.AX_ID_PATTERN))){var n=e.split(" ")[0].substr(1);return n==="1"&&(n=""),e.charAt(0)+"axis"+n}},E.name2id=function(e){if(e.match(i.AX_NAME_PATTERN)){var n=e.substr(5);return n==="1"&&(n=""),e.charAt(0)+n}},E.cleanId=function(e,n,l){var a=/( domain)$/.test(e);if(!(typeof e!="string"||!e.match(i.AX_ID_PATTERN))&&!(n&&e.charAt(0)!==n)&&!(a&&!l)){var o=e.split(" ")[0].substr(1).replace(/^0+/,"");return o==="1"&&(o=""),e.charAt(0)+o+(a&&l?" domain":"")}},E.list=function(e,n,l){var a=e._fullLayout;if(!a)return[];var o=E.listIds(e,n),s=new Array(o.length),r;for(r=0;r<o.length;r++){var p=o[r];s[r]=a[p.charAt(0)+"axis"+p.substr(1)]}if(!l){var u=a._subplots.gl3d||[];for(r=0;r<u.length;r++){var d=a[u[r]];n?s.push(d[n+"axis"]):s.push(d.xaxis,d.yaxis,d.zaxis)}}return s},E.listIds=function(e,n){var l=e._fullLayout;if(!l)return[];var a=l._subplots;return n?a[n+"axis"]:a.xaxis.concat(a.yaxis)},E.getFromId=function(e,n,l){var a=e._fullLayout;return n=n===void 0||typeof n!="string"?n:n.replace(" domain",""),l==="x"?n=n.replace(/y[0-9]*/,""):l==="y"&&(n=n.replace(/x[0-9]*/,"")),a[E.id2name(n)]},E.getFromTrace=function(e,n,l){var a=e._fullLayout,o=null;if(k.traceIs(n,"gl3d")){var s=n.scene;s.substr(0,5)==="scene"&&(o=a[s][l+"axis"])}else o=E.getFromId(e,n[l+"axis"]||l);return o},E.idSort=function(e,n){var l=e.charAt(0),a=n.charAt(0);return l!==a?l>a?1:-1:+(e.substr(1)||1)-+(n.substr(1)||1)},E.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function t(e,n){if(n&&n.length){for(var l=0;l<n.length;l++)if(n[l][e])return!0}return!1}E.isLinked=function(e,n){return t(n,e._axisMatchGroups)||t(n,e._axisConstraintGroups)}}),Mo=xe((E,k)=>{function i(e){var n=e._fullLayout._zoomlayer;n&&n.selectAll(".outline-controllers").remove()}function t(e){var n=e._fullLayout._zoomlayer;n&&n.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}k.exports={clearOutlineControllers:i,clearOutline:t}}),tc=xe((E,k)=>{k.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}),Of=xe(E=>{var k=mn();Za().SUBPLOT_PATTERN,E.getSubplotCalcData=function(i,t,e){var n=k.subplotsRegistry[t];if(!n)return[];for(var l=n.attr,a=[],o=0;o<i.length;o++){var s=i[o],r=s[0].trace;r[l]===e&&a.push(s)}return a},E.getModuleCalcData=function(i,t,e){var n=[],l=[],a;if(typeof t=="string"?a=k.getModule(t).plot:typeof t=="function"?a=t:a=t.plot,!a)return[n,i];for(var o=e,s=0;s<i.length;s++){var r=i[s],p=r[0].trace,u=p.zorder!==void 0;p.visible!==!0||p._length===0||(p._module&&p._module.plot===a&&(!u||p.zorder===o)?n.push(r):l.push(r))}return[n,l]},E.getSubplotData=function(i,t,e){if(!k.subplotsRegistry[t])return[];for(var n=k.subplotsRegistry[t].attr,l=[],a,o,s,r=0;r<i.length;r++)a=i[r],a[n]===e&&l.push(a);return l}}),Lp=xe(E=>{var k=mn(),i=sr();E.manageCommandObserver=function(o,s,r,p){var u={},d=!0;s&&s._commandObserver&&(u=s._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var g=E.hasSimpleAPICommandBindings(o,r,u.lookupTable);if(s&&s._commandObserver){if(g)return u;if(s._commandObserver.remove)return s._commandObserver.remove(),s._commandObserver=null,u}if(g){t(o,g,u.cache),u.check=function(){if(d){var y=t(o,g,u.cache);return y.changed&&p&&u.lookupTable[y.value]!==void 0&&(u.disable(),Promise.resolve(p({value:y.value,type:g.type,prop:g.prop,traces:g.traces,index:u.lookupTable[y.value]})).then(u.enable,u.enable)),y.changed}};for(var v=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],x=0;x<v.length;x++)o._internalOn(v[x],u.check);u.remove=function(){for(var y=0;y<v.length;y++)o._removeInternalListener(v[y],u.check)}}else i.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){d=!1},u.enable=function(){d=!0},s&&(s._commandObserver=u),u},E.hasSimpleAPICommandBindings=function(o,s,r){var p,u=s.length,d;for(p=0;p<u;p++){var g,v=s[p],x=v.method,y=v.args;if(Array.isArray(y)||(y=[]),!x)return!1;var m=E.computeAPICommandBindings(o,x,y);if(m.length!==1)return!1;if(!d)d=m[0],Array.isArray(d.traces)&&d.traces.sort();else{if(g=m[0],g.type!==d.type||g.prop!==d.prop)return!1;if(Array.isArray(d.traces))if(Array.isArray(g.traces)){g.traces.sort();for(var c=0;c<d.traces.length;c++)if(d.traces[c]!==g.traces[c])return!1}else return!1;else if(g.prop!==d.prop)return!1}g=m[0];var h=g.value;if(Array.isArray(h))if(h.length===1)h=h[0];else return!1;r&&(r[h]=p)}return d};function t(o,s,r){var p,u,d,g=!1;if(s.type==="data")p=o._fullData[s.traces!==null?s.traces[0]:0];else if(s.type==="layout")p=o._fullLayout;else return!1;return u=i.nestedProperty(p,s.prop).get(),d=r[s.type]=r[s.type]||{},d.hasOwnProperty(s.prop)&&d[s.prop]!==u&&(g=!0),d[s.prop]=u,{changed:g,value:u}}E.executeAPICommand=function(o,s,r){if(s==="skip")return Promise.resolve();var p=k.apiMethodRegistry[s],u=[o];Array.isArray(r)||(r=[]);for(var d=0;d<r.length;d++)u.push(r[d]);return p.apply(null,u).catch(function(g){return i.warn("API call to Plotly."+s+" rejected.",g),Promise.reject(g)})},E.computeAPICommandBindings=function(o,s,r){var p;switch(Array.isArray(r)||(r=[]),s){case"restyle":p=l(o,r);break;case"relayout":p=n(o,r);break;case"update":p=l(o,[r[0],r[2]]).concat(n(o,[r[1]]));break;case"animate":p=e(o,r);break;default:p=[]}return p};function e(o,s){return Array.isArray(s[0])&&s[0].length===1&&["string","number"].indexOf(typeof s[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:s[0][0].toString()}]:[]}function n(o,s){var r=[],p=s[0],u={};if(typeof p=="string")u[p]=s[1];else if(i.isPlainObject(p))u=p;else return r;return a(u,function(d,g,v){r.push({type:"layout",prop:d,value:v})},"",0),r}function l(o,s){var r,p,u,d,g=[];if(p=s[0],u=s[1],r=s[2],d={},typeof p=="string")d[p]=u;else if(i.isPlainObject(p))d=p,r===void 0&&(r=u);else return g;return r===void 0&&(r=null),a(d,function(v,x,y){var m,c;if(Array.isArray(y)){c=y.slice();var h=Math.min(c.length,o.data.length);r&&(h=Math.min(h,r.length)),m=[];for(var b=0;b<h;b++)m[b]=r?r[b]:b}else c=y,m=r?r.slice():null;if(m===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(m)){if(!Array.isArray(c)){var _=c;c=[];for(var w=0;w<m.length;w++)c[w]=_}c.length=Math.min(m.length,c.length)}g.push({type:"data",prop:v,traces:m,value:c})},"",0),g}function a(o,s,r,p){Object.keys(o).forEach(function(u){var d=o[u];if(u[0]!=="_"){var g=r+(p>0?".":"")+u;i.isPlainObject(d)?a(d,s,g,p+1):s(g,u,d)}})}}),Ba=xe((E,k)=>{var i=Jn(),t=_l().timeFormatLocale,e=gf().formatLocale,n=Bn(),l=yf(),a=mn(),o=Sl(),s=ca(),r=sr(),p=Nn(),u=Pa().BADNUM,d=Da(),g=Mo().clearOutline,v=tc(),x=Cs(),y=Sf(),m=Of().getModuleCalcData,c=r.relinkPrivateKeys,h=r._,b=k.exports={};r.extendFlat(b,a),b.attributes=Ci(),b.attributes.type.values=b.allTypes,b.fontAttrs=ei(),b.layoutAttributes=Ml();var _=Lp();b.executeAPICommand=_.executeAPICommand,b.computeAPICommandBindings=_.computeAPICommandBindings,b.manageCommandObserver=_.manageCommandObserver,b.hasSimpleAPICommandBindings=_.hasSimpleAPICommandBindings,b.redrawText=function(q){return q=r.getGraphDiv(q),new Promise(function(ee){setTimeout(function(){q._fullLayout&&(a.getComponentMethod("annotations","draw")(q),a.getComponentMethod("legend","draw")(q),a.getComponentMethod("colorbar","draw")(q),ee(b.previousPromises(q)))},300)})},b.resize=function(q){q=r.getGraphDiv(q);var ee,B=new Promise(function(re,J){(!q||r.isHidden(q))&&J(new Error("Resize must be passed a displayed plot div element.")),q._redrawTimer&&clearTimeout(q._redrawTimer),q._resolveResize&&(ee=q._resolveResize),q._resolveResize=re,q._redrawTimer=setTimeout(function(){if(!q.layout||q.layout.width&&q.layout.height||r.isHidden(q)){re(q);return}delete q.layout.width,delete q.layout.height;var X=q.changed;q.autoplay=!0,a.call("relayout",q,{autosize:!0}).then(function(){q.changed=X,q._resolveResize===re&&(delete q._resolveResize,re(q))})},100)});return ee&&ee(B),B},b.previousPromises=function(q){if((q._promises||[]).length)return Promise.all(q._promises).then(function(){q._promises=[]})},b.addLinks=function(q){if(!(!q._context.showLink&&!q._context.showSources)){var ee=q._fullLayout,B=r.ensureSingle(ee._paper,"text","js-plot-link-container",function(te){te.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:p.defaultLine,"pointer-events":"all"}).each(function(){var le=i.select(this);le.append("tspan").classed("js-link-to-tool",!0),le.append("tspan").classed("js-link-spacer",!0),le.append("tspan").classed("js-sourcelinks",!0)})}),re=B.node(),J={y:ee._paper.attr("height")-9};document.body.contains(re)&&re.getComputedTextLength()>=ee.width-20?(J["text-anchor"]="start",J.x=5):(J["text-anchor"]="end",J.x=ee._paper.attr("width")-7),B.attr(J);var X=B.select(".js-link-to-tool"),N=B.select(".js-link-spacer"),$=B.select(".js-sourcelinks");q._context.showSources&&q._context.showSources(q),q._context.showLink&&w(q,X),N.text(X.text()&&$.text()?" - ":"")}};function w(q,ee){ee.text("");var B=ee.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(q._context.linkText+" »");if(q._context.sendData)B.on("click",function(){b.sendDataToCloud(q)});else{var re=window.location.pathname.split("/"),J=window.location.search;B.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+re[2].split(".")[0]+"/"+re[1]+J})}}b.sendDataToCloud=function(q){var ee=(window.PLOTLYENV||{}).BASE_URL||q._context.plotlyServerURL;if(ee){q.emit("plotly_beforeexport");var B=i.select(q).append("div").attr("id","hiddenform").style("display","none"),re=B.append("form").attr({action:ee+"/external",method:"post",target:"_blank"}),J=re.append("input").attr({type:"text",name:"data"});return J.node().value=b.graphJson(q,!1,"keepdata"),re.node().submit(),B.remove(),q.emit("plotly_afterexport"),!1}};var K=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],D=["year","month","dayMonth","dayMonthYear"];b.supplyDefaults=function(q,ee){var B=ee&&ee.skipUpdateCalc,re=q._fullLayout||{};if(re._skipDefaults){delete re._skipDefaults;return}var J=q._fullLayout={},X=q.layout||{},N=q._fullData||[],$=q._fullData=[],te=q.data||[],le=q.calcdata||[],pe=q._context||{},fe;q._transitionData||b.createTransitionData(q),J._dfltTitle={plot:h(q,"Click to enter Plot title"),subtitle:h(q,"Click to enter Plot subtitle"),x:h(q,"Click to enter X axis title"),y:h(q,"Click to enter Y axis title"),colorbar:h(q,"Click to enter Colorscale title"),annotation:h(q,"new text")},J._traceWord=h(q,"trace");var ye=H(q,K);if(J._mapboxAccessToken=pe.mapboxAccessToken,re._initialAutoSizeIsDone){var Me=re.width,He=re.height;b.supplyLayoutGlobalDefaults(X,J,ye),X.width||(J.width=Me),X.height||(J.height=He),b.sanitizeMargins(J)}else{b.supplyLayoutGlobalDefaults(X,J,ye);var Ne=!X.width||!X.height,ze=J.autosize,Re=pe.autosizable,Ae=Ne&&(ze||Re);Ae?b.plotAutoSize(q,X,J):Ne&&b.sanitizeMargins(J),!ze&&Ne&&(X.width=J.width,X.height=J.height)}J._d3locale=z(ye,J.separators),J._extraFormat=H(q,D),J._initialAutoSizeIsDone=!0,J._dataLength=te.length,J._modules=[],J._visibleModules=[],J._basePlotModules=[];var T=J._subplots=C(),V=J._splomAxes={x:{},y:{}},j=J._splomSubplots={};J._splomGridDflt={},J._scatterStackOpts={},J._firstScatter={},J._alignmentOpts={},J._colorAxes={},J._requestRangeslider={},J._traceUids=I(N,te),b.supplyDataDefaults(te,$,X,J);var he=Object.keys(V.x),be=Object.keys(V.y);if(he.length>1&&be.length>1){for(a.getComponentMethod("grid","sizeDefaults")(X,J),fe=0;fe<he.length;fe++)r.pushUnique(T.xaxis,he[fe]);for(fe=0;fe<be.length;fe++)r.pushUnique(T.yaxis,be[fe]);for(var ke in j)r.pushUnique(T.cartesian,ke)}if(J._has=b._hasPlotType.bind(J),N.length===$.length)for(fe=0;fe<$.length;fe++)c($[fe],N[fe]);b.supplyLayoutModuleDefaults(X,J,$,q._transitionData);var Ce=J._visibleModules,qe=[];for(fe=0;fe<Ce.length;fe++){var at=Ce[fe].crossTraceDefaults;at&&r.pushUnique(qe,at)}for(fe=0;fe<qe.length;fe++)qe[fe]($,J);J._hasOnlyLargeSploms=J._basePlotModules.length===1&&J._basePlotModules[0].name==="splom"&&he.length>15&&be.length>15&&J.shapes.length===0&&J.images.length===0,b.linkSubplots($,J,N,re),b.cleanPlot($,J,N,re);var ct=!!(re._has&&re._has("cartesian")),vt=!!(J._has&&J._has("cartesian")),St=ct,ot=vt;St&&!ot?re._bgLayer.remove():ot&&!St&&(J._shouldCreateBgLayer=!0),re._zoomlayer&&!q._dragging&&g({_fullLayout:re}),R($,J),c(J,re),a.getComponentMethod("colorscale","crossTraceDefaults")($,J),J._preGUI||(J._preGUI={}),J._tracePreGUI||(J._tracePreGUI={});var Ct=J._tracePreGUI,It={},At;for(At in Ct)It[At]="old";for(fe=0;fe<$.length;fe++)At=$[fe]._fullInput.uid,It[At]||(Ct[At]={}),It[At]="new";for(At in It)It[At]==="old"&&delete Ct[At];G(J),a.getComponentMethod("rangeslider","makeData")(J),!B&&le.length===$.length&&b.supplyDefaultsUpdateCalc(le,$)},b.supplyDefaultsUpdateCalc=function(q,ee){for(var B=0;B<ee.length;B++){var re=ee[B],J=(q[B]||[])[0];if(J&&J.trace){var X=J.trace;if(X._hasCalcTransform){var N=X._arrayAttrs,$,te,le;for($=0;$<N.length;$++)te=N[$],le=r.nestedProperty(X,te).get().slice(),r.nestedProperty(re,te).set(le)}J.trace=re}}};function I(q,ee){var B=ee.length,re=[],J,X;for(J=0;J<q.length;J++){var N=q[J]._fullInput;N!==X&&re.push(N),X=N}var $=re.length,te=new Array(B),le={};function pe(Me,He){te[He]=Me,le[Me]=1}function fe(Me,He){if(Me&&typeof Me=="string"&&!le[Me])return pe(Me,He),!0}for(J=0;J<B;J++){var ye=ee[J].uid;typeof ye=="number"&&(ye=String(ye)),!fe(ye,J)&&(J<$&&fe(re[J].uid,J)||pe(r.randstr(le),J))}return te}function C(){var q=a.collectableSubplotTypes,ee={},B,re;if(!q){q=[];var J=a.subplotsRegistry;for(var X in J){var N=J[X],$=N.attr;if($&&(q.push(X),Array.isArray($)))for(re=0;re<$.length;re++)r.pushUnique(q,$[re])}}for(B=0;B<q.length;B++)ee[q[B]]=[];return ee}function H(q,ee){var B=q._context.locale;B||(B="en-US");var re=!1,J={};function X(fe){for(var ye=!0,Me=0;Me<ee.length;Me++){var He=ee[Me];J[He]||(fe[He]?J[He]=fe[He]:ye=!1)}ye&&(re=!0)}for(var N=0;N<2;N++){for(var $=q._context.locales,te=0;te<2;te++){var le=($[B]||{}).format;if(le&&(X(le),re))break;$=a.localeRegistry}var pe=B.split("-")[0];if(re||pe===B)break;B=pe}return re||X(a.localeRegistry.en.format),J}function z(q,ee){return q.decimal=ee.charAt(0),q.thousands=ee.charAt(1),{numberFormat:function(B){try{B=e(q).format(r.adjustFormat(B))}catch{return r.warnBadFormat(B),r.noFormat}return B},timeFormat:t(q).utcFormat}}function R(q,ee){var B,re=[];ee.meta&&(B=ee._meta={meta:ee.meta,layout:{meta:ee.meta}});for(var J=0;J<q.length;J++){var X=q[J];X.meta?re[X.index]=X._meta={meta:X.meta}:ee.meta&&(X._meta={meta:ee.meta}),ee.meta&&(X._meta.layout={meta:ee.meta})}re.length&&(B||(B=ee._meta={}),B.data=re)}b.createTransitionData=function(q){q._transitionData||(q._transitionData={}),q._transitionData._frames||(q._transitionData._frames=[]),q._transitionData._frameHash||(q._transitionData._frameHash={}),q._transitionData._counter||(q._transitionData._counter=0),q._transitionData._interruptCallbacks||(q._transitionData._interruptCallbacks=[])},b._hasPlotType=function(q){var ee,B=this._basePlotModules||[];for(ee=0;ee<B.length;ee++)if(B[ee].name===q)return!0;var re=this._modules||[];for(ee=0;ee<re.length;ee++){var J=re[ee].name;if(J===q)return!0;var X=a.modules[J];if(X&&X.categories[q])return!0}return!1},b.cleanPlot=function(q,ee,B,re){var J,X,N=re._basePlotModules||[];for(J=0;J<N.length;J++){var $=N[J];$.clean&&$.clean(q,ee,B,re)}var te=re._has&&re._has("gl"),le=ee._has&&ee._has("gl");te&&!le&&re._glcontainer!==void 0&&(re._glcontainer.selectAll(".gl-canvas").remove(),re._glcontainer.selectAll(".no-webgl").remove(),re._glcanvas=null);var pe=!!re._infolayer;e:for(J=0;J<B.length;J++){var fe=B[J],ye=fe.uid;for(X=0;X<q.length;X++){var Me=q[X];if(ye===Me.uid)continue e}pe&&re._infolayer.select(".cb"+ye).remove()}},b.linkSubplots=function(q,ee,B,re){var J,X,N=re._plots||{},$=ee._plots={},te=ee._subplots,le={_fullData:q,_fullLayout:ee},pe=te.cartesian||[];for(J=0;J<pe.length;J++){var fe=pe[J],ye=N[fe],Me=d.getFromId(le,fe,"x"),He=d.getFromId(le,fe,"y"),Ne;for(ye?Ne=$[fe]=ye:(Ne=$[fe]={},Ne.id=fe),Me._counterAxes.push(He._id),He._counterAxes.push(Me._id),Me._subplotsWith.push(fe),He._subplotsWith.push(fe),Ne.xaxis=Me,Ne.yaxis=He,Ne._hasClipOnAxisFalse=!1,X=0;X<q.length;X++){var ze=q[X];if(ze.xaxis===Ne.xaxis._id&&ze.yaxis===Ne.yaxis._id&&ze.cliponaxis===!1){Ne._hasClipOnAxisFalse=!0;break}}}var Re=d.list(le,null,!0),Ae;for(J=0;J<Re.length;J++){Ae=Re[J];var T=null;Ae.overlaying&&(T=d.getFromId(le,Ae.overlaying),T&&T.overlaying&&(Ae.overlaying=!1,T=null)),Ae._mainAxis=T||Ae,T&&(Ae.domain=T.domain.slice()),Ae._anchorAxis=Ae.anchor==="free"?null:d.getFromId(le,Ae.anchor)}for(J=0;J<Re.length;J++)if(Ae=Re[J],Ae._counterAxes.sort(d.idSort),Ae._subplotsWith.sort(r.subplotSort),Ae._mainSubplot=U(Ae,ee),Ae._counterAxes.length&&(Ae.spikemode&&Ae.spikemode.indexOf("across")!==-1||Ae.automargin&&Ae.mirror&&Ae.anchor!=="free"||a.getComponentMethod("rangeslider","isVisible")(Ae))){var V=1,j=0;for(X=0;X<Ae._counterAxes.length;X++){var he=d.getFromId(le,Ae._counterAxes[X]);V=Math.min(V,he.domain[0]),j=Math.max(j,he.domain[1])}V<j&&(Ae._counterDomainMin=V,Ae._counterDomainMax=j)}};function U(q,ee){var B={_fullLayout:ee},re=q._id.charAt(0)==="x",J=q._mainAxis._anchorAxis,X="",N="",$="";if(J&&($=J._mainAxis._id,X=re?q._id+$:$+q._id),!X||!ee._plots[X]){X="";for(var te=q._counterAxes,le=0;le<te.length;le++){var pe=te[le],fe=re?q._id+pe:pe+q._id;N||(N=fe);var ye=d.getFromId(B,pe);if($&&ye.overlaying===$){X=fe;break}}}return X||N}b.clearExpandedTraceDefaultColors=function(q){var ee,B,re;function J(N,$,te,le){B[le]=$,B.length=le+1,N.valType==="color"&&N.dflt===void 0&&ee.push(B.join("."))}for(B=[],ee=q._module._colorAttrs,ee||(q._module._colorAttrs=ee=[],o.crawl(q._module.attributes,J)),re=0;re<ee.length;re++){var X=r.nestedProperty(q,"_input."+ee[re]);X.get()||r.nestedProperty(q,ee[re]).set(null)}},b.supplyDataDefaults=function(q,ee,B,re){var J=re._modules,X=re._visibleModules,N=re._basePlotModules,$=0,te,le,pe;re._transformModules=[];function fe(Re){ee.push(Re);var Ae=Re._module;Ae&&(r.pushUnique(J,Ae),Re.visible===!0&&r.pushUnique(X,Ae),r.pushUnique(N,Re._module.basePlotModule),Re._input.visible!==!1&&$++)}var ye={},Me=[],He=(B.template||{}).data||{},Ne=s.traceTemplater(He);for(te=0;te<q.length;te++)pe=q[te],le=Ne.newTrace(pe),le.uid=re._traceUids[te],b.supplyTraceDefaults(pe,le,$,re,te),le.index=te,le._input=pe,le._fullInput=le,fe(le),a.traceIs(le,"carpetAxis")&&(ye[le.carpet]=le),a.traceIs(le,"carpetDependent")&&Me.push(te);for(te=0;te<Me.length;te++)if(le=ee[Me[te]],!!le.visible){var ze=ye[le.carpet];if(le._carpet=ze,!ze||!ze.visible){le.visible=!1;continue}le.xaxis=ze.xaxis,le.yaxis=ze.yaxis}},b.supplyAnimationDefaults=function(q){q=q||{};var ee,B={};function re(J,X){return r.coerce(q||{},B,x,J,X)}if(re("mode"),re("direction"),re("fromcurrent"),Array.isArray(q.frame))for(B.frame=[],ee=0;ee<q.frame.length;ee++)B.frame[ee]=b.supplyAnimationFrameDefaults(q.frame[ee]||{});else B.frame=b.supplyAnimationFrameDefaults(q.frame||{});if(Array.isArray(q.transition))for(B.transition=[],ee=0;ee<q.transition.length;ee++)B.transition[ee]=b.supplyAnimationTransitionDefaults(q.transition[ee]||{});else B.transition=b.supplyAnimationTransitionDefaults(q.transition||{});return B},b.supplyAnimationFrameDefaults=function(q){var ee={};function B(re,J){return r.coerce(q||{},ee,x.frame,re,J)}return B("duration"),B("redraw"),ee},b.supplyAnimationTransitionDefaults=function(q){var ee={};function B(re,J){return r.coerce(q||{},ee,x.transition,re,J)}return B("duration"),B("easing"),ee},b.supplyFrameDefaults=function(q){var ee={};function B(re,J){return r.coerce(q,ee,y,re,J)}return B("group"),B("name"),B("traces"),B("baseframe"),B("data"),B("layout"),ee},b.supplyTraceDefaults=function(q,ee,B,re,J){var X=re.colorway||p.defaults,N=X[B%X.length],$;function te(T,V){return r.coerce(q,ee,b.attributes,T,V)}var le=te("visible");te("type"),te("name",re._traceWord+" "+J),te("uirevision",re.uirevision);var pe=b.getModule(ee);if(ee._module=pe,pe){var fe=pe.basePlotModule,ye=fe.attr,Me=fe.attributes;if(ye&&Me){var He=re._subplots,Ne="";if(Array.isArray(ye))for($=0;$<ye.length;$++){var ze=ye[$],Re=r.coerce(q,ee,Me,ze);He[ze]&&r.pushUnique(He[ze],Re),Ne+=Re}else Ne=r.coerce(q,ee,Me,ye);He[fe.name]&&r.pushUnique(He[fe.name],Ne)}}if(le&&(te("customdata"),te("ids"),te("meta"),a.traceIs(ee,"showLegend")?(r.coerce(q,ee,pe.attributes.showlegend?pe.attributes:b.attributes,"showlegend"),te("legend"),te("legendwidth"),te("legendgroup"),te("legendgrouptitle.text"),te("legendrank"),ee._dfltShowLegend=!0):ee._dfltShowLegend=!1,pe&&pe.supplyDefaults(q,ee,N,re),a.traceIs(ee,"noOpacity")||te("opacity"),a.traceIs(ee,"notLegendIsolatable")&&(ee.visible=!!ee.visible),a.traceIs(ee,"noHover")||(ee.hovertemplate||r.coerceHoverinfo(q,ee,re),ee.type!=="parcats"&&a.getComponentMethod("fx","supplyDefaults")(q,ee,N,re)),pe&&pe.selectPoints)){var Ae=te("selectedpoints");r.isTypedArray(Ae)&&(ee.selectedpoints=Array.from(Ae))}return ee},b.supplyLayoutGlobalDefaults=function(q,ee,B){function re(fe,ye){return r.coerce(q,ee,b.layoutAttributes,fe,ye)}var J=q.template;r.isPlainObject(J)&&(ee.template=J,ee._template=J.layout,ee._dataTemplate=J.data),re("autotypenumbers");var X=r.coerceFont(re,"font"),N=X.size;r.coerceFont(re,"title.font",X,{overrideDflt:{size:Math.round(N*1.4)}}),re("title.text",ee._dfltTitle.plot),re("title.xref");var $=re("title.yref");re("title.pad.t"),re("title.pad.r"),re("title.pad.b"),re("title.pad.l");var te=re("title.automargin");re("title.x"),re("title.xanchor"),re("title.y"),re("title.yanchor"),re("title.subtitle.text",ee._dfltTitle.subtitle),r.coerceFont(re,"title.subtitle.font",X,{overrideDflt:{size:Math.round(ee.title.font.size*.7)}}),te&&($==="paper"&&(ee.title.y!==0&&(ee.title.y=1),ee.title.yanchor==="auto"&&(ee.title.yanchor=ee.title.y===0?"top":"bottom")),$==="container"&&(ee.title.y==="auto"&&(ee.title.y=1),ee.title.yanchor==="auto"&&(ee.title.yanchor=ee.title.y<.5?"bottom":"top")));var le=re("uniformtext.mode");le&&re("uniformtext.minsize"),re("autosize",!(q.width&&q.height)),re("width"),re("height"),re("minreducedwidth"),re("minreducedheight"),re("margin.l"),re("margin.r"),re("margin.t"),re("margin.b"),re("margin.pad"),re("margin.autoexpand"),q.width&&q.height&&b.sanitizeMargins(ee),a.getComponentMethod("grid","sizeDefaults")(q,ee),re("paper_bgcolor"),re("separators",B.decimal+B.thousands),re("hidesources"),re("colorway"),re("datarevision");var pe=re("uirevision");re("editrevision",pe),re("selectionrevision",pe),a.getComponentMethod("modebar","supplyLayoutDefaults")(q,ee),a.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(q,ee,re),a.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(q,ee,re),re("meta"),r.isPlainObject(q.transition)&&(re("transition.duration"),re("transition.easing"),re("transition.ordering")),a.getComponentMethod("calendars","handleDefaults")(q,ee,"calendar"),a.getComponentMethod("fx","supplyLayoutGlobalDefaults")(q,ee,re),r.coerce(q,ee,v,"scattermode")};function Z(q){return typeof q=="string"&&q.substr(q.length-2)==="px"&&parseFloat(q)}b.plotAutoSize=function(q,ee,B){var re=q._context||{},J=re.frameMargins,X,N,$=r.isPlotDiv(q);if($&&q.emit("plotly_autosize"),re.fillFrame)X=window.innerWidth,N=window.innerHeight,document.body.style.overflow="hidden";else{var te=$?window.getComputedStyle(q):{};if(X=Z(te.width)||Z(te.maxWidth)||B.width,N=Z(te.height)||Z(te.maxHeight)||B.height,n(J)&&J>0){var le=1-2*J;X=Math.round(le*X),N=Math.round(le*N)}}var pe=b.layoutAttributes.width.min,fe=b.layoutAttributes.height.min;X<pe&&(X=pe),N<fe&&(N=fe);var ye=!ee.width&&Math.abs(B.width-X)>1,Me=!ee.height&&Math.abs(B.height-N)>1;(Me||ye)&&(ye&&(B.width=X),Me&&(B.height=N)),q._initialAutoSize||(q._initialAutoSize={width:X,height:N}),b.sanitizeMargins(B)},b.supplyLayoutModuleDefaults=function(q,ee,B,re){var J=a.componentsRegistry,X=ee._basePlotModules,N,$,te,le=a.subplotsRegistry.cartesian;for(N in J)te=J[N],te.includeBasePlot&&te.includeBasePlot(q,ee);X.length||X.push(le),ee._has("cartesian")&&(a.getComponentMethod("grid","contentDefaults")(q,ee),le.finalizeSubplots(q,ee));for(var pe in ee._subplots)ee._subplots[pe].sort(r.subplotSort);for($=0;$<X.length;$++)te=X[$],te.supplyLayoutDefaults&&te.supplyLayoutDefaults(q,ee,B);var fe=ee._modules;for($=0;$<fe.length;$++)te=fe[$],te.supplyLayoutDefaults&&te.supplyLayoutDefaults(q,ee,B);var ye=ee._transformModules;for($=0;$<ye.length;$++)te=ye[$],te.supplyLayoutDefaults&&te.supplyLayoutDefaults(q,ee,B,re);for(N in J)te=J[N],te.supplyLayoutDefaults&&te.supplyLayoutDefaults(q,ee,B)},b.purge=function(q){var ee=q._fullLayout||{};ee._glcontainer!==void 0&&(ee._glcontainer.selectAll(".gl-canvas").remove(),ee._glcontainer.remove(),ee._glcanvas=null),ee._modeBar&&ee._modeBar.destroy(),q._transitionData&&(q._transitionData._interruptCallbacks&&(q._transitionData._interruptCallbacks.length=0),q._transitionData._animationRaf&&window.cancelAnimationFrame(q._transitionData._animationRaf)),r.clearThrottle(),r.clearResponsive(q),delete q.data,delete q.layout,delete q._fullData,delete q._fullLayout,delete q.calcdata,delete q.empty,delete q.fid,delete q.undoqueue,delete q.undonum,delete q.autoplay,delete q.changed,delete q._promises,delete q._redrawTimer,delete q._hmlumcount,delete q._hmpixcount,delete q._transitionData,delete q._transitioning,delete q._initialAutoSize,delete q._transitioningWithDuration,delete q._dragging,delete q._dragged,delete q._dragdata,delete q._hoverdata,delete q._snapshotInProgress,delete q._editing,delete q._mouseDownTime,delete q._legendMouseDownTime,q.removeAllListeners&&q.removeAllListeners()},b.style=function(q){var ee=q._fullLayout._visibleModules,B=[],re;for(re=0;re<ee.length;re++){var J=ee[re];J.style&&r.pushUnique(B,J.style)}for(re=0;re<B.length;re++)B[re](q)},b.sanitizeMargins=function(q){if(!(!q||!q.margin)){var ee=q.width,B=q.height,re=q.margin,J=ee-(re.l+re.r),X=B-(re.t+re.b),N;J<0&&(N=(ee-1)/(re.l+re.r),re.l=Math.floor(N*re.l),re.r=Math.floor(N*re.r)),X<0&&(N=(B-1)/(re.t+re.b),re.t=Math.floor(N*re.t),re.b=Math.floor(N*re.b))}},b.clearAutoMarginIds=function(q){q._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(q,ee){q._fullLayout._pushmarginIds[ee]=1};function G(q){var ee=q.margin;if(!q._size){var B=q._size={l:Math.round(ee.l),r:Math.round(ee.r),t:Math.round(ee.t),b:Math.round(ee.b),p:Math.round(ee.pad)};B.w=Math.round(q.width)-B.l-B.r,B.h=Math.round(q.height)-B.t-B.b}q._pushmargin||(q._pushmargin={}),q._pushmarginIds||(q._pushmarginIds={}),q._reservedMargin||(q._reservedMargin={})}var P=2,A=2;b.autoMargin=function(q,ee,B){var re=q._fullLayout,J=re.width,X=re.height,N=re.margin,$=re.minreducedwidth,te=re.minreducedheight,le=r.constrain(J-N.l-N.r,P,$),pe=r.constrain(X-N.t-N.b,A,te),fe=Math.max(0,J-le),ye=Math.max(0,X-pe),Me=re._pushmargin,He=re._pushmarginIds;if(N.autoexpand!==!1){if(!B)delete Me[ee],delete He[ee];else{var Ne=B.pad;if(Ne===void 0&&(Ne=Math.min(12,N.l,N.r,N.t,N.b)),fe){var ze=(B.l+B.r)/fe;ze>1&&(B.l/=ze,B.r/=ze)}if(ye){var Re=(B.t+B.b)/ye;Re>1&&(B.t/=Re,B.b/=Re)}var Ae=B.xl!==void 0?B.xl:B.x,T=B.xr!==void 0?B.xr:B.x,V=B.yt!==void 0?B.yt:B.y,j=B.yb!==void 0?B.yb:B.y;Me[ee]={l:{val:Ae,size:B.l+Ne},r:{val:T,size:B.r+Ne},b:{val:j,size:B.b+Ne},t:{val:V,size:B.t+Ne}},He[ee]=1}if(!re._replotting)return b.doAutoMargin(q)}};function O(q){if("_redrawFromAutoMarginCount"in q._fullLayout)return!1;var ee=d.list(q,"",!0);for(var B in ee)if(ee[B].autoshift||ee[B].shift)return!0;return!1}b.doAutoMargin=function(q){var ee=q._fullLayout,B=ee.width,re=ee.height;ee._size||(ee._size={}),G(ee);var J=ee._size,X=ee.margin,N={t:0,b:0,l:0,r:0},$=r.extendFlat({},J),te=X.l,le=X.r,pe=X.t,fe=X.b,ye=ee._pushmargin,Me=ee._pushmarginIds,He=ee.minreducedwidth,Ne=ee.minreducedheight;if(X.autoexpand!==!1){for(var ze in ye)Me[ze]||delete ye[ze];var Re=q._fullLayout._reservedMargin;for(var Ae in Re)for(var T in Re[Ae]){var V=Re[Ae][T];N[T]=Math.max(N[T],V)}ye.base={l:{val:0,size:te},r:{val:1,size:le},t:{val:1,size:pe},b:{val:0,size:fe}};for(var j in N){var he=0;for(var be in ye)be!=="base"&&n(ye[be][j].size)&&(he=ye[be][j].size>he?ye[be][j].size:he);var ke=Math.max(0,X[j]-he);N[j]=Math.max(0,N[j]-ke)}for(var Ce in ye){var qe=ye[Ce].l||{},at=ye[Ce].b||{},ct=qe.val,vt=qe.size,St=at.val,ot=at.size,Ct=B-N.r-N.l,It=re-N.t-N.b;for(var At in ye){if(n(vt)&&ye[At].r){var Nt=ye[At].r.val,_e=ye[At].r.size;if(Nt>ct){var De=(vt*Nt+(_e-Ct)*ct)/(Nt-ct),je=(_e*(1-ct)+(vt-Ct)*(1-Nt))/(Nt-ct);De+je>te+le&&(te=De,le=je)}}if(n(ot)&&ye[At].t){var ie=ye[At].t.val,ve=ye[At].t.size;if(ie>St){var we=(ot*ie+(ve-It)*St)/(ie-St),Se=(ve*(1-St)+(ot-It)*(1-ie))/(ie-St);we+Se>fe+pe&&(fe=we,pe=Se)}}}}}var Ue=r.constrain(B-X.l-X.r,P,He),Le=r.constrain(re-X.t-X.b,A,Ne),tt=Math.max(0,B-Ue),nt=Math.max(0,re-Le);if(tt){var ut=(te+le)/tt;ut>1&&(te/=ut,le/=ut)}if(nt){var Ye=(fe+pe)/nt;Ye>1&&(fe/=Ye,pe/=Ye)}if(J.l=Math.round(te)+N.l,J.r=Math.round(le)+N.r,J.t=Math.round(pe)+N.t,J.b=Math.round(fe)+N.b,J.p=Math.round(X.pad),J.w=Math.round(B)-J.l-J.r,J.h=Math.round(re)-J.t-J.b,!ee._replotting&&(b.didMarginChange($,J)||O(q))){"_redrawFromAutoMarginCount"in ee?ee._redrawFromAutoMarginCount++:ee._redrawFromAutoMarginCount=1;var st=3*(1+Object.keys(Me).length);if(ee._redrawFromAutoMarginCount<st)return a.call("_doPlot",q);ee._size=$,r.warn("Too many auto-margin redraws.")}L(q)};function L(q){var ee=d.list(q,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(B){for(var re=0;re<ee.length;re++){var J=ee[re][B];J&&J()}})}var S=["l","r","t","b","p","w","h"];b.didMarginChange=function(q,ee){for(var B=0;B<S.length;B++){var re=S[B],J=q[re],X=ee[re];if(!n(J)||Math.abs(X-J)>1)return!0}return!1},b.graphJson=function(q,ee,B,re,J,X){(J&&ee&&!q._fullData||J&&!ee&&!q._fullLayout)&&b.supplyDefaults(q);var N=J?q._fullData:q.data,$=J?q._fullLayout:q.layout,te=(q._transitionData||{})._frames;function le(ye,Me){if(typeof ye=="function")return Me?"_function_":null;if(r.isPlainObject(ye)){var He={},Ne;return Object.keys(ye).sort().forEach(function(T){if(["_","["].indexOf(T.charAt(0))===-1){if(typeof ye[T]=="function"){Me&&(He[T]="_function");return}if(B==="keepdata"){if(T.substr(T.length-3)==="src")return}else if(B==="keepstream"){if(Ne=ye[T+"src"],typeof Ne=="string"&&Ne.indexOf(":")>0&&!r.isPlainObject(ye.stream))return}else if(B!=="keepall"&&(Ne=ye[T+"src"],typeof Ne=="string"&&Ne.indexOf(":")>0))return;He[T]=le(ye[T],Me)}}),He}var ze=Array.isArray(ye),Re=r.isTypedArray(ye);if((ze||Re)&&ye.dtype&&ye.shape){var Ae=ye.bdata;return le({dtype:ye.dtype,shape:ye.shape,bdata:r.isArrayBuffer(Ae)?l.encode(Ae):Ae},Me)}return ze?ye.map(function(T){return le(T,Me)}):Re?r.simpleMap(ye,r.identity):r.isJSDate(ye)?r.ms2DateTimeLocal(+ye):ye}var pe={data:(N||[]).map(function(ye){var Me=le(ye);return ee&&delete Me.fit,Me})};if(!ee&&(pe.layout=le($),J)){var fe=$._size;pe.layout.computed={margin:{b:fe.b,l:fe.l,r:fe.r,t:fe.t}}}return te&&(pe.frames=le(te)),X&&(pe.config=le(q._context,!0)),re==="object"?pe:JSON.stringify(pe)},b.modifyFrames=function(q,ee){var B,re,J,X=q._transitionData._frames,N=q._transitionData._frameHash;for(B=0;B<ee.length;B++)switch(re=ee[B],re.type){case"replace":J=re.value;var $=(X[re.index]||{}).name,te=J.name;X[re.index]=N[te]=J,te!==$&&(delete N[$],N[te]=J);break;case"insert":J=re.value,N[J.name]=J,X.splice(re.index,0,J);break;case"delete":J=X[re.index],delete N[J.name],X.splice(re.index,1);break}return Promise.resolve()},b.computeFrame=function(q,ee){var B=q._transitionData._frameHash,re,J,X,N;if(!ee)throw new Error("computeFrame must be given a string frame name");var $=B[ee.toString()];if(!$)return!1;for(var te=[$],le=[$.name];$.baseframe&&($=B[$.baseframe.toString()])&&le.indexOf($.name)===-1;)te.push($),le.push($.name);for(var pe={};$=te.pop();)if($.layout&&(pe.layout=b.extendLayout(pe.layout,$.layout)),$.data){if(pe.data||(pe.data=[]),J=$.traces,!J)for(J=[],re=0;re<$.data.length;re++)J[re]=re;for(pe.traces||(pe.traces=[]),re=0;re<$.data.length;re++)X=J[re],X!=null&&(N=pe.traces.indexOf(X),N===-1&&(N=pe.data.length,pe.traces[N]=X),pe.data[N]=b.extendTrace(pe.data[N],$.data[re]))}return pe},b.recomputeFrameHash=function(q){for(var ee=q._transitionData._frameHash={},B=q._transitionData._frames,re=0;re<B.length;re++){var J=B[re];J&&J.name&&(ee[J.name]=J)}},b.extendObjectWithContainers=function(q,ee,B){var re,J,X,N,$,te,le,pe,fe=r.extendDeepNoArrays({},ee||{}),ye=r.expandObjectPaths(fe),Me={};if(B&&B.length)for(X=0;X<B.length;X++)re=r.nestedProperty(ye,B[X]),J=re.get(),J===void 0?r.nestedProperty(Me,B[X]).set(null):(re.set(null),r.nestedProperty(Me,B[X]).set(J));if(q=r.extendDeepNoArrays(q||{},ye),B&&B.length){for(X=0;X<B.length;X++)if($=r.nestedProperty(Me,B[X]),le=$.get(),!!le){for(te=r.nestedProperty(q,B[X]),pe=te.get(),Array.isArray(pe)||(pe=[],te.set(pe)),N=0;N<le.length;N++){var He=le[N];He===null?pe[N]=null:pe[N]=b.extendObjectWithContainers(pe[N],He)}te.set(pe)}}return q},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=a.layoutArrayContainers,b.extendTrace=function(q,ee){return b.extendObjectWithContainers(q,ee,b.dataArrayContainers)},b.extendLayout=function(q,ee){return b.extendObjectWithContainers(q,ee,b.layoutArrayContainers)},b.transition=function(q,ee,B,re,J,X){var N={redraw:J.redraw},$={},te=[];return N.prepareFn=function(){for(var le=Array.isArray(ee)?ee.length:0,pe=re.slice(0,le),fe=0;fe<pe.length;fe++){var ye=pe[fe],Me=q._fullData[ye],He=Me._module;if(He){if(He.animatable){var Ne=He.basePlotModule.name;$[Ne]||($[Ne]=[]),$[Ne].push(ye)}q.data[pe[fe]]=b.extendTrace(q.data[pe[fe]],ee[fe])}}var ze=r.expandObjectPaths(r.extendDeepNoArrays({},B)),Re=/^[xy]axis[0-9]*$/;for(var Ae in ze)Re.test(Ae)&&delete ze[Ae].range;b.extendLayout(q.layout,ze),delete q.calcdata,b.supplyDefaults(q),b.doCalcdata(q);var T=r.expandObjectPaths(B);if(T){var V=q._fullLayout._plots;for(var j in V){var he=V[j],be=he.xaxis,ke=he.yaxis,Ce=be.range.slice(),qe=ke.range.slice(),at=null,ct=null,vt=null,St=null;Array.isArray(T[be._name+".range"])?at=T[be._name+".range"].slice():Array.isArray((T[be._name]||{}).range)&&(at=T[be._name].range.slice()),Array.isArray(T[ke._name+".range"])?ct=T[ke._name+".range"].slice():Array.isArray((T[ke._name]||{}).range)&&(ct=T[ke._name].range.slice()),Ce&&at&&(be.r2l(Ce[0])!==be.r2l(at[0])||be.r2l(Ce[1])!==be.r2l(at[1]))&&(vt={xr0:Ce,xr1:at}),qe&&ct&&(ke.r2l(qe[0])!==ke.r2l(ct[0])||ke.r2l(qe[1])!==ke.r2l(ct[1]))&&(St={yr0:qe,yr1:ct}),(vt||St)&&te.push(r.extendFlat({plotinfo:he},vt,St))}}return Promise.resolve()},N.runFn=function(le){var pe,fe=q._fullLayout._basePlotModules,ye=te.length,Me;if(B)for(Me=0;Me<fe.length;Me++)fe[Me].transitionAxes&&fe[Me].transitionAxes(q,te,X,le);ye?(pe=r.extendFlat({},X),pe.duration=0,delete $.cartesian):pe=X;for(var He in $){var Ne=$[He],ze=q._fullData[Ne[0]]._module;ze.basePlotModule.plot(q,Ne,pe,le)}},F(q,X,N)},b.transitionFromReact=function(q,ee,B,re){var J=q._fullLayout,X=J.transition,N={},$=[];return N.prepareFn=function(){var te=J._plots;N.redraw=!1,ee.anim==="some"&&(N.redraw=!0),B.anim==="some"&&(N.redraw=!0);for(var le in te){var pe=te[le],fe=pe.xaxis,ye=pe.yaxis,Me=re[fe._name].range.slice(),He=re[ye._name].range.slice(),Ne=fe.range.slice(),ze=ye.range.slice();fe.setScale(),ye.setScale();var Re=null,Ae=null;(fe.r2l(Me[0])!==fe.r2l(Ne[0])||fe.r2l(Me[1])!==fe.r2l(Ne[1]))&&(Re={xr0:Me,xr1:Ne}),(ye.r2l(He[0])!==ye.r2l(ze[0])||ye.r2l(He[1])!==ye.r2l(ze[1]))&&(Ae={yr0:He,yr1:ze}),(Re||Ae)&&$.push(r.extendFlat({plotinfo:pe},Re,Ae))}return Promise.resolve()},N.runFn=function(te){for(var le=q._fullData,pe=q._fullLayout,fe=pe._basePlotModules,ye,Me,He,Ne=[],ze=0;ze<le.length;ze++)Ne.push(ze);function Re(){if(q._fullLayout)for(var T=0;T<fe.length;T++)fe[T].transitionAxes&&fe[T].transitionAxes(q,$,ye,te)}function Ae(){if(q._fullLayout)for(var T=0;T<fe.length;T++)fe[T].plot(q,He,Me,te)}$.length&&ee.anim?X.ordering==="traces first"?(ye=r.extendFlat({},X,{duration:0}),He=Ne,Me=X,setTimeout(Re,X.duration),Ae()):(ye=X,He=null,Me=r.extendFlat({},X,{duration:0}),setTimeout(Ae,ye.duration),Re()):$.length?(ye=X,Re()):ee.anim&&(He=Ne,Me=X,Ae())},F(q,X,N)};function F(q,ee,B){var re=!1;function J(fe){var ye=Promise.resolve();if(!fe)return ye;for(;fe.length;)ye=ye.then(fe.shift());return ye}function X(fe){if(fe)for(;fe.length;)fe.shift()}function N(){return q.emit("plotly_transitioning",[]),new Promise(function(fe){q._transitioning=!0,ee.duration>0&&(q._transitioningWithDuration=!0),q._transitionData._interruptCallbacks.push(function(){re=!0}),B.redraw&&q._transitionData._interruptCallbacks.push(function(){return a.call("redraw",q)}),q._transitionData._interruptCallbacks.push(function(){q.emit("plotly_transitioninterrupted",[])});var ye=0,Me=0;function He(){return ye++,function(){Me++,!re&&Me===ye&&$(fe)}}B.runFn(He),setTimeout(He())})}function $(fe){if(q._transitionData)return X(q._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(B.redraw)return a.call("redraw",q)}).then(function(){q._transitioning=!1,q._transitioningWithDuration=!1,q.emit("plotly_transitioned",[])}).then(fe)}function te(){if(q._transitionData)return q._transitioning=!1,J(q._transitionData._interruptCallbacks)}var le=[b.previousPromises,te,B.prepareFn,b.rehover,b.reselect,N],pe=r.syncOrAsync(le,q);return(!pe||!pe.then)&&(pe=Promise.resolve()),pe.then(function(){return q})}b.doCalcdata=function(q,ee){var B=d.list(q),re=q._fullData,J=q._fullLayout,X,N,$,te,le=new Array(re.length),pe=(q.calcdata||[]).slice();for(q.calcdata=le,J._numBoxes=0,J._numViolins=0,J._violinScaleGroupStats={},q._hmpixcount=0,q._hmlumcount=0,J._piecolormap={},J._sunburstcolormap={},J._treemapcolormap={},J._iciclecolormap={},J._funnelareacolormap={},$=0;$<re.length;$++)if(Array.isArray(ee)&&ee.indexOf($)===-1){le[$]=pe[$];continue}for($=0;$<re.length;$++)X=re[$],X._arrayAttrs=o.findArrayAttributes(X),X._extremes={};var fe=J._subplots.polar||[];for($=0;$<fe.length;$++)B.push(J[fe[$]].radialaxis,J[fe[$]].angularaxis);for(var ye in J._colorAxes){var Me=J[ye];Me.cauto!==!1&&(delete Me.cmin,delete Me.cmax)}var He=!1;function Ne(Ae){if(X=re[Ae],N=X._module,X.visible===!0&&X.transforms){if(N&&N.calc){var T=N.calc(q,X);T[0]&&T[0].t&&T[0].t._scene&&delete T[0].t._scene.dirty}for(te=0;te<X.transforms.length;te++){var V=X.transforms[te];N=transformsRegistry[V.type],N&&N.calcTransform&&(X._hasCalcTransform=!0,He=!0,N.calcTransform(q,X,V))}}}function ze(Ae,T){if(X=re[Ae],N=X._module,!!N.isContainer===T){var V=[];if(X.visible===!0&&X._length!==0){delete X._indexToPoints;var j=X.transforms||[];for(te=j.length-1;te>=0;te--)if(j[te].enabled){X._indexToPoints=j[te]._indexToPoints;break}N&&N.calc&&(V=N.calc(q,X))}(!Array.isArray(V)||!V[0])&&(V=[{x:u,y:u}]),V[0].t||(V[0].t={}),V[0].trace=X,le[Ae]=V}}for(ae(B,re,J),$=0;$<re.length;$++)ze($,!0);for($=0;$<re.length;$++)Ne($);for(He&&ae(B,re,J),$=0;$<re.length;$++)ze($,!0);for($=0;$<re.length;$++)ze($,!1);se(q);var Re=ue(B,q);if(Re.length){for(J._numBoxes=0,J._numViolins=0,$=0;$<Re.length;$++)ze(Re[$],!0);for($=0;$<Re.length;$++)ze(Re[$],!1);se(q)}a.getComponentMethod("fx","calc")(q),a.getComponentMethod("errorbars","calc")(q)};var W=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function ue(q,ee){var B=[],re,J,X,N,$;function te(At,Nt,_e){var De=Nt._id.charAt(0);if(At==="histogram2dcontour"){var je=Nt._counterAxes[0],ie=d.getFromId(ee,je),ve=De==="x"||je==="x"&&ie.type==="category",we=De==="y"||je==="y"&&ie.type==="category";return function(Se,Ue){return Se===0||Ue===0||ve&&Se===_e[Ue].length-1||we&&Ue===_e.length-1?-1:(De==="y"?Ue:Se)-1}}else return function(Se,Ue){return De==="y"?Ue:Se}}var le={min:function(At){return r.aggNums(Math.min,null,At)},max:function(At){return r.aggNums(Math.max,null,At)},sum:function(At){return r.aggNums(function(Nt,_e){return Nt+_e},null,At)},total:function(At){return r.aggNums(function(Nt,_e){return Nt+_e},null,At)},mean:function(At){return r.mean(At)},"geometric mean":function(At){return r.geometricMean(At)},median:function(At){return r.median(At)}};function pe(At,Nt){return At[1]-Nt[1]}function fe(At,Nt){return Nt[1]-At[1]}for(re=0;re<q.length;re++){var ye=q[re];if(ye.type==="category"){var Me=ye.categoryorder.match(W);if(Me){var He=Me[1],Ne=Me[2],ze=ye._id.charAt(0),Re=ze==="x",Ae=[];for(J=0;J<ye._categories.length;J++)Ae.push([ye._categories[J],[]]);for(J=0;J<ye._traceIndices.length;J++){var T=ye._traceIndices[J],V=ee._fullData[T];if(V.visible===!0){var j=V.type;a.traceIs(V,"histogram")&&(delete V._xautoBinFinished,delete V._yautoBinFinished);var he=j==="splom",be=j==="scattergl",ke=ee.calcdata[T];for(X=0;X<ke.length;X++){var Ce=ke[X],qe,at;if(he){var ct=V._axesDim[ye._id];if(!Re){var vt=V._diag[ct][0];vt&&(ye=ee._fullLayout[d.id2name(vt)])}var St=Ce.trace.dimensions[ct].values;for(N=0;N<St.length;N++)for(qe=ye._categoriesMap[St[N]],$=0;$<Ce.trace.dimensions.length;$++)if($!==ct){var ot=Ce.trace.dimensions[$];Ae[qe][1].push(ot.values[N])}}else if(be){for(N=0;N<Ce.t.x.length;N++)Re?(qe=Ce.t.x[N],at=Ce.t.y[N]):(qe=Ce.t.y[N],at=Ce.t.x[N]),Ae[qe][1].push(at);Ce.t&&Ce.t._scene&&delete Ce.t._scene.dirty}else if(Ce.hasOwnProperty("z")){at=Ce.z;var Ct=te(V.type,ye,at);for(N=0;N<at.length;N++)for($=0;$<at[N].length;$++)qe=Ct($,N),qe+1&&Ae[qe][1].push(at[N][$])}else for(qe=Ce.p,qe===void 0&&(qe=Ce[ze]),at=Ce.s,at===void 0&&(at=Ce.v),at===void 0&&(at=Re?Ce.y:Ce.x),Array.isArray(at)||(at===void 0?at=[]:at=[at]),N=0;N<at.length;N++)Ae[qe][1].push(at[N])}}}ye._categoriesValue=Ae;var It=[];for(J=0;J<Ae.length;J++)It.push([Ae[J][0],le[He](Ae[J][1])]);It.sort(Ne==="descending"?fe:pe),ye._categoriesAggregatedValue=It,ye._initialCategories=It.map(function(At){return At[0]}),B=B.concat(ye.sortByInitialCategories())}}}return B}function ae(q,ee,B){var re={};function J(te){te.clearCalc(),te.type==="multicategory"&&te.setupMultiCategory(ee),re[te._id]=1}r.simpleMap(q,J);for(var X=B._axisMatchGroups||[],N=0;N<X.length;N++)for(var $ in X[N])re[$]||J(B[d.id2name($)])}function se(q){var ee=q._fullLayout,B=ee._visibleModules,re={},J,X,N;for(X=0;X<B.length;X++){var $=B[X],te=$.crossTraceCalc;if(te){var le=$.basePlotModule.name;re[le]?r.pushUnique(re[le],te):re[le]=[te]}}for(N in re){var pe=re[N],fe=ee._subplots[N];if(Array.isArray(fe))for(J=0;J<fe.length;J++){var ye=fe[J],Me=N==="cartesian"?ee._plots[ye]:ee[ye];for(X=0;X<pe.length;X++)pe[X](q,Me,ye)}else for(X=0;X<pe.length;X++)pe[X](q)}}b.rehover=function(q){q._fullLayout._rehover&&q._fullLayout._rehover()},b.redrag=function(q){q._fullLayout._redrag&&q._fullLayout._redrag()},b.reselect=function(q){var ee=q._fullLayout,B=(q.layout||{}).selections,re=ee._previousSelections;ee._previousSelections=B;var J=ee._reselect||JSON.stringify(B)!==JSON.stringify(re);a.getComponentMethod("selections","reselect")(q,J)},b.generalUpdatePerTraceModule=function(q,ee,B,re){var J=ee.traceHash,X={},N;for(N=0;N<B.length;N++){var $=B[N],te=$[0].trace;te.visible&&(X[te.type]=X[te.type]||[],X[te.type].push($))}for(var le in J)if(!X[le]){var pe=J[le][0],fe=pe[0].trace;fe.visible=!1,X[le]=[pe]}for(var ye in X){var Me=X[ye],He=Me[0][0].trace._module;He.plot(q,ee,r.filterVisible(Me),re)}ee.traceHash=X},b.plotBasePlot=function(q,ee,B,re,J){var X=a.getModule(q),N=m(ee.calcdata,X)[0];X.plot(ee,N,re,J)},b.cleanBasePlot=function(q,ee,B,re,J){var X=J._has&&J._has(q),N=B._has&&B._has(q);X&&!N&&J["_"+q+"layer"].selectAll("g.trace").remove()}}),Jo=xe(E=>{E.xmlns="http://www.w3.org/2000/xmlns/",E.svg="http://www.w3.org/2000/svg",E.xlink="http://www.w3.org/1999/xlink",E.svgAttrs={xmlns:E.svg,"xmlns:xlink":E.xlink}}),ii=xe((E,k)=>{k.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}),fi=xe(E=>{var k=Jn(),i=sr(),t=i.strTranslate,e=Jo(),n=ii().LINE_SPACING,l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;E.convertToTspans=function(A,O,L){var S=A.text(),F=!A.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&S.match(l),W=k.select(A.node().parentNode);if(W.empty())return;var ue=A.attr("class")?A.attr("class").split(" ")[0]:"text";ue+="-math",W.selectAll("svg."+ue).remove(),W.selectAll("g."+ue+"-group").remove(),A.style("display",null).attr({"data-unformatted":S,"data-math":"N"});function ae(){W.empty()||(ue=A.attr("class")+"-math",W.select("svg."+ue).remove()),A.text("").style("white-space","pre");var se=U(A.node(),S);se&&A.style("pointer-events","all"),E.positionText(A),L&&L.call(A)}return F?(O&&O._promises||[]).push(new Promise(function(se){A.style("display","none");var q=parseInt(A.node().style.fontSize,10),ee={fontSize:q};p(F[2],ee,function(B,re,J){W.selectAll("svg."+ue).remove(),W.selectAll("g."+ue+"-group").remove();var X=B&&B.select("svg");if(!X||!X.node()){ae(),se();return}var N=W.append("g").classed(ue+"-group",!0).attr({"pointer-events":"none","data-unformatted":S,"data-math":"Y"});N.node().appendChild(X.node()),re&&re.node()&&X.node().insertBefore(re.node().cloneNode(!0),X.node().firstChild);var $=J.width,te=J.height;X.attr({class:ue,height:te,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var le=A.node().style.fill||"black",pe=X.select("g");pe.attr({fill:le,stroke:le});var fe=pe.node().getBoundingClientRect(),ye=fe.width,Me=fe.height;(ye>$||Me>te)&&(X.style("overflow","hidden"),fe=X.node().getBoundingClientRect(),ye=fe.width,Me=fe.height);var He=+A.attr("x"),Ne=+A.attr("y"),ze=q||A.node().getBoundingClientRect().height,Re=-ze/4;if(ue[0]==="y")N.attr({transform:"rotate("+[-90,He,Ne]+")"+t(-ye/2,Re-Me/2)});else if(ue[0]==="l")Ne=Re-Me/2;else if(ue[0]==="a"&&ue.indexOf("atitle")!==0)He=0,Ne=Re;else{var Ae=A.attr("text-anchor");He=He-ye*(Ae==="middle"?.5:Ae==="end"?1:0),Ne=Ne+Re-Me/2}X.attr({x:He,y:Ne}),L&&L.call(A,N),se(N)})})):ae(),A};var a=/(<|&lt;|&#60;)/g,o=/(>|&gt;|&#62;)/g;function s(A){return A.replace(a,"\\lt ").replace(o,"\\gt ")}var r=[["$","$"],["\\(","\\)"]];function p(A,O,L){var S=parseInt((MathJax.version||"").split(".")[0]);if(S!==2&&S!==3){i.warn("No MathJax version:",MathJax.version);return}var F,W,ue,ae,se=function(){return W=i.extendDeepAll({},MathJax.Hub.config),ue=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:r},displayAlign:"left"})},q=function(){W=i.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=r},ee=function(){if(F=MathJax.Hub.config.menuSettings.renderer,F!=="SVG")return MathJax.Hub.setRenderer("SVG")},B=function(){F=MathJax.config.startup.output,F!=="svg"&&(MathJax.config.startup.output="svg")},re=function(){var le="math-output-"+i.randstr({},64);ae=k.select("body").append("div").attr({id:le}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(s(A));var pe=ae.node();return S===2?MathJax.Hub.Typeset(pe):MathJax.typeset([pe])},J=function(){var le=ae.select(S===2?".MathJax_SVG":".MathJax"),pe=!le.empty()&&ae.select("svg").node();if(!pe)i.log("There was an error in the tex syntax.",A),L();else{var fe=pe.getBoundingClientRect(),ye;S===2?ye=k.select("body").select("#MathJax_SVG_glyphs"):ye=le.select("defs"),L(le,ye,fe)}ae.remove()},X=function(){if(F!=="SVG")return MathJax.Hub.setRenderer(F)},N=function(){F!=="svg"&&(MathJax.config.startup.output=F)},$=function(){return ue!==void 0&&(MathJax.Hub.processSectionDelay=ue),MathJax.Hub.Config(W)},te=function(){MathJax.config=W};S===2?MathJax.Hub.Queue(se,ee,re,J,X,$):S===3&&(q(),B(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){re(),J(),N(),te()}))}var u={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},g={sub:"-0.21em",sup:"0.42em"},v="​",x=["http:","https:","mailto:","",void 0,":"],y=E.NEWLINES=/(\r\n?|\n)/g,m=/(<[^<>]*>)/,c=/<(\/?)([^ >]*)(\s+(.*))?>/i,h=/<br(\s+.*)?>/i;E.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,_=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,w=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,K=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function D(A,O){if(!A)return null;var L=A.match(O),S=L&&(L[3]||L[4]);return S&&z(S)}var I=/(^|;)\s*color:/;E.plainText=function(A,O){O=O||{};for(var L=O.len!==void 0&&O.len!==-1?O.len:1/0,S=O.allowedTags!==void 0?O.allowedTags:["br"],F="...",W=F.length,ue=A.split(m),ae=[],se="",q=0,ee=0;ee<ue.length;ee++){var B=ue[ee],re=B.match(c),J=re&&re[2].toLowerCase();if(J)S.indexOf(J)!==-1&&(ae.push(B),se=J);else{var X=B.length;if(q+X<L)ae.push(B),q+=X;else if(q<L){var N=L-q;se&&(se!=="br"||N<=W||X<=W)&&ae.pop(),L>W?ae.push(B.substr(0,N-W)+F):ae.push(B.substr(0,N));break}se=""}}return ae.join("")};var C={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},H=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function z(A){return A.replace(H,function(O,L){var S;return L.charAt(0)==="#"?S=R(L.charAt(1)==="x"?parseInt(L.substr(2),16):parseInt(L.substr(1),10)):S=C[L],S||O})}E.convertEntities=z;function R(A){if(!(A>1114111)){var O=String.fromCodePoint;if(O)return O(A);var L=String.fromCharCode;return A<=65535?L(A):L((A>>10)+55232,A%1024+56320)}}function U(A,O){O=O.replace(y," ");var L=!1,S=[],F,W=-1;function ue(){W++;var Me=document.createElementNS(e.svg,"tspan");k.select(Me).attr({class:"line",dy:W*n+"em"}),A.appendChild(Me),F=Me;var He=S;if(S=[{node:Me}],He.length>1)for(var Ne=1;Ne<He.length;Ne++)ae(He[Ne])}function ae(Me){var He=Me.type,Ne={},ze;if(He==="a"){ze="a";var Re=Me.target,Ae=Me.href,T=Me.popup;Ae&&(Ne={"xlink:xlink:show":Re==="_blank"||Re.charAt(0)!=="_"?"new":"replace",target:Re,"xlink:xlink:href":Ae},T&&(Ne.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+T+'");return false;'))}else ze="tspan";Me.style&&(Ne.style=Me.style);var V=document.createElementNS(e.svg,ze);if(He==="sup"||He==="sub"){se(F,v),F.appendChild(V);var j=document.createElementNS(e.svg,"tspan");se(j,v),k.select(j).attr("dy",g[He]),Ne.dy=d[He],F.appendChild(V),F.appendChild(j)}else F.appendChild(V);k.select(V).attr(Ne),F=Me.node=V,S.push(Me)}function se(Me,He){Me.appendChild(document.createTextNode(He))}function q(Me){if(S.length===1){i.log("Ignoring unexpected end tag </"+Me+">.",O);return}var He=S.pop();Me!==He.type&&i.log("Start tag <"+He.type+"> doesnt match end tag <"+Me+">. Pretending it did match.",O),F=S[S.length-1].node}var ee=h.test(O);ee?ue():(F=A,S=[{node:A}]);for(var B=O.split(m),re=0;re<B.length;re++){var J=B[re],X=J.match(c),N=X&&X[2].toLowerCase(),$=u[N];if(N==="br")ue();else if($===void 0)se(F,z(J));else if(X[1])q(N);else{var te=X[4],le={type:N},pe=D(te,b);if(pe?(pe=pe.replace(I,"$1 fill:"),$&&(pe+=";"+$)):$&&(pe=$),pe&&(le.style=pe),N==="a"){L=!0;var fe=D(te,_);if(fe){var ye=Z(fe);ye&&(le.href=ye,le.target=D(te,w)||"_blank",le.popup=D(te,K))}}ae(le)}}return L}function Z(A){var O=encodeURI(decodeURI(A)),L=document.createElement("a"),S=document.createElement("a");L.href=A,S.href=O;var F=L.protocol,W=S.protocol;return x.indexOf(F)!==-1&&x.indexOf(W)!==-1?O:""}E.sanitizeHTML=function(A){A=A.replace(y," ");for(var O=document.createElement("p"),L=O,S=[],F=A.split(m),W=0;W<F.length;W++){var ue=F[W],ae=ue.match(c),se=ae&&ae[2].toLowerCase();if(se in u)if(ae[1])S.length&&(L=S.pop());else{var q=ae[4],ee=D(q,b),B=ee?{style:ee}:{};if(se==="a"){var re=D(q,_);if(re){var J=Z(re);if(J){B.href=J;var X=D(q,w);X&&(B.target=X)}}}var N=document.createElement(se);L.appendChild(N),k.select(N).attr(B),L=N,S.push(N)}else L.appendChild(document.createTextNode(z(ue)))}var $="innerHTML";return O[$]},E.lineCount=function(A){return A.selectAll("tspan.line").size()||1},E.positionText=function(A,O,L){return A.each(function(){var S=k.select(this);function F(ae,se){return se===void 0?(se=S.attr(ae),se===null&&(S.attr(ae,0),se=0)):S.attr(ae,se),se}var W=F("x",O),ue=F("y",L);this.nodeName==="text"&&S.selectAll("tspan.line").attr({x:W,y:ue})})};function G(A,O,L){var S=L.horizontalAlign,F=L.verticalAlign||"top",W=A.node().getBoundingClientRect(),ue=O.node().getBoundingClientRect(),ae,se,q;return F==="bottom"?se=function(){return W.bottom-ae.height}:F==="middle"?se=function(){return W.top+(W.height-ae.height)/2}:se=function(){return W.top},S==="right"?q=function(){return W.right-ae.width}:S==="center"?q=function(){return W.left+(W.width-ae.width)/2}:q=function(){return W.left},function(){ae=this.node().getBoundingClientRect();var ee=q()-ue.left,B=se()-ue.top,re=L.gd||{};if(L.gd){re._fullLayout._calcInverseTransform(re);var J=i.apply3DTransform(re._fullLayout._invTransform)(ee,B);ee=J[0],B=J[1]}return this.style({top:B+"px",left:ee+"px","z-index":1e3}),this}}var P="1px ";E.makeTextShadow=function(A){var O=P,L=P,S=P;return O+L+S+A+", -"+O+"-"+L+S+A+", "+O+"-"+L+S+A+", -"+O+L+S+A},E.makeEditable=function(A,O){var L=O.gd,S=O.delegate,F=k.dispatch("edit","input","cancel"),W=S||A;if(A.style({"pointer-events":S?"none":"all"}),A.size()!==1)throw new Error("boo");function ue(){se(),A.style({opacity:0});var q=W.attr("class"),ee;q?ee="."+q.split(" ")[0]+"-math-group":ee="[class*=-math-group]",ee&&k.select(A.node().parentNode).select(ee).style({opacity:0})}function ae(q){var ee=q.node(),B=document.createRange();B.selectNodeContents(ee);var re=window.getSelection();re.removeAllRanges(),re.addRange(B),ee.focus()}function se(){var q=k.select(L),ee=q.select(".svg-container"),B=ee.append("div"),re=A.node().style,J=parseFloat(re.fontSize||12),X=O.text;X===void 0&&(X=A.attr("data-unformatted")),B.classed("plugin-editable editable",!0).style({position:"absolute","font-family":re.fontFamily||"Arial","font-size":J,color:O.fill||re.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-J/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(X).call(G(A,ee,O)).on("blur",function(){L._editing=!1,A.text(this.textContent).style({opacity:1});var N=k.select(this).attr("class"),$;N?$="."+N.split(" ")[0]+"-math-group":$="[class*=-math-group]",$&&k.select(A.node().parentNode).select($).style({opacity:0});var te=this.textContent;k.select(this).transition().duration(0).remove(),k.select(document).on("mouseup",null),F.edit.call(A,te)}).on("focus",function(){var N=this;L._editing=!0,k.select(document).on("mouseup",function(){if(k.event.target===N)return!1;document.activeElement===B.node()&&B.node().blur()})}).on("keyup",function(){k.event.which===27?(L._editing=!1,A.style({opacity:1}),k.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),F.cancel.call(A,this.textContent)):(F.input.call(A,this.textContent),k.select(this).call(G(A,ee,O)))}).on("keydown",function(){k.event.which===13&&this.blur()}).call(ae)}return O.immediate?ue():W.on("click",ue),k.rebind(A,F,"on")}}),Ui=xe((E,k)=>{var i=Jn(),t=Li(),e=Bn(),n=sr(),l=Nn(),a=Wo().isValid;function o(y,m,c){var h=m?n.nestedProperty(y,m).get()||{}:y,b=h[c||"color"];b&&b._inputArray&&(b=b._inputArray);var _=!1;if(n.isArrayOrTypedArray(b)){for(var w=0;w<b.length;w++)if(e(b[w])){_=!0;break}}return n.isPlainObject(h)&&(_||h.showscale===!0||e(h.cmin)&&e(h.cmax)||a(h.colorscale)||n.isPlainObject(h.colorbar))}var s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function p(y){var m=y._colorAx,c=m||y,h={},b,_,w;for(_=0;_<s.length;_++)w=s[_],h[w]=c[w];if(m)for(b="c",_=0;_<r.length;_++)w=r[_],h[w]=c["c"+w];else{var K;for(_=0;_<r.length;_++){if(w=r[_],K="c"+w,K in c){h[w]=c[K];continue}K="z"+w,K in c&&(h[w]=c[K])}b=K.charAt(0)}return h._sync=function(D,I){var C=r.indexOf(D)!==-1?b+D:D;c[C]=c["_"+C]=I},h}function u(y){for(var m=p(y),c=m.min,h=m.max,b=m.reversescale?d(m.colorscale):m.colorscale,_=b.length,w=new Array(_),K=new Array(_),D=0;D<_;D++){var I=b[D];w[D]=c+I[0]*(h-c),K[D]=I[1]}return{domain:w,range:K}}function d(y){for(var m=y.length,c=new Array(m),h=m-1,b=0;h>=0;h--,b++){var _=y[h];c[b]=[1-_[0],_[1]]}return c}function g(y,m){m=m||{};for(var c=y.domain,h=y.range,b=h.length,_=new Array(b),w=0;w<b;w++){var K=t(h[w]).toRgb();_[w]=[K.r,K.g,K.b,K.a]}var D=i.scale.linear().domain(c).range(_).clamp(!0),I=m.noNumericCheck,C=m.returnArray,H;return I&&C?H=D:I?H=function(z){return x(D(z))}:C?H=function(z){return e(z)?D(z):t(z).isValid()?z:l.defaultLine}:H=function(z){return e(z)?x(D(z)):t(z).isValid()?z:l.defaultLine},H.domain=D.domain,H.range=function(){return h},H}function v(y,m){return g(u(y),m)}function x(y){var m={r:y[0],g:y[1],b:y[2],a:y[3]};return t(m).toRgbString()}k.exports={hasColorscale:o,extractOpts:p,extractScale:u,flipScale:d,makeColorScaleFunc:g,makeColorScaleFuncFromTrace:v}}),rc=xe((E,k)=>{var i=wf(),t=i.FORMAT_LINK,e=i.DATE_FORMAT_LINK;function n(o,s){return{valType:"string",dflt:"",editType:"none",description:(s?l:a)("hover text",o)+["By default the values are formatted using "+(s?"generic number format":"`"+o+"axis.hoverformat`")+"."].join(" ")}}function l(o,s){return["Sets the "+o+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+t+"."].join(" ")}function a(o,s){return l(o,s)+[" And for dates see: "+e+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}k.exports={axisHoverFormat:n,descriptionOnlyNumbers:l,descriptionWithDates:a}}),Ei=xe((E,k)=>{var i=ei(),t=Bi(),e=ko().dash,n=za().extendFlat,l=ca().templatedArray,a=rc().descriptionWithDates,o=Pa().ONEDAY,s=Za(),r=s.HOUR_PATTERN,p=s.WEEKDAY_PATTERN,u={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},d=n({},u,{values:u.values.slice().concat(["sync"])});function g(I){return{valType:"integer",min:0,dflt:I?5:0,editType:"ticks"}}var v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"data_array",editType:"ticks"},m={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(I){var C={valType:"number",min:0,editType:"ticks"};return I||(C.dflt=5),C}function h(I){var C={valType:"number",min:0,editType:"ticks"};return I||(C.dflt=1),C}var b={valType:"color",dflt:t.defaultLine,editType:"ticks"},_={valType:"color",dflt:t.lightLine,editType:"ticks"};function w(I){var C={valType:"number",min:0,editType:"ticks"};return I||(C.dflt=1),C}var K=n({},e,{editType:"ticks"}),D={valType:"boolean",editType:"ticks"};k.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:t.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:i({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"calc"},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[p,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:o},editType:"calc"}),tickmode:d,nticks:g(),tick0:v,dtick:x,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:y,ticktext:{valType:"data_array",editType:"ticks"},ticks:m,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:h(),tickcolor:b,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:n({},e,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:i({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:a("tick label")},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:a("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:t.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:D,gridcolor:_,gridwidth:w(),griddash:K,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:t.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:t.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"plot"},minor:{tickmode:u,nticks:g("minor"),tick0:v,dtick:x,tickvals:y,ticks:m,ticklen:c("minor"),tickwidth:h("minor"),tickcolor:b,gridcolor:_,gridwidth:w("minor"),griddash:K,showgrid:D,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}),nc=xe((E,k)=>{var i=Ei(),t=ei(),e=za().extendFlat,n=Di().overrideAll;k.exports=n({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:i.linecolor,outlinewidth:i.linewidth,bordercolor:i.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:i.minor.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:e({},i.ticks,{dflt:""}),ticklabeloverflow:e({},i.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,tickfont:t({}),tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,separatethousands:i.separatethousands,exponentformat:i.exponentformat,minexponent:i.minexponent,showexponent:i.showexponent,title:{text:{valType:"string"},font:t({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")}),Ps=xe((E,k)=>{var i=nc(),t=kl().counter,e=Xu(),n=Wo().scales;e(n);function l(a){return"`"+a+"`"}k.exports=function(a,o){a=a||"",o=o||{};var s=o.cLetter||"c";"onlyIfNumerical"in o&&o.onlyIfNumerical;var r="noScale"in o?o.noScale:a==="marker.line",p="showScaleDflt"in o?o.showScaleDflt:s==="z",u=typeof o.colorscaleDflt=="string"?n[o.colorscaleDflt]:null,d=o.editTypeOverride||"",g=a?a+".":"",v;"colorAttr"in o?(v=o.colorAttr,o.colorAttr):(v={z:"z",c:"color"}[s],""+l(g+v));var x=s+"auto",y=s+"min",m=s+"max",c=s+"mid",h={};h[y]=h[m]=void 0;var b={};b[x]=!1;var _={};return v==="color"&&(_.color={valType:"color",arrayOk:!0,editType:d||"style"},o.anim&&(_.color.anim=!0)),_[x]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},_[y]={valType:"number",dflt:null,editType:d||"plot",impliedEdits:b},_[m]={valType:"number",dflt:null,editType:d||"plot",impliedEdits:b},_[c]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},_.colorscale={valType:"colorscale",editType:"calc",dflt:u,impliedEdits:{autocolorscale:!1}},_.autocolorscale={valType:"boolean",dflt:o.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},_.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(_.showscale={valType:"boolean",dflt:p,editType:"calc"},_.colorbar=i),o.noColorAxis||(_.coloraxis={valType:"subplotid",regex:t("coloraxis"),dflt:null,editType:"calc"}),_}}),Lf=xe((E,k)=>{var i=za().extendFlat,t=Ps(),e=Wo().scales;k.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:e.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:e.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:e.RdBu,editType:"calc"}},coloraxis:i({_isSubplotObj:!0,editType:"calc"},t("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}}),Cf=xe((E,k)=>{var i=sr();k.exports=function(t){return i.isPlainObject(t.colorbar)}}),Df=xe(E=>{var k=Bn(),i=sr(),t=Pa(),e=t.ONEDAY,n=t.ONEWEEK;E.dtick=function(l,a){var o=a==="log",s=a==="date",r=a==="category",p=s?e:1;if(!l)return p;if(k(l))return l=Number(l),l<=0?p:r?Math.max(1,Math.round(l)):s?Math.max(.1,l):l;if(typeof l!="string"||!(s||o))return p;var u=l.charAt(0),d=l.substr(1);return d=k(d)?Number(d):0,d<=0||!(s&&u==="M"&&d===Math.round(d)||o&&u==="L"||o&&u==="D"&&(d===1||d===2))?p:l},E.tick0=function(l,a,o,s){if(a==="date")return i.cleanDate(l,i.dateTick0(o,s%n===0?1:0));if(!(s==="D1"||s==="D2"))return k(l)?Number(l):0}}),Ef=xe((E,k)=>{var i=Df(),t=sr().isArrayOrTypedArray,e=hi().isTypedArraySpec,n=hi().decodeTypedArraySpec;k.exports=function(l,a,o,s,r){r||(r={});var p=r.isMinor,u=p?l.minor||{}:l,d=p?a.minor:a,g=p?"minor.":"";function v(w){var K=u[w];return e(K)&&(K=n(K)),K!==void 0?K:(d._template||{})[w]}var x=v("tick0"),y=v("dtick"),m=v("tickvals"),c=t(m)?"array":y?"linear":"auto",h=o(g+"tickmode",c);if(h==="auto"||h==="sync")o(g+"nticks");else if(h==="linear"){var b=d.dtick=i.dtick(y,s);d.tick0=i.tick0(x,s,a.calendar,b)}else if(s!=="multicategory"){var _=o(g+"tickvals");_===void 0?d.tickmode="auto":p||o("ticktext")}}}),Pf=xe((E,k)=>{var i=sr(),t=Ei();k.exports=function(e,n,l,a){var o=a.isMinor,s=o?e.minor||{}:e,r=o?n.minor:n,p=o?t.minor:t,u=o?"minor.":"",d=i.coerce2(s,r,p,"ticklen",o?(n.ticklen||5)*.6:void 0),g=i.coerce2(s,r,p,"tickwidth",o?n.tickwidth||1:void 0),v=i.coerce2(s,r,p,"tickcolor",(o?n.tickcolor:void 0)||r.color),x=l(u+"ticks",!o&&a.outerTicks||d||g||v?"outside":"");x||(delete r.ticklen,delete r.tickwidth,delete r.tickcolor)}}),Ff=xe((E,k)=>{k.exports=function(i){var t=["showexponent","showtickprefix","showticksuffix"],e=t.filter(function(l){return i[l]!==void 0}),n=function(l){return i[l]===i[e[0]]};if(e.every(n)||e.length===1)return i[e[0]]}}),Pi=xe((E,k)=>{var i=sr(),t=ca();k.exports=function(e,n,l){var a=l.name,o=l.inclusionAttr||"visible",s=n[a],r=i.isArrayOrTypedArray(e[a])?e[a]:[],p=n[a]=[],u=t.arrayTemplater(n,a,o),d,g;for(d=0;d<r.length;d++){var v=r[d];i.isPlainObject(v)?g=u.newItem(v):(g=u.newItem({}),g[o]=!1),g._index=d,g[o]!==!1&&l.handleItemDefaults(v,g,n,l),p.push(g)}var x=u.defaultItems();for(d=0;d<x.length;d++)g=x[d],g._index=p.length,l.handleItemDefaults({},g,n,l,{}),p.push(g);if(i.isArrayOrTypedArray(s)){var y=Math.min(s.length,p.length);for(d=0;d<y;d++)i.relinkPrivateKeys(p[d],s[d])}return p}}),If=xe((E,k)=>{var i=sr(),t=Nn().contrast,e=Ei(),n=Ff(),l=Pi();k.exports=function(o,s,r,p,u){u||(u={});var d=r("labelalias");i.isPlainObject(d)||delete s.labelalias;var g=n(o),v=r("showticklabels");if(v){u.noTicklabelshift||r("ticklabelshift"),u.noTicklabelstandoff||r("ticklabelstandoff");var x=u.font||{},y=s.color,m=s.ticklabelposition||"",c=m.indexOf("inside")!==-1?t(u.bgColor):y&&y!==e.color.dflt?y:x.color;if(i.coerceFont(r,"tickfont",x,{overrideDflt:{color:c}}),!u.noTicklabelstep&&p!=="multicategory"&&p!=="log"&&r("ticklabelstep"),!u.noAng){var h=r("tickangle");!u.noAutotickangles&&h==="auto"&&r("autotickangles")}if(p!=="category"){var b=r("tickformat");l(o,s,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:a}),s.tickformatstops.length||delete s.tickformatstops,!u.noExp&&!b&&p!=="date"&&(r("showexponent",g),r("exponentformat"),r("minexponent"),r("separatethousands"))}}};function a(o,s){function r(u,d){return i.coerce(o,s,e.tickformatstops,u,d)}var p=r("enabled");p&&(r("dtickrange"),r("value"))}}),Nf=xe((E,k)=>{var i=Ff();k.exports=function(t,e,n,l,a){a||(a={});var o=a.tickSuffixDflt,s=i(t),r=n("tickprefix");r&&n("showtickprefix",s);var p=n("ticksuffix",o);p&&n("showticksuffix",s)}}),Rf=xe((E,k)=>{var i=sr(),t=ca(),e=Ef(),n=Pf(),l=If(),a=Nf(),o=nc();k.exports=function(s,r,p){var u=t.newContainer(r,"colorbar"),d=s.colorbar||{};function g(A,O){return i.coerce(d,u,o,A,O)}var v=p.margin||{t:0,b:0,l:0,r:0},x=p.width-v.l-v.r,y=p.height-v.t-v.b,m=g("orientation"),c=m==="v",h=g("thicknessmode");g("thickness",h==="fraction"?30/(c?x:y):30);var b=g("lenmode");g("len",b==="fraction"?1:c?y:x);var _=g("yref"),w=g("xref"),K=_==="paper",D=w==="paper",I,C,H,z="left";c?(H="middle",z=D?"left":"right",I=D?1.02:1,C=.5):(H=K?"bottom":"top",z="center",I=.5,C=K?1.02:1),i.coerce(d,u,{x:{valType:"number",min:D?-2:0,max:D?3:1,dflt:I}},"x"),i.coerce(d,u,{y:{valType:"number",min:K?-2:0,max:K?3:1,dflt:C}},"y"),g("xanchor",z),g("xpad"),g("yanchor",H),g("ypad"),i.noneOrAll(d,u,["x","y"]),g("outlinecolor"),g("outlinewidth"),g("bordercolor"),g("borderwidth"),g("bgcolor");var R=i.coerce(d,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");g("ticklabeloverflow",R.indexOf("inside")!==-1?"hide past domain":"hide past div"),e(d,u,g,"linear");var U=p.font,Z={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:U};R.indexOf("inside")!==-1&&(Z.bgColor="black"),a(d,u,g,"linear",Z),l(d,u,g,"linear",Z),n(d,u,g,"linear",Z),g("title.text",p._dfltTitle.colorbar);var G=u.showticklabels?u.tickfont:U,P=i.extendFlat({},U,{family:G.family,size:i.bigFont(G.size)});i.coerceFont(g,"title.font",P),g("title.side",c?"top":"right")}}),Fs=xe((E,k)=>{var i=Bn(),t=sr(),e=Cf(),n=Rf(),l=Wo().isValid,a=mn().traceIs;function o(s,r){var p=r.slice(0,r.length-1);return r?t.nestedProperty(s,p).get()||{}:s}k.exports=function s(r,p,u,d,g){var v=g.prefix,x=g.cLetter,y="_module"in p,m=o(r,v),c=o(p,v),h=o(p._template||{},v)||{},b=function(){return delete r.coloraxis,delete p.coloraxis,s(r,p,u,d,g)};if(y){var _=u._colorAxes||{},w=d(v+"coloraxis");if(w){var K=a(p,"contour")&&t.nestedProperty(p,"contours.coloring").get()||"heatmap",D=_[w];D?(D[2].push(b),D[0]!==K&&(D[0]=!1,t.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):_[w]=[K,p,[b]];return}}var I=m[x+"min"],C=m[x+"max"],H=i(I)&&i(C)&&I<C,z=d(v+x+"auto",!H);z?d(v+x+"mid"):(d(v+x+"min"),d(v+x+"max"));var R=m.colorscale,U=h.colorscale,Z;if(R!==void 0&&(Z=!l(R)),U!==void 0&&(Z=!l(U)),d(v+"autocolorscale",Z),d(v+"colorscale"),d(v+"reversescale"),v!=="marker.line."){var G;v&&y&&(G=e(m));var P=d(v+"showscale",G);P&&(v&&h&&(c._template=h),n(m,c,u))}}}),Cp=xe((E,k)=>{var i=sr(),t=ca(),e=Lf(),n=Fs();k.exports=function(l,a){function o(x,y){return i.coerce(l,a,e,x,y)}o("colorscale.sequential"),o("colorscale.sequentialminus"),o("colorscale.diverging");var s=a._colorAxes,r,p;function u(x,y){return i.coerce(r,p,e.coloraxis,x,y)}for(var d in s){var g=s[d];if(g[0])r=l[d]||{},p=t.newContainer(a,d,"coloraxis"),p._name=d,n(r,p,a,u,{prefix:"",cLetter:"c"});else{for(var v=0;v<g[2].length;v++)g[2][v]();delete a._colorAxes[d]}}}}),Dp=xe((E,k)=>{var i=sr(),t=Ui().hasColorscale,e=Ui().extractOpts;k.exports=function(n,l){function a(g,v){var x=g["_"+v];x!==void 0&&(g[v]=x)}function o(g,v){var x=v.container?i.nestedProperty(g,v.container).get():g;if(x)if(x.coloraxis)x._colorAx=l[x.coloraxis];else{var y=e(x),m=y.auto;(m||y.min===void 0)&&a(x,v.min),(m||y.max===void 0)&&a(x,v.max),y.autocolorscale&&a(x,"colorscale")}}for(var s=0;s<n.length;s++){var r=n[s],p=r._module.colorbar;if(p)if(Array.isArray(p))for(var u=0;u<p.length;u++)o(r,p[u]);else o(r,p);t(r,"marker.line")&&o(r,{container:"marker.line",min:"cmin",max:"cmax"})}for(var d in l._colorAxes)o(l[d],{min:"cmin",max:"cmax"})}}),jf=xe((E,k)=>{var i=Bn(),t=sr(),e=Ui().extractOpts;k.exports=function(n,l,a){var o=n._fullLayout,s=a.vals,r=a.containerStr,p=r?t.nestedProperty(l,r).get():l,u=e(p),d=u.auto!==!1,g=u.min,v=u.max,x=u.mid,y=function(){return t.aggNums(Math.min,null,s)},m=function(){return t.aggNums(Math.max,null,s)};if(g===void 0?g=y():d&&(p._colorAx&&i(g)?g=Math.min(g,y()):g=y()),v===void 0?v=m():d&&(p._colorAx&&i(v)?v=Math.max(v,m()):v=m()),d&&x!==void 0&&(v-x>x-g?g=x-(v-x):v-x<x-g&&(v=x+(x-g))),g===v&&(g-=.5,v+=.5),u._sync("min",g),u._sync("max",v),u.autocolorscale){var c;g*v<0?c=o.colorscale.diverging:g>=0?c=o.colorscale.sequential:c=o.colorscale.sequentialminus,u._sync("colorscale",c)}}}),ac=xe((E,k)=>{var i=Wo(),t=Ui();k.exports={moduleType:"component",name:"colorscale",attributes:Ps(),layoutAttributes:Lf(),supplyLayoutDefaults:Cp(),handleDefaults:Fs(),crossTraceDefaults:Dp(),calc:jf(),scales:i.scales,defaultScale:i.defaultScale,getScale:i.get,isValidScale:i.isValid,hasColorscale:t.hasColorscale,extractOpts:t.extractOpts,extractScale:t.extractScale,flipScale:t.flipScale,makeColorScaleFunc:t.makeColorScaleFunc,makeColorScaleFuncFromTrace:t.makeColorScaleFuncFromTrace}}),ti=xe((E,k)=>{var i=sr(),t=hi().isTypedArraySpec;k.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){var n=e.marker;return i.isPlainObject(n)&&(i.isArrayOrTypedArray(n.size)||t(n.size))}}}),zf=xe((E,k)=>{var i=Bn();k.exports=function(t,e){e||(e=2);var n=t.marker,l=n.sizeref||1,a=n.sizemin||0,o=n.sizemode==="area"?function(s){return Math.sqrt(s/l)}:function(s){return s/l};return function(s){var r=o(s/e);return i(r)&&r>0?Math.max(r,a):0}}}),Xi=xe(E=>{var k=sr();E.getSubplot=function(a){return a.subplot||a.xaxis+a.yaxis||a.geo},E.isTraceInSubplots=function(a,o){if(a.type==="splom"){for(var s=a.xaxes||[],r=a.yaxes||[],p=0;p<s.length;p++)for(var u=0;u<r.length;u++)if(o.indexOf(s[p]+r[u])!==-1)return!0;return!1}return o.indexOf(E.getSubplot(a))!==-1},E.flat=function(a,o){for(var s=new Array(a.length),r=0;r<a.length;r++)s[r]=o;return s},E.p2c=function(a,o){for(var s=new Array(a.length),r=0;r<a.length;r++)s[r]=a[r].p2c(o);return s},E.getDistanceFunction=function(a,o,s,r){return a==="closest"?r||E.quadrature(o,s):a.charAt(0)==="x"?o:s},E.getClosest=function(a,o,s){if(s.index!==!1)s.index>=0&&s.index<a.length?s.distance=0:s.index=!1;else for(var r=1/0,p=a.length,u=0;u<p;u++)r=o(a[u]),r<=s.distance&&(s.index=u,s.distance=r);return s},E.inbox=function(a,o,s){return a*o<0||a===0?s:1/0},E.quadrature=function(a,o){return function(s){var r=a(s),p=o(s);return Math.sqrt(r*r+p*p)}},E.makeEventData=function(a,o,s){var r="index"in a?a.index:a.pointNumber,p={data:o._input,fullData:o,curveNumber:o.index,pointNumber:r};if(o._indexToPoints){var u=o._indexToPoints[r];u.length===1?p.pointIndex=u[0]:p.pointIndices=u}else p.pointIndex=r;return o._module.eventData?p=o._module.eventData(p,a,o,s,r):("xVal"in a?p.x=a.xVal:"x"in a&&(p.x=a.x),"yVal"in a?p.y=a.yVal:"y"in a&&(p.y=a.y),a.xa&&(p.xaxis=a.xa),a.ya&&(p.yaxis=a.ya),a.zLabelVal!==void 0&&(p.z=a.zLabelVal)),E.appendArrayPointValue(p,o,r),p},E.appendArrayPointValue=function(a,o,s){var r=o._arrayAttrs;if(r)for(var p=0;p<r.length;p++){var u=r[p],d=t(u);if(a[d]===void 0){var g=k.nestedProperty(o,u).get(),v=e(g,s);v!==void 0&&(a[d]=v)}}},E.appendArrayMultiPointValues=function(a,o,s){var r=o._arrayAttrs;if(r)for(var p=0;p<r.length;p++){var u=r[p],d=t(u);if(a[d]===void 0){for(var g=k.nestedProperty(o,u).get(),v=new Array(s.length),x=0;x<s.length;x++)v[x]=e(g,s[x]);a[d]=v}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function t(a){return i[a]||a}function e(a,o){if(Array.isArray(o)){if(Array.isArray(a)&&Array.isArray(a[o[0]]))return a[o[0]][o[1]]}else return a[o]}var n={x:!0,y:!0},l={"x unified":!0,"y unified":!0};E.isUnifiedHover=function(a){return typeof a!="string"?!1:!!l[a]},E.isXYhover=function(a){return typeof a!="string"?!1:!!n[a]}}),Is=xe((E,k)=>{k.exports=e;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function e(a){var o=[];return a.replace(t,function(s,r,p){var u=r.toLowerCase();for(p=l(p),u=="m"&&p.length>2&&(o.push([r].concat(p.splice(0,2))),u="l",r=r=="m"?"l":"L");;){if(p.length==i[u])return p.unshift(r),o.push(p);if(p.length<i[u])throw new Error("malformed path data");o.push([r].concat(p.splice(0,i[u])))}}),o}var n=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(a){var o=a.match(n);return o?o.map(Number):[]}}),Ep=xe((E,k)=>{var i=Is(),t=function(x,y){return y?Math.round(x*(y=Math.pow(10,y)))/y:Math.round(x)},e="M0,0Z",n=Math.sqrt(2),l=Math.sqrt(3),a=Math.PI,o=Math.cos,s=Math.sin;k.exports={circle:{n:0,f:function(x,y,m){if(r(y))return e;var c=t(x,2),h="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return m?v(y,m,h):h}},square:{n:1,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(x,y,m){if(r(y))return e;var c=t(x*1.3,2);return v(y,m,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(x,y,m){if(r(y))return e;var c=t(x*.4,2),h=t(x*1.2,2);return v(y,m,"M"+h+","+c+"H"+c+"V"+h+"H-"+c+"V"+c+"H-"+h+"V-"+c+"H-"+c+"V-"+h+"H"+c+"V-"+c+"H"+h+"Z")}},x:{n:4,f:function(x,y,m){if(r(y))return e;var c=t(x*.8/n,2),h="l"+c+","+c,b="l"+c+",-"+c,_="l-"+c+",-"+c,w="l-"+c+","+c;return v(y,m,"M0,"+c+h+b+_+b+_+w+_+w+h+w+h+"Z")}},"triangle-up":{n:5,f:function(x,y,m){if(r(y))return e;var c=t(x*2/l,2),h=t(x/2,2),b=t(x,2);return v(y,m,"M-"+c+","+h+"H"+c+"L0,-"+b+"Z")}},"triangle-down":{n:6,f:function(x,y,m){if(r(y))return e;var c=t(x*2/l,2),h=t(x/2,2),b=t(x,2);return v(y,m,"M-"+c+",-"+h+"H"+c+"L0,"+b+"Z")}},"triangle-left":{n:7,f:function(x,y,m){if(r(y))return e;var c=t(x*2/l,2),h=t(x/2,2),b=t(x,2);return v(y,m,"M"+h+",-"+c+"V"+c+"L-"+b+",0Z")}},"triangle-right":{n:8,f:function(x,y,m){if(r(y))return e;var c=t(x*2/l,2),h=t(x/2,2),b=t(x,2);return v(y,m,"M-"+h+",-"+c+"V"+c+"L"+b+",0Z")}},"triangle-ne":{n:9,f:function(x,y,m){if(r(y))return e;var c=t(x*.6,2),h=t(x*1.2,2);return v(y,m,"M-"+h+",-"+c+"H"+c+"V"+h+"Z")}},"triangle-se":{n:10,f:function(x,y,m){if(r(y))return e;var c=t(x*.6,2),h=t(x*1.2,2);return v(y,m,"M"+c+",-"+h+"V"+c+"H-"+h+"Z")}},"triangle-sw":{n:11,f:function(x,y,m){if(r(y))return e;var c=t(x*.6,2),h=t(x*1.2,2);return v(y,m,"M"+h+","+c+"H-"+c+"V-"+h+"Z")}},"triangle-nw":{n:12,f:function(x,y,m){if(r(y))return e;var c=t(x*.6,2),h=t(x*1.2,2);return v(y,m,"M-"+c+","+h+"V-"+c+"H"+h+"Z")}},pentagon:{n:13,f:function(x,y,m){if(r(y))return e;var c=t(x*.951,2),h=t(x*.588,2),b=t(-x,2),_=t(x*-.309,2),w=t(x*.809,2);return v(y,m,"M"+c+","+_+"L"+h+","+w+"H-"+h+"L-"+c+","+_+"L0,"+b+"Z")}},hexagon:{n:14,f:function(x,y,m){if(r(y))return e;var c=t(x,2),h=t(x/2,2),b=t(x*l/2,2);return v(y,m,"M"+b+",-"+h+"V"+h+"L0,"+c+"L-"+b+","+h+"V-"+h+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(x,y,m){if(r(y))return e;var c=t(x,2),h=t(x/2,2),b=t(x*l/2,2);return v(y,m,"M-"+h+","+b+"H"+h+"L"+c+",0L"+h+",-"+b+"H-"+h+"L-"+c+",0Z")}},octagon:{n:16,f:function(x,y,m){if(r(y))return e;var c=t(x*.924,2),h=t(x*.383,2);return v(y,m,"M-"+h+",-"+c+"H"+h+"L"+c+",-"+h+"V"+h+"L"+h+","+c+"H-"+h+"L-"+c+","+h+"V-"+h+"Z")}},star:{n:17,f:function(x,y,m){if(r(y))return e;var c=x*1.4,h=t(c*.225,2),b=t(c*.951,2),_=t(c*.363,2),w=t(c*.588,2),K=t(-c,2),D=t(c*-.309,2),I=t(c*.118,2),C=t(c*.809,2),H=t(c*.382,2);return v(y,m,"M"+h+","+D+"H"+b+"L"+_+","+I+"L"+w+","+C+"L0,"+H+"L-"+w+","+C+"L-"+_+","+I+"L-"+b+","+D+"H-"+h+"L0,"+K+"Z")}},hexagram:{n:18,f:function(x,y,m){if(r(y))return e;var c=t(x*.66,2),h=t(x*.38,2),b=t(x*.76,2);return v(y,m,"M-"+b+",0l-"+h+",-"+c+"h"+b+"l"+h+",-"+c+"l"+h+","+c+"h"+b+"l-"+h+","+c+"l"+h+","+c+"h-"+b+"l-"+h+","+c+"l-"+h+",-"+c+"h-"+b+"Z")}},"star-triangle-up":{n:19,f:function(x,y,m){if(r(y))return e;var c=t(x*l*.8,2),h=t(x*.8,2),b=t(x*1.6,2),_=t(x*4,2),w="A "+_+","+_+" 0 0 1 ";return v(y,m,"M-"+c+","+h+w+c+","+h+w+"0,-"+b+w+"-"+c+","+h+"Z")}},"star-triangle-down":{n:20,f:function(x,y,m){if(r(y))return e;var c=t(x*l*.8,2),h=t(x*.8,2),b=t(x*1.6,2),_=t(x*4,2),w="A "+_+","+_+" 0 0 1 ";return v(y,m,"M"+c+",-"+h+w+"-"+c+",-"+h+w+"0,"+b+w+c+",-"+h+"Z")}},"star-square":{n:21,f:function(x,y,m){if(r(y))return e;var c=t(x*1.1,2),h=t(x*2,2),b="A "+h+","+h+" 0 0 1 ";return v(y,m,"M-"+c+",-"+c+b+"-"+c+","+c+b+c+","+c+b+c+",-"+c+b+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(x,y,m){if(r(y))return e;var c=t(x*1.4,2),h=t(x*1.9,2),b="A "+h+","+h+" 0 0 1 ";return v(y,m,"M-"+c+",0"+b+"0,"+c+b+c+",0"+b+"0,-"+c+b+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(x,y,m){if(r(y))return e;var c=t(x*.7,2),h=t(x*1.4,2);return v(y,m,"M0,"+h+"L"+c+",0L0,-"+h+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(x,y,m){if(r(y))return e;var c=t(x*1.4,2),h=t(x*.7,2);return v(y,m,"M0,"+h+"L"+c+",0L0,-"+h+"L-"+c+",0Z")}},hourglass:{n:25,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(x,y,m){if(r(y))return e;var c=t(x,2),h=t(x/n,2);return v(y,m,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(x,y,m){if(r(y))return e;var c=t(x*1.3,2);return v(y,m,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(x,y,m){if(r(y))return e;var c=t(x*1.3,2),h=t(x*.65,2);return v(y,m,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+h+",-"+h+"L"+h+","+h+"M-"+h+","+h+"L"+h+",-"+h)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(x,y,m){if(r(y))return e;var c=t(x*1.4,2);return v(y,m,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(x,y,m){if(r(y))return e;var c=t(x*1.2,2),h=t(x*.85,2);return v(y,m,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(x,y,m){if(r(y))return e;var c=t(x/2,2),h=t(x,2);return v(y,m,"M"+c+","+h+"V-"+h+"M"+(c-h)+",-"+h+"V"+h+"M"+h+","+c+"H-"+h+"M-"+h+","+(c-h)+"H"+h)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(x,y,m){if(r(y))return e;var c=t(x*1.2,2),h=t(x*1.6,2),b=t(x*.8,2);return v(y,m,"M-"+c+","+b+"L0,0M"+c+","+b+"L0,0M0,-"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(x,y,m){if(r(y))return e;var c=t(x*1.2,2),h=t(x*1.6,2),b=t(x*.8,2);return v(y,m,"M-"+c+",-"+b+"L0,0M"+c+",-"+b+"L0,0M0,"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(x,y,m){if(r(y))return e;var c=t(x*1.2,2),h=t(x*1.6,2),b=t(x*.8,2);return v(y,m,"M"+b+","+c+"L0,0M"+b+",-"+c+"L0,0M-"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(x,y,m){if(r(y))return e;var c=t(x*1.2,2),h=t(x*1.6,2),b=t(x*.8,2);return v(y,m,"M-"+b+","+c+"L0,0M-"+b+",-"+c+"L0,0M"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(x,y,m){if(r(y))return e;var c=t(x*1.4,2);return v(y,m,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(x,y,m){if(r(y))return e;var c=t(x*1.4,2);return v(y,m,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(x,y,m){if(r(y))return e;var c=t(x,2);return v(y,m,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(x,y,m){if(r(y))return e;var c=t(x,2),h=t(x*2,2);return v(y,m,"M0,0L-"+c+","+h+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(x,y,m){if(r(y))return e;var c=t(x,2),h=t(x*2,2);return v(y,m,"M0,0L-"+c+",-"+h+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(x,y,m){if(r(y))return e;var c=t(x*2,2),h=t(x,2);return v(y,m,"M0,0L"+c+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-right":{n:48,f:function(x,y,m){if(r(y))return e;var c=t(x*2,2),h=t(x,2);return v(y,m,"M0,0L-"+c+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(x,y,m){if(r(y))return e;var c=t(x,2),h=t(x*2,2);return v(y,m,"M-"+c+",0H"+c+"M0,0L-"+c+","+h+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(x,y,m){if(r(y))return e;var c=t(x,2),h=t(x*2,2);return v(y,m,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+h+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(x,y,m){if(r(y))return e;var c=t(x*2,2),h=t(x,2);return v(y,m,"M0,-"+h+"V"+h+"M0,0L"+c+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(x,y,m){if(r(y))return e;var c=t(x*2,2),h=t(x,2);return v(y,m,"M0,-"+h+"V"+h+"M0,0L-"+c+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(x,y,m){if(r(y))return e;var c=a/2.5,h=2*x*o(c),b=2*x*s(c);return v(y,m,"M0,0L"+-h+","+b+"L"+h+","+b+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(x,y,m){if(r(y))return e;var c=a/4,h=2*x*o(c),b=2*x*s(c);return v(y,m,"M0,0L"+-h+","+b+"A "+2*x+","+2*x+" 0 0 1 "+h+","+b+"Z")},backoff:.4,noDot:!0}};function r(x){return x===null}var p,u,d,g;function v(x,y,m){if((!x||x%360===0)&&!y)return m;if(d===x&&g===y&&p===m)return u;d=x,g=y,p=m;function c(Z,G){var P=o(Z),A=s(Z),O=G[0],L=G[1]+(y||0);return[O*P-L*A,O*A+L*P]}for(var h=x/180*a,b=0,_=0,w=i(m),K="",D=0;D<w.length;D++){var I=w[D],C=I[0],H=b,z=_;if(C==="M"||C==="L")b=+I[1],_=+I[2];else if(C==="m"||C==="l")b+=+I[1],_+=+I[2];else if(C==="H")b=+I[1];else if(C==="h")b+=+I[1];else if(C==="V")_=+I[1];else if(C==="v")_+=+I[1];else if(C==="A"){b=+I[1],_=+I[2];var R=c(h,[+I[6],+I[7]]);I[6]=R[0],I[7]=R[1],I[3]=+I[3]+x}(C==="H"||C==="V")&&(C="L"),(C==="h"||C==="v")&&(C="l"),(C==="m"||C==="l")&&(b-=H,_-=z);var U=c(h,[b,_]);(C==="H"||C==="V")&&(C="L"),(C==="M"||C==="L"||C==="m"||C==="l")&&(I[1]=U[0],I[2]=U[1]),I[0]=C,K+=I[0]+I.slice(1).join(",")}return u=K,K}}),na=xe((E,k)=>{var i=Jn(),t=sr(),e=t.numberFormat,n=Bn(),l=Li(),a=mn(),o=Nn(),s=ac(),r=t.strTranslate,p=fi(),u=Jo(),d=ii(),g=d.LINE_SPACING,v=Tl().DESELECTDIM,x=ti(),y=zf(),m=Xi().appendArrayPointValue,c=k.exports={};c.font=function(T,V){var j=V.variant,he=V.style,be=V.weight,ke=V.color,Ce=V.size,qe=V.family,at=V.shadow,ct=V.lineposition,vt=V.textcase;qe&&T.style("font-family",qe),Ce+1&&T.style("font-size",Ce+"px"),ke&&T.call(o.fill,ke),be&&T.style("font-weight",be),he&&T.style("font-style",he),j&&T.style("font-variant",j),vt&&T.style("text-transform",h(_(vt))),at&&T.style("text-shadow",at==="auto"?p.makeTextShadow(o.contrast(ke)):h(at)),ct&&T.style("text-decoration-line",h(w(ct)))};function h(T){return T==="none"?void 0:T}var b={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function _(T){return b[T]}function w(T){return T.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}c.setPosition=function(T,V,j){T.attr("x",V).attr("y",j)},c.setSize=function(T,V,j){T.attr("width",V).attr("height",j)},c.setRect=function(T,V,j,he,be){T.call(c.setPosition,V,j).call(c.setSize,he,be)},c.translatePoint=function(T,V,j,he){var be=j.c2p(T.x),ke=he.c2p(T.y);if(n(be)&&n(ke)&&V.node())V.node().nodeName==="text"?V.attr("x",be).attr("y",ke):V.attr("transform",r(be,ke));else return!1;return!0},c.translatePoints=function(T,V,j){T.each(function(he){var be=i.select(this);c.translatePoint(he,be,V,j)})},c.hideOutsideRangePoint=function(T,V,j,he,be,ke){V.attr("display",j.isPtWithinRange(T,be)&&he.isPtWithinRange(T,ke)?null:"none")},c.hideOutsideRangePoints=function(T,V){if(V._hasClipOnAxisFalse){var j=V.xaxis,he=V.yaxis;T.each(function(be){var ke=be[0].trace,Ce=ke.xcalendar,qe=ke.ycalendar,at=a.traceIs(ke,"bar-like")?".bartext":".point,.textpoint";T.selectAll(at).each(function(ct){c.hideOutsideRangePoint(ct,i.select(this),j,he,Ce,qe)})})}},c.crispRound=function(T,V,j){return!V||!n(V)?j||0:T._context.staticPlot?V:V<1?1:Math.round(V)},c.singleLineStyle=function(T,V,j,he,be){V.style("fill","none");var ke=(((T||[])[0]||{}).trace||{}).line||{},Ce=j||ke.width||0,qe=be||ke.dash||"";o.stroke(V,he||ke.color),c.dashLine(V,qe,Ce)},c.lineGroupStyle=function(T,V,j,he){T.style("fill","none").each(function(be){var ke=(((be||[])[0]||{}).trace||{}).line||{},Ce=V||ke.width||0,qe=he||ke.dash||"";i.select(this).call(o.stroke,j||ke.color).call(c.dashLine,qe,Ce)})},c.dashLine=function(T,V,j){j=+j||0,V=c.dashStyle(V,j),T.style({"stroke-dasharray":V,"stroke-width":j+"px"})},c.dashStyle=function(T,V){V=+V||1;var j=Math.max(V,3);return T==="solid"?T="":T==="dot"?T=j+"px,"+j+"px":T==="dash"?T=3*j+"px,"+3*j+"px":T==="longdash"?T=5*j+"px,"+5*j+"px":T==="dashdot"?T=3*j+"px,"+j+"px,"+j+"px,"+j+"px":T==="longdashdot"&&(T=5*j+"px,"+2*j+"px,"+j+"px,"+2*j+"px"),T};function K(T,V,j,he){var be=V.fillpattern,ke=V.fillgradient,Ce=be&&c.getPatternAttr(be.shape,0,"");if(Ce){var qe=c.getPatternAttr(be.bgcolor,0,null),at=c.getPatternAttr(be.fgcolor,0,null),ct=be.fgopacity,vt=c.getPatternAttr(be.size,0,8),St=c.getPatternAttr(be.solidity,0,.3),ot=V.uid;c.pattern(T,"point",j,ot,Ce,vt,St,void 0,be.fillmode,qe,at,ct)}else if(ke&&ke.type!=="none"){var Ct=ke.type,It="scatterfill-"+V.uid;if(he&&(It="legendfill-"+V.uid),!he&&(ke.start!==void 0||ke.stop!==void 0)){var At,Nt;Ct==="horizontal"?(At={x:ke.start,y:0},Nt={x:ke.stop,y:0}):Ct==="vertical"&&(At={x:0,y:ke.start},Nt={x:0,y:ke.stop}),At.x=V._xA.c2p(At.x===void 0?V._extremes.x.min[0].val:At.x,!0),At.y=V._yA.c2p(At.y===void 0?V._extremes.y.min[0].val:At.y,!0),Nt.x=V._xA.c2p(Nt.x===void 0?V._extremes.x.max[0].val:Nt.x,!0),Nt.y=V._yA.c2p(Nt.y===void 0?V._extremes.y.max[0].val:Nt.y,!0),T.call(U,j,It,"linear",ke.colorscale,"fill",At,Nt,!0,!1)}else Ct==="horizontal"&&(Ct=Ct+"reversed"),T.call(c.gradient,j,It,Ct,ke.colorscale,"fill")}else V.fillcolor&&T.call(o.fill,V.fillcolor)}c.singleFillStyle=function(T,V){var j=i.select(T.node()),he=j.data(),be=((he[0]||[])[0]||{}).trace||{};K(T,be,V,!1)},c.fillGroupStyle=function(T,V,j){T.style("stroke-width",0).each(function(he){var be=i.select(this);he[0].trace&&K(be,he[0].trace,V,j)})};var D=Ep();c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(D).forEach(function(T){var V=D[T],j=V.n;c.symbolList.push(j,String(j),T,j+100,String(j+100),T+"-open"),c.symbolNames[j]=T,c.symbolFuncs[j]=V.f,c.symbolBackOffs[j]=V.backoff||0,V.needLine&&(c.symbolNeedLines[j]=!0),V.noDot?c.symbolNoDot[j]=!0:c.symbolList.push(j+200,String(j+200),T+"-dot",j+300,String(j+300),T+"-open-dot"),V.noFill&&(c.symbolNoFill[j]=!0)});var I=c.symbolNames.length,C="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(T){if(n(T))T=+T;else if(typeof T=="string"){var V=0;T.indexOf("-open")>0&&(V=100,T=T.replace("-open","")),T.indexOf("-dot")>0&&(V+=200,T=T.replace("-dot","")),T=c.symbolNames.indexOf(T),T>=0&&(T+=V)}return T%100>=I||T>=400?0:Math.floor(Math.max(T,0))};function H(T,V,j,he){var be=T%100;return c.symbolFuncs[be](V,j,he)+(T>=200?C:"")}var z=e("~f"),R={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(T,V,j,he,be,ke){var Ce=R[he];return U(T,V,j,Ce.type,be,ke,Ce.start,Ce.stop,!1,Ce.reversed)};function U(T,V,j,he,be,ke,Ce,qe,at,ct){var vt=be.length,St;he==="linear"?St={node:"linearGradient",attrs:{x1:Ce.x,y1:Ce.y,x2:qe.x,y2:qe.y,gradientUnits:at?"userSpaceOnUse":"objectBoundingBox"},reversed:ct}:he==="radial"&&(St={node:"radialGradient",reversed:ct});for(var ot=new Array(vt),Ct=0;Ct<vt;Ct++)St.reversed?ot[vt-1-Ct]=[z((1-be[Ct][0])*100),be[Ct][1]]:ot[Ct]=[z(be[Ct][0]*100),be[Ct][1]];var It=V._fullLayout,At="g"+It._uid+"-"+j,Nt=It._defs.select(".gradients").selectAll("#"+At).data([he+ot.join(";")],t.identity);Nt.exit().remove(),Nt.enter().append(St.node).each(function(){var _e=i.select(this);St.attrs&&_e.attr(St.attrs),_e.attr("id",At);var De=_e.selectAll("stop").data(ot);De.exit().remove(),De.enter().append("stop"),De.each(function(je){var ie=l(je[1]);i.select(this).attr({offset:je[0]+"%","stop-color":o.tinyRGB(ie),"stop-opacity":ie.getAlpha()})})}),T.style(ke,J(At,V)).style(ke+"-opacity",null),T.classed("gradient_filled",!0)}c.pattern=function(T,V,j,he,be,ke,Ce,qe,at,ct,vt,St){var ot=V==="legend";qe&&(at==="overlay"?(ct=qe,vt=o.contrast(ct)):(ct=void 0,vt=qe));var Ct=j._fullLayout,It="p"+Ct._uid+"-"+he,At,Nt,_e=function(Ye,st,xt,Tt,tr){return Tt+(tr-Tt)*(Ye-st)/(xt-st)},De,je,ie,ve,we={},Se=l(vt),Ue=o.tinyRGB(Se),Le=Se.getAlpha(),tt=St*Le;switch(be){case"/":At=ke*Math.sqrt(2),Nt=ke*Math.sqrt(2),De="M-"+At/4+","+Nt/4+"l"+At/2+",-"+Nt/2+"M0,"+Nt+"L"+At+",0M"+At/4*3+","+Nt/4*5+"l"+At/2+",-"+Nt/2,je=Ce*ke,ve="path",we={d:De,opacity:tt,stroke:Ue,"stroke-width":je+"px"};break;case"\\":At=ke*Math.sqrt(2),Nt=ke*Math.sqrt(2),De="M"+At/4*3+",-"+Nt/4+"l"+At/2+","+Nt/2+"M0,0L"+At+","+Nt+"M-"+At/4+","+Nt/4*3+"l"+At/2+","+Nt/2,je=Ce*ke,ve="path",we={d:De,opacity:tt,stroke:Ue,"stroke-width":je+"px"};break;case"x":At=ke*Math.sqrt(2),Nt=ke*Math.sqrt(2),De="M-"+At/4+","+Nt/4+"l"+At/2+",-"+Nt/2+"M0,"+Nt+"L"+At+",0M"+At/4*3+","+Nt/4*5+"l"+At/2+",-"+Nt/2+"M"+At/4*3+",-"+Nt/4+"l"+At/2+","+Nt/2+"M0,0L"+At+","+Nt+"M-"+At/4+","+Nt/4*3+"l"+At/2+","+Nt/2,je=ke-ke*Math.sqrt(1-Ce),ve="path",we={d:De,opacity:tt,stroke:Ue,"stroke-width":je+"px"};break;case"|":At=ke,Nt=ke,ve="path",De="M"+At/2+",0L"+At/2+","+Nt,je=Ce*ke,ve="path",we={d:De,opacity:tt,stroke:Ue,"stroke-width":je+"px"};break;case"-":At=ke,Nt=ke,ve="path",De="M0,"+Nt/2+"L"+At+","+Nt/2,je=Ce*ke,ve="path",we={d:De,opacity:tt,stroke:Ue,"stroke-width":je+"px"};break;case"+":At=ke,Nt=ke,ve="path",De="M"+At/2+",0L"+At/2+","+Nt+"M0,"+Nt/2+"L"+At+","+Nt/2,je=ke-ke*Math.sqrt(1-Ce),ve="path",we={d:De,opacity:tt,stroke:Ue,"stroke-width":je+"px"};break;case".":At=ke,Nt=ke,Ce<Math.PI/4?ie=Math.sqrt(Ce*ke*ke/Math.PI):ie=_e(Ce,Math.PI/4,1,ke/2,ke/Math.sqrt(2)),ve="circle",we={cx:At/2,cy:Nt/2,r:ie,opacity:tt,fill:Ue};break}var nt=[be||"noSh",ct||"noBg",vt||"noFg",ke,Ce].join(";"),ut=Ct._defs.select(".patterns").selectAll("#"+It).data([nt],t.identity);ut.exit().remove(),ut.enter().append("pattern").each(function(){var Ye=i.select(this);if(Ye.attr({id:It,width:At+"px",height:Nt+"px",patternUnits:"userSpaceOnUse",patternTransform:ot?"scale(0.8)":""}),ct){var st=l(ct),xt=o.tinyRGB(st),Tt=st.getAlpha(),tr=Ye.selectAll("rect").data([0]);tr.exit().remove(),tr.enter().append("rect").attr({width:At+"px",height:Nt+"px",fill:xt,"fill-opacity":Tt})}var cr=Ye.selectAll(ve).data([0]);cr.exit().remove(),cr.enter().append(ve).attr(we)}),T.style("fill",J(It,j)).style("fill-opacity",null),T.classed("pattern_filled",!0)},c.initGradients=function(T){var V=T._fullLayout,j=t.ensureSingle(V._defs,"g","gradients");j.selectAll("linearGradient,radialGradient").remove(),i.select(T).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(T){var V=T._fullLayout,j=t.ensureSingle(V._defs,"g","patterns");j.selectAll("pattern").remove(),i.select(T).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(T,V,j){return T&&t.isArrayOrTypedArray(T)?V<T.length?T[V]:j:T},c.pointStyle=function(T,V,j,he){if(T.size()){var be=c.makePointStyleFns(V);T.each(function(ke){c.singlePointStyle(ke,i.select(this),V,be,j,he)})}},c.singlePointStyle=function(T,V,j,he,be,ke){var Ce=j.marker,qe=Ce.line;if(ke&&ke.i>=0&&T.i===void 0&&(T.i=ke.i),V.style("opacity",he.selectedOpacityFn?he.selectedOpacityFn(T):T.mo===void 0?Ce.opacity:T.mo),he.ms2mrc){var at;T.ms==="various"||Ce.size==="various"?at=3:at=he.ms2mrc(T.ms),T.mrc=at,he.selectedSizeFn&&(at=T.mrc=he.selectedSizeFn(T));var ct=c.symbolNumber(T.mx||Ce.symbol)||0;T.om=ct%200>=100;var vt=Ae(T,j),St=$(T,j);V.attr("d",H(ct,at,vt,St))}var ot=!1,Ct,It,At;if(T.so)At=qe.outlierwidth,It=qe.outliercolor,Ct=Ce.outliercolor;else{var Nt=(qe||{}).width;At=(T.mlw+1||Nt+1||(T.trace?(T.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in T?It=T.mlcc=he.lineScale(T.mlc):t.isArrayOrTypedArray(qe.color)?It=o.defaultLine:It=qe.color,t.isArrayOrTypedArray(Ce.color)&&(Ct=o.defaultLine,ot=!0),"mc"in T?Ct=T.mcc=he.markerScale(T.mc):Ct=Ce.color||Ce.colors||"rgba(0,0,0,0)",he.selectedColorFn&&(Ct=he.selectedColorFn(T))}if(T.om)V.call(o.stroke,Ct).style({"stroke-width":(At||1)+"px",fill:"none"});else{V.style("stroke-width",(T.isBlank?0:At)+"px");var _e=Ce.gradient,De=T.mgt;De?ot=!0:De=_e&&_e.type,t.isArrayOrTypedArray(De)&&(De=De[0],R[De]||(De=0));var je=Ce.pattern,ie=je&&c.getPatternAttr(je.shape,T.i,"");if(De&&De!=="none"){var ve=T.mgc;ve?ot=!0:ve=_e.color;var we=j.uid;ot&&(we+="-"+T.i),c.gradient(V,be,we,De,[[0,ve],[1,Ct]],"fill")}else if(ie){var Se=!1,Ue=je.fgcolor;!Ue&&ke&&ke.color&&(Ue=ke.color,Se=!0);var Le=c.getPatternAttr(Ue,T.i,ke&&ke.color||null),tt=c.getPatternAttr(je.bgcolor,T.i,null),nt=je.fgopacity,ut=c.getPatternAttr(je.size,T.i,8),Ye=c.getPatternAttr(je.solidity,T.i,.3);Se=Se||T.mcc||t.isArrayOrTypedArray(je.shape)||t.isArrayOrTypedArray(je.bgcolor)||t.isArrayOrTypedArray(je.fgcolor)||t.isArrayOrTypedArray(je.size)||t.isArrayOrTypedArray(je.solidity);var st=j.uid;Se&&(st+="-"+T.i),c.pattern(V,"point",be,st,ie,ut,Ye,T.mcc,je.fillmode,tt,Le,nt)}else t.isArrayOrTypedArray(Ct)?o.fill(V,Ct[T.i]):o.fill(V,Ct);At&&o.stroke(V,It)}},c.makePointStyleFns=function(T){var V={},j=T.marker;return V.markerScale=c.tryColorscale(j,""),V.lineScale=c.tryColorscale(j,"line"),a.traceIs(T,"symbols")&&(V.ms2mrc=x.isBubble(T)?y(T):function(){return(j.size||6)/2}),T.selectedpoints&&t.extendFlat(V,c.makeSelectedPointStyleFns(T)),V},c.makeSelectedPointStyleFns=function(T){var V={},j=T.selected||{},he=T.unselected||{},be=T.marker||{},ke=j.marker||{},Ce=he.marker||{},qe=be.opacity,at=ke.opacity,ct=Ce.opacity,vt=at!==void 0,St=ct!==void 0;(t.isArrayOrTypedArray(qe)||vt||St)&&(V.selectedOpacityFn=function(ie){var ve=ie.mo===void 0?be.opacity:ie.mo;return ie.selected?vt?at:ve:St?ct:v*ve});var ot=be.color,Ct=ke.color,It=Ce.color;(Ct||It)&&(V.selectedColorFn=function(ie){var ve=ie.mcc||ot;return ie.selected?Ct||ve:It||ve});var At=be.size,Nt=ke.size,_e=Ce.size,De=Nt!==void 0,je=_e!==void 0;return a.traceIs(T,"symbols")&&(De||je)&&(V.selectedSizeFn=function(ie){var ve=ie.mrc||At/2;return ie.selected?De?Nt/2:ve:je?_e/2:ve}),V},c.makeSelectedTextStyleFns=function(T){var V={},j=T.selected||{},he=T.unselected||{},be=T.textfont||{},ke=j.textfont||{},Ce=he.textfont||{},qe=be.color,at=ke.color,ct=Ce.color;return V.selectedTextColorFn=function(vt){var St=vt.tc||qe;return vt.selected?at||St:ct||(at?St:o.addOpacity(St,v))},V},c.selectedPointStyle=function(T,V){if(!(!T.size()||!V.selectedpoints)){var j=c.makeSelectedPointStyleFns(V),he=V.marker||{},be=[];j.selectedOpacityFn&&be.push(function(ke,Ce){ke.style("opacity",j.selectedOpacityFn(Ce))}),j.selectedColorFn&&be.push(function(ke,Ce){o.fill(ke,j.selectedColorFn(Ce))}),j.selectedSizeFn&&be.push(function(ke,Ce){var qe=Ce.mx||he.symbol||0,at=j.selectedSizeFn(Ce);ke.attr("d",H(c.symbolNumber(qe),at,Ae(Ce,V),$(Ce,V))),Ce.mrc2=at}),be.length&&T.each(function(ke){for(var Ce=i.select(this),qe=0;qe<be.length;qe++)be[qe](Ce,ke)})}},c.tryColorscale=function(T,V){var j=V?t.nestedProperty(T,V).get():T;if(j){var he=j.color;if((j.colorscale||j._colorAx)&&t.isArrayOrTypedArray(he))return s.makeColorScaleFuncFromTrace(j)}return t.identity};var Z={start:1,end:-1,middle:0,bottom:1,top:-1};function G(T,V,j,he,be){var ke=i.select(T.node().parentNode),Ce=V.indexOf("top")!==-1?"top":V.indexOf("bottom")!==-1?"bottom":"middle",qe=V.indexOf("left")!==-1?"end":V.indexOf("right")!==-1?"start":"middle",at=he?he/.8+1:0,ct=(p.lineCount(T)-1)*g+1,vt=Z[qe]*at,St=j*.75+Z[Ce]*at+(Z[Ce]-1)*ct*j/2;T.attr("text-anchor",qe),be||ke.attr("transform",r(vt,St))}function P(T,V){var j=T.ts||V.textfont.size;return n(j)&&j>0?j:0}c.textPointStyle=function(T,V,j){if(T.size()){var he;if(V.selectedpoints){var be=c.makeSelectedTextStyleFns(V);he=be.selectedTextColorFn}var ke=V.texttemplate,Ce=j._fullLayout;T.each(function(qe){var at=i.select(this),ct=ke?t.extractOption(qe,V,"txt","texttemplate"):t.extractOption(qe,V,"tx","text");if(!ct&&ct!==0){at.remove();return}if(ke){var vt=V._module.formatLabels,St=vt?vt(qe,V,Ce):{},ot={};m(ot,V,qe.i);var Ct=V._meta||{};ct=t.texttemplateString(ct,St,Ce._d3locale,ot,qe,Ct)}var It=qe.tp||V.textposition,At=P(qe,V),Nt=he?he(qe):qe.tc||V.textfont.color;at.call(c.font,{family:qe.tf||V.textfont.family,weight:qe.tw||V.textfont.weight,style:qe.ty||V.textfont.style,variant:qe.tv||V.textfont.variant,textcase:qe.tC||V.textfont.textcase,lineposition:qe.tE||V.textfont.lineposition,shadow:qe.tS||V.textfont.shadow,size:At,color:Nt}).text(ct).call(p.convertToTspans,j).call(G,It,At,qe.mrc)})}},c.selectedTextStyle=function(T,V){if(!(!T.size()||!V.selectedpoints)){var j=c.makeSelectedTextStyleFns(V);T.each(function(he){var be=i.select(this),ke=j.selectedTextColorFn(he),Ce=he.tp||V.textposition,qe=P(he,V);o.fill(be,ke);var at=a.traceIs(V,"bar-like");G(be,Ce,qe,he.mrc2||he.mrc,at)})}};var A=.5;c.smoothopen=function(T,V){if(T.length<3)return"M"+T.join("L");var j="M"+T[0],he=[],be;for(be=1;be<T.length-1;be++)he.push(ue(T[be-1],T[be],T[be+1],V));for(j+="Q"+he[0][0]+" "+T[1],be=2;be<T.length-1;be++)j+="C"+he[be-2][1]+" "+he[be-1][0]+" "+T[be];return j+="Q"+he[T.length-3][1]+" "+T[T.length-1],j},c.smoothclosed=function(T,V){if(T.length<3)return"M"+T.join("L")+"Z";var j="M"+T[0],he=T.length-1,be=[ue(T[he],T[0],T[1],V)],ke;for(ke=1;ke<he;ke++)be.push(ue(T[ke-1],T[ke],T[ke+1],V));for(be.push(ue(T[he-1],T[he],T[0],V)),ke=1;ke<=he;ke++)j+="C"+be[ke-1][1]+" "+be[ke][0]+" "+T[ke];return j+="C"+be[he][1]+" "+be[0][0]+" "+T[0]+"Z",j};var O,L;function S(T,V,j){return j&&(T=q(T)),V?W(T[1]):F(T[0])}function F(T){var V=i.round(T,2);return O=V,V}function W(T){var V=i.round(T,2);return L=V,V}function ue(T,V,j,he){var be=T[0]-V[0],ke=T[1]-V[1],Ce=j[0]-V[0],qe=j[1]-V[1],at=Math.pow(be*be+ke*ke,A/2),ct=Math.pow(Ce*Ce+qe*qe,A/2),vt=(ct*ct*be-at*at*Ce)*he,St=(ct*ct*ke-at*at*qe)*he,ot=3*ct*(at+ct),Ct=3*at*(at+ct);return[[F(V[0]+(ot&&vt/ot)),W(V[1]+(ot&&St/ot))],[F(V[0]-(Ct&&vt/Ct)),W(V[1]-(Ct&&St/Ct))]]}var ae={hv:function(T,V,j){return"H"+F(V[0])+"V"+S(V,1,j)},vh:function(T,V,j){return"V"+W(V[1])+"H"+S(V,0,j)},hvh:function(T,V,j){return"H"+F((T[0]+V[0])/2)+"V"+W(V[1])+"H"+S(V,0,j)},vhv:function(T,V,j){return"V"+W((T[1]+V[1])/2)+"H"+F(V[0])+"V"+S(V,1,j)}},se=function(T,V,j){return"L"+S(V,0,j)+","+S(V,1,j)};c.steps=function(T){var V=ae[T]||se;return function(j){for(var he="M"+F(j[0][0])+","+W(j[0][1]),be=j.length,ke=1;ke<be;ke++)he+=V(j[ke-1],j[ke],ke===be-1);return he}};function q(T,V){var j=T.backoff,he=T.trace,be=T.d,ke=T.i;if(j&&he&&he.marker&&he.marker.angle%360===0&&he.line&&he.line.shape!=="spline"){var Ce=t.isArrayOrTypedArray(j),qe=T,at=V?V[0]:O||0,ct=V?V[1]:L||0,vt=qe[0],St=qe[1],ot=vt-at,Ct=St-ct,It=Math.atan2(Ct,ot),At=Ce?j[ke]:j;if(At==="auto"){var Nt=qe.i;he.type==="scatter"&&Nt--;var _e=qe.marker,De=_e.symbol;t.isArrayOrTypedArray(De)&&(De=De[Nt]);var je=_e.size;t.isArrayOrTypedArray(je)&&(je=je[Nt]),At=_e?c.symbolBackOffs[c.symbolNumber(De)]*je:0,At+=c.getMarkerStandoff(be[Nt],he)||0}var ie=vt-At*Math.cos(It),ve=St-At*Math.sin(It);(ie<=vt&&ie>=at||ie>=vt&&ie<=at)&&(ve<=St&&ve>=ct||ve>=St&&ve<=ct)&&(T=[ie,ve])}return T}c.applyBackoff=q,c.makeTester=function(){var T=t.ensureSingleById(i.select("body"),"svg","js-plotly-tester",function(j){j.attr(u.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),V=t.ensureSingle(T,"path","js-reference-point",function(j){j.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=T,c.testref=V},c.savedBBoxes={};var ee=0,B=1e4;c.bBox=function(T,V,j){j||(j=re(T));var he;if(j){if(he=c.savedBBoxes[j],he)return t.extendFlat({},he)}else if(T.childNodes.length===1){var be=T.childNodes[0];if(j=re(be),j){var ke=+be.getAttribute("x")||0,Ce=+be.getAttribute("y")||0,qe=be.getAttribute("transform");if(!qe){var at=c.bBox(be,!1,j);return ke&&(at.left+=ke,at.right+=ke),Ce&&(at.top+=Ce,at.bottom+=Ce),at}if(j+="~"+ke+"~"+Ce+"~"+qe,he=c.savedBBoxes[j],he)return t.extendFlat({},he)}}var ct,vt;V?ct=T:(vt=c.tester.node(),ct=T.cloneNode(!0),vt.appendChild(ct)),i.select(ct).attr("transform",null).call(p.positionText,0,0);var St=ct.getBoundingClientRect(),ot=c.testref.node().getBoundingClientRect();V||vt.removeChild(ct);var Ct={height:St.height,width:St.width,left:St.left-ot.left,top:St.top-ot.top,right:St.right-ot.left,bottom:St.bottom-ot.top};return ee>=B&&(c.savedBBoxes={},ee=0),j&&(c.savedBBoxes[j]=Ct),ee++,t.extendFlat({},Ct)};function re(T){var V=T.getAttribute("data-unformatted");if(V!==null)return V+T.getAttribute("data-math")+T.getAttribute("text-anchor")+T.getAttribute("style")}c.setClipUrl=function(T,V,j){T.attr("clip-path",J(V,j))};function J(T,V){if(!T)return null;var j=V._context,he=j._exportedPlot?"":j._baseUrl||"";return he?"url('"+he+"#"+T+"')":"url(#"+T+")"}c.getTranslate=function(T){var V=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,j=T.attr?"attr":"getAttribute",he=T[j]("transform")||"",be=he.replace(V,function(ke,Ce,qe){return[Ce,qe].join(" ")}).split(" ");return{x:+be[0]||0,y:+be[1]||0}},c.setTranslate=function(T,V,j){var he=/(\btranslate\(.*?\);?)/,be=T.attr?"attr":"getAttribute",ke=T.attr?"attr":"setAttribute",Ce=T[be]("transform")||"";return V=V||0,j=j||0,Ce=Ce.replace(he,"").trim(),Ce+=r(V,j),Ce=Ce.trim(),T[ke]("transform",Ce),Ce},c.getScale=function(T){var V=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,j=T.attr?"attr":"getAttribute",he=T[j]("transform")||"",be=he.replace(V,function(ke,Ce,qe){return[Ce,qe].join(" ")}).split(" ");return{x:+be[0]||1,y:+be[1]||1}},c.setScale=function(T,V,j){var he=/(\bscale\(.*?\);?)/,be=T.attr?"attr":"getAttribute",ke=T.attr?"attr":"setAttribute",Ce=T[be]("transform")||"";return V=V||1,j=j||1,Ce=Ce.replace(he,"").trim(),Ce+="scale("+V+","+j+")",Ce=Ce.trim(),T[ke]("transform",Ce),Ce};var X=/\s*sc.*/;c.setPointGroupScale=function(T,V,j){if(V=V||1,j=j||1,!!T){var he=V===1&&j===1?"":"scale("+V+","+j+")";T.each(function(){var be=(this.getAttribute("transform")||"").replace(X,"");be+=he,be=be.trim(),this.setAttribute("transform",be)})}};var N=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(T,V,j){T&&T.each(function(){var he,be=i.select(this),ke=be.select("text");if(ke.node()){var Ce=parseFloat(ke.attr("x")||0),qe=parseFloat(ke.attr("y")||0),at=(be.attr("transform")||"").match(N);V===1&&j===1?he=[]:he=[r(Ce,qe),"scale("+V+","+j+")",r(-Ce,-qe)],at&&he.push(at),be.attr("transform",he.join(""))}})};function $(T,V){var j;return T&&(j=T.mf),j===void 0&&(j=V.marker&&V.marker.standoff||0),!V._geo&&!V._xA?-j:j}c.getMarkerStandoff=$;var te=Math.atan2,le=Math.cos,pe=Math.sin;function fe(T,V){var j=V[0],he=V[1];return[j*le(T)-he*pe(T),j*pe(T)+he*le(T)]}var ye,Me,He,Ne,ze,Re;function Ae(T,V){var j=T.ma;j===void 0&&(j=V.marker.angle,(!j||t.isArrayOrTypedArray(j))&&(j=0));var he,be,ke=V.marker.angleref;if(ke==="previous"||ke==="north"){if(V._geo){var Ce=V._geo.project(T.lonlat);he=Ce[0],be=Ce[1]}else{var qe=V._xA,at=V._yA;if(qe&&at)he=qe.c2p(T.x),be=at.c2p(T.y);else return 90}if(V._geo){var ct=T.lonlat[0],vt=T.lonlat[1],St=V._geo.project([ct,vt+1e-5]),ot=V._geo.project([ct+1e-5,vt]),Ct=te(ot[1]-be,ot[0]-he),It=te(St[1]-be,St[0]-he),At;if(ke==="north")At=j/180*Math.PI;else if(ke==="previous"){var Nt=ct/180*Math.PI,_e=vt/180*Math.PI,De=ye/180*Math.PI,je=Me/180*Math.PI,ie=De-Nt,ve=le(je)*pe(ie),we=pe(je)*le(_e)-le(je)*pe(_e)*le(ie);At=-te(ve,we)-Math.PI,ye=ct,Me=vt}var Se=fe(Ct,[le(At),0]),Ue=fe(It,[pe(At),0]);j=te(Se[1]+Ue[1],Se[0]+Ue[0])/Math.PI*180,ke==="previous"&&!(Re===V.uid&&T.i===ze+1)&&(j=null)}if(ke==="previous"&&!V._geo)if(Re===V.uid&&T.i===ze+1&&n(he)&&n(be)){var Le=he-He,tt=be-Ne,nt=V.line&&V.line.shape||"",ut=nt.slice(nt.length-1);ut==="h"&&(tt=0),ut==="v"&&(Le=0),j+=te(tt,Le)/Math.PI*180+90}else j=null}return He=he,Ne=be,ze=T.i,Re=V.uid,j}c.getMarkerAngle=Ae}),Ns=xe((E,k)=>{var i=Jn(),t=Bn(),e=Ba(),n=mn(),l=sr(),a=l.strTranslate,o=na(),s=Nn(),r=fi(),p=Tl(),u=ii().OPPOSITE_SIDE,d=/ [XY][0-9]* /,g=1.6,v=1.6;function x(y,m,c){var h=y._fullLayout,b=c.propContainer,_=c.propName,w=c.placeholder,K=c.traceIndex,D=c.avoid||{},I=c.attributes,C=c.transform,H=c.containerGroup,z=1,R=b.title,U=(R&&R.text?R.text:"").trim(),Z=!1,G=R&&R.font?R.font:{},P=G.family,A=G.size,O=G.color,L=G.weight,S=G.style,F=G.variant,W=G.textcase,ue=G.lineposition,ae=G.shadow,se=c.subtitlePropName,q=!!se,ee=c.subtitlePlaceholder,B=(b.title||{}).subtitle||{text:"",font:{}},re=B.text.trim(),J=!1,X=1,N=B.font,$=N.family,te=N.size,le=N.color,pe=N.weight,fe=N.style,ye=N.variant,Me=N.textcase,He=N.lineposition,Ne=N.shadow,ze;_==="title.text"?ze="titleText":_.indexOf("axis")!==-1?ze="axisTitleText":_.indexOf(!0)&&(ze="colorbarTitleText");var Re=y._context.edits[ze];function Ae(ot,Ct){return ot===void 0||Ct===void 0?!1:ot.replace(d," % ")===Ct.replace(d," % ")}U===""?z=0:Ae(U,w)&&(Re||(U=""),z=.2,Z=!0),q&&(re===""?X=0:Ae(re,ee)&&(Re||(re=""),X=.2,J=!0)),c._meta?U=l.templateString(U,c._meta):h._meta&&(U=l.templateString(U,h._meta));var T=U||re||Re,V;H||(H=l.ensureSingle(h._infolayer,"g","g-"+m),V=h._hColorbarMoveTitle);var j=H.selectAll("text."+m).data(T?[0]:[]);j.enter().append("text"),j.text(U).attr("class",m),j.exit().remove();var he=null,be=m+"-subtitle",ke=re||Re;if(q&&ke&&(he=H.selectAll("text."+be).data(ke?[0]:[]),he.enter().append("text"),he.text(re).attr("class",be),he.exit().remove()),!T)return H;function Ce(ot,Ct){l.syncOrAsync([qe,at],{title:ot,subtitle:Ct})}function qe(ot){var Ct=ot.title,It=ot.subtitle,At;!C&&V&&(C={}),C?(At="",C.rotate&&(At+="rotate("+[C.rotate,I.x,I.y]+")"),(C.offset||V)&&(At+=a(0,(C.offset||0)-(V||0)))):At=null,Ct.attr("transform",At);function Nt(we){if(we){var Se=i.select(we.node().parentNode).select("."+be);if(!Se.empty()){var Ue=we.node().getBBox();if(Ue.height){var Le=Ue.y+Ue.height+g*te;Se.attr("y",Le)}}}}if(Ct.style("opacity",z*s.opacity(O)).call(o.font,{color:s.rgb(O),size:i.round(A,2),family:P,weight:L,style:S,variant:F,textcase:W,shadow:ae,lineposition:ue}).attr(I).call(r.convertToTspans,y,Nt),It){var _e=H.select("."+m+"-math-group"),De=Ct.node().getBBox(),je=_e.node()?_e.node().getBBox():void 0,ie=je?je.y+je.height+g*te:De.y+De.height+v*te,ve=l.extendFlat({},I,{y:ie});It.attr("transform",At),It.style("opacity",X*s.opacity(le)).call(o.font,{color:s.rgb(le),size:i.round(te,2),family:$,weight:pe,style:fe,variant:ye,textcase:Me,shadow:Ne,lineposition:He}).attr(ve).call(r.convertToTspans,y)}return e.previousPromises(y)}function at(ot){var Ct=ot.title,It=i.select(Ct.node().parentNode);if(D&&D.selection&&D.side&&U){It.attr("transform",null);var At=u[D.side],Nt=D.side==="left"||D.side==="top"?-1:1,_e=t(D.pad)?D.pad:2,De=o.bBox(It.node()),je={t:0,b:0,l:0,r:0},ie=y._fullLayout._reservedMargin;for(var ve in ie)for(var we in ie[ve]){var Se=ie[ve][we];je[we]=Math.max(je[we],Se)}var Ue={left:je.l,top:je.t,right:h.width-je.r,bottom:h.height-je.b},Le=D.maxShift||Nt*(Ue[D.side]-De[D.side]),tt=0;if(Le<0)tt=Le;else{var nt=D.offsetLeft||0,ut=D.offsetTop||0;De.left-=nt,De.right-=nt,De.top-=ut,De.bottom-=ut,D.selection.each(function(){var st=o.bBox(this);l.bBoxIntersect(De,st,_e)&&(tt=Math.max(tt,Nt*(st[D.side]-De[At])+_e))}),tt=Math.min(Le,tt),b._titleScoot=Math.abs(tt)}if(tt>0||Le<0){var Ye={left:[-tt,0],right:[tt,0],top:[0,-tt],bottom:[0,tt]}[D.side];It.attr("transform",a(Ye[0],Ye[1]))}}}j.call(Ce,he);function ct(ot,Ct){ot.text(Ct).on("mouseover.opacity",function(){i.select(this).transition().duration(p.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){i.select(this).transition().duration(p.HIDE_PLACEHOLDER).style("opacity",0)})}if(Re&&(U?j.on(".opacity",null):(ct(j,w),Z=!0),j.call(r.makeEditable,{gd:y}).on("edit",function(ot){K!==void 0?n.call("_guiRestyle",y,_,ot,K):n.call("_guiRelayout",y,_,ot)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Ce)}).on("input",function(ot){this.text(ot||" ").call(r.positionText,I.x,I.y)}),q)){if(q&&!U){var vt=j.node().getBBox(),St=vt.y+vt.height+v*te;he.attr("y",St)}re?he.on(".opacity",null):(ct(he,ee),J=!0),he.call(r.makeEditable,{gd:y}).on("edit",function(ot){n.call("_guiRelayout",y,"title.subtitle.text",ot)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Ce)}).on("input",function(ot){this.text(ot||" ").call(r.positionText,he.attr("x"),he.attr("y"))})}return j.classed("js-placeholder",Z),he&&he.classed("js-placeholder",J),H}k.exports={draw:x,SUBTITLE_PADDING_EM:v,SUBTITLE_PADDING_MATHJAX_EM:g}}),ic=xe((E,k)=>{var i=Jn(),t=_l().utcFormat,e=sr(),n=e.numberFormat,l=Bn(),a=e.cleanNumber,o=e.ms2DateTime,s=e.dateTime2ms,r=e.ensureNumber,p=e.isArrayOrTypedArray,u=Pa(),d=u.FP_SAFE,g=u.BADNUM,v=u.LOG_CLIP,x=u.ONEWEEK,y=u.ONEDAY,m=u.ONEHOUR,c=u.ONEMIN,h=u.ONESEC,b=Da(),_=Za(),w=_.HOUR_PATTERN,K=_.WEEKDAY_PATTERN;function D(C){return Math.pow(10,C)}function I(C){return C!=null}k.exports=function(C,H){H=H||{};var z=C._id||"x",R=z.charAt(0);function U(B,re){if(B>0)return Math.log(B)/Math.LN10;if(B<=0&&re&&C.range&&C.range.length===2){var J=C.range[0],X=C.range[1];return .5*(J+X-2*v*Math.abs(J-X))}else return g}function Z(B,re,J,X){if((X||{}).msUTC&&l(B))return+B;var N=s(B,J||C.calendar);if(N===g)if(l(B)){B=+B;var $=Math.floor(e.mod(B+.05,1)*10),te=Math.round(B-$/10);N=s(new Date(te))+$/10}else return g;return N}function G(B,re,J){return o(B,re,J||C.calendar)}function P(B){return C._categories[Math.round(B)]}function A(B){if(I(B)){if(C._categoriesMap===void 0&&(C._categoriesMap={}),C._categoriesMap[B]!==void 0)return C._categoriesMap[B];C._categories.push(typeof B=="number"?String(B):B);var re=C._categories.length-1;return C._categoriesMap[B]=re,re}return g}function O(B,re){for(var J=new Array(re),X=0;X<re;X++){var N=(B[0]||[])[X],$=(B[1]||[])[X];J[X]=L([N,$])}return J}function L(B){if(C._categoriesMap)return C._categoriesMap[B]}function S(B){var re=L(B);if(re!==void 0)return re;if(l(B))return+B}function F(B){return l(B)?+B:L(B)}function W(B,re,J){return i.round(J+re*B,2)}function ue(B,re,J){return(B-J)/re}var ae=function(B){return l(B)?W(B,C._m,C._b):g},se=function(B){return ue(B,C._m,C._b)};if(C.rangebreaks){var q=R==="y";ae=function(B){if(!l(B))return g;var re=C._rangebreaks.length;if(!re)return W(B,C._m,C._b);var J=q;C.range[0]>C.range[1]&&(J=!J);for(var X=J?-1:1,N=X*B,$=0,te=0;te<re;te++){var le=X*C._rangebreaks[te].min,pe=X*C._rangebreaks[te].max;if(N<le)break;if(N>pe)$=te+1;else{$=N<(le+pe)/2?te:te+1;break}}var fe=C._B[$]||0;return isFinite(fe)?W(B,C._m2,fe):0},se=function(B){var re=C._rangebreaks.length;if(!re)return ue(B,C._m,C._b);for(var J=0,X=0;X<re&&!(B<C._rangebreaks[X].pmin);X++)B>C._rangebreaks[X].pmax&&(J=X+1);return ue(B,C._m2,C._B[J])}}C.c2l=C.type==="log"?U:r,C.l2c=C.type==="log"?D:r,C.l2p=ae,C.p2l=se,C.c2p=C.type==="log"?function(B,re){return ae(U(B,re))}:ae,C.p2c=C.type==="log"?function(B){return D(se(B))}:se,["linear","-"].indexOf(C.type)!==-1?(C.d2r=C.r2d=C.d2c=C.r2c=C.d2l=C.r2l=a,C.c2d=C.c2r=C.l2d=C.l2r=r,C.d2p=C.r2p=function(B){return C.l2p(a(B))},C.p2d=C.p2r=se,C.cleanPos=r):C.type==="log"?(C.d2r=C.d2l=function(B,re){return U(a(B),re)},C.r2d=C.r2c=function(B){return D(a(B))},C.d2c=C.r2l=a,C.c2d=C.l2r=r,C.c2r=U,C.l2d=D,C.d2p=function(B,re){return C.l2p(C.d2r(B,re))},C.p2d=function(B){return D(se(B))},C.r2p=function(B){return C.l2p(a(B))},C.p2r=se,C.cleanPos=r):C.type==="date"?(C.d2r=C.r2d=e.identity,C.d2c=C.r2c=C.d2l=C.r2l=Z,C.c2d=C.c2r=C.l2d=C.l2r=G,C.d2p=C.r2p=function(B,re,J){return C.l2p(Z(B,0,J))},C.p2d=C.p2r=function(B,re,J){return G(se(B),re,J)},C.cleanPos=function(B){return e.cleanDate(B,g,C.calendar)}):C.type==="category"?(C.d2c=C.d2l=A,C.r2d=C.c2d=C.l2d=P,C.d2r=C.d2l_noadd=S,C.r2c=function(B){var re=F(B);return re!==void 0?re:C.fraction2r(.5)},C.l2r=C.c2r=r,C.r2l=F,C.d2p=function(B){return C.l2p(C.r2c(B))},C.p2d=function(B){return P(se(B))},C.r2p=C.d2p,C.p2r=se,C.cleanPos=function(B){return typeof B=="string"&&B!==""?B:r(B)}):C.type==="multicategory"&&(C.r2d=C.c2d=C.l2d=P,C.d2r=C.d2l_noadd=S,C.r2c=function(B){var re=S(B);return re!==void 0?re:C.fraction2r(.5)},C.r2c_just_indices=L,C.l2r=C.c2r=r,C.r2l=S,C.d2p=function(B){return C.l2p(C.r2c(B))},C.p2d=function(B){return P(se(B))},C.r2p=C.d2p,C.p2r=se,C.cleanPos=function(B){return Array.isArray(B)||typeof B=="string"&&B!==""?B:r(B)},C.setupMultiCategory=function(B){var re=C._traceIndices,J,X,N=C._matchGroup;if(N&&C._categories.length===0){for(var $ in N)if($!==z){var te=H[b.id2name($)];re=re.concat(te._traceIndices)}}var le=[[0,{}],[0,{}]],pe=[];for(J=0;J<re.length;J++){var fe=B[re[J]];if(R in fe){var ye=fe[R],Me=fe._length||e.minRowLength(ye);if(p(ye[0])&&p(ye[1]))for(X=0;X<Me;X++){var He=ye[0][X],Ne=ye[1][X];I(He)&&I(Ne)&&(pe.push([He,Ne]),He in le[0][1]||(le[0][1][He]=le[0][0]++),Ne in le[1][1]||(le[1][1][Ne]=le[1][0]++))}}}for(pe.sort(function(ze,Re){var Ae=le[0][1],T=Ae[ze[0]]-Ae[Re[0]];if(T)return T;var V=le[1][1];return V[ze[1]]-V[Re[1]]}),J=0;J<pe.length;J++)A(pe[J])}),C.fraction2r=function(B){var re=C.r2l(C.range[0]),J=C.r2l(C.range[1]);return C.l2r(re+B*(J-re))},C.r2fraction=function(B){var re=C.r2l(C.range[0]),J=C.r2l(C.range[1]);return(C.r2l(B)-re)/(J-re)},C.limitRange=function(B){var re=C.minallowed,J=C.maxallowed;if(!(re===void 0&&J===void 0)){B||(B="range");var X=e.nestedProperty(C,B).get(),N=e.simpleMap(X,C.r2l),$=N[1]<N[0];$&&N.reverse();var te=e.simpleMap([re,J],C.r2l);if(re!==void 0&&N[0]<te[0]&&(X[$?1:0]=re),J!==void 0&&N[1]>te[1]&&(X[$?0:1]=J),X[0]===X[1]){var le=C.l2r(re),pe=C.l2r(J);if(re!==void 0){var fe=le+1;J!==void 0&&(fe=Math.min(fe,pe)),X[$?1:0]=fe}if(J!==void 0){var ye=pe+1;re!==void 0&&(ye=Math.max(ye,le)),X[$?0:1]=ye}}}},C.cleanRange=function(B,re){C._cleanRange(B,re),C.limitRange(B)},C._cleanRange=function(B,re){re||(re={}),B||(B="range");var J=e.nestedProperty(C,B).get(),X,N;if(C.type==="date"?N=e.dfltRange(C.calendar):R==="y"?N=_.DFLTRANGEY:C._name==="realaxis"?N=[0,1]:N=re.dfltRange||_.DFLTRANGEX,N=N.slice(),(C.rangemode==="tozero"||C.rangemode==="nonnegative")&&(N[0]=0),!J||J.length!==2){e.nestedProperty(C,B).set(N);return}var $=J[0]===null,te=J[1]===null;for(C.type==="date"&&!C.autorange&&(J[0]=e.cleanDate(J[0],g,C.calendar),J[1]=e.cleanDate(J[1],g,C.calendar)),X=0;X<2;X++)if(C.type==="date"){if(!e.isDateTime(J[X],C.calendar)){C[B]=N;break}if(C.r2l(J[0])===C.r2l(J[1])){var le=e.constrain(C.r2l(J[0]),e.MIN_MS+1e3,e.MAX_MS-1e3);J[0]=C.l2r(le-1e3),J[1]=C.l2r(le+1e3);break}}else{if(!l(J[X]))if(!($||te)&&l(J[1-X]))J[X]=J[1-X]*(X?10:.1);else{C[B]=N;break}if(J[X]<-d?J[X]=-d:J[X]>d&&(J[X]=d),J[0]===J[1]){var pe=Math.max(1,Math.abs(J[0]*1e-6));J[0]-=pe,J[1]+=pe}}},C.setScale=function(B){var re=H._size;if(C.overlaying){var J=b.getFromId({_fullLayout:H},C.overlaying);C.domain=J.domain}var X=B&&C._r?"_r":"range",N=C.calendar;C.cleanRange(X);var $=C.r2l(C[X][0],N),te=C.r2l(C[X][1],N),le=R==="y";if(le?(C._offset=re.t+(1-C.domain[1])*re.h,C._length=re.h*(C.domain[1]-C.domain[0]),C._m=C._length/($-te),C._b=-C._m*te):(C._offset=re.l+C.domain[0]*re.w,C._length=re.w*(C.domain[1]-C.domain[0]),C._m=C._length/(te-$),C._b=-C._m*$),C._rangebreaks=[],C._lBreaks=0,C._m2=0,C._B=[],C.rangebreaks){var pe,fe;if(C._rangebreaks=C.locateBreaks(Math.min($,te),Math.max($,te)),C._rangebreaks.length){for(pe=0;pe<C._rangebreaks.length;pe++)fe=C._rangebreaks[pe],C._lBreaks+=Math.abs(fe.max-fe.min);var ye=le;$>te&&(ye=!ye),ye&&C._rangebreaks.reverse();var Me=ye?-1:1;for(C._m2=Me*C._length/(Math.abs(te-$)-C._lBreaks),C._B.push(-C._m2*(le?te:$)),pe=0;pe<C._rangebreaks.length;pe++)fe=C._rangebreaks[pe],C._B.push(C._B[C._B.length-1]-Me*C._m2*(fe.max-fe.min));for(pe=0;pe<C._rangebreaks.length;pe++)fe=C._rangebreaks[pe],fe.pmin=ae(fe.min),fe.pmax=ae(fe.max)}}if(!isFinite(C._m)||!isFinite(C._b)||C._length<0)throw H._replotting=!1,new Error("Something went wrong with axis scaling")},C.maskBreaks=function(B){var re=C.rangebreaks||[],J,X,N,$,te;re._cachedPatterns||(re._cachedPatterns=re.map(function(Ae){return Ae.enabled&&Ae.bounds?e.simpleMap(Ae.bounds,Ae.pattern?a:C.d2c):null})),re._cachedValues||(re._cachedValues=re.map(function(Ae){return Ae.enabled&&Ae.values?e.simpleMap(Ae.values,C.d2c).sort(e.sorterAsc):null}));for(var le=0;le<re.length;le++){var pe=re[le];if(pe.enabled){if(pe.bounds){var fe=pe.pattern;switch(J=re._cachedPatterns[le],X=J[0],N=J[1],fe){case K:te=new Date(B),$=te.getUTCDay(),X>N&&(N+=7,$<X&&($+=7));break;case w:te=new Date(B);var ye=te.getUTCHours(),Me=te.getUTCMinutes(),He=te.getUTCSeconds(),Ne=te.getUTCMilliseconds();$=ye+(Me/60+He/3600+Ne/36e5),X>N&&(N+=24,$<X&&($+=24));break;case"":$=B;break}if($>=X&&$<N)return g}else for(var ze=re._cachedValues[le],Re=0;Re<ze.length;Re++)if(X=ze[Re],N=X+pe.dvalue,B>=X&&B<N)return g}}return B},C.locateBreaks=function(B,re){var J,X,N,$,te=[];if(!C.rangebreaks)return te;var le=C.rangebreaks.slice().sort(function(V,j){return V.pattern===K&&j.pattern===w?-1:j.pattern===K&&V.pattern===w?1:0}),pe=function(V,j){if(V=e.constrain(V,B,re),j=e.constrain(j,B,re),V!==j){for(var he=!0,be=0;be<te.length;be++){var ke=te[be];V<ke.max&&j>=ke.min&&(V<ke.min&&(ke.min=V),j>ke.max&&(ke.max=j),he=!1)}he&&te.push({min:V,max:j})}};for(J=0;J<le.length;J++){var fe=le[J];if(fe.enabled)if(fe.bounds){var ye=B,Me=re;fe.pattern&&(ye=Math.floor(ye)),X=e.simpleMap(fe.bounds,fe.pattern?a:C.r2l),N=X[0],$=X[1];var He=new Date(ye),Ne,ze;switch(fe.pattern){case K:ze=x,Ne=(($<N?7:0)+($-N))*y,ye+=N*y-(He.getUTCDay()*y+He.getUTCHours()*m+He.getUTCMinutes()*c+He.getUTCSeconds()*h+He.getUTCMilliseconds());break;case w:ze=y,Ne=(($<N?24:0)+($-N))*m,ye+=N*m-(He.getUTCHours()*m+He.getUTCMinutes()*c+He.getUTCSeconds()*h+He.getUTCMilliseconds());break;default:ye=Math.min(X[0],X[1]),Me=Math.max(X[0],X[1]),ze=Me-ye,Ne=ze}for(var Re=ye;Re<Me;Re+=ze)pe(Re,Re+Ne)}else for(var Ae=e.simpleMap(fe.values,C.d2c),T=0;T<Ae.length;T++)N=Ae[T],$=N+fe.dvalue,pe(N,$)}return te.sort(function(V,j){return V.min-j.min}),te},C.makeCalcdata=function(B,re,J){var X,N,$,te,le=C.type,pe=le==="date"&&B[re+"calendar"];if(re in B){if(X=B[re],te=B._length||e.minRowLength(X),e.isTypedArray(X)&&(le==="linear"||le==="log")){if(te===X.length)return X;if(X.subarray)return X.subarray(0,te)}if(le==="multicategory")return O(X,te);for(N=new Array(te),$=0;$<te;$++)N[$]=C.d2c(X[$],0,pe,J)}else{var fe=re+"0"in B?C.d2c(B[re+"0"],0,pe):0,ye=B["d"+re]?Number(B["d"+re]):1;for(X=B[{x:"y",y:"x"}[re]],te=B._length||X.length,N=new Array(te),$=0;$<te;$++)N[$]=fe+$*ye}if(C.rangebreaks)for($=0;$<te;$++)N[$]=C.maskBreaks(N[$]);return N},C.isValidRange=function(B,re){return Array.isArray(B)&&B.length===2&&(re&&B[0]===null||l(C.r2l(B[0])))&&(re&&B[1]===null||l(C.r2l(B[1])))},C.getAutorangeDflt=function(B,re){var J=!C.isValidRange(B,"nullOk");return J&&re&&re.reverseDflt?J="reversed":B&&(B[0]===null&&B[1]===null?J=!0:B[0]===null&&B[1]!==null?J="min":B[0]!==null&&B[1]===null&&(J="max")),J},C.isReversed=function(){var B=C.autorange;return B==="reversed"||B==="min reversed"||B==="max reversed"},C.isPtWithinRange=function(B,re){var J=C.c2l(B[R],null,re),X=C.r2l(C.range[0]),N=C.r2l(C.range[1]);return X<N?X<=J&&J<=N:N<=J&&J<=X},C._emptyCategories=function(){C._categories=[],C._categoriesMap={}},C.clearCalc=function(){var B=C._matchGroup;if(B){var re=null,J=null;for(var X in B){var N=H[b.id2name(X)];if(N._categories){re=N._categories,J=N._categoriesMap;break}}re&&J?(C._categories=re,C._categoriesMap=J):C._emptyCategories()}else C._emptyCategories();if(C._initialCategories)for(var $=0;$<C._initialCategories.length;$++)A(C._initialCategories[$])},C.sortByInitialCategories=function(){var B=[];if(C._emptyCategories(),C._initialCategories)for(var re=0;re<C._initialCategories.length;re++)A(C._initialCategories[re]);B=B.concat(C._traceIndices);var J=C._matchGroup;for(var X in J)if(z!==X){var N=H[b.id2name(X)];N._categories=C._categories,N._categoriesMap=C._categoriesMap,B=B.concat(N._traceIndices)}return B};var ee=H._d3locale;C.type==="date"&&(C._dateFormat=ee?ee.timeFormat:t,C._extraFormat=H._extraFormat),C._separators=H.separators,C._numFormat=ee?ee.numberFormat:n,delete C._minDtick,delete C._forceTick0}}),Bf=xe((E,k)=>{var i=Bn(),t=sr(),e=Pa().BADNUM,n=t.isArrayOrTypedArray,l=t.isDateTime,a=t.cleanNumber,o=Math.round;k.exports=function(v,x,y){var m=v,c=y.noMultiCategory;if(n(m)&&!m.length)return"-";if(!c&&g(m))return"multicategory";if(c&&Array.isArray(m[0])){for(var h=[],b=0;b<m.length;b++)if(n(m[b]))for(var _=0;_<m[b].length;_++)h.push(m[b][_]);m=h}if(p(m,x))return"date";var w=y.autotypenumbers!=="strict";return d(m,w)?"category":r(m,w)?"linear":"-"};function s(v,x){return x?i(v):typeof v=="number"}function r(v,x){for(var y=v.length,m=0;m<y;m++)if(s(v[m],x))return!0;return!1}function p(v,x){for(var y=v.length,m=u(y),c=0,h=0,b={},_=0;_<y;_+=m){var w=o(_),K=v[w],D=String(K);b[D]||(b[D]=1,l(K,x)&&c++,i(K)&&h++)}return c>h*2}function u(v){return Math.max(1,(v-1)/1e3)}function d(v,x){for(var y=v.length,m=u(y),c=0,h=0,b={},_=0;_<y;_+=m){var w=o(_),K=v[w],D=String(K);if(!b[D]){b[D]=1;var I=typeof K;I==="boolean"?h++:(x?a(K)!==e:I==="number")?c++:I==="string"&&h++}}return h>c*2}function g(v){return n(v[0])&&n(v[1])}}),Ol=xe((E,k)=>{var i=Jn(),t=Bn(),e=sr(),n=Pa().FP_SAFE,l=mn(),a=na(),o=Da(),s=o.getFromId,r=o.isLinked;k.exports={applyAutorangeOptions:H,getAutoRange:p,makePadFn:d,doAutoRange:y,findExtremes:m,concatExtremes:x};function p(z,R){var U,Z,G=[],P=z._fullLayout,A=d(P,R,0),O=d(P,R,1),L=x(z,R),S=L.min,F=L.max;if(S.length===0||F.length===0)return e.simpleMap(R.range,R.r2l);var W=S[0].val,ue=F[0].val;for(U=1;U<S.length&&W===ue;U++)W=Math.min(W,S[U].val);for(U=1;U<F.length&&W===ue;U++)ue=Math.max(ue,F[U].val);var ae=R.autorange,se=ae==="reversed"||ae==="min reversed"||ae==="max reversed";if(!se&&R.range){var q=e.simpleMap(R.range,R.r2l);se=q[1]<q[0]}R.autorange==="reversed"&&(R.autorange=!0);var ee=R.rangemode,B=ee==="tozero",re=ee==="nonnegative",J=R._length,X=J/10,N=0,$,te,le,pe,fe,ye;for(U=0;U<S.length;U++)for($=S[U],Z=0;Z<F.length;Z++)te=F[Z],ye=te.val-$.val-u(R,$.val,te.val),ye>0&&(fe=J-A($)-O(te),fe>X?ye/fe>N&&(le=$,pe=te,N=ye/fe):ye/J>N&&(le={val:$.val,nopad:1},pe={val:te.val,nopad:1},N=ye/J));function Me(Ae,T){return Math.max(Ae,O(T))}if(W===ue){var He=W-1,Ne=W+1;if(B)if(W===0)G=[0,1];else{var ze=(W>0?F:S).reduce(Me,0),Re=W/(1-Math.min(.5,ze/J));G=W>0?[0,Re]:[Re,0]}else re?G=[Math.max(0,He),Math.max(1,Ne)]:G=[He,Ne]}else B?(le.val>=0&&(le={val:0,nopad:1}),pe.val<=0&&(pe={val:0,nopad:1})):re&&(le.val-N*A(le)<0&&(le={val:0,nopad:1}),pe.val<=0&&(pe={val:1,nopad:1})),N=(pe.val-le.val-u(R,$.val,te.val))/(J-A(le)-O(pe)),G=[le.val-N*A(le),pe.val+N*O(pe)];return G=H(G,R),R.limitRange&&R.limitRange(),se&&G.reverse(),e.simpleMap(G,R.l2r||Number)}function u(z,R,U){var Z=0;if(z.rangebreaks)for(var G=z.locateBreaks(R,U),P=0;P<G.length;P++){var A=G[P];Z+=A.max-A.min}return Z}function d(z,R,U){var Z=.05*R._length,G=R._anchorAxis||{};if((R.ticklabelposition||"").indexOf("inside")!==-1||(G.ticklabelposition||"").indexOf("inside")!==-1){var P=R.isReversed();if(!P){var A=e.simpleMap(R.range,R.r2l);P=A[1]<A[0]}P&&(U=!U)}var O=0;return r(z,R._id)||(O=v(z,R,U)),Z=Math.max(O,Z),R.constrain==="domain"&&R._inputDomain&&(Z*=(R._inputDomain[1]-R._inputDomain[0])/(R.domain[1]-R.domain[0])),function(L){return L.nopad?0:L.pad+(L.extrapad?Z:O)}}var g=3;function v(z,R,U){var Z=0,G=R._id.charAt(0)==="x";for(var P in z._plots){var A=z._plots[P];if(!(R._id!==A.xaxis._id&&R._id!==A.yaxis._id)){var O=(G?A.yaxis:A.xaxis)||{};if((O.ticklabelposition||"").indexOf("inside")!==-1&&(!U&&(O.side==="left"||O.side==="bottom")||U&&(O.side==="top"||O.side==="right"))){if(O._vals){var L=e.deg2rad(O._tickAngles[O._id+"tick"]||0),S=Math.abs(Math.cos(L)),F=Math.abs(Math.sin(L));if(!O._vals[0].bb){var W=O._id+"tick",ue=O._selections[W];ue.each(function(re){var J=i.select(this),X=J.select(".text-math-group");X.empty()&&(re.bb=a.bBox(J.node()))})}for(var ae=0;ae<O._vals.length;ae++){var se=O._vals[ae],q=se.bb;if(q){var ee=2*g+q.width,B=2*g+q.height;Z=Math.max(Z,G?Math.max(ee*S,B*F):Math.max(B*S,ee*F))}}}O.ticks==="inside"&&O.ticklabelposition==="inside"&&(Z+=O.ticklen||0)}}}return Z}function x(z,R,U){var Z=R._id,G=z._fullData,P=z._fullLayout,A=[],O=[],L,S,F;function W(ee,B){for(L=0;L<B.length;L++){var re=ee[B[L]],J=(re._extremes||{})[Z];if(re.visible===!0&&J){for(S=0;S<J.min.length;S++)F=J.min[S],c(A,F.val,F.pad,{extrapad:F.extrapad});for(S=0;S<J.max.length;S++)F=J.max[S],h(O,F.val,F.pad,{extrapad:F.extrapad})}}}if(W(G,R._traceIndices),W(P.annotations||[],R._annIndices||[]),W(P.shapes||[],R._shapeIndices||[]),R._matchGroup&&!U){for(var ue in R._matchGroup)if(ue!==R._id){var ae=s(z,ue),se=x(z,ae,!0),q=R._length/ae._length;for(S=0;S<se.min.length;S++)F=se.min[S],c(A,F.val,F.pad*q,{extrapad:F.extrapad});for(S=0;S<se.max.length;S++)F=se.max[S],h(O,F.val,F.pad*q,{extrapad:F.extrapad})}}return{min:A,max:O}}function y(z,R,U){if(R.setScale(),R.autorange){R.range=U?U.slice():p(z,R),R._r=R.range.slice(),R._rl=e.simpleMap(R._r,R.r2l);var Z=R._input,G={};G[R._attr+".range"]=R.range,G[R._attr+".autorange"]=R.autorange,l.call("_storeDirectGUIEdit",z.layout,z._fullLayout._preGUI,G),Z.range=R.range.slice(),Z.autorange=R.autorange}var P=R._anchorAxis;if(P&&P.rangeslider){var A=P.rangeslider[R._name];A&&A.rangemode==="auto"&&(A.range=p(z,R)),P._input.rangeslider[R._name]=e.extendFlat({},A)}}function m(z,R,U){U||(U={}),z._m||z.setScale();var Z=[],G=[],P=R.length,A=U.padded||!1,O=U.tozero&&(z.type==="linear"||z.type==="-"),L=z.type==="log",S=!1,F=U.vpadLinearized||!1,W,ue,ae,se,q,ee,B,re,J;function X(Me){if(Array.isArray(Me))return S=!0,function(Ne){return Math.max(Number(Me[Ne]||0),0)};var He=Math.max(Number(Me||0),0);return function(){return He}}var N=X((z._m>0?U.ppadplus:U.ppadminus)||U.ppad||0),$=X((z._m>0?U.ppadminus:U.ppadplus)||U.ppad||0),te=X(U.vpadplus||U.vpad),le=X(U.vpadminus||U.vpad);if(!S){if(re=1/0,J=-1/0,L)for(W=0;W<P;W++)ue=R[W],ue<re&&ue>0&&(re=ue),ue>J&&ue<n&&(J=ue);else for(W=0;W<P;W++)ue=R[W],ue<re&&ue>-n&&(re=ue),ue>J&&ue<n&&(J=ue);R=[re,J],P=2}var pe={tozero:O,extrapad:A};function fe(Me){ae=R[Me],t(ae)&&(ee=N(Me),B=$(Me),F?(se=z.c2l(ae)-le(Me),q=z.c2l(ae)+te(Me)):(re=ae-le(Me),J=ae+te(Me),L&&re<J/10&&(re=J/10),se=z.c2l(re),q=z.c2l(J)),O&&(se=Math.min(0,se),q=Math.max(0,q)),_(se)&&c(Z,se,B,pe),_(q)&&h(G,q,ee,pe))}var ye=Math.min(6,P);for(W=0;W<ye;W++)fe(W);for(W=P-1;W>=ye;W--)fe(W);return{min:Z,max:G,opts:U}}function c(z,R,U,Z){b(z,R,U,Z,w)}function h(z,R,U,Z){b(z,R,U,Z,K)}function b(z,R,U,Z,G){for(var P=Z.tozero,A=Z.extrapad,O=!0,L=0;L<z.length&&O;L++){var S=z[L];if(G(S.val,R)&&S.pad>=U&&(S.extrapad||!A)){O=!1;break}else G(R,S.val)&&S.pad<=U&&(A||!S.extrapad)&&(z.splice(L,1),L--)}if(O){var F=P&&R===0;z.push({val:R,pad:F?0:U,extrapad:F?!1:A})}}function _(z){return t(z)&&Math.abs(z)<n}function w(z,R){return z<=R}function K(z,R){return z>=R}function D(z,R){var U=R.autorangeoptions;return U&&U.minallowed!==void 0&&C(R,U.minallowed,U.maxallowed)?U.minallowed:U&&U.clipmin!==void 0&&C(R,U.clipmin,U.clipmax)?Math.max(z,R.d2l(U.clipmin)):z}function I(z,R){var U=R.autorangeoptions;return U&&U.maxallowed!==void 0&&C(R,U.minallowed,U.maxallowed)?U.maxallowed:U&&U.clipmax!==void 0&&C(R,U.clipmin,U.clipmax)?Math.min(z,R.d2l(U.clipmax)):z}function C(z,R,U){return R!==void 0&&U!==void 0?(R=z.d2l(R),U=z.d2l(U),R<U):!0}function H(z,R){if(!R||!R.autorangeoptions)return z;var U=z[0],Z=z[1],G=R.autorangeoptions.include;if(G!==void 0){var P=R.d2l(U),A=R.d2l(Z);e.isArrayOrTypedArray(G)||(G=[G]);for(var O=0;O<G.length;O++){var L=R.d2l(G[O]);P>=L&&(P=L,U=L),A<=L&&(A=L,Z=L)}}return U=D(U,R),Z=I(Z,R),[U,Z]}}),Ma=xe((E,k)=>{var i=Jn(),t=Bn(),e=Ba(),n=mn(),l=sr(),a=l.strTranslate,o=fi(),s=Ns(),r=Nn(),p=na(),u=Ei(),d=Df(),g=Pa(),v=g.ONEMAXYEAR,x=g.ONEAVGYEAR,y=g.ONEMINYEAR,m=g.ONEMAXQUARTER,c=g.ONEAVGQUARTER,h=g.ONEMINQUARTER,b=g.ONEMAXMONTH,_=g.ONEAVGMONTH,w=g.ONEMINMONTH,K=g.ONEWEEK,D=g.ONEDAY,I=D/2,C=g.ONEHOUR,H=g.ONEMIN,z=g.ONESEC,R=g.ONEMILLI,U=g.ONEMICROSEC,Z=g.MINUS_SIGN,G=g.BADNUM,P={K:"zeroline"},A={K:"gridline",L:"path"},O={K:"minor-gridline",L:"path"},L={K:"tick",L:"path"},S={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},W=ii(),ue=W.MID_SHIFT,ae=W.CAP_SHIFT,se=W.LINE_SPACING,q=W.OPPOSITE_SIDE,ee=3,B=k.exports={};B.setConvert=ic();var re=Bf(),J=Da(),X=J.idSort,N=J.isLinked;B.id2name=J.id2name,B.name2id=J.name2id,B.cleanId=J.cleanId,B.list=J.list,B.listIds=J.listIds,B.getFromId=J.getFromId,B.getFromTrace=J.getFromTrace;var $=Ol();B.getAutoRange=$.getAutoRange,B.findExtremes=$.findExtremes;var te=1e-4;function le(oe){var de=(oe[1]-oe[0])*te;return[oe[0]-de,oe[1]+de]}B.coerceRef=function(oe,de,Ge,We,Pe,Ie){var Ve=We.charAt(We.length-1),Ze=Ge._fullLayout._subplots[Ve+"axis"],Be=We+"ref",Je={};return Pe||(Pe=Ze[0]||(typeof Ie=="string"?Ie:Ie[0])),Ie||(Ie=Pe),Ze=Ze.concat(Ze.map(function(Xe){return Xe+" domain"})),Je[Be]={valType:"enumerated",values:Ze.concat(Ie?typeof Ie=="string"?[Ie]:Ie:[]),dflt:Pe},l.coerce(oe,de,Je,Be)},B.getRefType=function(oe){return oe===void 0?oe:oe==="paper"?"paper":oe==="pixel"?"pixel":/( domain)$/.test(oe)?"domain":"range"},B.coercePosition=function(oe,de,Ge,We,Pe,Ie){var Ve,Ze,Be=B.getRefType(We);if(Be!=="range")Ve=l.ensureNumber,Ze=Ge(Pe,Ie);else{var Je=B.getFromId(de,We);Ie=Je.fraction2r(Ie),Ze=Ge(Pe,Ie),Ve=Je.cleanPos}oe[Pe]=Ve(Ze)},B.cleanPosition=function(oe,de,Ge){var We=Ge==="paper"||Ge==="pixel"?l.ensureNumber:B.getFromId(de,Ge).cleanPos;return We(oe)},B.redrawComponents=function(oe,de){de=de||B.listIds(oe);var Ge=oe._fullLayout;function We(Pe,Ie,Ve,Ze){for(var Be=n.getComponentMethod(Pe,Ie),Je={},Xe=0;Xe<de.length;Xe++)for(var rt=Ge[B.id2name(de[Xe])],kt=rt[Ve],Dt=0;Dt<kt.length;Dt++){var Rt=kt[Dt];if(!Je[Rt]&&(Be(oe,Rt),Je[Rt]=1,Ze))return}}We("annotations","drawOne","_annIndices"),We("shapes","drawOne","_shapeIndices"),We("images","draw","_imgIndices",!0),We("selections","drawOne","_selectionIndices")};var pe=B.getDataConversions=function(oe,de,Ge,We){var Pe,Ie=Ge==="x"||Ge==="y"||Ge==="z"?Ge:We;if(l.isArrayOrTypedArray(Ie)){if(Pe={type:re(We,void 0,{autotypenumbers:oe._fullLayout.autotypenumbers}),_categories:[]},B.setConvert(Pe),Pe.type==="category")for(var Ve=0;Ve<We.length;Ve++)Pe.d2c(We[Ve])}else Pe=B.getFromTrace(oe,de,Ie);return Pe?{d2c:Pe.d2c,c2d:Pe.c2d}:Ie==="ids"?{d2c:ye,c2d:ye}:{d2c:fe,c2d:fe}};function fe(oe){return+oe}function ye(oe){return String(oe)}B.getDataToCoordFunc=function(oe,de,Ge,We){return pe(oe,de,Ge,We).d2c},B.counterLetter=function(oe){var de=oe.charAt(0);if(de==="x")return"y";if(de==="y")return"x"},B.minDtick=function(oe,de,Ge,We){["log","category","multicategory"].indexOf(oe.type)!==-1||!We?oe._minDtick=0:oe._minDtick===void 0?(oe._minDtick=de,oe._forceTick0=Ge):oe._minDtick&&((oe._minDtick/de+1e-6)%1<2e-6&&((Ge-oe._forceTick0)/de%1+1.000001)%1<2e-6?(oe._minDtick=de,oe._forceTick0=Ge):((de/oe._minDtick+1e-6)%1>2e-6||((Ge-oe._forceTick0)/oe._minDtick%1+1.000001)%1>2e-6)&&(oe._minDtick=0))},B.saveRangeInitial=function(oe,de){for(var Ge=B.list(oe,"",!0),We=!1,Pe=0;Pe<Ge.length;Pe++){var Ie=Ge[Pe],Ve=Ie._rangeInitial0===void 0&&Ie._rangeInitial1===void 0,Ze=Ve||Ie.range[0]!==Ie._rangeInitial0||Ie.range[1]!==Ie._rangeInitial1,Be=Ie.autorange;(Ve&&Be!==!0||de&&Ze)&&(Ie._rangeInitial0=Be==="min"||Be==="max reversed"?void 0:Ie.range[0],Ie._rangeInitial1=Be==="max"||Be==="min reversed"?void 0:Ie.range[1],Ie._autorangeInitial=Be,We=!0)}return We},B.saveShowSpikeInitial=function(oe,de){for(var Ge=B.list(oe,"",!0),We=!1,Pe="on",Ie=0;Ie<Ge.length;Ie++){var Ve=Ge[Ie],Ze=Ve._showSpikeInitial===void 0,Be=Ze||Ve.showspikes!==Ve._showspikes;(Ze||de&&Be)&&(Ve._showSpikeInitial=Ve.showspikes,We=!0),Pe==="on"&&!Ve.showspikes&&(Pe="off")}return oe._fullLayout._cartesianSpikesEnabled=Pe,We},B.autoBin=function(oe,de,Ge,We,Pe,Ie){var Ve=l.aggNums(Math.min,null,oe),Ze=l.aggNums(Math.max,null,oe);if(de.type==="category"||de.type==="multicategory")return{start:Ve-.5,end:Ze+.5,size:Math.max(1,Math.round(Ie)||1),_dataSpan:Ze-Ve};Pe||(Pe=de.calendar);var Be;if(de.type==="log"?Be={type:"linear",range:[Ve,Ze]}:Be={type:de.type,range:l.simpleMap([Ve,Ze],de.c2r,0,Pe),calendar:Pe},B.setConvert(Be),Ie=Ie&&d.dtick(Ie,Be.type),Ie)Be.dtick=Ie,Be.tick0=d.tick0(void 0,Be.type,Pe);else{var Je;if(Ge)Je=(Ze-Ve)/Ge;else{var Xe=l.distinctVals(oe),rt=Math.pow(10,Math.floor(Math.log(Xe.minDiff)/Math.LN10)),kt=rt*l.roundUp(Xe.minDiff/rt,[.9,1.9,4.9,9.9],!0);Je=Math.max(kt,2*l.stdev(oe)/Math.pow(oe.length,We?.25:.4)),t(Je)||(Je=1)}B.autoTicks(Be,Je)}var Dt=Be.dtick,Rt=B.tickIncrement(B.tickFirst(Be),Dt,"reverse",Pe),Kt,ir;if(typeof Dt=="number")Rt=Me(Rt,oe,Be,Ve,Ze),ir=1+Math.floor((Ze-Rt)/Dt),Kt=Rt+ir*Dt;else for(Be.dtick.charAt(0)==="M"&&(Rt=He(Rt,oe,Dt,Ve,Pe)),Kt=Rt,ir=0;Kt<=Ze;)Kt=B.tickIncrement(Kt,Dt,!1,Pe),ir++;return{start:de.c2r(Rt,0,Pe),end:de.c2r(Kt,0,Pe),size:Dt,_dataSpan:Ze-Ve}};function Me(oe,de,Ge,We,Pe){var Ie=0,Ve=0,Ze=0,Be=0;function Je(Dt){return(1+(Dt-oe)*100/Ge.dtick)%100<2}for(var Xe=0;Xe<de.length;Xe++)de[Xe]%1===0?Ze++:t(de[Xe])||Be++,Je(de[Xe])&&Ie++,Je(de[Xe]+Ge.dtick/2)&&Ve++;var rt=de.length-Be;if(Ze===rt&&Ge.type!=="date")Ge.dtick<1?oe=We-.5*Ge.dtick:(oe-=.5,oe+Ge.dtick<We&&(oe+=Ge.dtick));else if(Ve<rt*.1&&(Ie>rt*.3||Je(We)||Je(Pe))){var kt=Ge.dtick/2;oe+=oe+kt<We?kt:-kt}return oe}function He(oe,de,Ge,We,Pe){var Ie=l.findExactDates(de,Pe),Ve=.8;if(Ie.exactDays>Ve){var Ze=Number(Ge.substr(1));Ie.exactYears>Ve&&Ze%12===0?oe=B.tickIncrement(oe,"M6","reverse")+D*1.5:Ie.exactMonths>Ve?oe=B.tickIncrement(oe,"M1","reverse")+D*15.5:oe-=I;var Be=B.tickIncrement(oe,Ge);if(Be<=We)return Be}return oe}B.prepMinorTicks=function(oe,de,Ge){if(!de.minor.dtick){delete oe.dtick;var We=de.dtick&&t(de._tmin),Pe;if(We){var Ie=B.tickIncrement(de._tmin,de.dtick,!0);Pe=[de._tmin,Ie*.99+de._tmin*.01]}else{var Ve=l.simpleMap(de.range,de.r2l);Pe=[Ve[0],.8*Ve[0]+.2*Ve[1]]}if(oe.range=l.simpleMap(Pe,de.l2r),oe._isMinor=!0,B.prepTicks(oe,Ge),We){var Ze=t(de.dtick),Be=t(oe.dtick),Je=Ze?de.dtick:+de.dtick.substring(1),Xe=Be?oe.dtick:+oe.dtick.substring(1);Ze&&Be?Ne(Je,Xe)?Je===2*K&&Xe===2*D&&(oe.dtick=K):Je===2*K&&Xe===3*D?oe.dtick=K:Je===K&&!(de._input.minor||{}).nticks?oe.dtick=D:ze(Je/Xe,2.5)?oe.dtick=Je/2:oe.dtick=Je:String(de.dtick).charAt(0)==="M"?Be?oe.dtick="M1":Ne(Je,Xe)?Je>=12&&Xe===2&&(oe.dtick="M3"):oe.dtick=de.dtick:String(oe.dtick).charAt(0)==="L"?String(de.dtick).charAt(0)==="L"?Ne(Je,Xe)||(oe.dtick=ze(Je/Xe,2.5)?de.dtick/2:de.dtick):oe.dtick="D1":oe.dtick==="D2"&&+de.dtick>1&&(oe.dtick=1)}oe.range=de.range}de.minor._tick0Init===void 0&&(oe.tick0=de.tick0)};function Ne(oe,de){return Math.abs((oe/de+.5)%1-.5)<.001}function ze(oe,de){return Math.abs(oe/de-1)<.001}B.prepTicks=function(oe,de){var Ge=l.simpleMap(oe.range,oe.r2l,void 0,void 0,de);if(oe.tickmode==="auto"||!oe.dtick){var We=oe.nticks,Pe;We||(oe.type==="category"||oe.type==="multicategory"?(Pe=oe.tickfont?l.bigFont(oe.tickfont.size||12):15,We=oe._length/Pe):(Pe=oe._id.charAt(0)==="y"?40:80,We=l.constrain(oe._length/Pe,4,9)+1),oe._name==="radialaxis"&&(We*=2)),oe.minor&&oe.minor.tickmode!=="array"||oe.tickmode==="array"&&(We*=100),oe._roughDTick=Math.abs(Ge[1]-Ge[0])/We,B.autoTicks(oe,oe._roughDTick),oe._minDtick>0&&oe.dtick<oe._minDtick*2&&(oe.dtick=oe._minDtick,oe.tick0=oe.l2r(oe._forceTick0))}oe.ticklabelmode==="period"&&Ae(oe),oe.tick0||(oe.tick0=oe.type==="date"?"2000-01-01":0),oe.type==="date"&&oe.dtick<.1&&(oe.dtick=.1),ot(oe)};function Re(oe){return+oe.substring(1)}function Ae(oe){var de;function Ge(){return!(t(oe.dtick)||oe.dtick.charAt(0)!=="M")}var We=Ge(),Pe=B.getTickFormat(oe);if(Pe){var Ie=oe._dtickInit!==oe.dtick;/%[fLQsSMX]/.test(Pe)||(/%[HI]/.test(Pe)?(de=C,Ie&&!We&&oe.dtick<C&&(oe.dtick=C)):/%p/.test(Pe)?(de=I,Ie&&!We&&oe.dtick<I&&(oe.dtick=I)):/%[Aadejuwx]/.test(Pe)?(de=D,Ie&&!We&&oe.dtick<D&&(oe.dtick=D)):/%[UVW]/.test(Pe)?(de=K,Ie&&!We&&oe.dtick<K&&(oe.dtick=K)):/%[Bbm]/.test(Pe)?(de=_,Ie&&(We?Re(oe.dtick)<1:oe.dtick<w)&&(oe.dtick="M1")):/%[q]/.test(Pe)?(de=c,Ie&&(We?Re(oe.dtick)<3:oe.dtick<h)&&(oe.dtick="M3")):/%[Yy]/.test(Pe)&&(de=x,Ie&&(We?Re(oe.dtick)<12:oe.dtick<y)&&(oe.dtick="M12")))}We=Ge(),We&&oe.tick0===oe._dowTick0&&(oe.tick0=oe._rawTick0),oe._definedDelta=de}function T(oe,de,Ge){for(var We=0;We<oe.length;We++){var Pe=oe[We].value,Ie=We,Ve=We+1;We<oe.length-1?(Ie=We,Ve=We+1):We>0?(Ie=We-1,Ve=We):(Ie=We,Ve=We);var Ze=oe[Ie].value,Be=oe[Ve].value,Je=Math.abs(Be-Ze),Xe=Ge||Je,rt=0;Xe>=y?Je>=y&&Je<=v?rt=Je:rt=x:Ge===c&&Xe>=h?Je>=h&&Je<=m?rt=Je:rt=c:Xe>=w?Je>=w&&Je<=b?rt=Je:rt=_:Ge===K&&Xe>=K?rt=K:Xe>=D?rt=D:Ge===I&&Xe>=I?rt=I:Ge===C&&Xe>=C&&(rt=C);var kt;rt>=Je&&(rt=Je,kt=!0);var Dt=Pe+rt;if(de.rangebreaks&&rt>0){for(var Rt=84,Kt=0,ir=0;ir<Rt;ir++){var Fr=(ir+.5)/Rt;de.maskBreaks(Pe*(1-Fr)+Fr*Dt)!==G&&Kt++}rt*=Kt/Rt,rt||(oe[We].drop=!0),kt&&Je>K&&(rt=Je)}(rt>0||We===0)&&(oe[We].periodX=Pe+rt/2)}}B.calcTicks=function(oe,de){for(var Ge=oe.type,We=oe.calendar,Pe=oe.ticklabelstep,Ie=oe.ticklabelmode==="period",Ve=oe.range[0]>oe.range[1],Ze=!oe.ticklabelindex||l.isArrayOrTypedArray(oe.ticklabelindex)?oe.ticklabelindex:[oe.ticklabelindex],Be=l.simpleMap(oe.range,oe.r2l,void 0,void 0,de),Je=Be[1]<Be[0],Xe=Math.min(Be[0],Be[1]),rt=Math.max(Be[0],Be[1]),kt=Math.max(1e3,oe._length||0),Dt=[],Rt=[],Kt=[],ir=[],Fr=[],or=oe.minor&&(oe.minor.ticks||oe.minor.showgrid),mr=1;mr>=(or?0:1);mr--){var Mr=!mr;mr?(oe._dtickInit=oe.dtick,oe._tick0Init=oe.tick0):(oe.minor._dtickInit=oe.minor.dtick,oe.minor._tick0Init=oe.minor.tick0);var Qr=mr?oe:l.extendFlat({},oe,oe.minor);if(Mr?B.prepMinorTicks(Qr,oe,de):B.prepTicks(Qr,de),Qr.tickmode==="array"){mr?(Kt=[],Dt=he(oe,!Mr)):(ir=[],Rt=he(oe,!Mr));continue}if(Qr.tickmode==="sync"){Kt=[],Dt=j(oe);continue}var hn=le(Be),Fn=hn[0],wn=hn[1],Pn=t(Qr.dtick),aa=Ge==="log"&&!(Pn||Qr.dtick.charAt(0)==="L"),oa=B.tickFirst(Qr,de);if(mr){if(oe._tmin=oa,oa<Fn!==Je)break;(Ge==="category"||Ge==="multicategory")&&(wn=Je?Math.max(-.5,wn):Math.min(oe._categories.length-.5,wn))}var jn=null,Ir=oa,qn;if(mr){var Wn;Pn?Wn=oe.dtick:Ge==="date"?typeof oe.dtick=="string"&&oe.dtick.charAt(0)==="M"&&(Wn=_*oe.dtick.substring(1)):Wn=oe._roughDTick,qn=Math.round((oe.r2l(Ir)-oe.r2l(oe.tick0))/Wn)-1}var ya=Qr.dtick;for(Qr.rangebreaks&&Qr._tick0Init!==Qr.tick0&&(Ir=br(Ir,oe),Je||(Ir=B.tickIncrement(Ir,ya,!Je,We))),mr&&Ie&&(Ir=B.tickIncrement(Ir,ya,!Je,We),qn--);Je?Ir>=wn:Ir<=wn;Ir=B.tickIncrement(Ir,ya,Je,We)){if(mr&&qn++,Qr.rangebreaks&&!Je){if(Ir<Fn)continue;if(Qr.maskBreaks(Ir)===G&&br(Ir,Qr)>=rt)break}if(Kt.length>kt||Ir===jn)break;jn=Ir;var ia={value:Ir};mr?(aa&&Ir!==(Ir|0)&&(ia.simpleLabel=!0),Pe>1&&qn%Pe&&(ia.skipLabel=!0),Kt.push(ia)):(ia.minor=!0,ir.push(ia))}}if(!ir||ir.length<2)Ze=!1;else{var xn=(ir[1].value-ir[0].value)*(Ve?-1:1);gn(xn,oe.tickformat)||(Ze=!1)}if(!Ze)Fr=Kt;else{var yn=Kt.concat(ir);Ie&&Kt.length&&(yn=yn.slice(1)),yn=yn.sort(function(ra,ma){return ra.value-ma.value}).filter(function(ra,ma,da){return ma===0||ra.value!==da[ma-1].value});var An=yn.map(function(ra,ma){return ra.minor===void 0&&!ra.skipLabel?ma:null}).filter(function(ra){return ra!==null});An.forEach(function(ra){Ze.map(function(ma){var da=ra+ma;da>=0&&da<yn.length&&l.pushUnique(Fr,yn[da])})})}if(or){var Yn=oe.minor.ticks==="inside"&&oe.ticks==="outside"||oe.minor.ticks==="outside"&&oe.ticks==="inside";if(!Yn){for(var Zn=Kt.map(function(ra){return ra.value}),Xn=[],ea=0;ea<ir.length;ea++){var Kn=ir[ea],Ta=Kn.value;if(Zn.indexOf(Ta)===-1){for(var la=!1,fa=0;!la&&fa<Kt.length;fa++)1e7+Kt[fa].value===1e7+Ta&&(la=!0);la||Xn.push(Kn)}}ir=Xn}}Ie&&T(Fr,oe,oe._definedDelta);var Un;if(oe.rangebreaks){var ka=oe._id.charAt(0)==="y",La=1;oe.tickmode==="auto"&&(La=oe.tickfont?oe.tickfont.size:12);var Fa=NaN;for(Un=Kt.length-1;Un>-1;Un--){if(Kt[Un].drop){Kt.splice(Un,1);continue}Kt[Un].value=br(Kt[Un].value,oe);var Ua=oe.c2p(Kt[Un].value);(ka?Fa>Ua-La:Fa<Ua+La)?Kt.splice(Je?Un+1:Un,1):Fa=Ua}}fn(oe)&&Math.abs(Be[1]-Be[0])===360&&Kt.pop(),oe._tmax=(Kt[Kt.length-1]||{}).value,oe._prevDateHead="",oe._inCalcTicks=!0;var Ja,Ia=function(ra){ra.text="",oe._prevDateHead=Ja};Kt=Kt.concat(ir);function ta(ra,ma){var da=B.tickText(ra,ma.value,!1,ma.simpleLabel),In=ma.periodX;return In!==void 0&&(da.periodX=In,(In>rt||In<Xe)&&(In>rt&&(da.periodX=rt),In<Xe&&(da.periodX=Xe),Ia(da))),da}var _a;for(Un=0;Un<Kt.length;Un++){var pi=Kt[Un].minor,sa=Kt[Un].value;pi?(Ze&&Fr.indexOf(Kt[Un])!==-1?_a=ta(oe,Kt[Un]):_a={x:sa},_a.minor=!0,Rt.push(_a)):(Ja=oe._prevDateHead,_a=ta(oe,Kt[Un]),(Kt[Un].skipLabel||Ze&&Fr.indexOf(Kt[Un])===-1)&&Ia(_a),Dt.push(_a))}return Dt=Dt.concat(Rt),oe._inCalcTicks=!1,Ie&&Dt.length&&(Dt[0].noTick=!0),Dt};function V(oe,de){return oe.rangebreaks&&(de=de.filter(function(Ge){return oe.maskBreaks(Ge.x)!==G})),de}function j(oe){var de=oe._mainAxis,Ge=[];if(de._vals){for(var We=0;We<de._vals.length;We++)if(!de._vals[We].noTick){var Pe=de.l2p(de._vals[We].x),Ie=oe.p2l(Pe),Ve=B.tickText(oe,Ie);de._vals[We].minor&&(Ve.minor=!0,Ve.text=""),Ge.push(Ve)}}return Ge=V(oe,Ge),Ge}function he(oe,de){var Ge=l.simpleMap(oe.range,oe.r2l),We=le(Ge),Pe=Math.min(We[0],We[1]),Ie=Math.max(We[0],We[1]),Ve=oe.type==="category"?oe.d2l_noadd:oe.d2l;oe.type==="log"&&String(oe.dtick).charAt(0)!=="L"&&(oe.dtick="L"+Math.pow(10,Math.floor(Math.min(oe.range[0],oe.range[1]))-1));for(var Ze=[],Be=0;Be<=1;Be++)if(!(de!==void 0&&(de&&Be||de===!1&&!Be))&&!(Be&&!oe.minor)){var Je=Be?oe.minor.tickvals:oe.tickvals,Xe=Be?[]:oe.ticktext;if(Je){l.isArrayOrTypedArray(Xe)||(Xe=[]);for(var rt=0;rt<Je.length;rt++){var kt=Ve(Je[rt]);if(kt>Pe&&kt<Ie){var Dt=B.tickText(oe,kt,!1,String(Xe[rt]));Be&&(Dt.minor=!0,Dt.text=""),Ze.push(Dt)}}}}return Ze=V(oe,Ze),Ze}var be=[2,5,10],ke=[1,2,3,6,12],Ce=[1,2,5,10,15,30],qe=[1,2,3,7,14],at=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ct=[-.301,0,.301,.699,1],vt=[15,30,45,90,180];function St(oe,de,Ge){return de*l.roundUp(oe/de,Ge)}B.autoTicks=function(oe,de,Ge){var We;function Pe(rt){return Math.pow(rt,Math.floor(Math.log(de)/Math.LN10))}if(oe.type==="date"){oe.tick0=l.dateTick0(oe.calendar,0);var Ie=2*de;if(Ie>x)de/=x,We=Pe(10),oe.dtick="M"+12*St(de,We,be);else if(Ie>_)de/=_,oe.dtick="M"+St(de,1,ke);else if(Ie>D){if(oe.dtick=St(de,D,oe._hasDayOfWeekBreaks?[1,2,7,14]:qe),!Ge){var Ve=B.getTickFormat(oe),Ze=oe.ticklabelmode==="period";Ze&&(oe._rawTick0=oe.tick0),/%[uVW]/.test(Ve)?oe.tick0=l.dateTick0(oe.calendar,2):oe.tick0=l.dateTick0(oe.calendar,1),Ze&&(oe._dowTick0=oe.tick0)}}else Ie>C?oe.dtick=St(de,C,ke):Ie>H?oe.dtick=St(de,H,Ce):Ie>z?oe.dtick=St(de,z,Ce):(We=Pe(10),oe.dtick=St(de,We,be))}else if(oe.type==="log"){oe.tick0=0;var Be=l.simpleMap(oe.range,oe.r2l);if(oe._isMinor&&(de*=1.5),de>.7)oe.dtick=Math.ceil(de);else if(Math.abs(Be[1]-Be[0])<1){var Je=1.5*Math.abs((Be[1]-Be[0])/de);de=Math.abs(Math.pow(10,Be[1])-Math.pow(10,Be[0]))/Je,We=Pe(10),oe.dtick="L"+St(de,We,be)}else oe.dtick=de>.3?"D2":"D1"}else oe.type==="category"||oe.type==="multicategory"?(oe.tick0=0,oe.dtick=Math.ceil(Math.max(de,1))):fn(oe)?(oe.tick0=0,We=1,oe.dtick=St(de,We,vt)):(oe.tick0=0,We=Pe(10),oe.dtick=St(de,We,be));if(oe.dtick===0&&(oe.dtick=1),!t(oe.dtick)&&typeof oe.dtick!="string"){var Xe=oe.dtick;throw oe.dtick=1,"ax.dtick error: "+String(Xe)}};function ot(oe){var de=oe.dtick;if(oe._tickexponent=0,!t(de)&&typeof de!="string"&&(de=1),(oe.type==="category"||oe.type==="multicategory")&&(oe._tickround=null),oe.type==="date"){var Ge=oe.r2l(oe.tick0),We=oe.l2r(Ge).replace(/(^-|i)/g,""),Pe=We.length;if(String(de).charAt(0)==="M")Pe>10||We.substr(5)!=="01-01"?oe._tickround="d":oe._tickround=+de.substr(1)%12===0?"y":"m";else if(de>=D&&Pe<=10||de>=D*15)oe._tickround="d";else if(de>=H&&Pe<=16||de>=C)oe._tickround="M";else if(de>=z&&Pe<=19||de>=H)oe._tickround="S";else{var Ie=oe.l2r(Ge+de).replace(/^-/,"").length;oe._tickround=Math.max(Pe,Ie)-20,oe._tickround<0&&(oe._tickround=4)}}else if(t(de)||de.charAt(0)==="L"){var Ve=oe.range.map(oe.r2d||Number);t(de)||(de=Number(de.substr(1))),oe._tickround=2-Math.floor(Math.log(de)/Math.LN10+.01);var Ze=Math.max(Math.abs(Ve[0]),Math.abs(Ve[1])),Be=Math.floor(Math.log(Ze)/Math.LN10+.01),Je=oe.minexponent===void 0?3:oe.minexponent;Math.abs(Be)>Je&&(we(oe.exponentformat)&&!Se(Be)?oe._tickexponent=3*Math.round((Be-1)/3):oe._tickexponent=Be)}else oe._tickround=null}B.tickIncrement=function(oe,de,Ge,We){var Pe=Ge?-1:1;if(t(de))return l.increment(oe,Pe*de);var Ie=de.charAt(0),Ve=Pe*Number(de.substr(1));if(Ie==="M")return l.incrementMonth(oe,Ve,We);if(Ie==="L")return Math.log(Math.pow(10,oe)+Ve)/Math.LN10;if(Ie==="D"){var Ze=de==="D2"?ct:at,Be=oe+Pe*.01,Je=l.roundUp(l.mod(Be,1),Ze,Ge);return Math.floor(Be)+Math.log(i.round(Math.pow(10,Je),1))/Math.LN10}throw"unrecognized dtick "+String(de)},B.tickFirst=function(oe,de){var Ge=oe.r2l||Number,We=l.simpleMap(oe.range,Ge,void 0,void 0,de),Pe=We[1]<We[0],Ie=Pe?Math.floor:Math.ceil,Ve=le(We)[0],Ze=oe.dtick,Be=Ge(oe.tick0);if(t(Ze)){var Je=Ie((Ve-Be)/Ze)*Ze+Be;return(oe.type==="category"||oe.type==="multicategory")&&(Je=l.constrain(Je,0,oe._categories.length-1)),Je}var Xe=Ze.charAt(0),rt=Number(Ze.substr(1));if(Xe==="M"){for(var kt=0,Dt=Be,Rt,Kt,ir;kt<10;){if(Rt=B.tickIncrement(Dt,Ze,Pe,oe.calendar),(Rt-Ve)*(Dt-Ve)<=0)return Pe?Math.min(Dt,Rt):Math.max(Dt,Rt);Kt=(Ve-(Dt+Rt)/2)/(Rt-Dt),ir=Xe+(Math.abs(Math.round(Kt))||1)*rt,Dt=B.tickIncrement(Dt,ir,Kt<0?!Pe:Pe,oe.calendar),kt++}return l.error("tickFirst did not converge",oe),Dt}else{if(Xe==="L")return Math.log(Ie((Math.pow(10,Ve)-Be)/rt)*rt+Be)/Math.LN10;if(Xe==="D"){var Fr=Ze==="D2"?ct:at,or=l.roundUp(l.mod(Ve,1),Fr,Pe);return Math.floor(Ve)+Math.log(i.round(Math.pow(10,or),1))/Math.LN10}else throw"unrecognized dtick "+String(Ze)}},B.tickText=function(oe,de,Ge,We){var Pe=Ct(oe,de),Ie=oe.tickmode==="array",Ve=Ge||Ie,Ze=oe.type,Be=Ze==="category"?oe.d2l_noadd:oe.d2l,Je,Xe=function(ir){var Fr=oe.l2p(ir);return Fr>=0&&Fr<=oe._length?ir:null};if(Ie&&l.isArrayOrTypedArray(oe.ticktext)){var rt=l.simpleMap(oe.range,oe.r2l),kt=(Math.abs(rt[1]-rt[0])-(oe._lBreaks||0))/1e4;for(Je=0;Je<oe.ticktext.length&&!(Math.abs(de-Be(oe.tickvals[Je]))<kt);Je++);if(Je<oe.ticktext.length)return Pe.text=String(oe.ticktext[Je]),Pe.xbnd=[Xe(Pe.x-.5),Xe(Pe.x+oe.dtick-.5)],Pe}function Dt(ir){if(ir===void 0)return!0;if(Ge)return ir==="none";var Fr={first:oe._tmin,last:oe._tmax}[ir];return ir!=="all"&&de!==Fr}var Rt=Ge?"never":oe.exponentformat!=="none"&&Dt(oe.showexponent)?"hide":"";if(Ze==="date"?It(oe,Pe,Ge,Ve):Ze==="log"?At(oe,Pe,Ge,Ve,Rt):Ze==="category"?Nt(oe,Pe):Ze==="multicategory"?_e(oe,Pe,Ge):fn(oe)?je(oe,Pe,Ge,Ve,Rt):De(oe,Pe,Ge,Ve,Rt),We||(oe.tickprefix&&!Dt(oe.showtickprefix)&&(Pe.text=oe.tickprefix+Pe.text),oe.ticksuffix&&!Dt(oe.showticksuffix)&&(Pe.text+=oe.ticksuffix)),oe.labelalias&&oe.labelalias.hasOwnProperty(Pe.text)){var Kt=oe.labelalias[Pe.text];typeof Kt=="string"&&(Pe.text=Kt)}return(oe.tickson==="boundaries"||oe.showdividers)&&(Pe.xbnd=[Xe(Pe.x-.5),Xe(Pe.x+oe.dtick-.5)]),Pe},B.hoverLabelText=function(oe,de,Ge){Ge&&(oe=l.extendFlat({},oe,{hoverformat:Ge}));var We=l.isArrayOrTypedArray(de)?de[0]:de,Pe=l.isArrayOrTypedArray(de)?de[1]:void 0;if(Pe!==void 0&&Pe!==We)return B.hoverLabelText(oe,We,Ge)+" - "+B.hoverLabelText(oe,Pe,Ge);var Ie=oe.type==="log"&&We<=0,Ve=B.tickText(oe,oe.c2l(Ie?-We:We),"hover").text;return Ie?We===0?"0":Z+Ve:Ve};function Ct(oe,de,Ge){var We=oe.tickfont||{};return{x:de,dx:0,dy:0,text:Ge||"",fontSize:We.size,font:We.family,fontWeight:We.weight,fontStyle:We.style,fontVariant:We.variant,fontTextcase:We.textcase,fontLineposition:We.lineposition,fontShadow:We.shadow,fontColor:We.color}}function It(oe,de,Ge,We){var Pe=oe._tickround,Ie=Ge&&oe.hoverformat||B.getTickFormat(oe);We=!Ie&&We,We&&(t(Pe)?Pe=4:Pe={y:"m",m:"d",d:"M",M:"S",S:4}[Pe]);var Ve=l.formatDate(de.x,Ie,Pe,oe._dateFormat,oe.calendar,oe._extraFormat),Ze,Be=Ve.indexOf(`
`);if(Be!==-1&&(Ze=Ve.substr(Be+1),Ve=Ve.substr(0,Be)),We&&(Ze!==void 0&&(Ve==="00:00:00"||Ve==="00:00")?(Ve=Ze,Ze=""):Ve.length===8&&(Ve=Ve.replace(/:00$/,""))),Ze)if(Ge)Pe==="d"?Ve+=", "+Ze:Ve=Ze+(Ve?", "+Ve:"");else if(!oe._inCalcTicks||oe._prevDateHead!==Ze)oe._prevDateHead=Ze,Ve+="<br>"+Ze;else{var Je=Jr(oe),Xe=oe._trueSide||oe.side;(!Je&&Xe==="top"||Je&&Xe==="bottom")&&(Ve+="<br> ")}de.text=Ve}function At(oe,de,Ge,We,Pe){var Ie=oe.dtick,Ve=de.x,Ze=oe.tickformat,Be=typeof Ie=="string"&&Ie.charAt(0);if(Pe==="never"&&(Pe=""),We&&Be!=="L"&&(Ie="L3",Be="L"),Ze||Be==="L")de.text=Ue(Math.pow(10,Ve),oe,Pe,We);else if(t(Ie)||Be==="D"&&l.mod(Ve+.01,1)<.1){var Je=Math.round(Ve),Xe=Math.abs(Je),rt=oe.exponentformat;rt==="power"||we(rt)&&Se(Je)?(Je===0?de.text=1:Je===1?de.text="10":de.text="10<sup>"+(Je>1?"":Z)+Xe+"</sup>",de.fontSize*=1.25):(rt==="e"||rt==="E")&&Xe>2?de.text="1"+rt+(Je>0?"+":Z)+Xe:(de.text=Ue(Math.pow(10,Ve),oe,"","fakehover"),Ie==="D1"&&oe._id.charAt(0)==="y"&&(de.dy-=de.fontSize/6))}else if(Be==="D")de.text=String(Math.round(Math.pow(10,l.mod(Ve,1)))),de.fontSize*=.75;else throw"unrecognized dtick "+String(Ie);if(oe.dtick==="D1"){var kt=String(de.text).charAt(0);(kt==="0"||kt==="1")&&(oe._id.charAt(0)==="y"?de.dx-=de.fontSize/4:(de.dy+=de.fontSize/2,de.dx+=(oe.range[1]>oe.range[0]?1:-1)*de.fontSize*(Ve<0?.5:.25)))}}function Nt(oe,de){var Ge=oe._categories[Math.round(de.x)];Ge===void 0&&(Ge=""),de.text=String(Ge)}function _e(oe,de,Ge){var We=Math.round(de.x),Pe=oe._categories[We]||[],Ie=Pe[1]===void 0?"":String(Pe[1]),Ve=Pe[0]===void 0?"":String(Pe[0]);Ge?de.text=Ve+" - "+Ie:(de.text=Ie,de.text2=Ve)}function De(oe,de,Ge,We,Pe){Pe==="never"?Pe="":oe.showexponent==="all"&&Math.abs(de.x/oe.dtick)<1e-6&&(Pe="hide"),de.text=Ue(de.x,oe,Pe,We)}function je(oe,de,Ge,We,Pe){if(oe.thetaunit==="radians"&&!Ge){var Ie=de.x/180;if(Ie===0)de.text="0";else{var Ve=ie(Ie);if(Ve[1]>=100)de.text=Ue(l.deg2rad(de.x),oe,Pe,We);else{var Ze=de.x<0;Ve[1]===1?Ve[0]===1?de.text="π":de.text=Ve[0]+"π":de.text=["<sup>",Ve[0],"</sup>","⁄","<sub>",Ve[1],"</sub>","π"].join(""),Ze&&(de.text=Z+de.text)}}}else de.text=Ue(de.x,oe,Pe,We)}function ie(oe){function de(Ze,Be){return Math.abs(Ze-Be)<=1e-6}function Ge(Ze,Be){return de(Be,0)?Ze:Ge(Be,Ze%Be)}function We(Ze){for(var Be=1;!de(Math.round(Ze*Be)/Be,Ze);)Be*=10;return Be}var Pe=We(oe),Ie=oe*Pe,Ve=Math.abs(Ge(Ie,Pe));return[Math.round(Ie/Ve),Math.round(Pe/Ve)]}var ve=["f","p","n","μ","m","","k","M","G","T"];function we(oe){return oe==="SI"||oe==="B"}function Se(oe){return oe>14||oe<-15}function Ue(oe,de,Ge,We){var Pe=oe<0,Ie=de._tickround,Ve=Ge||de.exponentformat||"B",Ze=de._tickexponent,Be=B.getTickFormat(de),Je=de.separatethousands;if(We){var Xe={exponentformat:Ve,minexponent:de.minexponent,dtick:de.showexponent==="none"?de.dtick:t(oe)&&Math.abs(oe)||1,range:de.showexponent==="none"?de.range.map(de.r2d):[0,oe||1]};ot(Xe),Ie=(Number(Xe._tickround)||0)+4,Ze=Xe._tickexponent,de.hoverformat&&(Be=de.hoverformat)}if(Be)return de._numFormat(Be)(oe).replace(/-/g,Z);var rt=Math.pow(10,-Ie)/2;if(Ve==="none"&&(Ze=0),oe=Math.abs(oe),oe<rt)oe="0",Pe=!1;else{if(oe+=rt,Ze&&(oe*=Math.pow(10,-Ze),Ie+=Ze),Ie===0)oe=String(Math.floor(oe));else if(Ie<0){oe=String(Math.round(oe)),oe=oe.substr(0,oe.length+Ie);for(var kt=Ie;kt<0;kt++)oe+="0"}else{oe=String(oe);var Dt=oe.indexOf(".")+1;Dt&&(oe=oe.substr(0,Dt+Ie).replace(/\.?0+$/,""))}oe=l.numSeparate(oe,de._separators,Je)}if(Ze&&Ve!=="hide"){we(Ve)&&Se(Ze)&&(Ve="power");var Rt;Ze<0?Rt=Z+-Ze:Ve!=="power"?Rt="+"+Ze:Rt=String(Ze),Ve==="e"||Ve==="E"?oe+=Ve+Rt:Ve==="power"?oe+="×10<sup>"+Rt+"</sup>":Ve==="B"&&Ze===9?oe+="B":we(Ve)&&(oe+=ve[Ze/3+5])}return Pe?Z+oe:oe}B.getTickFormat=function(oe){var de;function Ge(Be){return typeof Be!="string"?Be:Number(Be.replace("M",""))*_}function We(Be,Je){var Xe=["L","D"];if(typeof Be==typeof Je){if(typeof Be=="number")return Be-Je;var rt=Xe.indexOf(Be.charAt(0)),kt=Xe.indexOf(Je.charAt(0));return rt===kt?Number(Be.replace(/(L|D)/g,""))-Number(Je.replace(/(L|D)/g,"")):rt-kt}else return typeof Be=="number"?1:-1}function Pe(Be,Je,Xe){var rt=Xe||function(Rt){return Rt},kt=Je[0],Dt=Je[1];return(!kt&&typeof kt!="number"||rt(kt)<=rt(Be))&&(!Dt&&typeof Dt!="number"||rt(Dt)>=rt(Be))}function Ie(Be,Je){var Xe=Je[0]===null,rt=Je[1]===null,kt=We(Be,Je[0])>=0,Dt=We(Be,Je[1])<=0;return(Xe||kt)&&(rt||Dt)}var Ve,Ze;if(oe.tickformatstops&&oe.tickformatstops.length>0)switch(oe.type){case"date":case"linear":{for(de=0;de<oe.tickformatstops.length;de++)if(Ze=oe.tickformatstops[de],Ze.enabled&&Pe(oe.dtick,Ze.dtickrange,Ge)){Ve=Ze;break}break}case"log":{for(de=0;de<oe.tickformatstops.length;de++)if(Ze=oe.tickformatstops[de],Ze.enabled&&Ie(oe.dtick,Ze.dtickrange)){Ve=Ze;break}break}}return Ve?Ve.value:oe.tickformat},B.getSubplots=function(oe,de){var Ge=oe._fullLayout._subplots,We=Ge.cartesian.concat(Ge.gl2d||[]),Pe=de?B.findSubplotsWithAxis(We,de):We;return Pe.sort(function(Ie,Ve){var Ze=Ie.substr(1).split("y"),Be=Ve.substr(1).split("y");return Ze[0]===Be[0]?+Ze[1]-+Be[1]:+Ze[0]-+Be[0]}),Pe},B.findSubplotsWithAxis=function(oe,de){for(var Ge=new RegExp(de._id.charAt(0)==="x"?"^"+de._id+"y":de._id+"$"),We=[],Pe=0;Pe<oe.length;Pe++){var Ie=oe[Pe];Ge.test(Ie)&&We.push(Ie)}return We},B.makeClipPaths=function(oe){var de=oe._fullLayout;if(!de._hasOnlyLargeSploms){var Ge={_offset:0,_length:de.width,_id:""},We={_offset:0,_length:de.height,_id:""},Pe=B.list(oe,"x",!0),Ie=B.list(oe,"y",!0),Ve=[],Ze,Be;for(Ze=0;Ze<Pe.length;Ze++)for(Ve.push({x:Pe[Ze],y:We}),Be=0;Be<Ie.length;Be++)Ze===0&&Ve.push({x:Ge,y:Ie[Be]}),Ve.push({x:Pe[Ze],y:Ie[Be]});var Je=de._clips.selectAll(".axesclip").data(Ve,function(Xe){return Xe.x._id+Xe.y._id});Je.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Xe){return"clip"+de._uid+Xe.x._id+Xe.y._id}).append("rect"),Je.exit().remove(),Je.each(function(Xe){i.select(this).select("rect").attr({x:Xe.x._offset||0,y:Xe.y._offset||0,width:Xe.x._length||1,height:Xe.y._length||1})})}},B.draw=function(oe,de,Ge){var We=oe._fullLayout;de==="redraw"&&We._paper.selectAll("g.subplot").each(function(Be){var Je=Be[0],Xe=We._plots[Je];if(Xe){var rt=Xe.xaxis,kt=Xe.yaxis;Xe.xaxislayer.selectAll("."+rt._id+"tick").remove(),Xe.yaxislayer.selectAll("."+kt._id+"tick").remove(),Xe.xaxislayer.selectAll("."+rt._id+"tick2").remove(),Xe.yaxislayer.selectAll("."+kt._id+"tick2").remove(),Xe.xaxislayer.selectAll("."+rt._id+"divider").remove(),Xe.yaxislayer.selectAll("."+kt._id+"divider").remove(),Xe.minorGridlayer&&Xe.minorGridlayer.selectAll("path").remove(),Xe.gridlayer&&Xe.gridlayer.selectAll("path").remove(),Xe.zerolinelayer&&Xe.zerolinelayer.selectAll("path").remove(),We._infolayer.select(".g-"+rt._id+"title").remove(),We._infolayer.select(".g-"+kt._id+"title").remove()}});var Pe=!de||de==="redraw"?B.listIds(oe):de,Ie=B.list(oe),Ve=Ie.filter(function(Be){return Be.autoshift}).map(function(Be){return Be.overlaying});Pe.map(function(Be){var Je=B.getFromId(oe,Be);if(Je.tickmode==="sync"&&Je.overlaying){var Xe=Pe.findIndex(function(rt){return rt===Je.overlaying});Xe>=0&&Pe.unshift(Pe.splice(Xe,1).shift())}});var Ze={false:{left:0,right:0}};return l.syncOrAsync(Pe.map(function(Be){return function(){if(Be){var Je=B.getFromId(oe,Be);Ge||(Ge={}),Ge.axShifts=Ze,Ge.overlayingShiftedAx=Ve;var Xe=B.drawOne(oe,Je,Ge);return Je._shiftPusher&&Sn(Je,Je._fullDepth||0,Ze,!0),Je._r=Je.range.slice(),Je._rl=l.simpleMap(Je._r,Je.r2l),Xe}}}))},B.drawOne=function(oe,de,Ge){Ge=Ge||{};var We=Ge.axShifts||{},Pe=Ge.overlayingShiftedAx||[],Ie,Ve,Ze;de.setScale();var Be=oe._fullLayout,Je=de._id,Xe=Je.charAt(0),rt=B.counterLetter(Je),kt=Be._plots[de._mainSubplot];if(!kt)return;if(de._shiftPusher=de.autoshift||Pe.indexOf(de._id)!==-1||Pe.indexOf(de.overlaying)!==-1,de._shiftPusher&de.anchor==="free"){var Dt=de.linewidth/2||0;de.ticks==="inside"&&(Dt+=de.ticklen),Sn(de,Dt,We,!0),Sn(de,de.shift||0,We,!1)}(Ge.skipTitle!==!0||de._shift===void 0)&&(de._shift=Bt(de,We));var Rt=kt[Xe+"axislayer"],Kt=de._mainLinePosition,ir=Kt+=de._shift,Fr=de._mainMirrorPosition,or=de._vals=B.calcTicks(de),mr=[de.mirror,ir,Fr].join("_");for(Ie=0;Ie<or.length;Ie++)or[Ie].axInfo=mr;de._selections={},de._tickAngles&&(de._prevTickAngles=de._tickAngles),de._tickAngles={},de._depth=null;var Mr={};function Qr(sa){var ra=Je+(sa||"tick");return Mr[ra]||(Mr[ra]=Ye(de,ra,ir)),Mr[ra]}if(de.visible){var hn=B.makeTransTickFn(de),Fn=B.makeTransTickLabelFn(de),wn,Pn,aa=de.ticks==="inside",oa=de.ticks==="outside";if(de.tickson==="boundaries"){var jn=tt(de,or);Pn=B.clipEnds(de,jn),wn=aa?Pn:jn}else Pn=B.clipEnds(de,or),wn=aa&&de.ticklabelmode!=="period"?Pn:or;var Ir=de._gridVals=Pn,qn=ut(de,or);if(!Be._hasOnlyLargeSploms){var Wn=de._subplotsWith,ya={};for(Ie=0;Ie<Wn.length;Ie++){Ve=Wn[Ie],Ze=Be._plots[Ve];var ia=Ze[rt+"axis"],xn=ia._mainAxis._id;if(!ya[xn]){ya[xn]=1;var yn=Xe==="x"?"M0,"+ia._offset+"v"+ia._length:"M"+ia._offset+",0h"+ia._length;B.drawGrid(oe,de,{vals:Ir,counterAxis:ia,layer:Ze.gridlayer.select("."+Je),minorLayer:Ze.minorGridlayer.select("."+Je),path:yn,transFn:hn}),B.drawZeroLine(oe,de,{counterAxis:ia,layer:Ze.zerolinelayer,path:yn,transFn:hn})}}}var An,Yn=B.getTickSigns(de),Zn=B.getTickSigns(de,"minor");if(de.ticks||de.minor&&de.minor.ticks){var Xn=B.makeTickPath(de,ir,Yn[2]),ea=B.makeTickPath(de,ir,Zn[2],{minor:!0}),Kn,Ta,la,fa;if(de._anchorAxis&&de.mirror&&de.mirror!==!0?(Kn=B.makeTickPath(de,Fr,Yn[3]),Ta=B.makeTickPath(de,Fr,Zn[3],{minor:!0}),la=Xn+Kn,fa=ea+Ta):(Kn="",Ta="",la=Xn,fa=ea),de.showdividers&&oa&&de.tickson==="boundaries"){var Un={};for(Ie=0;Ie<qn.length;Ie++)Un[qn[Ie].x]=1;An=function(sa){return Un[sa.x]?Kn:la}}else An=function(sa){return sa.minor?fa:la}}if(B.drawTicks(oe,de,{vals:wn,layer:Rt,path:An,transFn:hn}),de.mirror==="allticks"){var ka=Object.keys(de._linepositions||{});for(Ie=0;Ie<ka.length;Ie++){Ve=ka[Ie],Ze=Be._plots[Ve];var La=de._linepositions[Ve]||[],Fa=La[0],Ua=La[1],Ja=La[2],Ia=B.makeTickPath(de,Fa,Ja?Yn[0]:Zn[0],{minor:Ja})+B.makeTickPath(de,Ua,Ja?Yn[1]:Zn[1],{minor:Ja});B.drawTicks(oe,de,{vals:wn,layer:Ze[Xe+"axislayer"],path:Ia,transFn:hn})}}var ta=[];if(ta.push(function(){return B.drawLabels(oe,de,{vals:or,layer:Rt,plotinfo:Ze,transFn:Fn,labelFns:B.makeLabelFns(de,ir)})}),de.type==="multicategory"){var _a={x:2,y:10}[Xe];ta.push(function(){var sa={x:"height",y:"width"}[Xe],ra=Qr()[sa]+_a+(de._tickAngles[Je+"tick"]?de.tickfont.size*se:0);return B.drawLabels(oe,de,{vals:nt(de,or),layer:Rt,cls:Je+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:hn,labelFns:B.makeLabelFns(de,ir+ra*Yn[4])})}),ta.push(function(){return de._depth=Yn[4]*(Qr("tick2")[de.side]-ir),tr(oe,de,{vals:qn,layer:Rt,path:B.makeTickPath(de,ir,Yn[4],{len:de._depth}),transFn:hn})})}else de.title.hasOwnProperty("standoff")&&ta.push(function(){de._depth=Yn[4]*(Qr()[de.side]-ir)});var pi=n.getComponentMethod("rangeslider","isVisible")(de);return!Ge.skipTitle&&!(pi&&de.side==="bottom")&&ta.push(function(){return Er(oe,de)}),ta.push(function(){var sa=de.side.charAt(0),ra=q[de.side].charAt(0),ma=B.getPxPosition(oe,de),da=oa?de.ticklen:0,In,ua,Ka,mi;(de.automargin||pi||de._shiftPusher)&&(de.type==="multicategory"?In=Qr("tick2"):(In=Qr(),Xe==="x"&&sa==="b"&&(de._depth=Math.max(In.width>0?In.bottom-ma:0,da))));var Ti=0,ki=0;if(de._shiftPusher&&(Ti=Math.max(da,In.height>0?sa==="l"?ma-In.left:In.right-ma:0),de.title.text!==Be._dfltTitle[Xe]&&(ki=(de._titleStandoff||0)+(de._titleScoot||0),sa==="l"&&(ki+=cr(de))),de._fullDepth=Math.max(Ti,ki)),de.automargin){ua={x:0,y:0,r:0,l:0,t:0,b:0};var oi=[0,1],ro=typeof de._shift=="number"?de._shift:0;if(Xe==="x"){if(sa==="b"?ua[sa]=de._depth:(ua[sa]=de._depth=Math.max(In.width>0?ma-In.top:0,da),oi.reverse()),In.width>0){var Hi=In.right-(de._offset+de._length);Hi>0&&(ua.xr=1,ua.r=Hi);var no=de._offset-In.left;no>0&&(ua.xl=0,ua.l=no)}}else if(sa==="l"?(de._depth=Math.max(In.height>0?ma-In.left:0,da),ua[sa]=de._depth-ro):(de._depth=Math.max(In.height>0?In.right-ma:0,da),ua[sa]=de._depth+ro,oi.reverse()),In.height>0){var Vi=In.bottom-(de._offset+de._length);Vi>0&&(ua.yb=0,ua.b=Vi);var qi=de._offset-In.top;qi>0&&(ua.yt=1,ua.t=qi)}ua[rt]=de.anchor==="free"?de.position:de._anchorAxis.domain[oi[0]],de.title.text!==Be._dfltTitle[Xe]&&(ua[sa]+=cr(de)+(de.title.standoff||0)),de.mirror&&de.anchor!=="free"&&(Ka={x:0,y:0,r:0,l:0,t:0,b:0},Ka[ra]=de.linewidth,de.mirror&&de.mirror!==!0&&(Ka[ra]+=da),de.mirror===!0||de.mirror==="ticks"?Ka[rt]=de._anchorAxis.domain[oi[1]]:(de.mirror==="all"||de.mirror==="allticks")&&(Ka[rt]=[de._counterDomainMin,de._counterDomainMax][oi[1]]))}pi&&(mi=n.getComponentMethod("rangeslider","autoMarginOpts")(oe,de)),typeof de.automargin=="string"&&(Le(ua,de.automargin),Le(Ka,de.automargin)),e.autoMargin(oe,jr(de),ua),e.autoMargin(oe,Ar(de),Ka),e.autoMargin(oe,kr(de),mi)}),l.syncOrAsync(ta)}};function Le(oe,de){if(oe){var Ge=Object.keys(F).reduce(function(We,Pe){return de.indexOf(Pe)!==-1&&F[Pe].forEach(function(Ie){We[Ie]=1}),We},{});Object.keys(oe).forEach(function(We){Ge[We]||(We.length===1?oe[We]=0:delete oe[We])})}}function tt(oe,de){var Ge=[],We,Pe=function(Ie,Ve){var Ze=Ie.xbnd[Ve];Ze!==null&&Ge.push(l.extendFlat({},Ie,{x:Ze}))};if(de.length){for(We=0;We<de.length;We++)Pe(de[We],0);Pe(de[We-1],1)}return Ge}function nt(oe,de){for(var Ge=[],We={},Pe=0;Pe<de.length;Pe++){var Ie=de[Pe];We[Ie.text2]?We[Ie.text2].push(Ie.x):We[Ie.text2]=[Ie.x]}for(var Ve in We)Ge.push(Ct(oe,l.interp(We[Ve],.5),Ve));return Ge}function ut(oe,de){var Ge=[],We,Pe,Ie=de.length&&de[de.length-1].x<de[0].x,Ve=function(Be,Je){var Xe=Be.xbnd[Je];Xe!==null&&Ge.push(l.extendFlat({},Be,{x:Xe}))};if(oe.showdividers&&de.length){for(We=0;We<de.length;We++){var Ze=de[We];Ze.text2!==Pe&&Ve(Ze,Ie?1:0),Pe=Ze.text2}Ve(de[We-1],Ie?0:1)}return Ge}function Ye(oe,de,Ge){var We,Pe,Ie,Ve;if(oe._selections[de].size())We=1/0,Pe=-1/0,Ie=1/0,Ve=-1/0,oe._selections[de].each(function(){var Be=Zt(this),Je=p.bBox(Be.node().parentNode);We=Math.min(We,Je.top),Pe=Math.max(Pe,Je.bottom),Ie=Math.min(Ie,Je.left),Ve=Math.max(Ve,Je.right)});else{var Ze=B.makeLabelFns(oe,Ge);We=Pe=Ze.yFn({dx:0,dy:0,fontSize:0}),Ie=Ve=Ze.xFn({dx:0,dy:0,fontSize:0})}return{top:We,bottom:Pe,left:Ie,right:Ve,height:Pe-We,width:Ve-Ie}}B.getTickSigns=function(oe,de){var Ge=oe._id.charAt(0),We={x:"top",y:"right"}[Ge],Pe=oe.side===We?1:-1,Ie=[-1,1,Pe,-Pe],Ve=de?(oe.minor||{}).ticks:oe.ticks;return Ve!=="inside"==(Ge==="x")&&(Ie=Ie.map(function(Ze){return-Ze})),oe.side&&Ie.push({l:-1,t:-1,r:1,b:1}[oe.side.charAt(0)]),Ie},B.makeTransTickFn=function(oe){return oe._id.charAt(0)==="x"?function(de){return a(oe._offset+oe.l2p(de.x),0)}:function(de){return a(0,oe._offset+oe.l2p(de.x))}},B.makeTransTickLabelFn=function(oe){var de=xt(oe),Ge=oe.ticklabelshift||0,We=oe.ticklabelstandoff||0,Pe=de[0],Ie=de[1],Ve=oe.range[0]>oe.range[1],Ze=oe.ticklabelposition&&oe.ticklabelposition.indexOf("inside")!==-1,Be=!Ze;if(Ge){var Je=Ve?-1:1;Ge=Ge*Je}if(We){var Xe=oe.side,rt=Ze&&(Xe==="top"||Xe==="left")||Be&&(Xe==="bottom"||Xe==="right")?1:-1;We=We*rt}return oe._id.charAt(0)==="x"?function(kt){return a(Pe+oe._offset+oe.l2p(st(kt))+Ge,Ie+We)}:function(kt){return a(Ie+We,Pe+oe._offset+oe.l2p(st(kt))+Ge)}};function st(oe){return oe.periodX!==void 0?oe.periodX:oe.x}function xt(oe){var de=oe.ticklabelposition||"",Ge=function(Dt){return de.indexOf(Dt)!==-1},We=Ge("top"),Pe=Ge("left"),Ie=Ge("right"),Ve=Ge("bottom"),Ze=Ge("inside"),Be=Ve||Pe||We||Ie;if(!Be&&!Ze)return[0,0];var Je=oe.side,Xe=Be?(oe.tickwidth||0)/2:0,rt=ee,kt=oe.tickfont?oe.tickfont.size:12;return(Ve||We)&&(Xe+=kt*ae,rt+=(oe.linewidth||0)/2),(Pe||Ie)&&(Xe+=(oe.linewidth||0)/2,rt+=ee),Ze&&Je==="top"&&(rt-=kt*(1-ae)),(Pe||We)&&(Xe=-Xe),(Je==="bottom"||Je==="right")&&(rt=-rt),[Be?Xe:0,Ze?rt:0]}B.makeTickPath=function(oe,de,Ge,We){We||(We={});var Pe=We.minor;if(Pe&&!oe.minor)return"";var Ie=We.len!==void 0?We.len:Pe?oe.minor.ticklen:oe.ticklen,Ve=oe._id.charAt(0),Ze=(oe.linewidth||1)/2;return Ve==="x"?"M0,"+(de+Ze*Ge)+"v"+Ie*Ge:"M"+(de+Ze*Ge)+",0h"+Ie*Ge},B.makeLabelFns=function(oe,de,Ge){var We=oe.ticklabelposition||"",Pe=function(jn){return We.indexOf(jn)!==-1},Ie=Pe("top"),Ve=Pe("left"),Ze=Pe("right"),Be=Pe("bottom"),Je=Be||Ve||Ie||Ze,Xe=Pe("inside"),rt=We==="inside"&&oe.ticks==="inside"||!Xe&&oe.ticks==="outside"&&oe.tickson!=="boundaries",kt=0,Dt=0,Rt=rt?oe.ticklen:0;if(Xe?Rt*=-1:Je&&(Rt=0),rt&&(kt+=Rt,Ge)){var Kt=l.deg2rad(Ge);kt=Rt*Math.cos(Kt)+1,Dt=Rt*Math.sin(Kt)}oe.showticklabels&&(rt||oe.showline)&&(kt+=.2*oe.tickfont.size),kt+=(oe.linewidth||1)/2*(Xe?-1:1);var ir={labelStandoff:kt,labelShift:Dt},Fr,or,mr,Mr,Qr=0,hn=oe.side,Fn=oe._id.charAt(0),wn=oe.tickangle,Pn;if(Fn==="x")Pn=!Xe&&hn==="bottom"||Xe&&hn==="top",Mr=Pn?1:-1,Xe&&(Mr*=-1),Fr=Dt*Mr,or=de+kt*Mr,mr=Pn?1:-.2,Math.abs(wn)===90&&(Xe?mr+=ue:wn===-90&&hn==="bottom"?mr=ae:wn===90&&hn==="top"?mr=ue:mr=.5,Qr=ue/2*(wn/90)),ir.xFn=function(jn){return jn.dx+Fr+Qr*jn.fontSize},ir.yFn=function(jn){return jn.dy+or+jn.fontSize*mr},ir.anchorFn=function(jn,Ir){if(Je){if(Ve)return"end";if(Ze)return"start"}return!t(Ir)||Ir===0||Ir===180?"middle":Ir*Mr<0!==Xe?"end":"start"},ir.heightFn=function(jn,Ir,qn){return Ir<-60||Ir>60?-.5*qn:oe.side==="top"!==Xe?-qn:0};else if(Fn==="y"){if(Pn=!Xe&&hn==="left"||Xe&&hn==="right",Mr=Pn?1:-1,Xe&&(Mr*=-1),Fr=kt,or=Dt*Mr,mr=0,!Xe&&Math.abs(wn)===90&&(wn===-90&&hn==="left"||wn===90&&hn==="right"?mr=ae:mr=.5),Xe){var aa=t(wn)?+wn:0;if(aa!==0){var oa=l.deg2rad(aa);Qr=Math.abs(Math.sin(oa))*ae*Mr,mr=0}}ir.xFn=function(jn){return jn.dx+de-(Fr+jn.fontSize*mr)*Mr+Qr*jn.fontSize},ir.yFn=function(jn){return jn.dy+or+jn.fontSize*ue},ir.anchorFn=function(jn,Ir){return t(Ir)&&Math.abs(Ir)===90?"middle":Pn?"end":"start"},ir.heightFn=function(jn,Ir,qn){return oe.side==="right"&&(Ir*=-1),Ir<-30?-qn:Ir<30?-.5*qn:0}}return ir};function Tt(oe){return[oe.text,oe.x,oe.axInfo,oe.font,oe.fontSize,oe.fontColor].join("_")}B.drawTicks=function(oe,de,Ge){Ge=Ge||{};var We=de._id+"tick",Pe=[].concat(de.minor&&de.minor.ticks?Ge.vals.filter(function(Ve){return Ve.minor&&!Ve.noTick}):[]).concat(de.ticks?Ge.vals.filter(function(Ve){return!Ve.minor&&!Ve.noTick}):[]),Ie=Ge.layer.selectAll("path."+We).data(Pe,Tt);Ie.exit().remove(),Ie.enter().append("path").classed(We,1).classed("ticks",1).classed("crisp",Ge.crisp!==!1).each(function(Ve){return r.stroke(i.select(this),Ve.minor?de.minor.tickcolor:de.tickcolor)}).style("stroke-width",function(Ve){return p.crispRound(oe,Ve.minor?de.minor.tickwidth:de.tickwidth,1)+"px"}).attr("d",Ge.path).style("display",null),$r(de,[L]),Ie.attr("transform",Ge.transFn)},B.drawGrid=function(oe,de,Ge){if(Ge=Ge||{},de.tickmode!=="sync"){var We=de._id+"grid",Pe=de.minor&&de.minor.showgrid,Ie=Pe?Ge.vals.filter(function(Fr){return Fr.minor}):[],Ve=de.showgrid?Ge.vals.filter(function(Fr){return!Fr.minor}):[],Ze=Ge.counterAxis;if(Ze&&B.shouldShowZeroLine(oe,de,Ze))for(var Be=de.tickmode==="array",Je=0;Je<Ve.length;Je++){var Xe=Ve[Je].x;if(Be?!Xe:Math.abs(Xe)<de.dtick/100)if(Ve=Ve.slice(0,Je).concat(Ve.slice(Je+1)),Be)Je--;else break}de._gw=p.crispRound(oe,de.gridwidth,1);for(var rt=Pe?p.crispRound(oe,de.minor.gridwidth,1):0,kt=Ge.layer,Dt=Ge.minorLayer,Rt=1;Rt>=0;Rt--){var Kt=Rt?kt:Dt;if(Kt){var ir=Kt.selectAll("path."+We).data(Rt?Ve:Ie,Tt);ir.exit().remove(),ir.enter().append("path").classed(We,1).classed("crisp",Ge.crisp!==!1),ir.attr("transform",Ge.transFn).attr("d",Ge.path).each(function(Fr){return r.stroke(i.select(this),Fr.minor?de.minor.gridcolor:de.gridcolor||"#ddd")}).style("stroke-dasharray",function(Fr){return p.dashStyle(Fr.minor?de.minor.griddash:de.griddash,Fr.minor?de.minor.gridwidth:de.gridwidth)}).style("stroke-width",function(Fr){return(Fr.minor?rt:de._gw)+"px"}).style("display",null),typeof Ge.path=="function"&&ir.attr("d",Ge.path)}}$r(de,[A,O])}},B.drawZeroLine=function(oe,de,Ge){Ge=Ge||Ge;var We=de._id+"zl",Pe=B.shouldShowZeroLine(oe,de,Ge.counterAxis),Ie=Ge.layer.selectAll("path."+We).data(Pe?[{x:0,id:de._id}]:[]);Ie.exit().remove(),Ie.enter().append("path").classed(We,1).classed("zl",1).classed("crisp",Ge.crisp!==!1).each(function(){Ge.layer.selectAll("path").sort(function(Ve,Ze){return X(Ve.id,Ze.id)})}),Ie.attr("transform",Ge.transFn).attr("d",Ge.path).call(r.stroke,de.zerolinecolor||r.defaultLine).style("stroke-width",p.crispRound(oe,de.zerolinewidth,de._gw||1)+"px").style("display",null),$r(de,[P])},B.drawLabels=function(oe,de,Ge){Ge=Ge||{};var We=oe._fullLayout,Pe=de._id,Ie=Ge.cls||Pe+"tick",Ve=Ge.vals.filter(function(xn){return xn.text}),Ze=Ge.labelFns,Be=Ge.secondary?0:de.tickangle,Je=(de._prevTickAngles||{})[Ie],Xe=Ge.layer.selectAll("g."+Ie).data(de.showticklabels?Ve:[],Tt),rt=[];Xe.enter().append("g").classed(Ie,1).append("text").attr("text-anchor","middle").each(function(xn){var yn=i.select(this),An=oe._promises.length;yn.call(o.positionText,Ze.xFn(xn),Ze.yFn(xn)).call(p.font,{family:xn.font,size:xn.fontSize,color:xn.fontColor,weight:xn.fontWeight,style:xn.fontStyle,variant:xn.fontVariant,textcase:xn.fontTextcase,lineposition:xn.fontLineposition,shadow:xn.fontShadow}).text(xn.text).call(o.convertToTspans,oe),oe._promises[An]?rt.push(oe._promises.pop().then(function(){kt(yn,Be)})):kt(yn,Be)}),$r(de,[S]),Xe.exit().remove(),Ge.repositionOnUpdate&&Xe.each(function(xn){i.select(this).select("text").call(o.positionText,Ze.xFn(xn),Ze.yFn(xn))});function kt(xn,yn){xn.each(function(An){var Yn=i.select(this),Zn=Yn.select(".text-math-group"),Xn=Ze.anchorFn(An,yn),ea=Ge.transFn.call(Yn.node(),An)+(t(yn)&&+yn!=0?" rotate("+yn+","+Ze.xFn(An)+","+(Ze.yFn(An)-An.fontSize/2)+")":""),Kn=o.lineCount(Yn),Ta=se*An.fontSize,la=Ze.heightFn(An,t(yn)?+yn:0,(Kn-1)*Ta);if(la&&(ea+=a(0,la)),Zn.empty()){var fa=Yn.select("text");fa.attr({transform:ea,"text-anchor":Xn}),fa.style("opacity",1),de._adjustTickLabelsOverflow&&de._adjustTickLabelsOverflow()}else{var Un=p.bBox(Zn.node()).width,ka=Un*{end:-.5,start:.5}[Xn];Zn.attr("transform",ea+a(ka,0))}})}de._adjustTickLabelsOverflow=function(){var xn=de.ticklabeloverflow;if(!(!xn||xn==="allow")){var yn=xn.indexOf("hide")!==-1,An=de._id.charAt(0)==="x",Yn=0,Zn=An?oe._fullLayout.width:oe._fullLayout.height;if(xn.indexOf("domain")!==-1){var Xn=l.simpleMap(de.range,de.r2l);Yn=de.l2p(Xn[0])+de._offset,Zn=de.l2p(Xn[1])+de._offset}var ea=Math.min(Yn,Zn),Kn=Math.max(Yn,Zn),Ta=de.side,la=1/0,fa=-1/0;Xe.each(function(Fa){var Ua=i.select(this),Ja=Ua.select(".text-math-group");if(Ja.empty()){var Ia=p.bBox(Ua.node()),ta=0;An?(Ia.right>Kn||Ia.left<ea)&&(ta=1):(Ia.bottom>Kn||Ia.top+(de.tickangle?0:Fa.fontSize/4)<ea)&&(ta=1);var _a=Ua.select("text");ta?yn&&_a.style("opacity",0):(_a.style("opacity",1),Ta==="bottom"||Ta==="right"?la=Math.min(la,An?Ia.top:Ia.left):la=-1/0,Ta==="top"||Ta==="left"?fa=Math.max(fa,An?Ia.bottom:Ia.right):fa=1/0)}});for(var Un in We._plots){var ka=We._plots[Un];if(!(de._id!==ka.xaxis._id&&de._id!==ka.yaxis._id)){var La=An?ka.yaxis:ka.xaxis;La&&(La["_visibleLabelMin_"+de._id]=la,La["_visibleLabelMax_"+de._id]=fa)}}}},de._hideCounterAxisInsideTickLabels=function(xn){var yn=de._id.charAt(0)==="x",An=[];for(var Yn in We._plots){var Zn=We._plots[Yn];de._id!==Zn.xaxis._id&&de._id!==Zn.yaxis._id||An.push(yn?Zn.yaxis:Zn.xaxis)}An.forEach(function(Xn,ea){Xn&&Jr(Xn)&&(xn||[P,O,A,L,S]).forEach(function(Kn){var Ta=Kn.K==="tick"&&Kn.L==="text"&&de.ticklabelmode==="period",la=We._plots[de._mainSubplot],fa;Kn.K===P.K?fa=la.zerolinelayer.selectAll("."+de._id+"zl"):Kn.K===O.K?fa=la.minorGridlayer.selectAll("."+de._id):Kn.K===A.K?fa=la.gridlayer.selectAll("."+de._id):fa=la[de._id.charAt(0)+"axislayer"],fa.each(function(){var Un=i.select(this);Kn.L&&(Un=Un.selectAll(Kn.L)),Un.each(function(ka){var La=de.l2p(Ta?st(ka):ka.x)+de._offset,Fa=i.select(this);La<de["_visibleLabelMax_"+Xn._id]&&La>de["_visibleLabelMin_"+Xn._id]?Fa.style("display","none"):Kn.K==="tick"&&!ea&&Fa.style("display",null)})})})})},kt(Xe,Je+1?Je:Be);function Dt(){return rt.length&&Promise.all(rt)}var Rt=null;function Kt(){if(kt(Xe,Be),Ve.length&&de.autotickangles&&(de.type!=="log"||String(de.dtick).charAt(0)!=="D")){Rt=de.autotickangles[0];var xn=0,yn=[],An,Yn=1;Xe.each(function(In){xn=Math.max(xn,In.fontSize);var ua=de.l2p(In.x),Ka=Zt(this),mi=p.bBox(Ka.node());Yn=Math.max(Yn,o.lineCount(Ka)),yn.push({top:0,bottom:10,height:10,left:ua-mi.width/2,right:ua+mi.width/2+2,width:mi.width+2})});var Zn=(de.tickson==="boundaries"||de.showdividers)&&!Ge.secondary,Xn=Ve.length,ea=Math.abs((Ve[Xn-1].x-Ve[0].x)*de._m)/(Xn-1),Kn=Zn?ea/2:ea,Ta=Zn?de.ticklen:xn*1.25*Yn,la=Math.sqrt(Math.pow(Kn,2)+Math.pow(Ta,2)),fa=Kn/la,Un=de.autotickangles.map(function(In){return In*Math.PI/180}),ka=Un.find(function(In){return Math.abs(Math.cos(In))<=fa});ka===void 0&&(ka=Un.reduce(function(In,ua){return Math.abs(Math.cos(In))<Math.abs(Math.cos(ua))?In:ua},Un[0]));var La=ka*(180/Math.PI);if(Zn){var Fa=2;for(de.ticks&&(Fa+=de.tickwidth/2),An=0;An<yn.length;An++){var Ua=Ve[An].xbnd,Ja=yn[An];if(Ua[0]!==null&&Ja.left-de.l2p(Ua[0])<Fa||Ua[1]!==null&&de.l2p(Ua[1])-Ja.right<Fa){Rt=La;break}}}else{var Ia=de.ticklabelposition||"",ta=function(In){return Ia.indexOf(In)!==-1},_a=ta("top"),pi=ta("left"),sa=ta("right"),ra=ta("bottom"),ma=ra||pi||_a||sa,da=ma?(de.tickwidth||0)+2*ee:0;for(An=0;An<yn.length-1;An++)if(l.bBoxIntersect(yn[An],yn[An+1],da)){Rt=La;break}}Rt&&kt(Xe,Rt)}}de._selections&&(de._selections[Ie]=Xe);var ir=[Dt];de.automargin&&We._redrawFromAutoMarginCount&&Je===90?(Rt=Je,ir.push(function(){kt(Xe,Je)})):ir.push(Kt),de._tickAngles&&ir.push(function(){de._tickAngles[Ie]=Rt===null?t(Be)?Be:0:Rt});var Fr=function(){var xn=0,yn=0;return Xe.each(function(An,Yn){var Zn=Zt(this),Xn=Zn.select(".text-math-group");if(Xn.empty()){var ea;de._vals[Yn]&&(ea=de._vals[Yn].bb||p.bBox(Zn.node()),de._vals[Yn].bb=ea),xn=Math.max(xn,ea.width),yn=Math.max(yn,ea.height)}}),{labelsMaxW:xn,labelsMaxH:yn}},or=de._anchorAxis;if(or&&(or.autorange||or.insiderange)&&Jr(de)&&!N(We,de._id)&&(We._insideTickLabelsUpdaterange||(We._insideTickLabelsUpdaterange={}),or.autorange&&(We._insideTickLabelsUpdaterange[or._name+".autorange"]=or.autorange,ir.push(Fr)),or.insiderange)){var mr=Fr(),Mr=de._id.charAt(0)==="y"?mr.labelsMaxW:mr.labelsMaxH;Mr+=2*ee,de.ticklabelposition==="inside"&&(Mr+=de.ticklen||0);var Qr=de.side==="right"||de.side==="top"?1:-1,hn=Qr===1?1:0,Fn=Qr===1?0:1,wn=[];wn[Fn]=or.range[Fn];var Pn=or.range,aa=or.r2p(Pn[hn]),oa=or.r2p(Pn[Fn]),jn=We._insideTickLabelsUpdaterange[or._name+".range"];if(jn){var Ir=or.r2p(jn[hn]),qn=or.r2p(jn[Fn]),Wn=Qr*(de._id.charAt(0)==="y"?1:-1);Wn*aa<Wn*Ir&&(aa=Ir,wn[hn]=Pn[hn]=jn[hn]),Wn*oa>Wn*qn&&(oa=qn,wn[Fn]=Pn[Fn]=jn[Fn])}var ya=Math.abs(oa-aa);ya-Mr>0?(ya-=Mr,Mr*=1+Mr/ya):Mr=0,de._id.charAt(0)!=="y"&&(Mr=-Mr),wn[hn]=or.p2r(or.r2p(Pn[hn])+Qr*Mr),or.autorange==="min"||or.autorange==="max reversed"?(wn[0]=null,or._rangeInitial0=void 0,or._rangeInitial1=void 0):(or.autorange==="max"||or.autorange==="min reversed")&&(wn[1]=null,or._rangeInitial0=void 0,or._rangeInitial1=void 0),We._insideTickLabelsUpdaterange[or._name+".range"]=wn}var ia=l.syncOrAsync(ir);return ia&&ia.then&&oe._promises.push(ia),ia};function tr(oe,de,Ge){var We=de._id+"divider",Pe=Ge.vals,Ie=Ge.layer.selectAll("path."+We).data(Pe,Tt);Ie.exit().remove(),Ie.enter().insert("path",":first-child").classed(We,1).classed("crisp",1).call(r.stroke,de.dividercolor).style("stroke-width",p.crispRound(oe,de.dividerwidth,1)+"px"),Ie.attr("transform",Ge.transFn).attr("d",Ge.path)}B.getPxPosition=function(oe,de){var Ge=oe._fullLayout._size,We=de._id.charAt(0),Pe=de.side,Ie;if(de.anchor!=="free"?Ie=de._anchorAxis:We==="x"?Ie={_offset:Ge.t+(1-(de.position||0))*Ge.h,_length:0}:We==="y"&&(Ie={_offset:Ge.l+(de.position||0)*Ge.w+de._shift,_length:0}),Pe==="top"||Pe==="left")return Ie._offset;if(Pe==="bottom"||Pe==="right")return Ie._offset+Ie._length};function cr(oe){var de=oe.title.font.size,Ge=(oe.title.text.match(o.BR_TAG_ALL)||[]).length;return oe.title.hasOwnProperty("standoff")?de*(ae+Ge*se):Ge?de*(Ge+1)*se:de}function Er(oe,de){var Ge=oe._fullLayout,We=de._id,Pe=We.charAt(0),Ie=de.title.font.size,Ve,Ze=(de.title.text.match(o.BR_TAG_ALL)||[]).length;if(de.title.hasOwnProperty("standoff"))de.side==="bottom"||de.side==="right"?Ve=de._depth+de.title.standoff+Ie*ae:(de.side==="top"||de.side==="left")&&(Ve=de._depth+de.title.standoff+Ie*(ue+Ze*se));else{var Be=Jr(de);if(de.type==="multicategory")Ve=de._depth;else{var Je=1.5*Ie;Be&&(Je=.5*Ie,de.ticks==="outside"&&(Je+=de.ticklen)),Ve=10+Je+(de.linewidth?de.linewidth-1:0)}Be||(Pe==="x"?Ve+=de.side==="top"?Ie*(de.showticklabels?1:0):Ie*(de.showticklabels?1.5:.5):Ve+=de.side==="right"?Ie*(de.showticklabels?1:.5):Ie*(de.showticklabels?.5:0))}var Xe=B.getPxPosition(oe,de),rt,kt,Dt;Pe==="x"?(kt=de._offset+de._length/2,Dt=de.side==="top"?Xe-Ve:Xe+Ve):(Dt=de._offset+de._length/2,kt=de.side==="right"?Xe+Ve:Xe-Ve,rt={rotate:"-90",offset:0});var Rt;if(de.type!=="multicategory"){var Kt=de._selections[de._id+"tick"];if(Rt={selection:Kt,side:de.side},Kt&&Kt.node()&&Kt.node().parentNode){var ir=p.getTranslate(Kt.node().parentNode);Rt.offsetLeft=ir.x,Rt.offsetTop=ir.y}de.title.hasOwnProperty("standoff")&&(Rt.pad=0)}return de._titleStandoff=Ve,s.draw(oe,We+"title",{propContainer:de,propName:de._name+".title.text",placeholder:Ge._dfltTitle[Pe],avoid:Rt,transform:rt,attributes:{x:kt,y:Dt,"text-anchor":"middle"}})}B.shouldShowZeroLine=function(oe,de,Ge){var We=l.simpleMap(de.range,de.r2l);return We[0]*We[1]<=0&&de.zeroline&&(de.type==="linear"||de.type==="-")&&!(de.rangebreaks&&de.maskBreaks(0)===G)&&(nr(de,0)||!yr(oe,de,Ge,We)||qt(oe,de))},B.clipEnds=function(oe,de){return de.filter(function(Ge){return nr(oe,Ge.x)})};function nr(oe,de){var Ge=oe.l2p(de);return Ge>1&&Ge<oe._length-1}function yr(oe,de,Ge,We){var Pe=Ge._mainAxis;if(!Pe)return;var Ie=oe._fullLayout,Ve=de._id.charAt(0),Ze=B.counterLetter(de._id),Be=de._offset+(Math.abs(We[0])<Math.abs(We[1])==(Ve==="x")?0:de._length);function Je(Rt){if(!Rt.showline||!Rt.linewidth)return!1;var Kt=Math.max((Rt.linewidth+de.zerolinewidth)/2,1);function ir(mr){return typeof mr=="number"&&Math.abs(mr-Be)<Kt}if(ir(Rt._mainLinePosition)||ir(Rt._mainMirrorPosition))return!0;var Fr=Rt._linepositions||{};for(var or in Fr)if(ir(Fr[or][0])||ir(Fr[or][1]))return!0}var Xe=Ie._plots[Ge._mainSubplot];if(!(Xe.mainplotinfo||Xe).overlays.length)return Je(Ge);for(var rt=B.list(oe,Ze),kt=0;kt<rt.length;kt++){var Dt=rt[kt];if(Dt._mainAxis===Pe&&Je(Dt))return!0}}function qt(oe,de){for(var Ge=oe._fullData,We=de._mainSubplot,Pe=de._id.charAt(0),Ie=0;Ie<Ge.length;Ie++){var Ve=Ge[Ie];if(Ve.visible===!0&&Ve.xaxis+Ve.yaxis===We&&(n.traceIs(Ve,"bar-like")&&Ve.orientation==={x:"h",y:"v"}[Pe]||Ve.fill&&Ve.fill.charAt(Ve.fill.length-1)===Pe))return!0}return!1}function Zt(oe){var de=i.select(oe),Ge=de.select(".text-math-group");return Ge.empty()?de.select("text"):Ge}B.allowAutoMargin=function(oe){for(var de=B.list(oe,"",!0),Ge=0;Ge<de.length;Ge++){var We=de[Ge];We.automargin&&(e.allowAutoMargin(oe,jr(We)),We.mirror&&e.allowAutoMargin(oe,Ar(We))),n.getComponentMethod("rangeslider","isVisible")(We)&&e.allowAutoMargin(oe,kr(We))}};function jr(oe){return oe._id+".automargin"}function Ar(oe){return jr(oe)+".mirror"}function kr(oe){return oe._id+".rangeslider"}B.swap=function(oe,de){for(var Ge=rr(oe,de),We=0;We<Ge.length;We++)xr(oe,Ge[We].x,Ge[We].y)};function rr(oe,de){var Ge=[],We,Pe;for(We=0;We<de.length;We++){var Ie=[],Ve=oe._fullData[de[We]].xaxis,Ze=oe._fullData[de[We]].yaxis;if(!(!Ve||!Ze)){for(Pe=0;Pe<Ge.length;Pe++)(Ge[Pe].x.indexOf(Ve)!==-1||Ge[Pe].y.indexOf(Ze)!==-1)&&Ie.push(Pe);if(!Ie.length){Ge.push({x:[Ve],y:[Ze]});continue}var Be=Ge[Ie[0]],Je;if(Ie.length>1)for(Pe=1;Pe<Ie.length;Pe++)Je=Ge[Ie[Pe]],zt(Be.x,Je.x),zt(Be.y,Je.y);zt(Be.x,[Ve]),zt(Be.y,[Ze])}}return Ge}function zt(oe,de){for(var Ge=0;Ge<de.length;Ge++)oe.indexOf(de[Ge])===-1&&oe.push(de[Ge])}function xr(oe,de,Ge){var We=[],Pe=[],Ie=oe.layout,Ve,Ze;for(Ve=0;Ve<de.length;Ve++)We.push(B.getFromId(oe,de[Ve]));for(Ve=0;Ve<Ge.length;Ve++)Pe.push(B.getFromId(oe,Ge[Ve]));var Be=Object.keys(u),Je=["anchor","domain","overlaying","position","side","tickangle","editType"],Xe=["linear","log"];for(Ve=0;Ve<Be.length;Ve++){var rt=Be[Ve],kt=We[0][rt],Dt=Pe[0][rt],Rt=!0,Kt=!1,ir=!1;if(!(rt.charAt(0)==="_"||typeof kt=="function"||Je.indexOf(rt)!==-1)){for(Ze=1;Ze<We.length&&Rt;Ze++){var Fr=We[Ze][rt];rt==="type"&&Xe.indexOf(kt)!==-1&&Xe.indexOf(Fr)!==-1&&kt!==Fr?Kt=!0:Fr!==kt&&(Rt=!1)}for(Ze=1;Ze<Pe.length&&Rt;Ze++){var or=Pe[Ze][rt];rt==="type"&&Xe.indexOf(Dt)!==-1&&Xe.indexOf(or)!==-1&&Dt!==or?ir=!0:Pe[Ze][rt]!==Dt&&(Rt=!1)}Rt&&(Kt&&(Ie[We[0]._name].type="linear"),ir&&(Ie[Pe[0]._name].type="linear"),Gr(Ie,rt,We,Pe,oe._fullLayout._dfltTitle))}}for(Ve=0;Ve<oe._fullLayout.annotations.length;Ve++){var mr=oe._fullLayout.annotations[Ve];de.indexOf(mr.xref)!==-1&&Ge.indexOf(mr.yref)!==-1&&l.swapAttrs(Ie.annotations[Ve],["?"])}}function Gr(oe,de,Ge,We,Pe){var Ie=l.nestedProperty,Ve=Ie(oe[Ge[0]._name],de).get(),Ze=Ie(oe[We[0]._name],de).get(),Be;for(de==="title"&&(Ve&&Ve.text===Pe.x&&(Ve.text=Pe.y),Ze&&Ze.text===Pe.y&&(Ze.text=Pe.x)),Be=0;Be<Ge.length;Be++)Ie(oe,Ge[Be]._name+"."+de).set(Ze);for(Be=0;Be<We.length;Be++)Ie(oe,We[Be]._name+"."+de).set(Ve)}function fn(oe){return oe._id==="angularaxis"}function br(oe,de){for(var Ge=de._rangebreaks.length,We=0;We<Ge;We++){var Pe=de._rangebreaks[We];if(oe>=Pe.min&&oe<Pe.max)return Pe.max}return oe}function Jr(oe){return(oe.ticklabelposition||"").indexOf("inside")!==-1}function $r(oe,de){Jr(oe._anchorAxis||{})&&oe._hideCounterAxisInsideTickLabels&&oe._hideCounterAxisInsideTickLabels(de)}function Sn(oe,de,Ge,We){var Pe=oe.anchor!=="free"&&(oe.overlaying===void 0||oe.overlaying===!1)?oe._id:oe.overlaying,Ie;We?Ie=oe.side==="right"?de:-de:Ie=de,Pe in Ge||(Ge[Pe]={}),oe.side in Ge[Pe]||(Ge[Pe][oe.side]=0),Ge[Pe][oe.side]+=Ie}function Bt(oe,de){return oe.autoshift?de[oe.overlaying][oe.side]:oe.shift||0}function gn(oe,de){return/%f/.test(de)?oe>=U:/%L/.test(de)?oe>=R:/%[SX]/.test(de)?oe>=z:/%M/.test(de)?oe>=H:/%[HI]/.test(de)?oe>=C:/%p/.test(de)?oe>=I:/%[Aadejuwx]/.test(de)?oe>=D:/%[UVW]/.test(de)?oe>=K:/%[Bbm]/.test(de)?oe>=w:/%[q]/.test(de)?oe>=h:/%[Yy]/.test(de)?oe>=y:!0}}),Pp=xe((E,k)=>{k.exports=function(i,t,e){var n,l;if(e){var a=t==="reversed"||t==="min reversed"||t==="max reversed";n=e[a?1:0],l=e[a?0:1]}var o=i("autorangeoptions.minallowed",l===null?n:void 0),s=i("autorangeoptions.maxallowed",n===null?l:void 0);o===void 0&&i("autorangeoptions.clipmin"),s===void 0&&i("autorangeoptions.clipmax"),i("autorangeoptions.include")}}),Uf=xe((E,k)=>{var i=Pp();k.exports=function(t,e,n,l){var a=e._template||{},o=e.type||a.type||"-";n("minallowed"),n("maxallowed");var s=n("range");if(!s){var r;!l.noInsiderange&&o!=="log"&&(r=n("insiderange"),r&&(r[0]===null||r[1]===null)&&(e.insiderange=!1,r=void 0),r&&(s=n("range",r)))}var p=e.getAutorangeDflt(s,l),u=n("autorange",p),d;s&&(s[0]===null&&s[1]===null||(s[0]===null||s[1]===null)&&(u==="reversed"||u===!0)||s[0]!==null&&(u==="min"||u==="max reversed")||s[1]!==null&&(u==="max"||u==="min reversed"))&&(s=void 0,delete e.range,e.autorange=!0,d=!0),d||(p=e.getAutorangeDflt(s,l),u=n("autorange",p)),u&&(i(n,u,s),(o==="linear"||o==="-")&&n("rangemode")),e.cleanRange()}}),Fp=xe((E,k)=>{var i={left:0,top:0};k.exports=t;function t(n,l,a){l=l||n.currentTarget||n.srcElement,Array.isArray(a)||(a=[0,0]);var o=n.clientX||0,s=n.clientY||0,r=e(l);return a[0]=o-r.left,a[1]=s-r.top,a}function e(n){return n===window||n===document||n===document.body?i:n.getBoundingClientRect()}}),Hf=xe((E,k)=>{var i=kf();function t(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{e=!1}return e}k.exports=i&&t()}),Ip=xe((E,k)=>{k.exports=function(i,t,e,n,l){var a=(i-e)/(n-e),o=a+t/(n-e),s=(a+o)/2;return l==="left"||l==="bottom"?a:l==="center"||l==="middle"?s:l==="right"||l==="top"?o:a<2/3-s?a:o>4/3-s?o:s}}),Np=xe((E,k)=>{var i=sr(),t=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];k.exports=function(e,n,l,a){return l==="left"?e=0:l==="center"?e=1:l==="right"?e=2:e=i.constrain(Math.floor(e*3),0,2),a==="bottom"?n=0:a==="middle"?n=1:a==="top"?n=2:n=i.constrain(Math.floor(n*3),0,2),t[n][e]}}),Rp=xe((E,k)=>{var i=Es(),t=Qu(),e=Ls().getGraphDiv,n=Os(),l=k.exports={};l.wrapped=function(a,o,s){a=e(a),a._fullLayout&&t.clear(a._fullLayout._uid+n.HOVERID),l.raw(a,o,s)},l.raw=function(a,o){var s=a._fullLayout,r=a._hoverdata;o||(o={}),!(o.target&&!a._dragged&&i.triggerHandler(a,"plotly_beforehover",o)===!1)&&(s._hoverlayer.selectAll("g").remove(),s._hoverlayer.selectAll("line").remove(),s._hoverlayer.selectAll("circle").remove(),a._hoverdata=void 0,o.target&&r&&a.emit("plotly_unhover",{event:o,points:r}))}}),Fi=xe((E,k)=>{var i=Fp(),t=Mf(),e=Hf(),n=sr().removeElement,l=Za(),a=k.exports={};a.align=Ip(),a.getCursor=Np();var o=Rp();a.unhover=o.wrapped,a.unhoverRaw=o.raw,a.init=function(p){var u=p.gd,d=1,g=u._context.doubleClickDelay,v=p.element,x,y,m,c,h,b,_,w;u._mouseDownTime||(u._mouseDownTime=0),v.style.pointerEvents="all",v.onmousedown=I,e?(v._ontouchstart&&v.removeEventListener("touchstart",v._ontouchstart),v._ontouchstart=I,v.addEventListener("touchstart",I,{passive:!1})):v.ontouchstart=I;function K(z,R,U){return Math.abs(z)<U&&(z=0),Math.abs(R)<U&&(R=0),[z,R]}var D=p.clampFn||K;function I(z){u._dragged=!1,u._dragging=!0;var R=r(z);x=R[0],y=R[1],_=z.target,b=z,w=z.buttons===2||z.ctrlKey,typeof z.clientX>"u"&&typeof z.clientY>"u"&&(z.clientX=x,z.clientY=y),m=new Date().getTime(),m-u._mouseDownTime<g?d+=1:(d=1,u._mouseDownTime=m),p.prepFn&&p.prepFn(z,x,y),t&&!w?(h=s(),h.style.cursor=window.getComputedStyle(v).cursor):t||(h=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(v).cursor),document.addEventListener("mouseup",H),document.addEventListener("touchend",H),p.dragmode!==!1&&(z.preventDefault(),document.addEventListener("mousemove",C),document.addEventListener("touchmove",C,{passive:!1}))}function C(z){z.preventDefault();var R=r(z),U=p.minDrag||l.MINDRAG,Z=D(R[0]-x,R[1]-y,U),G=Z[0],P=Z[1];(G||P)&&(u._dragged=!0,a.unhover(u,z)),u._dragged&&p.moveFn&&!w&&(u._dragdata={element:v,dx:G,dy:P},p.moveFn(G,P))}function H(z){if(delete u._dragdata,p.dragmode!==!1&&(z.preventDefault(),document.removeEventListener("mousemove",C),document.removeEventListener("touchmove",C)),document.removeEventListener("mouseup",H),document.removeEventListener("touchend",H),t?n(h):c&&(h.documentElement.style.cursor=c,c=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>g&&(d=Math.max(d-1,1)),u._dragged)p.doneFn&&p.doneFn();else{var R;b.target===_?R=b:(R={target:_,srcElement:_,toElement:_},Object.keys(b).concat(Object.keys(b.__proto__)).forEach(U=>{var Z=b[U];!R[U]&&typeof Z!="function"&&(R[U]=Z)})),p.clickFn&&p.clickFn(d,R),w||_.dispatchEvent(new MouseEvent("click",z))}u._dragging=!1,u._dragged=!1}};function s(){var p=document.createElement("div");p.className="dragcover";var u=p.style;return u.position="fixed",u.left=0,u.right=0,u.top=0,u.bottom=0,u.zIndex=999999999,u.background="none",document.body.appendChild(p),p}a.coverSlip=s;function r(p){return i(p.changedTouches?p.changedTouches[0]:p,document.body)}}),So=xe((E,k)=>{k.exports=function(i,t){(i.attr("class")||"").split(" ").forEach(function(e){e.indexOf("cursor-")===0&&i.classed(e,!1)}),t&&i.classed("cursor-"+t,!0)}}),jp=xe((E,k)=>{var i=So(),t="data-savedcursor",e="!!";k.exports=function(n,l){var a=n.attr(t);if(l){if(!a){for(var o=(n.attr("class")||"").split(" "),s=0;s<o.length;s++){var r=o[s];r.indexOf("cursor-")===0&&n.attr(t,r.substr(7)).classed(r,!1)}n.attr(t)||n.attr(t,e)}i(n,l)}else a&&(n.attr(t,null),a===e?i(n):i(n,a))}}),Vf=xe((E,k)=>{var i=ei(),t=Bi();k.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:i({editType:"legend"}),grouptitlefont:i({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:i({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}),oc=xe(E=>{E.isGrouped=function(k){return(k.traceorder||"").indexOf("grouped")!==-1},E.isVertical=function(k){return k.orientation!=="h"},E.isReversed=function(k){return(k.traceorder||"").indexOf("reversed")!==-1}}),qf=xe((E,k)=>{var i=mn(),t=sr(),e=ca(),n=Ci(),l=Vf(),a=Ml(),o=oc();function s(r,p,u,d){var g=p[r]||{},v=e.newContainer(u,r);function x(se,q){return t.coerce(g,v,l,se,q)}var y=t.coerceFont(x,"font",u.font);x("bgcolor",u.paper_bgcolor),x("bordercolor");var m=x("visible");if(m){for(var c,h=function(se,q){var ee=c._input,B=c;return t.coerce(ee,B,n,se,q)},b=u.font||{},_=t.coerceFont(x,"grouptitlefont",b,{overrideDflt:{size:Math.round(b.size*1.1)}}),w=0,K=!1,D="normal",I=(u.shapes||[]).filter(function(se){return se.showlegend}),C=d.concat(I).filter(function(se){return r===(se.legend||"legend")}),H=0;H<C.length;H++)if(c=C[H],!!c.visible){var z=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(w++,c.showlegend&&(K=!0,(!z&&i.traceIs(c,"pie-like")||c._input.showlegend===!0)&&w++),t.coerceFont(h,"legendgrouptitle.font",_)),(!z&&i.traceIs(c,"bar")&&u.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(D=o.isGrouped({traceorder:D})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(D=o.isReversed({traceorder:D})?"reversed+grouped":"grouped")}var R=t.coerce(p,u,a,"showlegend",K&&w>(r==="legend"?1:0));if(R===!1&&(u[r]=void 0),!(R===!1&&!g.uirevision)&&(x("uirevision",u.uirevision),R!==!1)){x("borderwidth");var U=x("orientation"),Z=x("yref"),G=x("xref"),P=U==="h",A=Z==="paper",O=G==="paper",L,S,F,W="left";P?(L=0,i.getComponentMethod("rangeslider","isVisible")(p.xaxis)?A?(S=1.1,F="bottom"):(S=1,F="top"):A?(S=-.1,F="top"):(S=0,F="bottom")):(S=1,F="auto",O?L=1.02:(L=1,W="right")),t.coerce(g,v,{x:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:L}},"x"),t.coerce(g,v,{y:{valType:"number",editType:"legend",min:A?-2:0,max:A?3:1,dflt:S}},"y"),x("traceorder",D),o.isGrouped(u[r])&&x("tracegroupgap"),x("entrywidth"),x("entrywidthmode"),x("indentation"),x("itemsizing"),x("itemwidth"),x("itemclick"),x("itemdoubleclick"),x("groupclick"),x("xanchor",W),x("yanchor",F),x("valign"),t.noneOrAll(g,v,["x","y"]);var ue=x("title.text");if(ue){x("title.side",P?"left":"top");var ae=t.extendFlat({},y,{size:t.bigFont(y.size)});t.coerceFont(x,"title.font",ae)}}}}k.exports=function(r,p,u){var d,g=u.slice(),v=p.shapes;if(v)for(d=0;d<v.length;d++){var x=v[d];if(x.showlegend){var y={_input:x._input,visible:x.visible,showlegend:x.showlegend,legend:x.legend};g.push(y)}}var m=["legend"];for(d=0;d<g.length;d++)t.pushUnique(m,g[d].legend);for(p._legends=[],d=0;d<m.length;d++){var c=m[d];s(c,r,p,g),p[c]&&p[c].visible&&(p[c]._id=c),p._legends.push(c)}}}),zp=xe((E,k)=>{var i=mn(),t=sr(),e=t.pushUnique,n=!0;k.exports=function(l,a,o){var s=a._fullLayout;if(a._dragged||a._editing)return;var r=s.legend.itemclick,p=s.legend.itemdoubleclick,u=s.legend.groupclick;o===1&&r==="toggle"&&p==="toggleothers"&&n&&a.data&&a._context.showTips&&t.notifier(t._(a,"Double-click on legend to isolate one trace"),"long"),n=!1;var d;if(o===1?d=r:o===2&&(d=p),!d)return;var g=u==="togglegroup",v=s.hiddenlabels?s.hiddenlabels.slice():[],x=l.data()[0][0];if(x.groupTitle&&x.noClick)return;var y=a._fullData,m=(s.shapes||[]).filter(function(Ae){return Ae.showlegend}),c=y.concat(m),h=x.trace;h._isShape&&(h=h._fullInput);var b=h.legendgroup,_,w,K,D,I,C,H={},z=[],R=[],U=[];function Z(Ae,T){var V=z.indexOf(Ae),j=H.visible;return j||(j=H.visible=[]),z.indexOf(Ae)===-1&&(z.push(Ae),V=z.length-1),j[V]=T,V}var G=(s.shapes||[]).map(function(Ae){return Ae._input}),P=!1;function A(Ae,T){G[Ae].visible=T,P=!0}function O(Ae,T){if(!(x.groupTitle&&!g)){var V=Ae._fullInput||Ae,j=V._isShape,he=V.index;he===void 0&&(he=V._index);var be=V.visible===!1?!1:T;j?A(he,be):Z(he,be)}}var L=h.legend,S=h._fullInput,F=S&&S._isShape;if(!F&&i.traceIs(h,"pie-like")){var W=x.label,ue=v.indexOf(W);if(d==="toggle")ue===-1?v.push(W):v.splice(ue,1);else if(d==="toggleothers"){var ae=ue!==-1,se=[];for(_=0;_<a.calcdata.length;_++){var q=a.calcdata[_];for(w=0;w<q.length;w++){var ee=q[w],B=ee.label;L===q[0].trace.legend&&W!==B&&(v.indexOf(B)===-1&&(ae=!0),e(v,B),se.push(B))}}if(!ae)for(var re=0;re<se.length;re++){var J=v.indexOf(se[re]);J!==-1&&v.splice(J,1)}}i.call("_guiRelayout",a,"hiddenlabels",v)}else{var X=b&&b.length,N=[],$;if(X)for(_=0;_<c.length;_++)$=c[_],$.visible&&$.legendgroup===b&&N.push(_);if(d==="toggle"){var te;switch(h.visible){case!0:te="legendonly";break;case!1:te=!1;break;case"legendonly":te=!0;break}if(X)if(g)for(_=0;_<c.length;_++){var le=c[_];le.visible!==!1&&le.legendgroup===b&&O(le,te)}else O(h,te);else O(h,te)}else if(d==="toggleothers"){var pe,fe,ye,Me,He,Ne=!0;for(_=0;_<c.length;_++)if(He=c[_],pe=He===h,ye=He.showlegend!==!0,!(pe||ye)&&(fe=X&&He.legendgroup===b,!fe&&He.legend===L&&He.visible===!0&&!i.traceIs(He,"notLegendIsolatable"))){Ne=!1;break}for(_=0;_<c.length;_++)if(He=c[_],!(He.visible===!1||He.legend!==L)&&!i.traceIs(He,"notLegendIsolatable"))switch(h.visible){case"legendonly":O(He,!0);break;case!0:Me=Ne?!0:"legendonly",pe=He===h,ye=He.showlegend!==!0&&!He.legendgroup,fe=pe||X&&He.legendgroup===b,O(He,fe||ye?!0:Me);break}}for(_=0;_<R.length;_++)if(K=R[_],!!K){var ze=K.constructUpdate(),Re=Object.keys(ze);for(w=0;w<Re.length;w++)D=Re[w],C=H[D]=H[D]||[],C[U[_]]=ze[D]}for(I=Object.keys(H),_=0;_<I.length;_++)for(D=I[_],w=0;w<z.length;w++)H[D].hasOwnProperty(w)||(H[D][w]=void 0);P?i.call("_guiUpdate",a,H,{shapes:G},z):i.call("_guiRestyle",a,H,z)}}}),Wf=xe((E,k)=>{k.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),Bp=xe((E,k)=>{var i=mn(),t=oc();k.exports=function(e,n,l){var a=n._inHover,o=t.isGrouped(n),s=t.isReversed(n),r={},p=[],u=!1,d={},g=0,v=0,x,y;function m(O,L,S){if(n.visible!==!1&&!(l&&O!==n._id))if(L===""||!t.isGrouped(n)){var F="~~i"+g;p.push(F),r[F]=[S],g++}else p.indexOf(L)===-1?(p.push(L),u=!0,r[L]=[S]):r[L].push(S)}for(x=0;x<e.length;x++){var c=e[x],h=c[0],b=h.trace,_=b.legend,w=b.legendgroup;if(!(!a&&(!b.visible||!b.showlegend)))if(i.traceIs(b,"pie-like"))for(d[w]||(d[w]={}),y=0;y<c.length;y++){var K=c[y].label;d[w][K]||(m(_,w,{label:K,color:c[y].color,i:c[y].i,trace:b,pts:c[y].pts}),d[w][K]=!0,v=Math.max(v,(K||"").length))}else m(_,w,h),v=Math.max(v,(b.name||"").length)}if(!p.length)return[];var D=!u||!o,I=[];for(x=0;x<p.length;x++){var C=r[p[x]];D?I.push(C[0]):I.push(C)}for(D&&(I=[I]),x=0;x<I.length;x++){var H=1/0;for(y=0;y<I[x].length;y++){var z=I[x][y].trace.legendrank;H>z&&(H=z)}I[x][0]._groupMinRank=H,I[x][0]._preGroupSort=x}var R=function(O,L){return O[0]._groupMinRank-L[0]._groupMinRank||O[0]._preGroupSort-L[0]._preGroupSort},U=function(O,L){return O.trace.legendrank-L.trace.legendrank||O._preSort-L._preSort};for(I.forEach(function(O,L){O[0]._preGroupSort=L}),I.sort(R),x=0;x<I.length;x++){I[x].forEach(function(O,L){O._preSort=L}),I[x].sort(U);var Z=I[x][0].trace,G=null;for(y=0;y<I[x].length;y++){var P=I[x][y].trace.legendgrouptitle;if(P&&P.text){G=P,a&&(P.font=n._groupTitleFont);break}}if(s&&I[x].reverse(),G){var A=!1;for(y=0;y<I[x].length;y++)if(i.traceIs(I[x][y].trace,"pie-like")){A=!0;break}I[x].unshift({i:-1,groupTitle:G,noClick:A,trace:{showlegend:Z.showlegend,legendgroup:Z.legendgroup,visible:n.groupclick==="toggleitem"?!0:Z.visible}})}for(y=0;y<I[x].length;y++)I[x][y]=[I[x][y]]}return n._lgroupsLength=I.length,n._maxNameLength=v,I}}),Yf=xe(E=>{var k=sr();function i(t){return t.indexOf("e")!==-1?t.replace(/[.]?0+e/,"e"):t.indexOf(".")!==-1?t.replace(/[.]?0+$/,""):t}E.formatPiePercent=function(t,e){var n=i((t*100).toPrecision(3));return k.numSeparate(n,e)+"%"},E.formatPieValue=function(t,e){var n=i(t.toPrecision(10));return k.numSeparate(n,e)},E.getFirstFilled=function(t,e){if(k.isArrayOrTypedArray(t))for(var n=0;n<e.length;n++){var l=t[e[n]];if(l||l===0||l==="")return l}},E.castOption=function(t,e){if(k.isArrayOrTypedArray(t))return E.getFirstFilled(t,e);if(t)return t},E.getRotationAngle=function(t){return(t==="auto"?0:t)*Math.PI/180}}),Up=xe((E,k)=>{var i=na(),t=Nn();k.exports=function(e,n,l,a){var o=l.marker.pattern;o&&o.shape?i.pointStyle(e,l,a,n):t.fill(e,n.color)}}),Hp=xe((E,k)=>{var i=Nn(),t=Yf().castOption,e=Up();k.exports=function(n,l,a,o){var s=a.marker.line,r=t(s.color,l.pts)||i.defaultLine,p=t(s.width,l.pts)||0;n.call(e,l,a,o).style("stroke-width",p).call(i.stroke,r)}}),Gf=xe((E,k)=>{var i=Jn(),t=mn(),e=sr(),n=e.strTranslate,l=na(),a=Nn(),o=Ui().extractOpts,s=ti(),r=Hp(),p=Yf().castOption,u=Wf(),d=12,g=5,v=2,x=10,y=5;k.exports=function(b,_,w){var K=_._fullLayout;w||(w=K.legend);var D=w.itemsizing==="constant",I=w.itemwidth,C=(I+u.itemGap*2)/2,H=n(C,0),z=function(se,q,ee,B){var re;if(se+1)re=se;else if(q&&q.width>0)re=q.width;else return 0;return D?B:Math.min(re,ee)};b.each(function(se){var q=i.select(this),ee=e.ensureSingle(q,"g","layers");ee.style("opacity",se[0].trace.opacity);var B=w.indentation,re=w.valign,J=se[0].lineHeight,X=se[0].height;if(re==="middle"&&B===0||!J||!X)ee.attr("transform",null);else{var N={top:1,bottom:-1}[re],$=N*(.5*(J-X+3))||0,te=w.indentation;ee.attr("transform",n(te,$))}var le=ee.selectAll("g.legendfill").data([se]);le.enter().append("g").classed("legendfill",!0);var pe=ee.selectAll("g.legendlines").data([se]);pe.enter().append("g").classed("legendlines",!0);var fe=ee.selectAll("g.legendsymbols").data([se]);fe.enter().append("g").classed("legendsymbols",!0),fe.selectAll("g.legendpoints").data([se]).enter().append("g").classed("legendpoints",!0)}).each(ae).each(Z).each(P).each(G).each(O).each(W).each(F).each(R).each(U).each(L).each(S);function R(se){var q=c(se),ee=q.showFill,B=q.showLine,re=q.showGradientLine,J=q.showGradientFill,X=q.anyFill,N=q.anyLine,$=se[0],te=$.trace,le,pe,fe=o(te),ye=fe.colorscale,Me=fe.reversescale,He=function(j){if(j.size())if(ee)l.fillGroupStyle(j,_,!0);else{var he="legendfill-"+te.uid;l.gradient(j,_,he,m(Me),ye,"fill")}},Ne=function(j){if(j.size()){var he="legendline-"+te.uid;l.lineGroupStyle(j),l.gradient(j,_,he,m(Me),ye,"stroke")}},ze=s.hasMarkers(te)||!X?"M5,0":N?"M5,-2":"M5,-3",Re=i.select(this),Ae=Re.select(".legendfill").selectAll("path").data(ee||J?[se]:[]);if(Ae.enter().append("path").classed("js-fill",!0),Ae.exit().remove(),Ae.attr("d",ze+"h"+I+"v6h-"+I+"z").call(He),B||re){var T=z(void 0,te.line,x,g);pe=e.minExtend(te,{line:{width:T}}),le=[e.minExtend($,{trace:pe})]}var V=Re.select(".legendlines").selectAll("path").data(B||re?[le]:[]);V.enter().append("path").classed("js-line",!0),V.exit().remove(),V.attr("d",ze+(re?"l"+I+",0.0001":"h"+I)).call(B?l.lineGroupStyle:Ne)}function U(se){var q=c(se),ee=q.anyFill,B=q.anyLine,re=q.showLine,J=q.showMarker,X=se[0],N=X.trace,$=!J&&!B&&!ee&&s.hasText(N),te,le;function pe(Ae,T,V,j){var he=e.nestedProperty(N,Ae).get(),be=e.isArrayOrTypedArray(he)&&T?T(he):he;if(D&&be&&j!==void 0&&(be=j),V){if(be<V[0])return V[0];if(be>V[1])return V[1]}return be}function fe(Ae){return X._distinct&&X.index&&Ae[X.index]?Ae[X.index]:Ae[0]}if(J||$||re){var ye={},Me={};if(J){ye.mc=pe("marker.color",fe),ye.mx=pe("marker.symbol",fe),ye.mo=pe("marker.opacity",e.mean,[.2,1]),ye.mlc=pe("marker.line.color",fe),ye.mlw=pe("marker.line.width",e.mean,[0,5],v),Me.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var He=pe("marker.size",e.mean,[2,16],d);ye.ms=He,Me.marker.size=He}re&&(Me.line={width:pe("line.width",fe,[0,10],g)}),$&&(ye.tx="Aa",ye.tp=pe("textposition",fe),ye.ts=10,ye.tc=pe("textfont.color",fe),ye.tf=pe("textfont.family",fe),ye.tw=pe("textfont.weight",fe),ye.ty=pe("textfont.style",fe),ye.tv=pe("textfont.variant",fe),ye.tC=pe("textfont.textcase",fe),ye.tE=pe("textfont.lineposition",fe),ye.tS=pe("textfont.shadow",fe)),te=[e.minExtend(X,ye)],le=e.minExtend(N,Me),le.selectedpoints=null,le.texttemplate=null}var Ne=i.select(this).select("g.legendpoints"),ze=Ne.selectAll("path.scatterpts").data(J?te:[]);ze.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",H),ze.exit().remove(),ze.call(l.pointStyle,le,_),J&&(te[0].mrc=3);var Re=Ne.selectAll("g.pointtext").data($?te:[]);Re.enter().append("g").classed("pointtext",!0).append("text").attr("transform",H),Re.exit().remove(),Re.selectAll("text").call(l.textPointStyle,le,_)}function Z(se){var q=se[0].trace,ee=q.type==="waterfall";if(se[0]._distinct&&ee){var B=se[0].trace[se[0].dir].marker;return se[0].mc=B.color,se[0].mlw=B.line.width,se[0].mlc=B.line.color,A(se,this,"waterfall")}var re=[];q.visible&&ee&&(re=se[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var J=i.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(re);J.enter().append("path").classed("legendwaterfall",!0).attr("transform",H).style("stroke-miterlimit",1),J.exit().remove(),J.each(function(X){var N=i.select(this),$=q[X[0]].marker,te=z(void 0,$.line,y,v);N.attr("d",X[1]).style("stroke-width",te+"px").call(a.fill,$.color),te&&N.call(a.stroke,$.line.color)})}function G(se){A(se,this)}function P(se){A(se,this,"funnel")}function A(se,q,ee){var B=se[0].trace,re=B.marker||{},J=re.line||{},X=re.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",N=ee?B.visible&&B.type===ee:t.traceIs(B,"bar"),$=i.select(q).select("g.legendpoints").selectAll("path.legend"+ee).data(N?[se]:[]);$.enter().append("path").classed("legend"+ee,!0).attr("d",X).attr("transform",H),$.exit().remove(),$.each(function(te){var le=i.select(this),pe=te[0],fe=z(pe.mlw,re.line,y,v);le.style("stroke-width",fe+"px");var ye=pe.mcc;if(!w._inHover&&"mc"in pe){var Me=o(re),He=Me.mid;He===void 0&&(He=(Me.max+Me.min)/2),ye=l.tryColorscale(re,"")(He)}var Ne=ye||pe.mc||re.color,ze=re.pattern,Re=ze&&l.getPatternAttr(ze.shape,0,"");if(Re){var Ae=l.getPatternAttr(ze.bgcolor,0,null),T=l.getPatternAttr(ze.fgcolor,0,null),V=ze.fgopacity,j=h(ze.size,8,10),he=h(ze.solidity,.5,1),be="legend-"+B.uid;le.call(l.pattern,"legend",_,be,Re,j,he,ye,ze.fillmode,Ae,T,V)}else le.call(a.fill,Ne);fe&&a.stroke(le,pe.mlc||J.color)})}function O(se){var q=se[0].trace,ee=i.select(this).select("g.legendpoints").selectAll("path.legendbox").data(q.visible&&t.traceIs(q,"box-violin")?[se]:[]);ee.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",H),ee.exit().remove(),ee.each(function(){var B=i.select(this);if((q.boxpoints==="all"||q.points==="all")&&a.opacity(q.fillcolor)===0&&a.opacity((q.line||{}).color)===0){var re=e.minExtend(q,{marker:{size:D?d:e.constrain(q.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ee.call(l.pointStyle,re,_)}else{var J=z(void 0,q.line,y,v);B.style("stroke-width",J+"px").call(a.fill,q.fillcolor),J&&a.stroke(B,q.line.color)}})}function L(se){var q=se[0].trace,ee=i.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(q.visible&&q.type==="candlestick"?[se,se]:[]);ee.enter().append("path").classed("legendcandle",!0).attr("d",function(B,re){return re?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",H).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(B,re){var J=i.select(this),X=q[re?"increasing":"decreasing"],N=z(void 0,X.line,y,v);J.style("stroke-width",N+"px").call(a.fill,X.fillcolor),N&&a.stroke(J,X.line.color)})}function S(se){var q=se[0].trace,ee=i.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(q.visible&&q.type==="ohlc"?[se,se]:[]);ee.enter().append("path").classed("legendohlc",!0).attr("d",function(B,re){return re?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",H).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(B,re){var J=i.select(this),X=q[re?"increasing":"decreasing"],N=z(void 0,X.line,y,v);J.style("fill","none").call(l.dashLine,X.line.dash,N),N&&a.stroke(J,X.line.color)})}function F(se){ue(se,this,"pie")}function W(se){ue(se,this,"funnelarea")}function ue(se,q,ee){var B=se[0],re=B.trace,J=ee?re.visible&&re.type===ee:t.traceIs(re,ee),X=i.select(q).select("g.legendpoints").selectAll("path.legend"+ee).data(J?[se]:[]);if(X.enter().append("path").classed("legend"+ee,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",H),X.exit().remove(),X.size()){var N=re.marker||{},$=z(p(N.line.width,B.pts),N.line,y,v),te="pieLike",le=e.minExtend(re,{marker:{line:{width:$}}},te),pe=e.minExtend(B,{trace:le},te);r(X,pe,le,_)}}function ae(se){var q=se[0].trace,ee,B=[];if(q.visible)switch(q.type){case"histogram2d":case"heatmap":B=[["M-15,-2V4H15V-2Z"]],ee=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":B=[["M-6,-6V6H6V-6Z"]],ee=!0;break;case"densitymapbox":case"densitymap":B=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ee="radial";break;case"cone":B=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ee=!1;break;case"streamtube":B=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ee=!1;break;case"surface":B=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ee=!0;break;case"mesh3d":B=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ee=!1;break;case"volume":B=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ee=!0;break;case"isosurface":B=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ee=!1;break}var re=i.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(B);re.enter().append("path").classed("legend3dandfriends",!0).attr("transform",H).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(J,X){var N=i.select(this),$=o(q),te=$.colorscale,le=$.reversescale,pe=function(He){if(He.size()){var Ne="legendfill-"+q.uid;l.gradient(He,_,Ne,m(le,ee==="radial"),te,"fill")}},fe;if(te){if(!ee){var ye=te.length;fe=X===0?te[le?ye-1:0][1]:X===1?te[le?0:ye-1][1]:te[Math.floor((ye-1)/2)][1]}}else{var Me=q.vertexcolor||q.facecolor||q.color;fe=e.isArrayOrTypedArray(Me)?Me[X]||Me[0]:Me}N.attr("d",J[0]),fe?N.call(a.fill,fe):N.call(pe)})}};function m(b,_){var w=_?"radial":"horizontal";return w+(b?"":"reversed")}function c(b){var _=b[0].trace,w=_.contours,K=s.hasLines(_),D=s.hasMarkers(_),I=_.visible&&_.fill&&_.fill!=="none",C=!1,H=!1;if(w){var z=w.coloring;z==="lines"?C=!0:K=z==="none"||z==="heatmap"||w.showlines,w.type==="constraint"?I=w._operation!=="=":(z==="fill"||z==="heatmap")&&(H=!0)}return{showMarker:D,showLine:K,showFill:I,showGradientLine:C,showGradientFill:H,anyLine:K||C,anyFill:I||H}}function h(b,_,w){return b&&e.isArrayOrTypedArray(b)?_:b>w?w:b}}),Jf=xe((E,k)=>{var i=Jn(),t=sr(),e=Ba(),n=mn(),l=Es(),a=Fi(),o=na(),s=Nn(),r=fi(),p=zp(),u=Wf(),d=ii(),g=d.LINE_SPACING,v=d.FROM_TL,x=d.FROM_BR,y=Bp(),m=Gf(),c=oc(),h=1,b=/^legend[0-9]*$/;k.exports=function(L,S){if(S)w(L,S);else{var F=L._fullLayout,W=F._legends,ue=F._infolayer.selectAll('[class^="legend"]');ue.each(function(){var ee=i.select(this),B=ee.attr("class"),re=B.split(" ")[0];re.match(b)&&W.indexOf(re)===-1&&ee.remove()});for(var ae=0;ae<W.length;ae++){var se=W[ae],q=L._fullLayout[se];w(L,q)}}};function _(L,S,F){if(!(S.title.side!=="top center"&&S.title.side!=="top right")){var W=S.title.font,ue=W.size*g,ae=0,se=L.node(),q=o.bBox(se).width;S.title.side==="top center"?ae=.5*(S._width-2*F-2*u.titlePad-q):S.title.side==="top right"&&(ae=S._width-2*F-2*u.titlePad-q),r.positionText(L,F+u.titlePad+ae,F+ue)}}function w(L,S){var F=S||{},W=L._fullLayout,ue=O(F),ae,se,q=F._inHover;if(q?(se=F.layer,ae="hover"):(se=W._infolayer,ae=ue),!!se){ae+=W._uid,L._legendMouseDownTime||(L._legendMouseDownTime=0);var ee;if(q){if(!F.entries)return;ee=y(F.entries,F)}else{for(var B=(L.calcdata||[]).slice(),re=W.shapes,J=0;J<re.length;J++){var X=re[J];if(X.showlegend){var N={_isShape:!0,_fullInput:X,index:X._index,name:X.name||X.label.text||"shape "+X._index,legend:X.legend,legendgroup:X.legendgroup,legendgrouptitle:X.legendgrouptitle,legendrank:X.legendrank,legendwidth:X.legendwidth,showlegend:X.showlegend,visible:X.visible,opacity:X.opacity,mode:X.type==="line"?"lines":"markers",line:X.line,marker:{line:X.line,color:X.fillcolor,size:12,symbol:X.type==="rect"?"square":X.type==="circle"?"circle":"hexagon2"}};B.push([{trace:N}])}}ee=W.showlegend&&y(B,F,W._legends.length>1)}var $=W.hiddenlabels||[];if(!q&&(!W.showlegend||!ee.length))return se.selectAll("."+ue).remove(),W._topdefs.select("#"+ae).remove(),e.autoMargin(L,ue);var te=t.ensureSingle(se,"g",ue,function(Re){q||Re.attr("pointer-events","all")}),le=t.ensureSingleById(W._topdefs,"clipPath",ae,function(Re){Re.append("rect")}),pe=t.ensureSingle(te,"rect","bg",function(Re){Re.attr("shape-rendering","crispEdges")});pe.call(s.stroke,F.bordercolor).call(s.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px");var fe=t.ensureSingle(te,"g","scrollbox"),ye=F.title;F._titleWidth=0,F._titleHeight=0;var Me;ye.text?(Me=t.ensureSingle(fe,"text",ue+"titletext"),Me.attr("text-anchor","start").call(o.font,ye.font).text(ye.text),z(Me,fe,L,F,h)):fe.selectAll("."+ue+"titletext").remove();var He=t.ensureSingle(te,"rect","scrollbar",function(Re){Re.attr(u.scrollBarEnterAttrs).call(s.fill,u.scrollBarColor)}),Ne=fe.selectAll("g.groups").data(ee);Ne.enter().append("g").attr("class","groups"),Ne.exit().remove();var ze=Ne.selectAll("g.traces").data(t.identity);ze.enter().append("g").attr("class","traces"),ze.exit().remove(),ze.style("opacity",function(Re){var Ae=Re[0].trace;return n.traceIs(Ae,"pie-like")?$.indexOf(Re[0].label)!==-1?.5:1:Ae.visible==="legendonly"?.5:1}).each(function(){i.select(this).call(I,L,F)}).call(m,L,F).each(function(){q||i.select(this).call(H,L,ue)}),t.syncOrAsync([e.previousPromises,function(){return Z(L,Ne,ze,F)},function(){var Re=W._size,Ae=F.borderwidth,T=F.xref==="paper",V=F.yref==="paper";if(ye.text&&_(Me,F,Ae),!q){var j,he;T?j=Re.l+Re.w*F.x-v[P(F)]*F._width:j=W.width*F.x-v[P(F)]*F._width,V?he=Re.t+Re.h*(1-F.y)-v[A(F)]*F._effHeight:he=W.height*(1-F.y)-v[A(F)]*F._effHeight;var be=G(L,ue,j,he);if(be)return;if(W.margin.autoexpand){var ke=j,Ce=he;j=T?t.constrain(j,0,W.width-F._width):ke,he=V?t.constrain(he,0,W.height-F._effHeight):Ce,j!==ke&&t.log("Constrain "+ue+".x to make legend fit inside graph"),he!==Ce&&t.log("Constrain "+ue+".y to make legend fit inside graph")}o.setTranslate(te,j,he)}if(He.on(".drag",null),te.on("wheel",null),q||F._height<=F._maxHeight||L._context.staticPlot){var qe=F._effHeight;q&&(qe=F._height),pe.attr({width:F._width-Ae,height:qe-Ae,x:Ae/2,y:Ae/2}),o.setTranslate(fe,0,0),le.select("rect").attr({width:F._width-2*Ae,height:qe-2*Ae,x:Ae,y:Ae}),o.setClipUrl(fe,ae,L),o.setRect(He,0,0,0,0),delete F._scrollY}else{var at=Math.max(u.scrollBarMinHeight,F._effHeight*F._effHeight/F._height),ct=F._effHeight-at-2*u.scrollBarMargin,vt=F._height-F._effHeight,St=ct/vt,ot=Math.min(F._scrollY||0,vt);pe.attr({width:F._width-2*Ae+u.scrollBarWidth+u.scrollBarMargin,height:F._effHeight-Ae,x:Ae/2,y:Ae/2}),le.select("rect").attr({width:F._width-2*Ae+u.scrollBarWidth+u.scrollBarMargin,height:F._effHeight-2*Ae,x:Ae,y:Ae+ot}),o.setClipUrl(fe,ae,L),ie(ot,at,St),te.on("wheel",function(){ot=t.constrain(F._scrollY+i.event.deltaY/ct*vt,0,vt),ie(ot,at,St),ot!==0&&ot!==vt&&i.event.preventDefault()});var Ct,It,At,Nt=function(Le,tt,nt){var ut=(nt-tt)/St+Le;return t.constrain(ut,0,vt)},_e=function(Le,tt,nt){var ut=(tt-nt)/St+Le;return t.constrain(ut,0,vt)},De=i.behavior.drag().on("dragstart",function(){var Le=i.event.sourceEvent;Le.type==="touchstart"?Ct=Le.changedTouches[0].clientY:Ct=Le.clientY,At=ot}).on("drag",function(){var Le=i.event.sourceEvent;Le.buttons===2||Le.ctrlKey||(Le.type==="touchmove"?It=Le.changedTouches[0].clientY:It=Le.clientY,ot=Nt(At,Ct,It),ie(ot,at,St))});He.call(De);var je=i.behavior.drag().on("dragstart",function(){var Le=i.event.sourceEvent;Le.type==="touchstart"&&(Ct=Le.changedTouches[0].clientY,At=ot)}).on("drag",function(){var Le=i.event.sourceEvent;Le.type==="touchmove"&&(It=Le.changedTouches[0].clientY,ot=_e(At,Ct,It),ie(ot,at,St))});fe.call(je)}function ie(Le,tt,nt){F._scrollY=L._fullLayout[ue]._scrollY=Le,o.setTranslate(fe,0,-Le),o.setRect(He,F._width,u.scrollBarMargin+Le*nt,u.scrollBarWidth,tt),le.select("rect").attr("y",Ae+Le)}if(L._context.edits.legendPosition){var ve,we,Se,Ue;te.classed("cursor-move",!0),a.init({element:te.node(),gd:L,prepFn:function(Le){if(Le.target!==He.node()){var tt=o.getTranslate(te);Se=tt.x,Ue=tt.y}},moveFn:function(Le,tt){if(Se!==void 0&&Ue!==void 0){var nt=Se+Le,ut=Ue+tt;o.setTranslate(te,nt,ut),ve=a.align(nt,F._width,Re.l,Re.l+Re.w,F.xanchor),we=a.align(ut+F._height,-F._height,Re.t+Re.h,Re.t,F.yanchor)}},doneFn:function(){if(ve!==void 0&&we!==void 0){var Le={};Le[ue+".x"]=ve,Le[ue+".y"]=we,n.call("_guiRelayout",L,Le)}},clickFn:function(Le,tt){var nt=se.selectAll("g.traces").filter(function(){var ut=this.getBoundingClientRect();return tt.clientX>=ut.left&&tt.clientX<=ut.right&&tt.clientY>=ut.top&&tt.clientY<=ut.bottom});nt.size()>0&&D(L,te,nt,Le,tt)}})}}],L)}}function K(L,S,F){var W=L[0],ue=W.width,ae=S.entrywidthmode,se=W.trace.legendwidth||S.entrywidth;return ae==="fraction"?S._maxWidth*se:F+(se||ue)}function D(L,S,F,W,ue){var ae=F.data()[0][0].trace,se={event:ue,node:F.node(),curveNumber:ae.index,expandedIndex:ae.index,data:L.data,layout:L.layout,frames:L._transitionData._frames,config:L._context,fullData:L._fullData,fullLayout:L._fullLayout};ae._group&&(se.group=ae._group),n.traceIs(ae,"pie-like")&&(se.label=F.datum()[0].label);var q=l.triggerHandler(L,"plotly_legendclick",se);if(W===1){if(q===!1)return;S._clickTimeout=setTimeout(function(){L._fullLayout&&p(F,L,W)},L._context.doubleClickDelay)}else if(W===2){S._clickTimeout&&clearTimeout(S._clickTimeout),L._legendMouseDownTime=0;var ee=l.triggerHandler(L,"plotly_legenddoubleclick",se);ee!==!1&&q!==!1&&p(F,L,W)}}function I(L,S,F){var W=O(F),ue=L.data()[0][0],ae=ue.trace,se=n.traceIs(ae,"pie-like"),q=!F._inHover&&S._context.edits.legendText&&!se,ee=F._maxNameLength,B,re;ue.groupTitle?(B=ue.groupTitle.text,re=ue.groupTitle.font):(re=F.font,F.entries?B=ue.text:(B=se?ue.label:ae.name,ae._meta&&(B=t.templateString(B,ae._meta))));var J=t.ensureSingle(L,"text",W+"text");J.attr("text-anchor","start").call(o.font,re).text(q?C(B,ee):B);var X=F.indentation+F.itemwidth+u.itemGap*2;r.positionText(J,X,0),q?J.call(r.makeEditable,{gd:S,text:B}).call(z,L,S,F).on("edit",function(N){this.text(C(N,ee)).call(z,L,S,F);var $=ue.trace._fullInput||{},te={};return te.name=N,$._isShape?n.call("_guiRelayout",S,"shapes["+ae.index+"].name",te.name):n.call("_guiRestyle",S,te,ae.index)}):z(J,L,S,F)}function C(L,S){var F=Math.max(4,S);if(L&&L.trim().length>=F/2)return L;L=L||"";for(var W=F-L.length;W>0;W--)L+=" ";return L}function H(L,S,F){var W=S._context.doubleClickDelay,ue,ae=1,se=t.ensureSingle(L,"rect",F+"toggle",function(q){S._context.staticPlot||q.style("cursor","pointer").attr("pointer-events","all"),q.call(s.fill,"rgba(0,0,0,0)")});S._context.staticPlot||(se.on("mousedown",function(){ue=new Date().getTime(),ue-S._legendMouseDownTime<W?ae+=1:(ae=1,S._legendMouseDownTime=ue)}),se.on("mouseup",function(){if(!(S._dragged||S._editing)){var q=S._fullLayout[F];new Date().getTime()-S._legendMouseDownTime>W&&(ae=Math.max(ae-1,1)),D(S,q,L,ae,i.event)}}))}function z(L,S,F,W,ue){W._inHover&&L.attr("data-notex",!0),r.convertToTspans(L,F,function(){R(S,F,W,ue)})}function R(L,S,F,W){var ue=L.data()[0][0];if(!F._inHover&&ue&&!ue.trace.showlegend){L.remove();return}var ae=L.select("g[class*=math-group]"),se=ae.node(),q=O(F);F||(F=S._fullLayout[q]);var ee=F.borderwidth,B;W===h?B=F.title.font:ue.groupTitle?B=ue.groupTitle.font:B=F.font;var re=B.size*g,J,X;if(se){var N=o.bBox(se);J=N.height,X=N.width,W===h?o.setTranslate(ae,ee,ee+J*.75):o.setTranslate(ae,0,J*.25)}else{var $="."+q+(W===h?"title":"")+"text",te=L.select($),le=r.lineCount(te),pe=te.node();if(J=re*le,X=pe?o.bBox(pe).width:0,W===h)F.title.side==="left"&&(X+=u.itemGap*2),r.positionText(te,ee+u.titlePad,ee+re);else{var fe=u.itemGap*2+F.indentation+F.itemwidth;ue.groupTitle&&(fe=u.itemGap,X-=F.indentation+F.itemwidth),r.positionText(te,fe,-re*((le-1)/2-.3))}}W===h?(F._titleWidth=X,F._titleHeight=J):(ue.lineHeight=re,ue.height=Math.max(J,16)+3,ue.width=X)}function U(L){var S=0,F=0,W=L.title.side;return W&&(W.indexOf("left")!==-1&&(S=L._titleWidth),W.indexOf("top")!==-1&&(F=L._titleHeight)),[S,F]}function Z(L,S,F,W){var ue=L._fullLayout,ae=O(W);W||(W=ue[ae]);var se=ue._size,q=c.isVertical(W),ee=c.isGrouped(W),B=W.entrywidthmode==="fraction",re=W.borderwidth,J=2*re,X=u.itemGap,N=W.indentation+W.itemwidth+X*2,$=2*(re+X),te=A(W),le=W.y<0||W.y===0&&te==="top",pe=W.y>1||W.y===1&&te==="bottom",fe=W.tracegroupgap,ye={};W._maxHeight=Math.max(le||pe?ue.height/2:se.h,30);var Me=0;W._width=0,W._height=0;var He=U(W);if(q)F.each(function(At){var Nt=At[0].height;o.setTranslate(this,re+He[0],re+He[1]+W._height+Nt/2+X),W._height+=Nt,W._width=Math.max(W._width,At[0].width)}),Me=N+W._width,W._width+=X+N+J,W._height+=$,ee&&(S.each(function(At,Nt){o.setTranslate(this,0,Nt*W.tracegroupgap)}),W._height+=(W._lgroupsLength-1)*W.tracegroupgap);else{var Ne=P(W),ze=W.x<0||W.x===0&&Ne==="right",Re=W.x>1||W.x===1&&Ne==="left",Ae=pe||le,T=ue.width/2;W._maxWidth=Math.max(ze?Ae&&Ne==="left"?se.l+se.w:T:Re?Ae&&Ne==="right"?se.r+se.w:T:se.w,2*N);var V=0,j=0;F.each(function(At){var Nt=K(At,W,N);V=Math.max(V,Nt),j+=Nt}),Me=null;var he=0;if(ee){var be=0,ke=0,Ce=0;S.each(function(){var At=0,Nt=0;i.select(this).selectAll("g.traces").each(function(De){var je=K(De,W,N),ie=De[0].height;o.setTranslate(this,He[0],He[1]+re+X+ie/2+Nt),Nt+=ie,At=Math.max(At,je),ye[De[0].trace.legendgroup]=At});var _e=At+X;ke>0&&_e+re+ke>W._maxWidth?(he=Math.max(he,ke),ke=0,Ce+=be+fe,be=Nt):be=Math.max(be,Nt),o.setTranslate(this,ke,Ce),ke+=_e}),W._width=Math.max(he,ke)+re,W._height=Ce+be+$}else{var qe=F.size(),at=j+J+(qe-1)*X<W._maxWidth,ct=0,vt=0,St=0,ot=0;F.each(function(At){var Nt=At[0].height,_e=K(At,W,N),De=at?_e:V;B||(De+=X),De+re+vt-X>=W._maxWidth&&(he=Math.max(he,ot),vt=0,St+=ct,W._height+=ct,ct=0),o.setTranslate(this,He[0]+re+vt,He[1]+re+St+Nt/2+X),ot=vt+_e+X,vt+=De,ct=Math.max(ct,Nt)}),at?(W._width=vt+J,W._height=ct+$):(W._width=Math.max(he,ot)+J,W._height+=ct+$)}}W._width=Math.ceil(Math.max(W._width+He[0],W._titleWidth+2*(re+u.titlePad))),W._height=Math.ceil(Math.max(W._height+He[1],W._titleHeight+2*(re+u.itemGap))),W._effHeight=Math.min(W._height,W._maxHeight);var Ct=L._context.edits,It=Ct.legendText||Ct.legendPosition;F.each(function(At){var Nt=i.select(this).select("."+ae+"toggle"),_e=At[0].height,De=At[0].trace.legendgroup,je=K(At,W,N);ee&&De!==""&&(je=ye[De]);var ie=It?N:Me||je;!q&&!B&&(ie+=X/2),o.setRect(Nt,0,-_e/2,ie,_e)})}function G(L,S,F,W){var ue=L._fullLayout,ae=ue[S],se=P(ae),q=A(ae),ee=ae.xref==="paper",B=ae.yref==="paper";L._fullLayout._reservedMargin[S]={};var re=ae.y<.5?"b":"t",J=ae.x<.5?"l":"r",X={r:ue.width-F,l:F+ae._width,b:ue.height-W,t:W+ae._effHeight};if(ee&&B)return e.autoMargin(L,S,{x:ae.x,y:ae.y,l:ae._width*v[se],r:ae._width*x[se],b:ae._effHeight*x[q],t:ae._effHeight*v[q]});ee?L._fullLayout._reservedMargin[S][re]=X[re]:B||ae.orientation==="v"?L._fullLayout._reservedMargin[S][J]=X[J]:L._fullLayout._reservedMargin[S][re]=X[re]}function P(L){return t.isRightAnchor(L)?"right":t.isCenterAnchor(L)?"center":"left"}function A(L){return t.isBottomAnchor(L)?"bottom":t.isMiddleAnchor(L)?"middle":"top"}function O(L){return L._id||"legend"}}),Zf=xe(E=>{var k=Jn(),i=Bn(),t=Li(),e=sr(),n=e.pushUnique,l=e.strTranslate,a=e.strRotate,o=Es(),s=fi(),r=jp(),p=na(),u=Nn(),d=Fi(),g=Ma(),v=Za().zindexSeparator,x=mn(),y=Xi(),m=Os(),c=qf(),h=Jf(),b=m.YANGLE,_=Math.PI*b/180,w=1/Math.sin(_),K=Math.cos(_),D=Math.sin(_),I=m.HOVERARROWSIZE,C=m.HOVERTEXTPAD,H={box:!0,ohlc:!0,violin:!0,candlestick:!0},z={scatter:!0,scattergl:!0,splom:!0};function R(N,$){return N.distance-$.distance}E.hover=function(N,$,te,le){N=e.getGraphDiv(N);var pe=$.target;e.throttle(N._fullLayout._uid+m.HOVERID,m.HOVERMINTIME,function(){U(N,$,te,le,pe)})},E.loneHover=function(N,$){var te=!0;Array.isArray(N)||(te=!1,N=[N]);var le=$.gd,pe=re(le),fe=J(le),ye=N.map(function(j){var he=j._x0||j.x0||j.x||0,be=j._x1||j.x1||j.x||0,ke=j._y0||j.y0||j.y||0,Ce=j._y1||j.y1||j.y||0,qe=j.eventData;if(qe){var at=Math.min(he,be),ct=Math.max(he,be),vt=Math.min(ke,Ce),St=Math.max(ke,Ce),ot=j.trace;if(x.traceIs(ot,"gl3d")){var Ct=le._fullLayout[ot.scene]._scene.container,It=Ct.offsetLeft,At=Ct.offsetTop;at+=It,ct+=It,vt+=At,St+=At}qe.bbox={x0:at+fe,x1:ct+fe,y0:vt+pe,y1:St+pe},$.inOut_bbox&&$.inOut_bbox.push(qe.bbox)}else qe=!1;return{color:j.color||u.defaultLine,x0:j.x0||j.x||0,x1:j.x1||j.x||0,y0:j.y0||j.y||0,y1:j.y1||j.y||0,xLabel:j.xLabel,yLabel:j.yLabel,zLabel:j.zLabel,text:j.text,name:j.name,idealAlign:j.idealAlign,borderColor:j.borderColor,fontFamily:j.fontFamily,fontSize:j.fontSize,fontColor:j.fontColor,fontWeight:j.fontWeight,fontStyle:j.fontStyle,fontVariant:j.fontVariant,nameLength:j.nameLength,textAlign:j.textAlign,trace:j.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:j.hovertemplate||!1,hovertemplateLabels:j.hovertemplateLabels||!1,eventData:qe}}),Me=!1,He=P(ye,{gd:le,hovermode:"closest",rotateLabels:Me,bgColor:$.bgColor||u.background,container:k.select($.container),outerContainer:$.outerContainer||$.container}),Ne=He.hoverLabels,ze=5,Re=0,Ae=0;Ne.sort(function(j,he){return j.y0-he.y0}).each(function(j,he){var be=j.y0-j.by/2;be-ze<Re?j.offset=Re-be+ze:j.offset=0,Re=be+j.by+j.offset,he===$.anchorIndex&&(Ae=j.offset)}).each(function(j){j.offset-=Ae});var T=le._fullLayout._invScaleX,V=le._fullLayout._invScaleY;return F(Ne,Me,T,V),te?Ne:Ne.node()};function U(N,$,te,le,pe){te||(te="xy"),typeof te=="string"&&(te=te.split(v)[0]);var fe=Array.isArray(te)?te:[te],ye,Me=N._fullLayout,He=Me.hoversubplots,Ne=Me._plots||[],ze=Ne[te],Re=Me._has("cartesian"),Ae=$.hovermode||Me.hovermode,T=(Ae||"").charAt(0)==="x",V=(Ae||"").charAt(0)==="y",j,he;if(Re&&(T||V)&&He==="axis"){for(var be=fe.length,ke=0;ke<be;ke++)if(ye=fe[ke],Ne[ye]){j=g.getFromId(N,ye,"x"),he=g.getFromId(N,ye,"y");var Ce=(T?j:he)._subplotsWith;if(Ce&&Ce.length)for(var qe=0;qe<Ce.length;qe++)n(fe,Ce[qe])}}if(ze&&He!=="single"){var at=ze.overlays.map(function(Ir){return Ir.id});fe=fe.concat(at)}for(var ct=fe.length,vt=new Array(ct),St=new Array(ct),ot=!1,Ct=0;Ct<ct;Ct++)if(ye=fe[Ct],Ne[ye])ot=!0,vt[Ct]=Ne[ye].xaxis,St[Ct]=Ne[ye].yaxis;else if(Me[ye]&&Me[ye]._subplot){var It=Me[ye]._subplot;vt[Ct]=It.xaxis,St[Ct]=It.yaxis}else{e.warn("Unrecognized subplot: "+ye);return}if(Ae&&!ot&&(Ae="closest"),["x","y","closest","x unified","y unified"].indexOf(Ae)===-1||!N.calcdata||N.querySelector(".zoombox")||N._dragging)return d.unhoverRaw(N,$);var At=Me.hoverdistance;At===-1&&(At=1/0);var Nt=Me.spikedistance;Nt===-1&&(Nt=1/0);var _e=[],De=[],je,ie,ve,we,Se,Ue,Le,tt,nt,ut,Ye,st,xt,Tt={hLinePoint:null,vLinePoint:null},tr=!1;if(Array.isArray($))for(Ae="array",ve=0;ve<$.length;ve++)Se=N.calcdata[$[ve].curveNumber||0],Se&&(Ue=Se[0].trace,Se[0].trace.hoverinfo!=="skip"&&(De.push(Se),Ue.orientation==="h"&&(tr=!0)));else{var cr=N.calcdata.slice();for(cr.sort(function(Ir,qn){var Wn=Ir[0].trace.zorder||0,ya=qn[0].trace.zorder||0;return Wn-ya}),we=0;we<cr.length;we++)Se=cr[we],Ue=Se[0].trace,Ue.hoverinfo!=="skip"&&y.isTraceInSubplots(Ue,fe)&&(De.push(Se),Ue.orientation==="h"&&(tr=!0));var Er=!pe,nr,yr;if(Er)"xpx"in $?nr=$.xpx:nr=vt[0]._length/2,"ypx"in $?yr=$.ypx:yr=St[0]._length/2;else{if(o.triggerHandler(N,"plotly_beforehover",$)===!1)return;var qt=pe.getBoundingClientRect();nr=$.clientX-qt.left,yr=$.clientY-qt.top,Me._calcInverseTransform(N);var Zt=e.apply3DTransform(Me._invTransform)(nr,yr);if(nr=Zt[0],yr=Zt[1],nr<0||nr>vt[0]._length||yr<0||yr>St[0]._length)return d.unhoverRaw(N,$)}if($.pointerX=nr+vt[0]._offset,$.pointerY=yr+St[0]._offset,"xval"in $?je=y.flat(fe,$.xval):je=y.p2c(vt,nr),"yval"in $?ie=y.flat(fe,$.yval):ie=y.p2c(St,yr),!i(je[0])||!i(ie[0]))return e.warn("Fx.hover failed",$,N),d.unhoverRaw(N,$)}var jr=1/0;function Ar(Ir,qn){for(we=0;we<De.length;we++)if(Se=De[we],!(!Se||!Se[0]||!Se[0].trace)&&(Ue=Se[0].trace,!(Ue.visible!==!0||Ue._length===0)&&["carpet","contourcarpet"].indexOf(Ue._module.name)===-1)){if(nt=Ae,y.isUnifiedHover(nt)&&(nt=nt.charAt(0)),Ue.type==="splom"?(tt=0,Le=fe[tt]):(Le=y.getSubplot(Ue),tt=fe.indexOf(Le)),st={cd:Se,trace:Ue,xa:vt[tt],ya:St[tt],maxHoverDistance:At,maxSpikeDistance:Nt,index:!1,distance:Math.min(jr,At),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:Ue.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Me[Le]&&(st.subplot=Me[Le]._subplot),Me._splomScenes&&Me._splomScenes[Ue.uid]&&(st.scene=Me._splomScenes[Ue.uid]),nt==="array"){var Wn=$[we];"pointNumber"in Wn?(st.index=Wn.pointNumber,nt="closest"):(nt="","xval"in Wn&&(ut=Wn.xval,nt="x"),"yval"in Wn&&(Ye=Wn.yval,nt=nt?"closest":"y"))}else Ir!==void 0&&qn!==void 0?(ut=Ir,Ye=qn):(ut=je[tt],Ye=ie[tt]);if(xt=_e.length,At!==0)if(Ue._module&&Ue._module.hoverPoints){var ya=Ue._module.hoverPoints(st,ut,Ye,nt,{finiteRange:!0,hoverLayer:Me._hoverlayer,hoversubplots:He,gd:N});if(ya)for(var ia,xn=0;xn<ya.length;xn++)ia=ya[xn],i(ia.x0)&&i(ia.y0)&&_e.push(W(ia,Ae))}else e.log("Unrecognized trace type in hover:",Ue);if(Ae==="closest"&&_e.length>xt&&(_e.splice(0,xt),jr=_e[0].distance),Re&&Nt!==0&&_e.length===0){st.distance=Nt,st.index=!1;var yn=Ue._module.hoverPoints(st,ut,Ye,"closest",{hoverLayer:Me._hoverlayer});if(yn&&(yn=yn.filter(function(Kn){return Kn.spikeDistance<=Nt})),yn&&yn.length){var An,Yn=yn.filter(function(Kn){return Kn.xa.showspikes&&Kn.xa.spikesnap!=="hovered data"});if(Yn.length){var Zn=Yn[0];i(Zn.x0)&&i(Zn.y0)&&(An=rr(Zn),(!Tt.vLinePoint||Tt.vLinePoint.spikeDistance>An.spikeDistance)&&(Tt.vLinePoint=An))}var Xn=yn.filter(function(Kn){return Kn.ya.showspikes&&Kn.ya.spikesnap!=="hovered data"});if(Xn.length){var ea=Xn[0];i(ea.x0)&&i(ea.y0)&&(An=rr(ea),(!Tt.hLinePoint||Tt.hLinePoint.spikeDistance>An.spikeDistance)&&(Tt.hLinePoint=An))}}}}}Ar();function kr(Ir,qn,Wn){for(var ya=null,ia=1/0,xn,yn=0;yn<Ir.length;yn++)j&&j._id!==Ir[yn].xa._id||he&&he._id!==Ir[yn].ya._id||(xn=Ir[yn].spikeDistance,Wn&&yn===0&&(xn=-1/0),xn<=ia&&xn<=qn&&(ya=Ir[yn],ia=xn));return ya}function rr(Ir){return Ir?{xa:Ir.xa,ya:Ir.ya,x:Ir.xSpike!==void 0?Ir.xSpike:(Ir.x0+Ir.x1)/2,y:Ir.ySpike!==void 0?Ir.ySpike:(Ir.y0+Ir.y1)/2,distance:Ir.distance,spikeDistance:Ir.spikeDistance,curveNumber:Ir.trace.index,color:Ir.color,pointNumber:Ir.index}:null}var zt={fullLayout:Me,container:Me._hoverlayer,event:$};N._spikepoints;var xr={vLinePoint:Tt.vLinePoint,hLinePoint:Tt.hLinePoint};N._spikepoints=xr;var Gr=function(){var Ir=_e.filter(function(Wn){return j&&j._id===Wn.xa._id&&he&&he._id===Wn.ya._id}),qn=_e.filter(function(Wn){return!(j&&j._id===Wn.xa._id&&he&&he._id===Wn.ya._id)});Ir.sort(R),qn.sort(R),_e=Ir.concat(qn),_e=ee(_e,Ae)};Gr();var fn=Ae.charAt(0),br=(fn==="x"||fn==="y")&&_e[0]&&z[_e[0].trace.type];if(Re&&Nt!==0&&_e.length!==0){var Jr=_e.filter(function(Ir){return Ir.ya.showspikes}),$r=kr(Jr,Nt,br);Tt.hLinePoint=rr($r);var Sn=_e.filter(function(Ir){return Ir.xa.showspikes}),Bt=kr(Sn,Nt,br);Tt.vLinePoint=rr(Bt)}if(_e.length===0){var gn=d.unhoverRaw(N,$);return Re&&(Tt.hLinePoint!==null||Tt.vLinePoint!==null)&&se()&&ue(N,Tt,zt),gn}if(Re&&se()&&ue(N,Tt,zt),y.isXYhover(nt)&&_e[0].length!==0&&_e[0].trace.type!=="splom"){var oe=_e[0];H[oe.trace.type]?_e=_e.filter(function(Ir){return Ir.trace.index===oe.trace.index}):_e=[oe];var de=_e.length,Ge=B("x",oe,Me),We=B("y",oe,Me);Ar(Ge,We);var Pe=[],Ie={},Ve=0,Ze=function(Ir){var qn=H[Ir.trace.type]?Z(Ir):Ir.trace.index;if(!Ie[qn])Ve++,Ie[qn]=Ve,Pe.push(Ir);else{var Wn=Ie[qn]-1,ya=Pe[Wn];Wn>0&&Math.abs(Ir.distance)<Math.abs(ya.distance)&&(Pe[Wn]=Ir)}},Be;for(Be=0;Be<de;Be++)Ze(_e[Be]);for(Be=_e.length-1;Be>de-1;Be--)Ze(_e[Be]);_e=Pe,Gr()}var Je=N._hoverdata,Xe=[],rt=re(N),kt=J(N);for(ve=0;ve<_e.length;ve++){var Dt=_e[ve],Rt=y.makeEventData(Dt,Dt.trace,Dt.cd);if(Dt.hovertemplate!==!1){var Kt=!1;Dt.cd[Dt.index]&&Dt.cd[Dt.index].ht&&(Kt=Dt.cd[Dt.index].ht),Dt.hovertemplate=Kt||Dt.trace.hovertemplate||!1}if(Dt.xa&&Dt.ya){var ir=Dt.x0+Dt.xa._offset,Fr=Dt.x1+Dt.xa._offset,or=Dt.y0+Dt.ya._offset,mr=Dt.y1+Dt.ya._offset,Mr=Math.min(ir,Fr),Qr=Math.max(ir,Fr),hn=Math.min(or,mr),Fn=Math.max(or,mr);Rt.bbox={x0:Mr+kt,x1:Qr+kt,y0:hn+rt,y1:Fn+rt}}Dt.eventData=[Rt],Xe.push(Rt)}N._hoverdata=Xe;var wn=Ae==="y"&&(De.length>1||_e.length>1)||Ae==="closest"&&tr&&_e.length>1,Pn=u.combine(Me.plot_bgcolor||u.background,Me.paper_bgcolor),aa=P(_e,{gd:N,hovermode:Ae,rotateLabels:wn,bgColor:Pn,container:Me._hoverlayer,outerContainer:Me._paper.node(),commonLabelOpts:Me.hoverlabel,hoverdistance:Me.hoverdistance}),oa=aa.hoverLabels;if(y.isUnifiedHover(Ae)||(O(oa,wn,Me,aa.commonLabelBoundingBox),F(oa,wn,Me._invScaleX,Me._invScaleY)),pe&&pe.tagName){var jn=x.getComponentMethod("annotations","hasClickToShow")(N,Xe);r(k.select(pe),jn?"pointer":"")}!pe||le||!ae(N,$,Je)||(Je&&N.emit("plotly_unhover",{event:$,points:Je}),N.emit("plotly_hover",{event:$,points:N._hoverdata,xaxes:vt,yaxes:St,xvals:je,yvals:ie}))}function Z(N){return[N.trace.index,N.index,N.x0,N.y0,N.name,N.attr,N.xa?N.xa._id:"",N.ya?N.ya._id:""].join(",")}var G=/<extra>([\s\S]*)<\/extra>/;function P(N,$){var te=$.gd,le=te._fullLayout,pe=$.hovermode,fe=$.rotateLabels,ye=$.bgColor,Me=$.container,He=$.outerContainer,Ne=$.commonLabelOpts||{};if(N.length===0)return[[]];var ze=$.fontFamily||m.HOVERFONT,Re=$.fontSize||m.HOVERFONTSIZE,Ae=$.fontWeight||le.font.weight,T=$.fontStyle||le.font.style,V=$.fontVariant||le.font.variant,j=$.fontTextcase||le.font.textcase,he=$.fontLineposition||le.font.lineposition,be=$.fontShadow||le.font.shadow,ke=N[0],Ce=ke.xa,qe=ke.ya,at=pe.charAt(0),ct=at+"Label",vt=ke[ct];if(vt===void 0&&Ce.type==="multicategory")for(var St=0;St<N.length&&(vt=N[St][ct],vt===void 0);St++);var ot=X(te,He),Ct=ot.top,It=ot.width,At=ot.height,Nt=vt!==void 0&&ke.distance<=$.hoverdistance&&(pe==="x"||pe==="y");if(Nt){var _e=!0,De,je;for(De=0;De<N.length;De++)if(_e&&N[De].zLabel===void 0&&(_e=!1),je=N[De].hoverinfo||N[De].trace.hoverinfo,je){var ie=Array.isArray(je)?je:je.split("+");if(ie.indexOf("all")===-1&&ie.indexOf(pe)===-1){Nt=!1;break}}_e&&(Nt=!1)}var ve=Me.selectAll("g.axistext").data(Nt?[0]:[]);ve.enter().append("g").classed("axistext",!0),ve.exit().remove();var we={minX:0,maxX:0,minY:0,maxY:0};if(ve.each(function(){var Bt=k.select(this),gn=e.ensureSingle(Bt,"path","",function(Qr){Qr.style({"stroke-width":"1px"})}),oe=e.ensureSingle(Bt,"text","",function(Qr){Qr.attr("data-notex",1)}),de=Ne.bgcolor||u.defaultLine,Ge=Ne.bordercolor||u.contrast(de),We=u.contrast(de),Pe=Ne.font,Ie={weight:Pe.weight||Ae,style:Pe.style||T,variant:Pe.variant||V,textcase:Pe.textcase||j,lineposition:Pe.lineposition||he,shadow:Pe.shadow||be,family:Pe.family||ze,size:Pe.size||Re,color:Pe.color||We};gn.style({fill:de,stroke:Ge}),oe.text(vt).call(p.font,Ie).call(s.positionText,0,0).call(s.convertToTspans,te),Bt.attr("transform","");var Ve=X(te,oe.node()),Ze,Be;if(pe==="x"){var Je=Ce.side==="top"?"-":"";oe.attr("text-anchor","middle").call(s.positionText,0,Ce.side==="top"?Ct-Ve.bottom-I-C:Ct-Ve.top+I+C),Ze=Ce._offset+(ke.x0+ke.x1)/2,Be=qe._offset+(Ce.side==="top"?0:qe._length);var Xe=Ve.width/2+C,rt=Ze;Ze<Xe?rt=Xe:Ze>le.width-Xe&&(rt=le.width-Xe),gn.attr("d","M"+(Ze-rt)+",0L"+(Ze-rt+I)+","+Je+I+"H"+Xe+"v"+Je+(C*2+Ve.height)+"H"+-Xe+"V"+Je+I+"H"+(Ze-rt-I)+"Z"),Ze=rt,we.minX=Ze-Xe,we.maxX=Ze+Xe,Ce.side==="top"?(we.minY=Be-(C*2+Ve.height),we.maxY=Be-C):(we.minY=Be+C,we.maxY=Be+(C*2+Ve.height))}else{var kt,Dt,Rt;qe.side==="right"?(kt="start",Dt=1,Rt="",Ze=Ce._offset+Ce._length):(kt="end",Dt=-1,Rt="-",Ze=Ce._offset),Be=qe._offset+(ke.y0+ke.y1)/2,oe.attr("text-anchor",kt),gn.attr("d","M0,0L"+Rt+I+","+I+"V"+(C+Ve.height/2)+"h"+Rt+(C*2+Ve.width)+"V-"+(C+Ve.height/2)+"H"+Rt+I+"V-"+I+"Z"),we.minY=Be-(C+Ve.height/2),we.maxY=Be+(C+Ve.height/2),qe.side==="right"?(we.minX=Ze+I,we.maxX=Ze+I+(C*2+Ve.width)):(we.minX=Ze-I-(C*2+Ve.width),we.maxX=Ze-I);var Kt=Ve.height/2,ir=Ct-Ve.top-Kt,Fr="clip"+le._uid+"commonlabel"+qe._id,or;if(Ze<Ve.width+2*C+I){or="M-"+(I+C)+"-"+Kt+"h-"+(Ve.width-C)+"V"+Kt+"h"+(Ve.width-C)+"Z";var mr=Ve.width-Ze+C;s.positionText(oe,mr,ir),kt==="end"&&oe.selectAll("tspan").each(function(){var Qr=k.select(this),hn=p.tester.append("text").text(Qr.text()).call(p.font,Ie),Fn=X(te,hn.node());Math.round(Fn.width)<Math.round(Ve.width)&&Qr.attr("x",mr-Fn.width),hn.remove()})}else s.positionText(oe,Dt*(C+I),ir),or=null;var Mr=le._topclips.selectAll("#"+Fr).data(or?[0]:[]);Mr.enter().append("clipPath").attr("id",Fr).append("path"),Mr.exit().remove(),Mr.select("path").attr("d",or),p.setClipUrl(oe,or?Fr:null,te)}Bt.attr("transform",l(Ze,Be))}),y.isUnifiedHover(pe)){Me.selectAll("g.hovertext").remove();var Se=N.filter(function(Bt){return Bt.hoverinfo!=="none"});if(Se.length===0)return[];var Ue=le.hoverlabel,Le=Ue.font,tt={showlegend:!0,legend:{title:{text:vt,font:Le},font:Le,bgcolor:Ue.bgcolor,bordercolor:Ue.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:le.legend?le.legend.traceorder:void 0,orientation:"v"}},nt={font:Le};c(tt,nt,te._fullData);var ut=nt.legend;ut.entries=[];for(var Ye=0;Ye<Se.length;Ye++){var st=Se[Ye];if(st.hoverinfo!=="none"){var xt=A(st,!0,pe,le,vt),Tt=xt[0],tr=xt[1];st.name=tr,tr!==""?st.text=tr+" : "+Tt:st.text=Tt;var cr=st.cd[st.index];cr&&(cr.mc&&(st.mc=cr.mc),cr.mcc&&(st.mc=cr.mcc),cr.mlc&&(st.mlc=cr.mlc),cr.mlcc&&(st.mlc=cr.mlcc),cr.mlw&&(st.mlw=cr.mlw),cr.mrc&&(st.mrc=cr.mrc),cr.dir&&(st.dir=cr.dir)),st._distinct=!0,ut.entries.push([st])}}ut.entries.sort(function(Bt,gn){return Bt[0].trace.index-gn[0].trace.index}),ut.layer=Me,ut._inHover=!0,ut._groupTitleFont=Ue.grouptitlefont,h(te,ut);var Er=Me.select("g.legend"),nr=X(te,Er.node()),yr=nr.width+2*C,qt=nr.height+2*C,Zt=Se[0],jr=(Zt.x0+Zt.x1)/2,Ar=(Zt.y0+Zt.y1)/2,kr=!(x.traceIs(Zt.trace,"bar-like")||x.traceIs(Zt.trace,"box-violin")),rr,zt;at==="y"?kr?(zt=Ar-C,rr=Ar+C):(zt=Math.min.apply(null,Se.map(function(Bt){return Math.min(Bt.y0,Bt.y1)})),rr=Math.max.apply(null,Se.map(function(Bt){return Math.max(Bt.y0,Bt.y1)}))):zt=rr=e.mean(Se.map(function(Bt){return(Bt.y0+Bt.y1)/2}))-qt/2;var xr,Gr;at==="x"?kr?(xr=jr+C,Gr=jr-C):(xr=Math.max.apply(null,Se.map(function(Bt){return Math.max(Bt.x0,Bt.x1)})),Gr=Math.min.apply(null,Se.map(function(Bt){return Math.min(Bt.x0,Bt.x1)}))):xr=Gr=e.mean(Se.map(function(Bt){return(Bt.x0+Bt.x1)/2}))-yr/2;var fn=Ce._offset,br=qe._offset;rr+=br,xr+=fn,Gr+=fn-yr,zt+=br-qt;var Jr,$r;return xr+yr<It&&xr>=0?Jr=xr:Gr+yr<It&&Gr>=0?Jr=Gr:fn+yr<It?Jr=fn:xr-jr<jr-Gr+yr?Jr=It-yr:Jr=0,Jr+=C,rr+qt<At&&rr>=0?$r=rr:zt+qt<At&&zt>=0?$r=zt:br+qt<At?$r=br:rr-Ar<Ar-zt+qt?$r=At-qt:$r=0,$r+=C,Er.attr("transform",l(Jr-1,$r-1)),Er}var Sn=Me.selectAll("g.hovertext").data(N,function(Bt){return Z(Bt)});return Sn.enter().append("g").classed("hovertext",!0).each(function(){var Bt=k.select(this);Bt.append("rect").call(u.fill,u.addOpacity(ye,.8)),Bt.append("text").classed("name",!0),Bt.append("path").style("stroke-width","1px"),Bt.append("text").classed("nums",!0).call(p.font,{weight:Ae,style:T,variant:V,textcase:j,lineposition:he,shadow:be,family:ze,size:Re})}),Sn.exit().remove(),Sn.each(function(Bt){var gn=k.select(this).attr("transform",""),oe=Bt.color;Array.isArray(oe)&&(oe=oe[Bt.eventData[0].pointNumber]);var de=Bt.bgcolor||oe,Ge=u.combine(u.opacity(de)?de:u.defaultLine,ye),We=u.combine(u.opacity(oe)?oe:u.defaultLine,ye),Pe=Bt.borderColor||u.contrast(Ge),Ie=A(Bt,Nt,pe,le,vt,gn),Ve=Ie[0],Ze=Ie[1],Be=gn.select("text.nums").call(p.font,{family:Bt.fontFamily||ze,size:Bt.fontSize||Re,color:Bt.fontColor||Pe,weight:Bt.fontWeight||Ae,style:Bt.fontStyle||T,variant:Bt.fontVariant||V,textcase:Bt.fontTextcase||j,lineposition:Bt.fontLineposition||he,shadow:Bt.fontShadow||be}).text(Ve).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,te),Je=gn.select("text.name"),Xe=0,rt=0;if(Ze&&Ze!==Ve){Je.call(p.font,{family:Bt.fontFamily||ze,size:Bt.fontSize||Re,color:We,weight:Bt.fontWeight||Ae,style:Bt.fontStyle||T,variant:Bt.fontVariant||V,textcase:Bt.fontTextcase||j,lineposition:Bt.fontLineposition||he,shadow:Bt.fontShadow||be}).text(Ze).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,te);var kt=X(te,Je.node());Xe=kt.width+2*C,rt=kt.height+2*C}else Je.remove(),gn.select("rect").remove();gn.select("path").style({fill:Ge,stroke:Pe});var Dt=Bt.xa._offset+(Bt.x0+Bt.x1)/2,Rt=Bt.ya._offset+(Bt.y0+Bt.y1)/2,Kt=Math.abs(Bt.x1-Bt.x0),ir=Math.abs(Bt.y1-Bt.y0),Fr=X(te,Be.node()),or=Fr.width/le._invScaleX,mr=Fr.height/le._invScaleY;Bt.ty0=(Ct-Fr.top)/le._invScaleY,Bt.bx=or+2*C,Bt.by=Math.max(mr+2*C,rt),Bt.anchor="start",Bt.txwidth=or,Bt.tx2width=Xe,Bt.offset=0;var Mr=(or+I+C+Xe)*le._invScaleX,Qr,hn;if(fe)Bt.pos=Dt,Qr=Rt+ir/2+Mr<=At,hn=Rt-ir/2-Mr>=0,(Bt.idealAlign==="top"||!Qr)&&hn?(Rt-=ir/2,Bt.anchor="end"):Qr?(Rt+=ir/2,Bt.anchor="start"):Bt.anchor="middle",Bt.crossPos=Rt;else{if(Bt.pos=Rt,Qr=Dt+Kt/2+Mr<=It,hn=Dt-Kt/2-Mr>=0,(Bt.idealAlign==="left"||!Qr)&&hn)Dt-=Kt/2,Bt.anchor="end";else if(Qr)Dt+=Kt/2,Bt.anchor="start";else{Bt.anchor="middle";var Fn=Mr/2,wn=Dt+Fn-It,Pn=Dt-Fn;wn>0&&(Dt-=wn),Pn<0&&(Dt+=-Pn)}Bt.crossPos=Dt}Be.attr("text-anchor",Bt.anchor),Xe&&Je.attr("text-anchor",Bt.anchor),gn.attr("transform",l(Dt,Rt)+(fe?a(b):""))}),{hoverLabels:Sn,commonLabelBoundingBox:we}}function A(N,$,te,le,pe,fe){var ye="",Me="";N.nameOverride!==void 0&&(N.name=N.nameOverride),N.name&&(N.trace._meta&&(N.name=e.templateString(N.name,N.trace._meta)),ye=q(N.name,N.nameLength));var He=te.charAt(0),Ne=He==="x"?"y":"x";N.zLabel!==void 0?(N.xLabel!==void 0&&(Me+="x: "+N.xLabel+"<br>"),N.yLabel!==void 0&&(Me+="y: "+N.yLabel+"<br>"),N.trace.type!=="choropleth"&&N.trace.type!=="choroplethmapbox"&&N.trace.type!=="choroplethmap"&&(Me+=(Me?"z: ":"")+N.zLabel)):$&&N[He+"Label"]===pe?Me=N[Ne+"Label"]||"":N.xLabel===void 0?N.yLabel!==void 0&&N.trace.type!=="scattercarpet"&&(Me=N.yLabel):N.yLabel===void 0?Me=N.xLabel:Me="("+N.xLabel+", "+N.yLabel+")",(N.text||N.text===0)&&!Array.isArray(N.text)&&(Me+=(Me?"<br>":"")+N.text),N.extraText!==void 0&&(Me+=(Me?"<br>":"")+N.extraText),fe&&Me===""&&!N.hovertemplate&&(ye===""&&fe.remove(),Me=ye);var ze=N.hovertemplate||!1;if(ze){var Re=N.hovertemplateLabels||N;N[He+"Label"]!==pe&&(Re[He+"other"]=Re[He+"Val"],Re[He+"otherLabel"]=Re[He+"Label"]),Me=e.hovertemplateString(ze,Re,le._d3locale,N.eventData[0]||{},N.trace._meta),Me=Me.replace(G,function(Ae,T){return ye=q(T,N.nameLength),""})}return[Me,ye]}function O(N,$,te,le){var pe=$?"xa":"ya",fe=$?"ya":"xa",ye=0,Me=1,He=N.size(),Ne=new Array(He),ze=0,Re=le.minX,Ae=le.maxX,T=le.minY,V=le.maxY,j=function(je){return je*te._invScaleX},he=function(je){return je*te._invScaleY};N.each(function(je){var ie=je[pe],ve=je[fe],we=ie._id.charAt(0)==="x",Se=ie.range;ze===0&&Se&&Se[0]>Se[1]!==we&&(Me=-1);var Ue=0,Le=we?te.width:te.height;if(te.hovermode==="x"||te.hovermode==="y"){var tt=L(je,$),nt=je.anchor,ut=nt==="end"?-1:1,Ye,st;if(nt==="middle")Ye=je.crossPos+(we?he(tt.y-je.by/2):j(je.bx/2+je.tx2width/2)),st=Ye+(we?he(je.by):j(je.bx));else if(we)Ye=je.crossPos+he(I+tt.y)-he(je.by/2-I),st=Ye+he(je.by);else{var xt=j(ut*I+tt.x),Tt=xt+j(ut*je.bx);Ye=je.crossPos+Math.min(xt,Tt),st=je.crossPos+Math.max(xt,Tt)}we?T!==void 0&&V!==void 0&&Math.min(st,V)-Math.max(Ye,T)>1&&(ve.side==="left"?(Ue=ve._mainLinePosition,Le=te.width):Le=ve._mainLinePosition):Re!==void 0&&Ae!==void 0&&Math.min(st,Ae)-Math.max(Ye,Re)>1&&(ve.side==="top"?(Ue=ve._mainLinePosition,Le=te.height):Le=ve._mainLinePosition)}Ne[ze++]=[{datum:je,traceIndex:je.trace.index,dp:0,pos:je.pos,posref:je.posref,size:je.by*(we?w:1)/2,pmin:Ue,pmax:Le}]}),Ne.sort(function(je,ie){return je[0].posref-ie[0].posref||Me*(ie[0].traceIndex-je[0].traceIndex)});var be,ke,Ce,qe,at,ct,vt;function St(je){var ie=je[0],ve=je[je.length-1];if(ke=ie.pmin-ie.pos-ie.dp+ie.size,Ce=ve.pos+ve.dp+ve.size-ie.pmax,ke>.01){for(at=je.length-1;at>=0;at--)je[at].dp+=ke;be=!1}if(!(Ce<.01)){if(ke<-.01){for(at=je.length-1;at>=0;at--)je[at].dp-=Ce;be=!1}if(be){var we=0;for(qe=0;qe<je.length;qe++)ct=je[qe],ct.pos+ct.dp+ct.size>ie.pmax&&we++;for(qe=je.length-1;qe>=0&&!(we<=0);qe--)ct=je[qe],ct.pos>ie.pmax-1&&(ct.del=!0,we--);for(qe=0;qe<je.length&&!(we<=0);qe++)if(ct=je[qe],ct.pos<ie.pmin+1)for(ct.del=!0,we--,Ce=ct.size*2,at=je.length-1;at>=0;at--)je[at].dp-=Ce;for(qe=je.length-1;qe>=0&&!(we<=0);qe--)ct=je[qe],ct.pos+ct.dp+ct.size>ie.pmax&&(ct.del=!0,we--)}}}for(;!be&&ye<=He;){for(ye++,be=!0,qe=0;qe<Ne.length-1;){var ot=Ne[qe],Ct=Ne[qe+1],It=ot[ot.length-1],At=Ct[0];if(ke=It.pos+It.dp+It.size-At.pos-At.dp+At.size,ke>.01){for(at=Ct.length-1;at>=0;at--)Ct[at].dp+=ke;for(ot.push.apply(ot,Ct),Ne.splice(qe+1,1),vt=0,at=ot.length-1;at>=0;at--)vt+=ot[at].dp;for(Ce=vt/ot.length,at=ot.length-1;at>=0;at--)ot[at].dp-=Ce;be=!1}else qe++}Ne.forEach(St)}for(qe=Ne.length-1;qe>=0;qe--){var Nt=Ne[qe];for(at=Nt.length-1;at>=0;at--){var _e=Nt[at],De=_e.datum;De.offset=_e.dp,De.del=_e.del}}}function L(N,$){var te=0,le=N.offset;return $&&(le*=-D,te=N.offset*K),{x:te,y:le}}function S(N){var $={start:1,end:-1,middle:0}[N.anchor],te=$*(I+C),le=te+$*(N.txwidth+C),pe=N.anchor==="middle";return pe&&(te-=N.tx2width/2,le+=N.txwidth/2+C),{alignShift:$,textShiftX:te,text2ShiftX:le}}function F(N,$,te,le){var pe=function(ye){return ye*te},fe=function(ye){return ye*le};N.each(function(ye){var Me=k.select(this);if(ye.del)return Me.remove();var He=Me.select("text.nums"),Ne=ye.anchor,ze=Ne==="end"?-1:1,Re=S(ye),Ae=L(ye,$),T=Ae.x,V=Ae.y,j=Ne==="middle";Me.select("path").attr("d",j?"M-"+pe(ye.bx/2+ye.tx2width/2)+","+fe(V-ye.by/2)+"h"+pe(ye.bx)+"v"+fe(ye.by)+"h-"+pe(ye.bx)+"Z":"M0,0L"+pe(ze*I+T)+","+fe(I+V)+"v"+fe(ye.by/2-I)+"h"+pe(ze*ye.bx)+"v-"+fe(ye.by)+"H"+pe(ze*I+T)+"V"+fe(V-I)+"Z");var he=T+Re.textShiftX,be=V+ye.ty0-ye.by/2+C,ke=ye.textAlign||"auto";ke!=="auto"&&(ke==="left"&&Ne!=="start"?(He.attr("text-anchor","start"),he=j?-ye.bx/2-ye.tx2width/2+C:-ye.bx-C):ke==="right"&&Ne!=="end"&&(He.attr("text-anchor","end"),he=j?ye.bx/2-ye.tx2width/2-C:ye.bx+C)),He.call(s.positionText,pe(he),fe(be)),ye.tx2width&&(Me.select("text.name").call(s.positionText,pe(Re.text2ShiftX+Re.alignShift*C+T),fe(V+ye.ty0-ye.by/2+C)),Me.select("rect").call(p.setRect,pe(Re.text2ShiftX+(Re.alignShift-1)*ye.tx2width/2+T),fe(V-ye.by/2-1),pe(ye.tx2width),fe(ye.by+2)))})}function W(N,$){var te=N.index,le=N.trace||{},pe=N.cd[0],fe=N.cd[te]||{};function ye(Ae){return Ae||i(Ae)&&Ae===0}var Me=Array.isArray(te)?function(Ae,T){var V=e.castOption(pe,te,Ae);return ye(V)?V:e.extractOption({},le,"",T)}:function(Ae,T){return e.extractOption(fe,le,Ae,T)};function He(Ae,T,V){var j=Me(T,V);ye(j)&&(N[Ae]=j)}if(He("hoverinfo","hi","hoverinfo"),He("bgcolor","hbg","hoverlabel.bgcolor"),He("borderColor","hbc","hoverlabel.bordercolor"),He("fontFamily","htf","hoverlabel.font.family"),He("fontSize","hts","hoverlabel.font.size"),He("fontColor","htc","hoverlabel.font.color"),He("fontWeight","htw","hoverlabel.font.weight"),He("fontStyle","hty","hoverlabel.font.style"),He("fontVariant","htv","hoverlabel.font.variant"),He("nameLength","hnl","hoverlabel.namelength"),He("textAlign","hta","hoverlabel.align"),N.posref=$==="y"||$==="closest"&&le.orientation==="h"?N.xa._offset+(N.x0+N.x1)/2:N.ya._offset+(N.y0+N.y1)/2,N.x0=e.constrain(N.x0,0,N.xa._length),N.x1=e.constrain(N.x1,0,N.xa._length),N.y0=e.constrain(N.y0,0,N.ya._length),N.y1=e.constrain(N.y1,0,N.ya._length),N.xLabelVal!==void 0&&(N.xLabel="xLabel"in N?N.xLabel:g.hoverLabelText(N.xa,N.xLabelVal,le.xhoverformat),N.xVal=N.xa.c2d(N.xLabelVal)),N.yLabelVal!==void 0&&(N.yLabel="yLabel"in N?N.yLabel:g.hoverLabelText(N.ya,N.yLabelVal,le.yhoverformat),N.yVal=N.ya.c2d(N.yLabelVal)),N.zLabelVal!==void 0&&N.zLabel===void 0&&(N.zLabel=String(N.zLabelVal)),!isNaN(N.xerr)&&!(N.xa.type==="log"&&N.xerr<=0)){var Ne=g.tickText(N.xa,N.xa.c2l(N.xerr),"hover").text;N.xerrneg!==void 0?N.xLabel+=" +"+Ne+" / -"+g.tickText(N.xa,N.xa.c2l(N.xerrneg),"hover").text:N.xLabel+=" ± "+Ne,$==="x"&&(N.distance+=1)}if(!isNaN(N.yerr)&&!(N.ya.type==="log"&&N.yerr<=0)){var ze=g.tickText(N.ya,N.ya.c2l(N.yerr),"hover").text;N.yerrneg!==void 0?N.yLabel+=" +"+ze+" / -"+g.tickText(N.ya,N.ya.c2l(N.yerrneg),"hover").text:N.yLabel+=" ± "+ze,$==="y"&&(N.distance+=1)}var Re=N.hoverinfo||N.trace.hoverinfo;return Re&&Re!=="all"&&(Re=Array.isArray(Re)?Re:Re.split("+"),Re.indexOf("x")===-1&&(N.xLabel=void 0),Re.indexOf("y")===-1&&(N.yLabel=void 0),Re.indexOf("z")===-1&&(N.zLabel=void 0),Re.indexOf("text")===-1&&(N.text=void 0),Re.indexOf("name")===-1&&(N.name=void 0)),N}function ue(N,$,te){var le=te.container,pe=te.fullLayout,fe=pe._size,ye=te.event,Me=!!$.hLinePoint,He=!!$.vLinePoint,Ne,ze;if(le.selectAll(".spikeline").remove(),!!(He||Me)){var Re=u.combine(pe.plot_bgcolor,pe.paper_bgcolor);if(Me){var Ae=$.hLinePoint,T,V;Ne=Ae&&Ae.xa,ze=Ae&&Ae.ya;var j=ze.spikesnap;j==="cursor"?(T=ye.pointerX,V=ye.pointerY):(T=Ne._offset+Ae.x,V=ze._offset+Ae.y);var he=t.readability(Ae.color,Re)<1.5?u.contrast(Re):Ae.color,be=ze.spikemode,ke=ze.spikethickness,Ce=ze.spikecolor||he,qe=g.getPxPosition(N,ze),at,ct;if(be.indexOf("toaxis")!==-1||be.indexOf("across")!==-1){if(be.indexOf("toaxis")!==-1&&(at=qe,ct=T),be.indexOf("across")!==-1){var vt=ze._counterDomainMin,St=ze._counterDomainMax;ze.anchor==="free"&&(vt=Math.min(vt,ze.position),St=Math.max(St,ze.position)),at=fe.l+vt*fe.w,ct=fe.l+St*fe.w}le.insert("line",":first-child").attr({x1:at,x2:ct,y1:V,y2:V,"stroke-width":ke,stroke:Ce,"stroke-dasharray":p.dashStyle(ze.spikedash,ke)}).classed("spikeline",!0).classed("crisp",!0),le.insert("line",":first-child").attr({x1:at,x2:ct,y1:V,y2:V,"stroke-width":ke+2,stroke:Re}).classed("spikeline",!0).classed("crisp",!0)}be.indexOf("marker")!==-1&&le.insert("circle",":first-child").attr({cx:qe+(ze.side!=="right"?ke:-ke),cy:V,r:ke,fill:Ce}).classed("spikeline",!0)}if(He){var ot=$.vLinePoint,Ct,It;Ne=ot&&ot.xa,ze=ot&&ot.ya;var At=Ne.spikesnap;At==="cursor"?(Ct=ye.pointerX,It=ye.pointerY):(Ct=Ne._offset+ot.x,It=ze._offset+ot.y);var Nt=t.readability(ot.color,Re)<1.5?u.contrast(Re):ot.color,_e=Ne.spikemode,De=Ne.spikethickness,je=Ne.spikecolor||Nt,ie=g.getPxPosition(N,Ne),ve,we;if(_e.indexOf("toaxis")!==-1||_e.indexOf("across")!==-1){if(_e.indexOf("toaxis")!==-1&&(ve=ie,we=It),_e.indexOf("across")!==-1){var Se=Ne._counterDomainMin,Ue=Ne._counterDomainMax;Ne.anchor==="free"&&(Se=Math.min(Se,Ne.position),Ue=Math.max(Ue,Ne.position)),ve=fe.t+(1-Ue)*fe.h,we=fe.t+(1-Se)*fe.h}le.insert("line",":first-child").attr({x1:Ct,x2:Ct,y1:ve,y2:we,"stroke-width":De,stroke:je,"stroke-dasharray":p.dashStyle(Ne.spikedash,De)}).classed("spikeline",!0).classed("crisp",!0),le.insert("line",":first-child").attr({x1:Ct,x2:Ct,y1:ve,y2:we,"stroke-width":De+2,stroke:Re}).classed("spikeline",!0).classed("crisp",!0)}_e.indexOf("marker")!==-1&&le.insert("circle",":first-child").attr({cx:Ct,cy:ie-(Ne.side!=="top"?De:-De),r:De,fill:je}).classed("spikeline",!0)}}}function ae(N,$,te){if(!te||te.length!==N._hoverdata.length)return!0;for(var le=te.length-1;le>=0;le--){var pe=te[le],fe=N._hoverdata[le];if(pe.curveNumber!==fe.curveNumber||String(pe.pointNumber)!==String(fe.pointNumber)||String(pe.pointNumbers)!==String(fe.pointNumbers))return!0}return!1}function se(N,$){return!0}function q(N,$){return s.plainText(N||"",{len:$,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function ee(N,$){for(var te=$.charAt(0),le=[],pe=[],fe=[],ye=0;ye<N.length;ye++){var Me=N[ye];x.traceIs(Me.trace,"bar-like")||x.traceIs(Me.trace,"box-violin")?fe.push(Me):Me.trace[te+"period"]?pe.push(Me):le.push(Me)}return le.concat(pe).concat(fe)}function B(N,$,te){var le=$[N+"a"],pe=$[N+"Val"],fe=$.cd[0];if(le.type==="category"||le.type==="multicategory")pe=le._categoriesMap[pe];else if(le.type==="date"){var ye=$.trace[N+"periodalignment"];if(ye){var Me=$.cd[$.index],He=Me[N+"Start"];He===void 0&&(He=Me[N]);var Ne=Me[N+"End"];Ne===void 0&&(Ne=Me[N]);var ze=Ne-He;ye==="end"?pe+=ze:ye==="middle"&&(pe+=ze/2)}pe=le.d2c(pe)}return fe&&fe.t&&fe.t.posLetter===le._id&&(te.boxmode==="group"||te.violinmode==="group")&&(pe+=fe.t.dPos),pe}function re(N){return N.offsetTop+N.clientTop}function J(N){return N.offsetLeft+N.clientLeft}function X(N,$){var te=N._fullLayout,le=$.getBoundingClientRect(),pe=le.left,fe=le.top,ye=pe+le.width,Me=fe+le.height,He=e.apply3DTransform(te._invTransform)(pe,fe),Ne=e.apply3DTransform(te._invTransform)(ye,Me),ze=He[0],Re=He[1],Ae=Ne[0],T=Ne[1];return{x:ze,y:Re,width:Ae-ze,height:T-Re,top:Math.min(Re,T),left:Math.min(ze,Ae),right:Math.max(ze,Ae),bottom:Math.max(Re,T)}}}),lc=xe((E,k)=>{var i=sr(),t=Nn(),e=Xi().isUnifiedHover;k.exports=function(n,l,a,o){o=o||{};var s=l.legend;function r(p){o.font[p]||(o.font[p]=s?l.legend.font[p]:l.font[p])}l&&e(l.hovermode)&&(o.font||(o.font={}),r("size"),r("family"),r("color"),r("weight"),r("style"),r("variant"),s?(o.bgcolor||(o.bgcolor=t.combine(l.legend.bgcolor,l.paper_bgcolor)),o.bordercolor||(o.bordercolor=l.legend.bordercolor)):o.bgcolor||(o.bgcolor=l.paper_bgcolor)),a("hoverlabel.bgcolor",o.bgcolor),a("hoverlabel.bordercolor",o.bordercolor),a("hoverlabel.namelength",o.namelength),i.coerceFont(a,"hoverlabel.font",o.font),a("hoverlabel.align",o.align)}}),Vp=xe((E,k)=>{var i=sr(),t=lc(),e=Al();k.exports=function(n,l){function a(o,s){return i.coerce(n,l,e,o,s)}t(n,l,a)}}),qp=xe((E,k)=>{var i=sr(),t=Gu(),e=lc();k.exports=function(n,l,a,o){function s(p,u){return i.coerce(n,l,t,p,u)}var r=i.extendFlat({},o.hoverlabel);l.hovertemplate&&(r.namelength=-1),e(n,l,s,r)}}),Kf=xe((E,k)=>{var i=sr(),t=Al();k.exports=function(e,n){function l(a,o){return n[a]!==void 0?n[a]:i.coerce(e,n,t,a,o)}return l("clickmode"),l("hoversubplots"),l("hovermode")}}),Wp=xe((E,k)=>{var i=sr(),t=Al(),e=Kf(),n=lc();k.exports=function(l,a){function o(v,x){return i.coerce(l,a,t,v,x)}var s=e(l,a);s&&(o("hoverdistance"),o("spikedistance"));var r=o("dragmode");r==="select"&&o("selectdirection");var p=a._has("mapbox"),u=a._has("map"),d=a._has("geo"),g=a._basePlotModules.length;a.dragmode==="zoom"&&((p||u||d)&&g===1||(p||u)&&d&&g===2)&&(a.dragmode="pan"),n(l,a,o),i.coerceFont(o,"hoverlabel.grouptitlefont",a.hoverlabel.font)}}),Yp=xe((E,k)=>{var i=sr(),t=mn();k.exports=function(n){var l=n.calcdata,a=n._fullLayout;function o(d){return function(g){return i.coerceHoverinfo({hoverinfo:g},{_module:d._module},a)}}for(var s=0;s<l.length;s++){var r=l[s],p=r[0].trace;if(!t.traceIs(p,"pie-like")){var u=t.traceIs(p,"2dMap")?e:i.fillArray;u(p.hoverinfo,r,"hi",o(p)),p.hovertemplate&&u(p.hovertemplate,r,"ht"),p.hoverlabel&&(u(p.hoverlabel.bgcolor,r,"hbg"),u(p.hoverlabel.bordercolor,r,"hbc"),u(p.hoverlabel.font.size,r,"hts"),u(p.hoverlabel.font.color,r,"htc"),u(p.hoverlabel.font.family,r,"htf"),u(p.hoverlabel.font.weight,r,"htw"),u(p.hoverlabel.font.style,r,"hty"),u(p.hoverlabel.font.variant,r,"htv"),u(p.hoverlabel.namelength,r,"hnl"),u(p.hoverlabel.align,r,"hta"))}}};function e(n,l,a,o){o=o||i.identity,Array.isArray(n)&&(l[0][a]=o(n))}}),Gp=xe((E,k)=>{var i=mn(),t=Zf().hover;k.exports=function(e,n,l){var a=i.getComponentMethod("annotations","onClick")(e,e._hoverdata);l!==void 0&&t(e,n,l,!0);function o(){e.emit("plotly_click",{points:e._hoverdata,event:n})}e._hoverdata&&n&&n.target&&(a&&a.then?a.then(o):o(),n.stopImmediatePropagation&&n.stopImmediatePropagation())}}),Oo=xe((E,k)=>{var i=Jn(),t=sr(),e=Fi(),n=Xi(),l=Al(),a=Zf();k.exports={moduleType:"component",name:"fx",constants:Os(),schema:{layout:l},attributes:Gu(),layoutAttributes:l,supplyLayoutGlobalDefaults:Vp(),supplyDefaults:qp(),supplyLayoutDefaults:Wp(),calc:Yp(),getDistanceFunction:n.getDistanceFunction,getClosest:n.getClosest,inbox:n.inbox,quadrature:n.quadrature,appendArrayPointValue:n.appendArrayPointValue,castHoverOption:s,castHoverinfo:r,hover:a.hover,unhover:e.unhover,loneHover:a.loneHover,loneUnhover:o,click:Gp()};function o(p){var u=t.isD3Selection(p)?p:i.select(p);u.selectAll("g.hovertext").remove(),u.selectAll(".spikeline").remove()}function s(p,u,d){return t.castOption(p,u,"hoverlabel."+d)}function r(p,u,d){function g(v){return t.coerceHoverinfo({hoverinfo:v},{_module:p._module},u)}return t.castOption(p,d,"hoverinfo",g)}}),Zo=xe(E=>{E.selectMode=function(k){return k==="lasso"||k==="select"},E.drawMode=function(k){return k==="drawclosedpath"||k==="drawopenpath"||k==="drawline"||k==="drawrect"||k==="drawcircle"},E.openMode=function(k){return k==="drawline"||k==="drawopenpath"},E.rectMode=function(k){return k==="select"||k==="drawline"||k==="drawrect"||k==="drawcircle"},E.freeMode=function(k){return k==="lasso"||k==="drawclosedpath"||k==="drawopenpath"},E.selectingOrDrawing=function(k){return E.freeMode(k)||E.rectMode(k)}}),sc=xe((E,k)=>{k.exports=function(i){var t=i._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}}),uc=xe((E,k)=>{k.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}}),cc=xe((E,k)=>{var i=32;k.exports={CIRCLE_SIDES:i,i000:0,i090:i/4,i180:i/2,i270:i/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),fc=xe((E,k)=>{var i=sr().strTranslate;function t(a,o){switch(a.type){case"log":return a.p2d(o);case"date":return a.p2r(o,0,a.calendar);default:return a.p2r(o)}}function e(a,o){switch(a.type){case"log":return a.d2p(o);case"date":return a.r2p(o,0,a.calendar);default:return a.r2p(o)}}function n(a){var o=a._id.charAt(0)==="y"?1:0;return function(s){return t(a,s[o])}}function l(a){return i(a.xaxis._offset,a.yaxis._offset)}k.exports={p2r:t,r2p:e,axValue:n,getTransform:l}}),Lo=xe(E=>{var k=Is(),i=cc(),t=i.CIRCLE_SIDES,e=i.SQRT2,n=fc(),l=n.p2r,a=n.r2p,o=[0,3,4,5,6,1,2],s=[0,3,4,1,2];E.writePaths=function(u){var d=u.length;if(!d)return"M0,0Z";for(var g="",v=0;v<d;v++)for(var x=u[v].length,y=0;y<x;y++){var m=u[v][y][0];if(m==="Z")g+="Z";else for(var c=u[v][y].length,h=0;h<c;h++){var b=h;m==="Q"||m==="S"?b=s[h]:m==="C"&&(b=o[h]),g+=u[v][y][b],h>0&&h<c-1&&(g+=",")}}return g},E.readPaths=function(u,d,g,v){var x=k(u),y=[],m=-1,c=function(){m++,y[m]=[]},h,b=0,_=0,w,K,D=function(){w=b,K=_};D();for(var I=0;I<x.length;I++){var C=[],H,z,R,U,Z=x[I][0],G=Z;switch(Z){case"M":c(),b=+x[I][1],_=+x[I][2],C.push([G,b,_]),D();break;case"Q":case"S":H=+x[I][1],R=+x[I][2],b=+x[I][3],_=+x[I][4],C.push([G,b,_,H,R]);break;case"C":H=+x[I][1],R=+x[I][2],z=+x[I][3],U=+x[I][4],b=+x[I][5],_=+x[I][6],C.push([G,b,_,H,R,z,U]);break;case"T":case"L":b=+x[I][1],_=+x[I][2],C.push([G,b,_]);break;case"H":G="L",b=+x[I][1],C.push([G,b,_]);break;case"V":G="L",_=+x[I][1],C.push([G,b,_]);break;case"A":G="L";var P=+x[I][1],A=+x[I][2];+x[I][4]||(P=-P,A=-A);var O=b-P,L=_;for(h=1;h<=t/2;h++){var S=2*Math.PI*h/t;C.push([G,O+P*Math.cos(S),L+A*Math.sin(S)])}break;case"Z":(b!==w||_!==K)&&(b=w,_=K,C.push([G,b,_]));break}for(var F=(g||{}).domain,W=d._fullLayout._size,ue=g&&g.xsizemode==="pixel",ae=g&&g.ysizemode==="pixel",se=v===!1,q=0;q<C.length;q++){for(h=0;h+2<7;h+=2){var ee=C[q][h+1],B=C[q][h+2];ee===void 0||B===void 0||(b=ee,_=B,g&&(g.xaxis&&g.xaxis.p2r?(se&&(ee-=g.xaxis._offset),ue?ee=a(g.xaxis,g.xanchor)+ee:ee=l(g.xaxis,ee)):(se&&(ee-=W.l),F?ee=F.x[0]+ee/W.w:ee=ee/W.w),g.yaxis&&g.yaxis.p2r?(se&&(B-=g.yaxis._offset),ae?B=a(g.yaxis,g.yanchor)-B:B=l(g.yaxis,B)):(se&&(B-=W.t),F?B=F.y[1]-B/W.h:B=1-B/W.h)),C[q][h+1]=ee,C[q][h+2]=B)}y[m].push(C[q].slice())}}return y};function r(u,d){return Math.abs(u-d)<=1e-6}function p(u,d){var g=d[1]-u[1],v=d[2]-u[2];return Math.sqrt(g*g+v*v)}E.pointsOnRectangle=function(u){var d=u.length;if(d!==5)return!1;for(var g=1;g<3;g++){var v=u[0][g]-u[1][g],x=u[3][g]-u[2][g];if(!r(v,x))return!1;var y=u[0][g]-u[3][g],m=u[1][g]-u[2][g];if(!r(y,m))return!1}return!r(u[0][1],u[1][1])&&!r(u[0][1],u[3][1])?!1:!!(p(u[0],u[1])*p(u[0],u[3]))},E.pointsOnEllipse=function(u){var d=u.length;if(d!==t+1)return!1;d=t;for(var g=0;g<d;g++){var v=(d*2-g)%d,x=(d/2+v)%d,y=(d/2+g)%d;if(!r(p(u[g],u[y]),p(u[v],u[x])))return!1}return!0},E.handleEllipse=function(u,d,g){if(!u)return[d,g];var v=E.ellipseOver({x0:d[0],y0:d[1],x1:g[0],y1:g[1]}),x=(v.x1+v.x0)/2,y=(v.y1+v.y0)/2,m=(v.x1-v.x0)/2,c=(v.y1-v.y0)/2;m||(m=c=c/e),c||(c=m=m/e);for(var h=[],b=0;b<t;b++){var _=b*2*Math.PI/t;h.push([x+m*Math.cos(_),y+c*Math.sin(_)])}return h},E.ellipseOver=function(u){var d=u.x0,g=u.y0,v=u.x1,x=u.y1,y=v-d,m=x-g;d-=y,g-=m;var c=(d+v)/2,h=(g+x)/2,b=e;return y*=b,m*=b,{x0:c-y,y0:h-m,x1:c+y,y1:h+m}},E.fixDatesForPaths=function(u,d,g){var v=d.type==="date",x=g.type==="date";if(!v&&!x)return u;for(var y=0;y<u.length;y++)for(var m=0;m<u[y].length;m++)for(var c=0;c+2<u[y][m].length;c+=2)v&&(u[y][m][c+1]=u[y][m][c+1].replace(" ","_")),x&&(u[y][m][c+2]=u[y][m][c+2].replace(" ","_"));return u}}),dc=xe((E,k)=>{var i=Zo(),t=i.drawMode,e=i.openMode,n=cc(),l=n.i000,a=n.i090,o=n.i180,s=n.i270,r=n.cos45,p=n.sin45,u=fc(),d=u.p2r,g=u.r2p,v=Mo(),x=v.clearOutline,y=Lo(),m=y.readPaths,c=y.writePaths,h=y.ellipseOver,b=y.fixDatesForPaths;function _(K,D){if(K.length){var I=K[0][0];if(I){var C=D.gd,H=D.isActiveShape,z=D.dragmode,R=(C.layout||{}).shapes||[];if(!t(z)&&H!==void 0){var U=C._fullLayout._activeShapeIndex;if(U<R.length)switch(C._fullLayout.shapes[U].type){case"rect":z="drawrect";break;case"circle":z="drawcircle";break;case"line":z="drawline";break;case"path":var Z=R[U].path||"";Z[Z.length-1]==="Z"?z="drawclosedpath":z="drawopenpath";break}}var G=w(K,D,z);x(C);for(var P=D.editHelpers,A=(P||{}).modifyItem,O=[],L=0;L<R.length;L++){var S=C._fullLayout.shapes[L];if(O[L]=S._input,H!==void 0&&L===C._fullLayout._activeShapeIndex){var F=G;switch(S.type){case"line":case"rect":case"circle":A("x0",F.x0-(S.x0shift||0)),A("x1",F.x1-(S.x1shift||0)),A("y0",F.y0-(S.y0shift||0)),A("y1",F.y1-(S.y1shift||0));break;case"path":A("path",F.path);break}}}return H===void 0?(O.push(G),O):P?P.getUpdateObj():{}}}}function w(K,D,I){var C=K[0][0],H=D.gd,z=C.getAttribute("d"),R=H._fullLayout.newshape,U=D.plotinfo,Z=D.isActiveShape,G=U.xaxis,P=U.yaxis,A=!!U.domain||!U.xaxis,O=!!U.domain||!U.yaxis,L=e(I),S=m(z,H,U,Z),F={editable:!0,visible:R.visible,name:R.name,showlegend:R.showlegend,legend:R.legend,legendwidth:R.legendwidth,legendgroup:R.legendgroup,legendgrouptitle:{text:R.legendgrouptitle.text,font:R.legendgrouptitle.font},legendrank:R.legendrank,label:R.label,xref:A?"paper":G._id,yref:O?"paper":P._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};L||(F.fillcolor=R.fillcolor,F.fillrule=R.fillrule);var W;if(S.length===1&&(W=S[0]),W&&W.length===5&&I==="drawrect")F.type="rect",F.x0=W[0][1],F.y0=W[0][2],F.x1=W[2][1],F.y1=W[2][2];else if(W&&I==="drawline")F.type="line",F.x0=W[0][1],F.y0=W[0][2],F.x1=W[1][1],F.y1=W[1][2];else if(W&&I==="drawcircle"){F.type="circle";var ue=W[l][1],ae=W[a][1],se=W[o][1],q=W[s][1],ee=W[l][2],B=W[a][2],re=W[o][2],J=W[s][2],X=U.xaxis&&(U.xaxis.type==="date"||U.xaxis.type==="log"),N=U.yaxis&&(U.yaxis.type==="date"||U.yaxis.type==="log");X&&(ue=g(U.xaxis,ue),ae=g(U.xaxis,ae),se=g(U.xaxis,se),q=g(U.xaxis,q)),N&&(ee=g(U.yaxis,ee),B=g(U.yaxis,B),re=g(U.yaxis,re),J=g(U.yaxis,J));var $=(ae+q)/2,te=(ee+re)/2,le=(q-ae+se-ue)/2,pe=(J-B+re-ee)/2,fe=h({x0:$,y0:te,x1:$+le*r,y1:te+pe*p});X&&(fe.x0=d(U.xaxis,fe.x0),fe.x1=d(U.xaxis,fe.x1)),N&&(fe.y0=d(U.yaxis,fe.y0),fe.y1=d(U.yaxis,fe.y1)),F.x0=fe.x0,F.y0=fe.y0,F.x1=fe.x1,F.y1=fe.y1}else F.type="path",G&&P&&b(S,G,P),F.path=c(S),W=null;return F}k.exports={newShapes:_,createShapeObj:w}}),$f=xe((E,k)=>{var i=Zo(),t=i.selectMode,e=Mo(),n=e.clearOutline,l=Lo(),a=l.readPaths,o=l.writePaths,s=l.fixDatesForPaths;k.exports=function(r,p){if(r.length){var u=r[0][0];if(u){var d=u.getAttribute("d"),g=p.gd,v=g._fullLayout.newselection,x=p.plotinfo,y=x.xaxis,m=x.yaxis,c=p.isActiveSelection,h=p.dragmode,b=(g.layout||{}).selections||[];if(!t(h)&&c!==void 0){var _=g._fullLayout._activeSelectionIndex;if(_<b.length)switch(g._fullLayout.selections[_].type){case"rect":h="select";break;case"path":h="lasso";break}}var w=a(d,g,x,c),K={xref:y._id,yref:m._id,opacity:v.opacity,line:{color:v.line.color,width:v.line.width,dash:v.line.dash}},D;w.length===1&&(D=w[0]),D&&D.length===5&&h==="select"?(K.type="rect",K.x0=D[0][1],K.y0=D[0][2],K.x1=D[2][1],K.y1=D[2][2]):(K.type="path",y&&m&&s(w,y,m),K.path=o(w),D=null),n(g);for(var I=p.editHelpers,C=(I||{}).modifyItem,H=[],z=0;z<b.length;z++){var R=g._fullLayout.selections[z];if(!R){H[z]=R;continue}if(H[z]=R._input,c!==void 0&&z===g._fullLayout._activeSelectionIndex){var U=K;switch(R.type){case"rect":C("x0",U.x0),C("x1",U.x1),C("y0",U.y0),C("y1",U.y1);break;case"path":C("path",U.path);break}}}return c===void 0?(H.push(K),H):I?I.getUpdateObj():{}}}}}),Rs=xe((E,k)=>{k.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),Co=xe(E=>{var k=Rs(),i=sr(),t=Ma();E.rangeToShapePosition=function(l){return l.type==="log"?l.r2d:function(a){return a}},E.shapePositionToRange=function(l){return l.type==="log"?l.d2r:function(a){return a}},E.decodeDate=function(l){return function(a){return a.replace&&(a=a.replace("_"," ")),l(a)}},E.encodeDate=function(l){return function(a){return l(a).replace(" ","_")}},E.extractPathCoords=function(l,a,o){var s=[],r=l.match(k.segmentRE);return r.forEach(function(p){var u=a[p.charAt(0)].drawn;if(u!==void 0){var d=p.substr(1).match(k.paramRE);if(!(!d||d.length<u)){var g=d[u],v=o?g:i.cleanNumber(g);s.push(v)}}}),s},E.getDataToPixel=function(l,a,o,s,r){var p=l._fullLayout._size,u;if(a)if(r==="domain")u=function(g){return a._length*(s?1-g:g)+a._offset};else{var d=E.shapePositionToRange(a);u=function(g){var v=n(a,o);return a._offset+a.r2p(d(g,!0))+v},a.type==="date"&&(u=E.decodeDate(u))}else s?u=function(g){return p.t+p.h*(1-g)}:u=function(g){return p.l+p.w*g};return u},E.getPixelToData=function(l,a,o,s){var r=l._fullLayout._size,p;if(a)if(s==="domain")p=function(d){var g=(d-a._offset)/a._length;return o?1-g:g};else{var u=E.rangeToShapePosition(a);p=function(d){return u(a.p2r(d-a._offset))}}else o?p=function(d){return 1-(d-r.t)/r.h}:p=function(d){return(d-r.l)/r.w};return p},E.roundPositionForSharpStrokeRendering=function(l,a){var o=Math.round(a%2)===1,s=Math.round(l);return o?s+.5:s},E.makeShapesOptionsAndPlotinfo=function(l,a){var o=l._fullLayout.shapes[a]||{},s=l._fullLayout._plots[o.xref+o.yref],r=!!s;return r?s._hadPlotinfo=!0:(s={},o.xref&&o.xref!=="paper"&&(s.xaxis=l._fullLayout[o.xref+"axis"]),o.yref&&o.yref!=="paper"&&(s.yaxis=l._fullLayout[o.yref+"axis"])),s.xsizemode=o.xsizemode,s.ysizemode=o.ysizemode,s.xanchor=o.xanchor,s.yanchor=o.yanchor,{options:o,plotinfo:s}},E.makeSelectionsOptionsAndPlotinfo=function(l,a){var o=l._fullLayout.selections[a]||{},s=l._fullLayout._plots[o.xref+o.yref],r=!!s;return r?s._hadPlotinfo=!0:(s={},o.xref&&(s.xaxis=l._fullLayout[o.xref+"axis"]),o.yref&&(s.yaxis=l._fullLayout[o.yref+"axis"])),{options:o,plotinfo:s}},E.getPathString=function(l,a){var o=a.type,s=t.getRefType(a.xref),r=t.getRefType(a.yref),p=t.getFromId(l,a.xref),u=t.getFromId(l,a.yref),d=l._fullLayout._size,g,v,x,y,m=n(p,a.x0shift),c=n(p,a.x1shift),h=n(u,a.y0shift),b=n(u,a.y1shift),_,w,K,D;if(p?s==="domain"?v=function(A){return p._offset+p._length*A}:(g=E.shapePositionToRange(p),v=function(A){return p._offset+p.r2p(g(A,!0))}):v=function(A){return d.l+d.w*A},u?r==="domain"?y=function(A){return u._offset+u._length*(1-A)}:(x=E.shapePositionToRange(u),y=function(A){return u._offset+u.r2p(x(A,!0))}):y=function(A){return d.t+d.h*(1-A)},o==="path")return p&&p.type==="date"&&(v=E.decodeDate(v)),u&&u.type==="date"&&(y=E.decodeDate(y)),e(a,v,y);if(a.xsizemode==="pixel"){var I=v(a.xanchor);_=I+a.x0+m,w=I+a.x1+c}else _=v(a.x0)+m,w=v(a.x1)+c;if(a.ysizemode==="pixel"){var C=y(a.yanchor);K=C-a.y0+h,D=C-a.y1+b}else K=y(a.y0)+h,D=y(a.y1)+b;if(o==="line")return"M"+_+","+K+"L"+w+","+D;if(o==="rect")return"M"+_+","+K+"H"+w+"V"+D+"H"+_+"Z";var H=(_+w)/2,z=(K+D)/2,R=Math.abs(H-_),U=Math.abs(z-K),Z="A"+R+","+U,G=H+R+","+z,P=H+","+(z-U);return"M"+G+Z+" 0 1,1 "+P+Z+" 0 0,1 "+G+"Z"};function e(l,a,o){var s=l.path,r=l.xsizemode,p=l.ysizemode,u=l.xanchor,d=l.yanchor;return s.replace(k.segmentRE,function(g){var v=0,x=g.charAt(0),y=k.paramIsX[x],m=k.paramIsY[x],c=k.numParams[x],h=g.substr(1).replace(k.paramRE,function(b){return y[v]?r==="pixel"?b=a(u)+Number(b):b=a(b):m[v]&&(p==="pixel"?b=o(d)-Number(b):b=o(b)),v++,v>c&&(b="X"),b});return v>c&&(h=h.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+g)),x+h})}function n(l,a){a=a||0;var o=0;return a&&l&&(l.type==="category"||l.type==="multicategory")&&(o=(l.r2p(1)-l.r2p(0))*a),o}}),Xf=xe((E,k)=>{var i=sr(),t=Ma(),e=fi(),n=na(),l=Lo().readPaths,a=Co(),o=a.getPathString,s=Ku(),r=ii().FROM_TL;k.exports=function(d,g,v,x){if(x.selectAll(".shape-label").remove(),!!(v.label.text||v.label.texttemplate)){var y;if(v.label.texttemplate){var m={};if(v.type!=="path"){var c=t.getFromId(d,v.xref),h=t.getFromId(d,v.yref);for(var b in s){var _=s[b](v,c,h);_!==void 0&&(m[b]=_)}}y=i.texttemplateStringForShapes(v.label.texttemplate,{},d._fullLayout._d3locale,m)}else y=v.label.text;var w={"data-index":g},K=v.label.font,D={"data-notex":1},I=x.append("g").attr(w).classed("shape-label",!0),C=I.append("text").attr(D).classed("shape-label-text",!0).text(y),H,z,R,U;if(v.path){var Z=o(d,v),G=l(Z,d);H=1/0,R=1/0,z=-1/0,U=-1/0;for(var P=0;P<G.length;P++)for(var A=0;A<G[P].length;A++)for(var O=G[P][A],L=1;L<O.length;L+=2){var S=O[L],F=O[L+1];H=Math.min(H,S),z=Math.max(z,S),R=Math.min(R,F),U=Math.max(U,F)}}else{var W=t.getFromId(d,v.xref),ue=v.x0shift,ae=v.x1shift,se=t.getRefType(v.xref),q=t.getFromId(d,v.yref),ee=v.y0shift,B=v.y1shift,re=t.getRefType(v.yref),J=function(ye,Me){var He=a.getDataToPixel(d,W,Me,!1,se);return He(ye)},X=function(ye,Me){var He=a.getDataToPixel(d,q,Me,!0,re);return He(ye)};H=J(v.x0,ue),z=J(v.x1,ae),R=X(v.y0,ee),U=X(v.y1,B)}var N=v.label.textangle;N==="auto"&&(v.type==="line"?N=p(H,R,z,U):N=0),C.call(function(ye){return ye.call(n.font,K).attr({}),e.convertToTspans(ye,d),ye});var $=n.bBox(C.node()),te=u(H,R,z,U,v,N,$),le=te.textx,pe=te.texty,fe=te.xanchor;C.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[fe],y:pe,x:le,transform:"rotate("+N+","+le+","+pe+")"}).call(e.positionText,le,pe)}};function p(d,g,v,x){var y,m;return m=Math.abs(v-d),v>=d?y=g-x:y=x-g,-180/Math.PI*Math.atan2(y,m)}function u(d,g,v,x,y,m,c){var h=y.label.textposition,b=y.label.textangle,_=y.label.padding,w=y.type,K=Math.PI/180*m,D=Math.sin(K),I=Math.cos(K),C=y.label.xanchor,H=y.label.yanchor,z,R,U,Z;if(w==="line"){h==="start"?(z=d,R=g):h==="end"?(z=v,R=x):(z=(d+v)/2,R=(g+x)/2),C==="auto"&&(h==="start"?b==="auto"?v>d?C="left":v<d?C="right":C="center":v>d?C="right":v<d?C="left":C="center":h==="end"?b==="auto"?v>d?C="right":v<d?C="left":C="center":v>d?C="left":v<d?C="right":C="center":C="center");var G={left:1,center:0,right:-1},P={bottom:-1,middle:0,top:1};if(b==="auto"){var A=P[H];U=-_*D*A,Z=_*I*A}else{var O=G[C],L=P[H];U=_*O,Z=_*L}z=z+U,R=R+Z}else U=_+3,h.indexOf("right")!==-1?(z=Math.max(d,v)-U,C==="auto"&&(C="right")):h.indexOf("left")!==-1?(z=Math.min(d,v)+U,C==="auto"&&(C="left")):(z=(d+v)/2,C==="auto"&&(C="center")),h.indexOf("top")!==-1?R=Math.min(g,x):h.indexOf("bottom")!==-1?R=Math.max(g,x):R=(g+x)/2,Z=_,H==="bottom"?R=R-Z:H==="top"&&(R=R+Z);var S=r[H],F=y.label.font.size,W=c.height,ue=(W*S-F)*D,ae=-(W*S-F)*I;return{textx:z+ue,texty:R+ae,xanchor:C}}}),hc=xe((E,k)=>{var i=sr(),t=i.strTranslate,e=Fi(),n=Zo(),l=n.drawMode,a=n.selectMode,o=mn(),s=Nn(),r=cc(),p=r.i000,u=r.i090,d=r.i180,g=r.i270,v=Mo(),x=v.clearOutlineControllers,y=Lo(),m=y.pointsOnRectangle,c=y.pointsOnEllipse,h=y.writePaths,b=dc().newShapes,_=dc().createShapeObj,w=$f(),K=Xf();k.exports=function H(z,R,U,Z){Z||(Z=0);var G=U.gd;function P(){H(z,R,U,Z++),(c(z[0])||U.hasText)&&A({redrawing:!0})}function A(Re){var Ae={};U.isActiveShape!==void 0&&(U.isActiveShape=!1,Ae=b(R,U)),U.isActiveSelection!==void 0&&(U.isActiveSelection=!1,Ae=w(R,U),G._fullLayout._reselect=!0),Object.keys(Ae).length&&o.call((Re||{}).redrawing?"relayout":"_guiRelayout",G,Ae)}var O=G._fullLayout,L=O._zoomlayer,S=U.dragmode,F=l(S),W=a(S);(F||W)&&(G._fullLayout._outlining=!0),x(G),R.attr("d",h(z));var ue,ae,se,q,ee;if(!Z&&(U.isActiveShape||U.isActiveSelection)){ee=D([],z);var B=L.append("g").attr("class","outline-controllers");pe(B),ze()}if(F&&U.hasText){var re=L.select(".label-temp"),J=_(R,U,U.dragmode);K(G,"label-temp",J,re)}function X(Re){se=+Re.srcElement.getAttribute("data-i"),q=+Re.srcElement.getAttribute("data-j"),ue[se][q].moveFn=N}function N(Re,Ae){if(z.length){var T=ee[se][q][1],V=ee[se][q][2],j=z[se],he=j.length;if(m(j)){var be=Re,ke=Ae;if(U.isActiveSelection){var Ce=I(j,q);Ce[1]===j[q][1]?ke=0:be=0}for(var qe=0;qe<he;qe++)if(qe!==q){var at=j[qe];at[1]===j[q][1]&&(at[1]=T+be),at[2]===j[q][2]&&(at[2]=V+ke)}if(j[q][1]=T+be,j[q][2]=V+ke,!m(j))for(var ct=0;ct<he;ct++)for(var vt=0;vt<j[ct].length;vt++)j[ct][vt]=ee[se][ct][vt]}else j[q][1]=T+Re,j[q][2]=V+Ae;P()}}function $(){A()}function te(){if(z.length&&z[se]&&z[se].length){for(var Re=[],Ae=0;Ae<z[se].length;Ae++)Ae!==q&&Re.push(z[se][Ae]);Re.length>1&&!(Re.length===2&&Re[1][0]==="Z")&&(q===0&&(Re[0][0]="M"),z[se]=Re,P(),A())}}function le(Re,Ae){if(Re===2){se=+Ae.srcElement.getAttribute("data-i"),q=+Ae.srcElement.getAttribute("data-j");var T=z[se];!m(T)&&!c(T)&&te()}}function pe(Re){ue=[];for(var Ae=0;Ae<z.length;Ae++){var T=z[Ae],V=m(T),j=!V&&c(T);ue[Ae]=[];for(var he=T.length,be=0;be<he;be++)if(T[be][0]!=="Z"&&!(j&&be!==p&&be!==u&&be!==d&&be!==g)){var ke=V&&U.isActiveSelection,Ce;ke&&(Ce=I(T,be));var qe=T[be][1],at=T[be][2],ct=Re.append(ke?"rect":"circle").attr("data-i",Ae).attr("data-j",be).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ke){var vt=Ce[1]-qe,St=Ce[2]-at,ot=St?5:Math.max(Math.min(25,Math.abs(vt)-5),5),Ct=vt?5:Math.max(Math.min(25,Math.abs(St)-5),5);ct.classed(St?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ot).attr("height",Ct).attr("x",qe-ot/2).attr("y",at-Ct/2).attr("transform",t(vt/2,St/2))}else ct.classed("cursor-grab",!0).attr("r",5).attr("cx",qe).attr("cy",at);ue[Ae][be]={element:ct.node(),gd:G,prepFn:X,doneFn:$,clickFn:le},e.init(ue[Ae][be])}}}function fe(Re,Ae){if(z.length)for(var T=0;T<z.length;T++)for(var V=0;V<z[T].length;V++)for(var j=0;j+2<z[T][V].length;j+=2)z[T][V][j+1]=ee[T][V][j+1]+Re,z[T][V][j+2]=ee[T][V][j+2]+Ae}function ye(Re,Ae){fe(Re,Ae),P()}function Me(Re){se=+Re.srcElement.getAttribute("data-i"),se||(se=0),ae[se].moveFn=ye}function He(){A()}function Ne(Re){Re===2&&C(G)}function ze(){if(ae=[],!!z.length){var Re=0;ae[Re]={element:R[0][0],gd:G,prepFn:Me,doneFn:He,clickFn:Ne},e.init(ae[Re])}}};function D(H,z){for(var R=0;R<z.length;R++){var U=z[R];H[R]=[];for(var Z=0;Z<U.length;Z++){H[R][Z]=[];for(var G=0;G<U[Z].length;G++)H[R][Z][G]=U[Z][G]}}return H}function I(H,z){var R=H[z][1],U=H[z][2],Z=H.length,G,P,A;return G=(z+1)%Z,P=H[G][1],A=H[G][2],P===R&&A===U&&(G=(z+2)%Z,P=H[G][1],A=H[G][2]),[G,P,A]}function C(H){if(a(H._fullLayout.dragmode)){x(H);var z=H._fullLayout._activeSelectionIndex,R=(H.layout||{}).selections||[];if(z<R.length){for(var U=[],Z=0;Z<R.length;Z++)Z!==z&&U.push(R[Z]);delete H._fullLayout._activeSelectionIndex;var G=H._fullLayout.selections[z];H._fullLayout._deselect={xref:G.xref,yref:G.yref},o.call("_guiRelayout",H,{selections:U})}}}}),pc=xe((E,k)=>{var i=Jn(),t=mn(),e=sr(),n=Ma(),l=Lo().readPaths,a=hc(),o=Xf(),s=Mo().clearOutlineControllers,r=Nn(),p=na(),u=ca().arrayEditor,d=Fi(),g=So(),v=Rs(),x=Co(),y=x.getPathString;k.exports={draw:m,drawOne:b,eraseActiveShape:C,drawLabel:o};function m(H){var z=H._fullLayout;z._shapeUpperLayer.selectAll("path").remove(),z._shapeLowerLayer.selectAll("path").remove(),z._shapeUpperLayer.selectAll("text").remove(),z._shapeLowerLayer.selectAll("text").remove();for(var R in z._plots){var U=z._plots[R].shapelayer;U&&(U.selectAll("path").remove(),U.selectAll("text").remove())}for(var Z=0;Z<z.shapes.length;Z++)z.shapes[Z].visible===!0&&b(H,Z)}function c(H){return!!H._fullLayout._outlining}function h(H){return!H._context.edits.shapePosition}function b(H,z){H._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+z+'"]').remove();var R=x.makeShapesOptionsAndPlotinfo(H,z),U=R.options,Z=R.plotinfo;if(!U._input||U.visible!==!0)return;if(U.layer==="above")P(H._fullLayout._shapeUpperLayer);else if(U.xref==="paper"||U.yref==="paper")P(H._fullLayout._shapeLowerLayer);else if(U.layer==="between")P(Z.shapelayerBetween);else if(Z._hadPlotinfo){var G=Z.mainplotinfo||Z;P(G.shapelayer)}else P(H._fullLayout._shapeLowerLayer);function P(A){var O=y(H,U),L={"data-index":z,"fill-rule":U.fillrule,d:O},S=U.opacity,F=U.fillcolor,W=U.line.width?U.line.color:"rgba(0,0,0,0)",ue=U.line.width,ae=U.line.dash;!ue&&U.editable===!0&&(ue=5,ae="solid");var se=O[O.length-1]!=="Z",q=h(H)&&U.editable&&H._fullLayout._activeShapeIndex===z;q&&(F=se?"rgba(0,0,0,0)":H._fullLayout.activeshape.fillcolor,S=H._fullLayout.activeshape.opacity);var ee=A.append("g").classed("shape-group",!0).attr({"data-index":z}),B=ee.append("path").attr(L).style("opacity",S).call(r.stroke,W).call(r.fill,F).call(p.dashLine,ae,ue);_(ee,H,U),o(H,z,U,ee);var re;if((q||H._context.edits.shapePosition)&&(re=u(H.layout,"shapes",U)),q){B.style({cursor:"move"});var J={element:B.node(),plotinfo:Z,gd:H,editHelpers:re,hasText:U.label.text||U.label.texttemplate,isActiveShape:!0},X=l(O,H);a(X,B,J)}else H._context.edits.shapePosition?w(H,B,U,z,A,re):U.editable===!0&&B.style("pointer-events",se||r.opacity(F)*S<=.5?"stroke":"all");B.node().addEventListener("click",function(){return D(H,B)})}}function _(H,z,R){var U=(R.xref+R.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");p.setClipUrl(H,U?"clip"+z._fullLayout._uid+U:null,z)}function w(H,z,R,U,Z,G){var P=10,A=10,O=R.xsizemode==="pixel",L=R.ysizemode==="pixel",S=R.type==="line",F=R.type==="path",W=G.modifyItem,ue,ae,se,q,ee,B,re,J,X,N,$,te,le,pe,fe,ye=i.select(z.node().parentNode),Me=n.getFromId(H,R.xref),He=n.getRefType(R.xref),Ne=n.getFromId(H,R.yref),ze=n.getRefType(R.yref),Re=R.x0shift,Ae=R.x1shift,T=R.y0shift,V=R.y1shift,j=function(ie,ve){var we=x.getDataToPixel(H,Me,ve,!1,He);return we(ie)},he=function(ie,ve){var we=x.getDataToPixel(H,Ne,ve,!0,ze);return we(ie)},be=x.getPixelToData(H,Me,!1,He),ke=x.getPixelToData(H,Ne,!0,ze),Ce=ct(),qe={element:Ce.node(),gd:H,prepFn:ot,doneFn:Ct,clickFn:It},at;d.init(qe),Ce.node().onmousemove=St;function ct(){return S?vt():z}function vt(){var ie=10,ve=Math.max(R.line.width,ie),we=Z.append("g").attr("data-index",U).attr("drag-helper",!0);we.append("path").attr("d",z.attr("d")).style({cursor:"move","stroke-width":ve,"stroke-opacity":"0"});var Se={"fill-opacity":"0"},Ue=Math.max(ve/2,ie);return we.append("circle").attr({"data-line-point":"start-point",cx:O?j(R.xanchor)+R.x0:j(R.x0,Re),cy:L?he(R.yanchor)-R.y0:he(R.y0,T),r:Ue}).style(Se).classed("cursor-grab",!0),we.append("circle").attr({"data-line-point":"end-point",cx:O?j(R.xanchor)+R.x1:j(R.x1,Ae),cy:L?he(R.yanchor)-R.y1:he(R.y1,V),r:Ue}).style(Se).classed("cursor-grab",!0),we}function St(ie){if(c(H)){at=null;return}if(S)ie.target.tagName==="path"?at="move":at=ie.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ve=qe.element.getBoundingClientRect(),we=ve.right-ve.left,Se=ve.bottom-ve.top,Ue=ie.clientX-ve.left,Le=ie.clientY-ve.top,tt=!F&&we>P&&Se>A&&!ie.shiftKey?d.getCursor(Ue/we,1-Le/Se):"move";g(z,tt),at=tt.split("-")[0]}}function ot(ie){c(H)||(O&&(ee=j(R.xanchor)),L&&(B=he(R.yanchor)),R.type==="path"?fe=R.path:(ue=O?R.x0:j(R.x0),ae=L?R.y0:he(R.y0),se=O?R.x1:j(R.x1),q=L?R.y1:he(R.y1)),ue<se?(X=ue,le="x0",N=se,pe="x1"):(X=se,le="x1",N=ue,pe="x0"),!L&&ae<q||L&&ae>q?(re=ae,$="y0",J=q,te="y1"):(re=q,$="y1",J=ae,te="y0"),St(ie),_e(Z,R),je(z,R,H),qe.moveFn=at==="move"?At:Nt,qe.altKey=ie.altKey)}function Ct(){c(H)||(g(z),De(Z),_(z,H,R),t.call("_guiRelayout",H,G.getUpdateObj()))}function It(){c(H)||De(Z)}function At(ie,ve){if(R.type==="path"){var we=function(Le){return Le},Se=we,Ue=we;O?W("xanchor",R.xanchor=be(ee+ie)):(Se=function(Le){return be(j(Le)+ie)},Me&&Me.type==="date"&&(Se=x.encodeDate(Se))),L?W("yanchor",R.yanchor=ke(B+ve)):(Ue=function(Le){return ke(he(Le)+ve)},Ne&&Ne.type==="date"&&(Ue=x.encodeDate(Ue))),W("path",R.path=K(fe,Se,Ue))}else O?W("xanchor",R.xanchor=be(ee+ie)):(W("x0",R.x0=be(ue+ie)),W("x1",R.x1=be(se+ie))),L?W("yanchor",R.yanchor=ke(B+ve)):(W("y0",R.y0=ke(ae+ve)),W("y1",R.y1=ke(q+ve)));z.attr("d",y(H,R)),_e(Z,R),o(H,U,R,ye)}function Nt(ie,ve){if(F){var we=function(qt){return qt},Se=we,Ue=we;O?W("xanchor",R.xanchor=be(ee+ie)):(Se=function(qt){return be(j(qt)+ie)},Me&&Me.type==="date"&&(Se=x.encodeDate(Se))),L?W("yanchor",R.yanchor=ke(B+ve)):(Ue=function(qt){return ke(he(qt)+ve)},Ne&&Ne.type==="date"&&(Ue=x.encodeDate(Ue))),W("path",R.path=K(fe,Se,Ue))}else if(S){if(at==="resize-over-start-point"){var Le=ue+ie,tt=L?ae-ve:ae+ve;W("x0",R.x0=O?Le:be(Le)),W("y0",R.y0=L?tt:ke(tt))}else if(at==="resize-over-end-point"){var nt=se+ie,ut=L?q-ve:q+ve;W("x1",R.x1=O?nt:be(nt)),W("y1",R.y1=L?ut:ke(ut))}}else{var Ye=function(qt){return at.indexOf(qt)!==-1},st=Ye("n"),xt=Ye("s"),Tt=Ye("w"),tr=Ye("e"),cr=st?re+ve:re,Er=xt?J+ve:J,nr=Tt?X+ie:X,yr=tr?N+ie:N;L&&(st&&(cr=re-ve),xt&&(Er=J-ve)),(!L&&Er-cr>A||L&&cr-Er>A)&&(W($,R[$]=L?cr:ke(cr)),W(te,R[te]=L?Er:ke(Er))),yr-nr>P&&(W(le,R[le]=O?nr:be(nr)),W(pe,R[pe]=O?yr:be(yr)))}z.attr("d",y(H,R)),_e(Z,R),o(H,U,R,ye)}function _e(ie,ve){(O||L)&&we();function we(){var Se=ve.type!=="path",Ue=ie.selectAll(".visual-cue").data([0]),Le=1;Ue.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Le}).classed("visual-cue",!0);var tt=j(O?ve.xanchor:e.midRange(Se?[ve.x0,ve.x1]:x.extractPathCoords(ve.path,v.paramIsX))),nt=he(L?ve.yanchor:e.midRange(Se?[ve.y0,ve.y1]:x.extractPathCoords(ve.path,v.paramIsY)));if(tt=x.roundPositionForSharpStrokeRendering(tt,Le),nt=x.roundPositionForSharpStrokeRendering(nt,Le),O&&L){var ut="M"+(tt-1-Le)+","+(nt-1-Le)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ue.attr("d",ut)}else if(O){var Ye="M"+(tt-1-Le)+","+(nt-9-Le)+"v18 h2 v-18 Z";Ue.attr("d",Ye)}else{var st="M"+(tt-9-Le)+","+(nt-1-Le)+"h18 v2 h-18 Z";Ue.attr("d",st)}}}function De(ie){ie.selectAll(".visual-cue").remove()}function je(ie,ve,we){var Se=ve.xref,Ue=ve.yref,Le=n.getFromId(we,Se),tt=n.getFromId(we,Ue),nt="";Se!=="paper"&&!Le.autorange&&(nt+=Se),Ue!=="paper"&&!tt.autorange&&(nt+=Ue),p.setClipUrl(ie,nt?"clip"+we._fullLayout._uid+nt:null,we)}}function K(H,z,R){return H.replace(v.segmentRE,function(U){var Z=0,G=U.charAt(0),P=v.paramIsX[G],A=v.paramIsY[G],O=v.numParams[G],L=U.substr(1).replace(v.paramRE,function(S){return Z>=O||(P[Z]?S=z(S):A[Z]&&(S=R(S)),Z++),S});return G+L})}function D(H,z){if(h(H)){var R=z.node(),U=+R.getAttribute("data-index");if(U>=0){if(U===H._fullLayout._activeShapeIndex){I(H);return}H._fullLayout._activeShapeIndex=U,H._fullLayout._deactivateShape=I,m(H)}}}function I(H){if(h(H)){var z=H._fullLayout._activeShapeIndex;z>=0&&(s(H),delete H._fullLayout._activeShapeIndex,m(H))}}function C(H){if(h(H)){s(H);var z=H._fullLayout._activeShapeIndex,R=(H.layout||{}).shapes||[];if(z<R.length){for(var U=[],Z=0;Z<R.length;Z++)Z!==z&&U.push(R[Z]);return delete H._fullLayout._activeShapeIndex,t.call("_guiRelayout",H,{shapes:U})}}}}),Qf=xe((E,k)=>{var i=mn(),t=Ba(),e=Da(),n=uc(),l=pc().eraseActiveShape,a=sr(),o=a._,s=k.exports={};s.toImage={name:"toImage",title:function(w){var K=w._context.toImageButtonOptions||{},D=K.format||"png";return D==="png"?o(w,"Download plot as a png"):o(w,"Download plot")},icon:n.camera,click:function(w){var K=w._context.toImageButtonOptions,D={format:K.format||"png"};a.notifier(o(w,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(I){I in K&&(D[I]=K[I])}),i.call("downloadImage",w,D).then(function(I){a.notifier(o(w,"Snapshot succeeded")+" - "+I,"long")}).catch(function(){a.notifier(o(w,"Sorry, there was a problem downloading your snapshot!"),"long")})}},s.sendDataToCloud={name:"sendDataToCloud",title:function(w){return o(w,"Edit in Chart Studio")},icon:n.disk,click:function(w){t.sendDataToCloud(w)}},s.editInChartStudio={name:"editInChartStudio",title:function(w){return o(w,"Edit in Chart Studio")},icon:n.pencil,click:function(w){t.sendDataToCloud(w)}},s.zoom2d={name:"zoom2d",_cat:"zoom",title:function(w){return o(w,"Zoom")},attr:"dragmode",val:"zoom",icon:n.zoombox,click:r},s.pan2d={name:"pan2d",_cat:"pan",title:function(w){return o(w,"Pan")},attr:"dragmode",val:"pan",icon:n.pan,click:r},s.select2d={name:"select2d",_cat:"select",title:function(w){return o(w,"Box Select")},attr:"dragmode",val:"select",icon:n.selectbox,click:r},s.lasso2d={name:"lasso2d",_cat:"lasso",title:function(w){return o(w,"Lasso Select")},attr:"dragmode",val:"lasso",icon:n.lasso,click:r},s.drawclosedpath={name:"drawclosedpath",title:function(w){return o(w,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:n.drawclosedpath,click:r},s.drawopenpath={name:"drawopenpath",title:function(w){return o(w,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:n.drawopenpath,click:r},s.drawline={name:"drawline",title:function(w){return o(w,"Draw line")},attr:"dragmode",val:"drawline",icon:n.drawline,click:r},s.drawrect={name:"drawrect",title:function(w){return o(w,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:n.drawrect,click:r},s.drawcircle={name:"drawcircle",title:function(w){return o(w,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:n.drawcircle,click:r},s.eraseshape={name:"eraseshape",title:function(w){return o(w,"Erase active shape")},icon:n.eraseshape,click:l},s.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(w){return o(w,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:r},s.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(w){return o(w,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:r},s.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(w){return o(w,"Autoscale")},attr:"zoom",val:"auto",icon:n.autoscale,click:r},s.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(w){return o(w,"Reset axes")},attr:"zoom",val:"reset",icon:n.home,click:r},s.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(w){return o(w,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:n.tooltip_basic,gravity:"ne",click:r},s.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(w){return o(w,"Compare data on hover")},attr:"hovermode",val:function(w){return w._fullLayout._isHoriz?"y":"x"},icon:n.tooltip_compare,gravity:"ne",click:r};function r(w,K){var D=K.currentTarget,I=D.getAttribute("data-attr"),C=D.getAttribute("data-val")||!0,H=w._fullLayout,z={},R=e.list(w,null,!0),U=H._cartesianSpikesEnabled,Z,G;if(I==="zoom"){var P=C==="in"?.5:2,A=(1+P)/2,O=(1-P)/2,L;for(G=0;G<R.length;G++)if(Z=R[G],!Z.fixedrange)if(L=Z._name,C==="auto")z[L+".autorange"]=!0;else if(C==="reset")Z._rangeInitial0===void 0&&Z._rangeInitial1===void 0?z[L+".autorange"]=!0:Z._rangeInitial0===void 0?(z[L+".autorange"]=Z._autorangeInitial,z[L+".range"]=[null,Z._rangeInitial1]):Z._rangeInitial1===void 0?(z[L+".range"]=[Z._rangeInitial0,null],z[L+".autorange"]=Z._autorangeInitial):z[L+".range"]=[Z._rangeInitial0,Z._rangeInitial1],Z._showSpikeInitial!==void 0&&(z[L+".showspikes"]=Z._showSpikeInitial,U==="on"&&!Z._showSpikeInitial&&(U="off"));else{var S=[Z.r2l(Z.range[0]),Z.r2l(Z.range[1])],F=[A*S[0]+O*S[1],A*S[1]+O*S[0]];z[L+".range[0]"]=Z.l2r(F[0]),z[L+".range[1]"]=Z.l2r(F[1])}}else I==="hovermode"&&(C==="x"||C==="y")&&(C=H._isHoriz?"y":"x",D.setAttribute("data-val",C)),z[I]=C;H._cartesianSpikesEnabled=U,i.call("_guiRelayout",w,z)}s.zoom3d={name:"zoom3d",_cat:"zoom",title:function(w){return o(w,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:n.zoombox,click:p},s.pan3d={name:"pan3d",_cat:"pan",title:function(w){return o(w,"Pan")},attr:"scene.dragmode",val:"pan",icon:n.pan,click:p},s.orbitRotation={name:"orbitRotation",title:function(w){return o(w,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:n["3d_rotate"],click:p},s.tableRotation={name:"tableRotation",title:function(w){return o(w,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:n["z-axis"],click:p};function p(w,K){for(var D=K.currentTarget,I=D.getAttribute("data-attr"),C=D.getAttribute("data-val")||!0,H=w._fullLayout._subplots.gl3d||[],z={},R=I.split("."),U=0;U<H.length;U++)z[H[U]+"."+R[1]]=C;var Z=C==="pan"?C:"zoom";z.dragmode=Z,i.call("_guiRelayout",w,z)}s.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(w){return o(w,"Reset camera to default")},attr:"resetDefault",icon:n.home,click:u},s.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(w){return o(w,"Reset camera to last save")},attr:"resetLastSave",icon:n.movie,click:u};function u(w,K){for(var D=K.currentTarget,I=D.getAttribute("data-attr"),C=I==="resetLastSave",H=I==="resetDefault",z=w._fullLayout,R=z._subplots.gl3d||[],U={},Z=0;Z<R.length;Z++){var G=R[Z],P=G+".camera",A=G+".aspectratio",O=G+".aspectmode",L=z[G]._scene,S;C?(U[P+".up"]=L.viewInitial.up,U[P+".eye"]=L.viewInitial.eye,U[P+".center"]=L.viewInitial.center,S=!0):H&&(U[P+".up"]=null,U[P+".eye"]=null,U[P+".center"]=null,S=!0),S&&(U[A+".x"]=L.viewInitial.aspectratio.x,U[A+".y"]=L.viewInitial.aspectratio.y,U[A+".z"]=L.viewInitial.aspectratio.z,U[O]=L.viewInitial.aspectmode)}i.call("_guiRelayout",w,U)}s.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(w){return o(w,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:g};function d(w,K){var D=K.currentTarget,I=D._previousVal,C=w._fullLayout,H=C._subplots.gl3d||[],z=["xaxis","yaxis","zaxis"],R={},U={};if(I)U=I,D._previousVal=null;else{for(var Z=0;Z<H.length;Z++){var G=H[Z],P=C[G],A=G+".hovermode";R[A]=P.hovermode,U[A]=!1;for(var O=0;O<3;O++){var L=z[O],S=G+"."+L+".showspikes";U[S]=!1,R[S]=P[L].showspikes}}D._previousVal=R}return U}function g(w,K){var D=d(w,K);i.call("_guiRelayout",w,D)}s.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(w){return o(w,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:v},s.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(w){return o(w,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:v},s.resetGeo={name:"resetGeo",_cat:"reset",title:function(w){return o(w,"Reset")},attr:"reset",val:null,icon:n.autoscale,click:v},s.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(w){return o(w,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:y};function v(w,K){for(var D=K.currentTarget,I=D.getAttribute("data-attr"),C=D.getAttribute("data-val")||!0,H=w._fullLayout,z=H._subplots.geo||[],R=0;R<z.length;R++){var U=z[R],Z=H[U];if(I==="zoom"){var G=Z.projection.scale,P=C==="in"?2*G:.5*G;i.call("_guiRelayout",w,U+".projection.scale",P)}}I==="reset"&&_(w,"geo")}s.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(w){return o(w,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:n.tooltip_basic,gravity:"ne",click:y};function x(w){var K=w._fullLayout;return K.hovermode?!1:K._has("cartesian")?K._isHoriz?"y":"x":"closest"}function y(w){var K=x(w);i.call("_guiRelayout",w,"hovermode",K)}s.resetViewSankey={name:"resetSankeyGroup",title:function(w){return o(w,"Reset view")},icon:n.home,click:function(w){for(var K={"node.groups":[],"node.x":[],"node.y":[]},D=0;D<w._fullData.length;D++){var I=w._fullData[D]._viewInitial;K["node.groups"].push(I.node.groups.slice()),K["node.x"].push(I.node.x.slice()),K["node.y"].push(I.node.y.slice())}i.call("restyle",w,K)}},s.toggleHover={name:"toggleHover",title:function(w){return o(w,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:function(w,K){var D=d(w,K);D.hovermode=x(w),i.call("_guiRelayout",w,D)}},s.resetViews={name:"resetViews",title:function(w){return o(w,"Reset views")},icon:n.home,click:function(w,K){var D=K.currentTarget;D.setAttribute("data-attr","zoom"),D.setAttribute("data-val","reset"),r(w,K),D.setAttribute("data-attr","resetLastSave"),u(w,K),_(w,"geo"),_(w,"mapbox"),_(w,"map")}},s.toggleSpikelines={name:"toggleSpikelines",title:function(w){return o(w,"Toggle Spike Lines")},icon:n.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(w){var K=w._fullLayout,D=K._cartesianSpikesEnabled;K._cartesianSpikesEnabled=D==="on"?"off":"on",i.call("_guiRelayout",w,m(w))}};function m(w){for(var K=w._fullLayout,D=K._cartesianSpikesEnabled==="on",I=e.list(w,null,!0),C={},H=0;H<I.length;H++){var z=I[H];C[z._name+".showspikes"]=D?!0:z._showSpikeInitial}return C}s.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(w){return o(w,"Reset view")},attr:"reset",icon:n.home,click:function(w){_(w,"mapbox")}},s.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(w){return o(w,"Reset view")},attr:"reset",icon:n.home,click:function(w){_(w,"map")}},s.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(w){return o(w,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:c},s.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(w){return o(w,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:h},s.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(w){return o(w,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:c},s.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(w){return o(w,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:h};function c(w,K){b(w,K,"mapbox")}function h(w,K){b(w,K,"map")}function b(w,K,D){for(var I=K.currentTarget,C=I.getAttribute("data-val"),H=w._fullLayout,z=H._subplots[D]||[],R=1.05,U={},Z=0;Z<z.length;Z++){var G=z[Z],P=H[G].zoom,A=C==="in"?R*P:P/R;U[G+".zoom"]=A}i.call("_guiRelayout",w,U)}function _(w,K){for(var D=w._fullLayout,I=D._subplots[K]||[],C={},H=0;H<I.length;H++)for(var z=I[H],R=D[z]._subplot,U=R.viewInitial,Z=Object.keys(U),G=0;G<Z.length;G++){var P=Z[G];C[z+"."+P]=U[P]}i.call("_guiRelayout",w,C)}}),ed=xe((E,k)=>{var i=Qf(),t=Object.keys(i),e=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],n=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(e),l=[],a=function(o){if(n.indexOf(o._cat||o.name)===-1){var s=o.name,r=(o._cat||o.name).toLowerCase();l.indexOf(s)===-1&&l.push(s),l.indexOf(r)===-1&&l.push(r)}};t.forEach(function(o){a(i[o])}),l.sort(),k.exports={DRAW_MODES:e,backButtons:n,foreButtons:l}}),td=xe((E,k)=>{ed(),k.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}),Jp=xe((E,k)=>{var i=sr(),t=Nn(),e=ca(),n=td();k.exports=function(l,a){var o=l.modebar||{},s=e.newContainer(a,"modebar");function r(u,d){return i.coerce(o,s,n,u,d)}r("orientation"),r("bgcolor",t.addOpacity(a.paper_bgcolor,.5));var p=t.contrast(t.rgb(a.modebar.bgcolor));r("color",t.addOpacity(p,.3)),r("activecolor",t.addOpacity(p,.7)),r("uirevision",a.uirevision),r("add"),r("remove")}}),Zp=xe((E,k)=>{var i=Jn(),t=Bn(),e=sr(),n=uc(),l=qu().version,a=new DOMParser;function o(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var s=o.prototype;s.update=function(u,d){this.graphInfo=u;var g=this.graphInfo._context,v=this.graphInfo._fullLayout,x="modebar-"+v._uid;this.element.setAttribute("id",x),this._uid=x,this.element.className="modebar",g.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),v.modebar.orientation==="v"&&(this.element.className+=" vertical",d=d.reverse());var y=v.modebar,m="#"+x+" .modebar-group";document.querySelectorAll(m).forEach(function(w){w.style.backgroundColor=y.bgcolor});var c=!this.hasButtons(d),h=this.hasLogo!==g.displaylogo,b=this.locale!==g.locale;if(this.locale=g.locale,(c||h||b)&&(this.removeAllButtons(),this.updateButtons(d),g.watermark||g.displaylogo)){var _=this.getLogo();g.watermark&&(_.className=_.className+" watermark"),v.modebar.orientation==="v"?this.element.insertBefore(_,this.element.childNodes[0]):this.element.appendChild(_),this.hasLogo=!0}this.updateActiveButton(),e.setStyleOnHover("#"+x+" .modebar-btn",".active",".icon path","fill: "+y.activecolor,"fill: "+y.color,this.element)},s.updateButtons=function(u){var d=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(g){var v=d.createGroup();g.forEach(function(x){var y=x.name;if(!y)throw new Error("must provide button 'name' in button config");if(d.buttonsNames.indexOf(y)!==-1)throw new Error("button name '"+y+"' is taken");d.buttonsNames.push(y);var m=d.createButton(x);d.buttonElements.push(m),v.appendChild(m)}),d.element.appendChild(v)})},s.createGroup=function(){var u=document.createElement("div");u.className="modebar-group";var d=this.graphInfo._fullLayout.modebar;return u.style.backgroundColor=d.bgcolor,u},s.createButton=function(u){var d=this,g=document.createElement("a");g.setAttribute("rel","tooltip"),g.className="modebar-btn";var v=u.title;v===void 0?v=u.name:typeof v=="function"&&(v=v(this.graphInfo)),(v||v===0)&&g.setAttribute("data-title",v),u.attr!==void 0&&g.setAttribute("data-attr",u.attr);var x=u.val;x!==void 0&&(typeof x=="function"&&(x=x(this.graphInfo)),g.setAttribute("data-val",x));var y=u.click;if(typeof y!="function")throw new Error("must provide button 'click' function in button config");g.addEventListener("click",function(c){u.click(d.graphInfo,c),d.updateActiveButton(c.currentTarget)}),g.setAttribute("data-toggle",u.toggle||!1),u.toggle&&i.select(g).classed("active",!0);var m=u.icon;return typeof m=="function"?g.appendChild(m()):g.appendChild(this.createIcon(m||n.question)),g.setAttribute("data-gravity",u.gravity||"n"),g},s.createIcon=function(u){var d=t(u.height)?Number(u.height):u.ascent-u.descent,g="http://www.w3.org/2000/svg",v;if(u.path){v=document.createElementNS(g,"svg"),v.setAttribute("viewBox",[0,0,u.width,d].join(" ")),v.setAttribute("class","icon");var x=document.createElementNS(g,"path");x.setAttribute("d",u.path),u.transform?x.setAttribute("transform",u.transform):u.ascent!==void 0&&x.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),v.appendChild(x)}if(u.svg){var y=a.parseFromString(u.svg,"application/xml");v=y.childNodes[0]}return v.setAttribute("height","1em"),v.setAttribute("width","1em"),v},s.updateActiveButton=function(u){var d=this.graphInfo._fullLayout,g=u!==void 0?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(v){var x=v.getAttribute("data-val")||!0,y=v.getAttribute("data-attr"),m=v.getAttribute("data-toggle")==="true",c=i.select(v),h=function(w,K){var D=d.modebar,I=w.querySelector(".icon path");I&&(K||w.matches(":hover")?I.style.fill=D.activecolor:I.style.fill=D.color)};if(m){if(y===g){var b=!c.classed("active");c.classed("active",b),h(v,b)}}else{var _=y===null?y:e.nestedProperty(d,y).get();c.classed("active",_===x),h(v,_===x)}})},s.hasButtons=function(u){var d=this.buttons;if(!d||u.length!==d.length)return!1;for(var g=0;g<u.length;++g){if(u[g].length!==d[g].length)return!1;for(var v=0;v<u[g].length;v++)if(u[g][v].name!==d[g][v].name)return!1}return!0};function r(u){return u+" (v"+l+")"}s.getLogo=function(){var u=this.createGroup(),d=document.createElement("a");return d.href="https://plotly.com/",d.target="_blank",d.setAttribute("data-title",r(e._(this.graphInfo,"Produced with Plotly.js"))),d.className="modebar-btn plotlyjsicon modebar-btn--logo",d.appendChild(this.createIcon(n.newplotlylogo)),u.appendChild(d),u},s.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},s.destroy=function(){e.removeElement(this.container.querySelector(".modebar"))};function p(u,d){var g=u._fullLayout,v=new o({graphInfo:u,container:g._modebardiv.node(),buttons:d});return g._privateplot&&i.select(v.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),v}k.exports=p}),Kp=xe((E,k)=>{var i=Da(),t=ti(),e=mn(),n=Xi().isUnifiedHover,l=Zp(),a=Qf(),o=ed().DRAW_MODES,s=sr().extendDeep;k.exports=function(x){var y=x._fullLayout,m=x._context,c=y._modeBar;if(!m.displayModeBar&&!m.watermark){c&&(c.destroy(),delete y._modeBar);return}if(!Array.isArray(m.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(m.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var h=m.modeBarButtons,b;Array.isArray(h)&&h.length?b=v(h):!m.displayModeBar&&m.watermark?b=[]:b=r(x),c?c.update(x,b):y._modeBar=l(x,b)};function r(x){var y=x._fullLayout,m=x._fullData,c=x._context;function h(N,$){if(typeof $=="string"){if($.toLowerCase()===N.toLowerCase())return!0}else{var te=$.name,le=$._cat||$.name;if(te===N||le===N.toLowerCase())return!0}return!1}var b=y.modebar.add;typeof b=="string"&&(b=[b]);var _=y.modebar.remove;typeof _=="string"&&(_=[_]);var w=c.modeBarButtonsToAdd.concat(b.filter(function(N){for(var $=0;$<c.modeBarButtonsToRemove.length;$++)if(h(N,c.modeBarButtonsToRemove[$]))return!1;return!0})),K=c.modeBarButtonsToRemove.concat(_.filter(function(N){for(var $=0;$<c.modeBarButtonsToAdd.length;$++)if(h(N,c.modeBarButtonsToAdd[$]))return!1;return!0})),D=y._has("cartesian"),I=y._has("gl3d"),C=y._has("geo"),H=y._has("pie"),z=y._has("funnelarea"),R=y._has("ternary"),U=y._has("mapbox"),Z=y._has("map"),G=y._has("polar"),P=y._has("smith"),A=y._has("sankey"),O=p(y),L=n(y.hovermode),S=[];function F(N){if(N.length){for(var $=[],te=0;te<N.length;te++){for(var le=N[te],pe=a[le],fe=pe.name.toLowerCase(),ye=(pe._cat||pe.name).toLowerCase(),Me=!1,He=0;He<K.length;He++){var Ne=K[He].toLowerCase();if(Ne===fe||Ne===ye){Me=!0;break}}Me||$.push(a[le])}S.push($)}}var W=["toImage"];c.showEditInChartStudio?W.push("editInChartStudio"):c.showSendToCloud&&W.push("sendDataToCloud"),F(W);var ue=[],ae=[],se=[],q=[];(D||H||z||R)+C+I+U+Z+G+P>1?(ae=["toggleHover"],se=["resetViews"]):C?(ue=["zoomInGeo","zoomOutGeo"],ae=["hoverClosestGeo"],se=["resetGeo"]):I?(ae=["hoverClosest3d"],se=["resetCameraDefault3d","resetCameraLastSave3d"]):U?(ue=["zoomInMapbox","zoomOutMapbox"],ae=["toggleHover"],se=["resetViewMapbox"]):Z?(ue=["zoomInMap","zoomOutMap"],ae=["toggleHover"],se=["resetViewMap"]):H?ae=["hoverClosestPie"]:A?(ae=["hoverClosestCartesian","hoverCompareCartesian"],se=["resetViewSankey"]):ae=["toggleHover"],D&&ae.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(d(m)||L)&&(ae=[]),D&&!O&&(ue=["zoomIn2d","zoomOut2d","autoScale2d"],se[0]!=="resetViews"&&(se=["resetScale2d"])),I?q=["zoom3d","pan3d","orbitRotation","tableRotation"]:D&&!O||R?q=["zoom2d","pan2d"]:U||Z||C?q=["pan2d"]:G&&(q=["zoom2d"]),u(m)&&q.push("select2d","lasso2d");var ee=[],B=function(N){ee.indexOf(N)===-1&&ae.indexOf(N)!==-1&&ee.push(N)};if(Array.isArray(w)){for(var re=[],J=0;J<w.length;J++){var X=w[J];typeof X=="string"?(X=X.toLowerCase(),o.indexOf(X)!==-1?(y._has("mapbox")||y._has("map")||y._has("cartesian"))&&q.push(X):X==="togglespikelines"?B("toggleSpikelines"):X==="togglehover"?B("toggleHover"):X==="hovercompare"?B("hoverCompareCartesian"):X==="hoverclosest"?(B("hoverClosestCartesian"),B("hoverClosestGeo"),B("hoverClosest3d"),B("hoverClosestPie")):X==="v1hovermode"&&(B("hoverClosestCartesian"),B("hoverCompareCartesian"),B("hoverClosestGeo"),B("hoverClosest3d"),B("hoverClosestPie"))):re.push(X)}w=re}return F(q),F(ue.concat(se)),F(ee),g(S,w)}function p(x){for(var y=i.list({_fullLayout:x},null,!0),m=0;m<y.length;m++)if(!y[m].fixedrange)return!1;return!0}function u(x){for(var y=!1,m=0;m<x.length&&!y;m++){var c=x[m];!c._module||!c._module.selectPoints||(e.traceIs(c,"scatter-like")?(t.hasMarkers(c)||t.hasText(c))&&(y=!0):e.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(y=!0):y=!0)}return y}function d(x){for(var y=0;y<x.length;y++)if(!e.traceIs(x[y],"noHover"))return!1;return!0}function g(x,y){if(y.length)if(Array.isArray(y[0]))for(var m=0;m<y.length;m++)x.push(y[m]);else x.push(y);return x}function v(x){for(var y=s([],x),m=0;m<y.length;m++)for(var c=y[m],h=0;h<c.length;h++){var b=c[h];if(typeof b=="string")if(a[b]!==void 0)y[m][h]=a[b];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return y}}),rd=xe((E,k)=>{k.exports={moduleType:"component",name:"modebar",layoutAttributes:td(),supplyLayoutDefaults:Jp(),manage:Kp()}}),nd=xe((E,k)=>{var i=ii().FROM_BL;k.exports=function(t,e,n){n===void 0&&(n=i[t.constraintoward||"center"]);var l=[t.r2l(t.range[0]),t.r2l(t.range[1])],a=l[0]+(l[1]-l[0])*n;t.range=t._input.range=[t.l2r(a+(l[0]-a)*e),t.l2r(a+(l[1]-a)*e)],t.setScale()}}),js=xe(E=>{var k=sr(),i=Ol(),t=Da().id2name,e=Ei(),n=nd(),l=ic(),a=Pa().ALMOST_EQUAL,o=ii().FROM_BL;E.handleDefaults=function(x,y,m){var c=m.axIds,h=m.axHasImage,b=y._axisConstraintGroups=[],_=y._axisMatchGroups=[],w,K,D,I,C,H,z,R;for(w=0;w<c.length;w++)I=t(c[w]),C=x[I],H=y[I],s(C,H,{axIds:c,layoutOut:y,hasImage:h[I]});function U(W,ue){for(w=0;w<W.length;w++){K=W[w];for(D in K)y[t(D)][ue]=K}}for(U(_,"_matchGroup"),w=0;w<b.length;w++){K=b[w];for(D in K)if(H=y[t(D)],H.fixedrange){for(var Z in K){var G=t(Z);(x[G]||{}).fixedrange===!1&&k.warn("fixedrange was specified as false for axis "+G+" but was overridden because another axis in its constraint group has fixedrange true"),y[G].fixedrange=!0}break}}for(w=0;w<b.length;){K=b[w];for(D in K){H=y[t(D)],H._matchGroup&&Object.keys(H._matchGroup).length===Object.keys(K).length&&(b.splice(w,1),w--);break}w++}U(b,"_constraintGroup");var P=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],A=!1,O=!1;function L(){R=H[z],z==="rangebreaks"&&(O=H._hasDayOfWeekBreaks)}for(w=0;w<_.length;w++){K=_[w];for(var S=0;S<P.length;S++){z=P[S],R=null;var F;for(D in K)if(I=t(D),C=x[I],H=y[I],z in H){if(!H.matches&&(F=H,z in C)){L();break}R===null&&z in C&&L()}if(z==="range"&&R&&C.range&&C.range.length===2&&C.range[0]!==null&&C.range[1]!==null&&(A=!0),z==="autorange"&&R===null&&A&&(R=!1),R===null&&z in F&&(R=F[z]),R!==null)for(D in K)H=y[t(D)],H[z]=z==="range"?R.slice():R,z==="rangebreaks"&&(H._hasDayOfWeekBreaks=O,l(H,y))}}};function s(x,y,m){var c=m.axIds,h=m.layoutOut,b=m.hasImage,_=h._axisConstraintGroups,w=h._axisMatchGroups,K=y._id,D=K.charAt(0),I=((h._splomAxes||{})[D]||{})[K]||{},C=y._id,H=C.charAt(0)==="x";y._matchGroup=null,y._constraintGroup=null;function z(q,ee){return k.coerce(x,y,e,q,ee)}z("constrain",b?"domain":"range"),k.coerce(x,y,{constraintoward:{valType:"enumerated",values:H?["left","center","right"]:["bottom","middle","top"],dflt:H?"center":"middle"}},"constraintoward");var R=y.type,U,Z,G=[];for(U=0;U<c.length;U++)if(Z=c[U],Z!==C){var P=h[t(Z)];P.type===R&&G.push(Z)}var A=p(_,C);if(A){var O=[];for(U=0;U<G.length;U++)Z=G[U],A[Z]||O.push(Z);G=O}var L=G.length,S,F;L&&(x.matches||I.matches)&&(S=k.coerce(x,y,{matches:{valType:"enumerated",values:G,dflt:G.indexOf(I.matches)!==-1?I.matches:void 0}},"matches"));var W=b&&!H?y.anchor:void 0;if(L&&!S&&(x.scaleanchor||W)&&(F=k.coerce(x,y,{scaleanchor:{valType:"enumerated",values:G.concat([!1])}},"scaleanchor",W)),S){y._matchGroup=u(w,C,S,1);var ue=h[t(S)],ae=r(h,y)/r(h,ue);H!==(S.charAt(0)==="x")&&(ae=(H?"x":"y")+ae),u(_,C,S,ae)}else x.matches&&c.indexOf(x.matches)!==-1&&k.warn("ignored "+y._name+'.matches: "'+x.matches+'" to avoid an infinite loop');if(F){var se=z("scaleratio");se||(se=y.scaleratio=1),u(_,C,F,se)}else x.scaleanchor&&c.indexOf(x.scaleanchor)!==-1&&k.warn("ignored "+y._name+'.scaleanchor: "'+x.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(x,y){var m=y.domain;return m||(m=x[t(y.overlaying)].domain),m[1]-m[0]}function p(x,y){for(var m=0;m<x.length;m++)if(x[m][y])return x[m];return null}function u(x,y,m,c){var h,b,_,w,K,D=p(x,y);D===null?(D={},D[y]=1,K=x.length,x.push(D)):K=x.indexOf(D);var I=Object.keys(D);for(h=0;h<x.length;h++)if(_=x[h],h!==K&&_[m]){var C=_[m];for(b=0;b<I.length;b++)w=I[b],_[w]=d(C,d(c,D[w]));x.splice(K,1);return}if(c!==1)for(b=0;b<I.length;b++){var H=I[b];D[H]=d(c,D[H])}D[m]=1}function d(x,y){var m="",c="",h,b;typeof x=="string"&&(m=x.match(/^[xy]*/)[0],h=m.length,x=+x.substr(h)),typeof y=="string"&&(c=y.match(/^[xy]*/)[0],b=c.length,y=+y.substr(b));var _=x*y;return!h&&!b?_:!h||!b||m.charAt(0)===c.charAt(0)?m+c+x*y:h===b?_:(h>b?m.substr(b):c.substr(h))+_}function g(x,y){for(var m=y._size,c=m.h/m.w,h={},b=Object.keys(x),_=0;_<b.length;_++){var w=b[_],K=x[w];if(typeof K=="string"){var D=K.match(/^[xy]*/)[0],I=D.length;K=+K.substr(I);for(var C=D.charAt(0)==="y"?c:1/c,H=0;H<I;H++)K*=C}h[w]=K}return h}E.enforce=function(x){var y=x._fullLayout,m=y._axisConstraintGroups||[],c,h,b,_,w,K,D,I;for(c=0;c<m.length;c++){b=g(m[c],y);var C=Object.keys(b),H=1/0,z=0,R=1/0,U={},Z={},G=!1;for(h=0;h<C.length;h++)_=C[h],Z[_]=w=y[t(_)],w._inputDomain?w.domain=w._inputDomain.slice():w._inputDomain=w.domain.slice(),w._inputRange||(w._inputRange=w.range.slice()),w.setScale(),U[_]=K=Math.abs(w._m)/b[_],H=Math.min(H,K),(w.constrain==="domain"||!w._constraintShrinkable)&&(R=Math.min(R,K)),delete w._constraintShrinkable,z=Math.max(z,K),w.constrain==="domain"&&(G=!0);if(!(H>a*z&&!G)){for(h=0;h<C.length;h++)if(_=C[h],K=U[_],w=Z[_],D=w.constrain,K!==R||D==="domain")if(I=K/R,D==="range")n(w,I);else{var P=w._inputDomain,A=(w.domain[1]-w.domain[0])/(P[1]-P[0]),O=(w.r2l(w.range[1])-w.r2l(w.range[0]))/(w.r2l(w._inputRange[1])-w.r2l(w._inputRange[0]));if(I/=A,I*O<1){w.domain=w._input.domain=P.slice(),n(w,I);continue}if(O<1&&(w.range=w._input.range=w._inputRange.slice(),I*=O),w.autorange){var L=w.r2l(w.range[0]),S=w.r2l(w.range[1]),F=(L+S)/2,W=F,ue=F,ae=Math.abs(S-F),se=F-ae*I*1.0001,q=F+ae*I*1.0001,ee=i.makePadFn(y,w,0),B=i.makePadFn(y,w,1);v(w,I);var re=Math.abs(w._m),J=i.concatExtremes(x,w),X=J.min,N=J.max,$,te;for(te=0;te<X.length;te++)$=X[te].val-ee(X[te])/re,$>se&&$<W&&(W=$);for(te=0;te<N.length;te++)$=N[te].val+B(N[te])/re,$<q&&$>ue&&(ue=$);var le=(ue-W)/(2*ae);I/=le,W=w.l2r(W),ue=w.l2r(ue),w.range=w._input.range=L<S?[W,ue]:[ue,W]}v(w,I)}}}},E.getAxisGroup=function(x,y){for(var m=x._axisMatchGroups,c=0;c<m.length;c++){var h=m[c];if(h[y])return"g"+c}return y},E.clean=function(x,y){if(y._inputDomain){for(var m=!1,c=y._id,h=x._fullLayout._axisConstraintGroups,b=0;b<h.length;b++)if(h[b][c]){m=!0;break}(!m||y.constrain!=="domain")&&(y._input.domain=y.domain=y._inputDomain,delete y._inputDomain)}};function v(x,y){var m=x._inputDomain,c=o[x.constraintoward],h=m[0]+(m[1]-m[0])*c;x.domain=x._input.domain=[h+(m[0]-h)/y,h+(m[1]-h)/y],x.setScale()}}),gc=xe(E=>{var k=Jn(),i=mn(),t=Ba(),e=sr(),n=fi(),l=sc(),a=Nn(),o=na(),s=Ns(),r=rd(),p=Ma(),u=ii(),d=js(),g=d.enforce,v=d.clean,x=Ol().doAutoRange,y="start",m="middle",c="end",h=Za().zindexSeparator;E.layoutStyles=function(A){return e.syncOrAsync([t.doAutoMargin,_],A)};function b(A,O,L){for(var S=0;S<L.length;S++){var F=L[S][0],W=L[S][1];if(!(F[0]>=A[1]||F[1]<=A[0])&&W[0]<O[1]&&W[1]>O[0])return!0}return!1}function _(A){var O=A._fullLayout,L=O._size,S=L.p,F=p.list(A,"",!0),W,ue,ae,se,q,ee;if(O._paperdiv.style({width:A._context.responsive&&O.autosize&&!A._context._hasZeroWidth&&!A.layout.width?"100%":O.width+"px",height:A._context.responsive&&O.autosize&&!A._context._hasZeroHeight&&!A.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(o.setSize,O.width,O.height),A._context.setBackground(A,O.paper_bgcolor),E.drawMainTitle(A),r.manage(A),!O._has("cartesian"))return t.previousPromises(A);function B(je,ie,ve){var we=je._lw/2;if(je._id.charAt(0)==="x"){if(ie){if(ve==="top")return ie._offset-S-we}else return L.t+L.h*(1-(je.position||0))+we%1;return ie._offset+ie._length+S+we}if(ie){if(ve==="right")return ie._offset+ie._length+S+we}else return L.l+L.w*(je.position||0)+we%1;return ie._offset-S-we}for(W=0;W<F.length;W++){se=F[W];var re=se._anchorAxis;se._linepositions={},se._lw=o.crispRound(A,se.linewidth,1),se._mainLinePosition=B(se,re,se.side),se._mainMirrorPosition=se.mirror&&re?B(se,re,u.OPPOSITE_SIDE[se.side]):null}var J=[],X=[],N=[],$=a.opacity(O.paper_bgcolor)===1&&a.opacity(O.plot_bgcolor)===1&&O.paper_bgcolor===O.plot_bgcolor;for(ue in O._plots)if(ae=O._plots[ue],ae.mainplot)ae.bg&&ae.bg.remove(),ae.bg=void 0;else{var te=ae.xaxis.domain,le=ae.yaxis.domain,pe=ae.plotgroup;if(b(te,le,N)&&ue.indexOf(h)===-1){var fe=pe.node(),ye=ae.bg=e.ensureSingle(pe,"rect","bg");fe.insertBefore(ye.node(),fe.childNodes[0]),X.push(ue)}else pe.select("rect.bg").remove(),N.push([te,le]),$||(J.push(ue),X.push(ue))}var Me=O._bgLayer.selectAll(".bg").data(J);for(Me.enter().append("rect").classed("bg",!0),Me.exit().remove(),Me.each(function(je){O._plots[je].bg=k.select(this)}),W=0;W<X.length;W++)ae=O._plots[X[W]],q=ae.xaxis,ee=ae.yaxis,ae.bg&&q._offset!==void 0&&ee._offset!==void 0&&ae.bg.call(o.setRect,q._offset-S,ee._offset-S,q._length+2*S,ee._length+2*S).call(a.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(ue in O._plots){ae=O._plots[ue],q=ae.xaxis,ee=ae.yaxis;var He=ae.clipId="clip"+O._uid+ue+"plot",Ne=e.ensureSingleById(O._clips,"clipPath",He,function(je){je.classed("plotclip",!0).append("rect")});ae.clipRect=Ne.select("rect").attr({width:q._length,height:ee._length}),o.setTranslate(ae.plot,q._offset,ee._offset);var ze,Re;ae._hasClipOnAxisFalse?(ze=null,Re=He):(ze=He,Re=null),o.setClipUrl(ae.plot,ze,A),ae.layerClipId=Re}var Ae,T,V,j,he,be,ke,Ce,qe,at,ct,vt,St;function ot(je){return"M"+Ae+","+je+"H"+T}function Ct(je){return"M"+q._offset+","+je+"h"+q._length}function It(je){return"M"+je+","+Ce+"V"+ke}function At(je){return ee._shift!==void 0&&(je+=ee._shift),"M"+je+","+ee._offset+"v"+ee._length}function Nt(je,ie,ve){if(!je.showline||ue!==je._mainSubplot)return"";if(!je._anchorAxis)return ve(je._mainLinePosition);var we=ie(je._mainLinePosition);return je.mirror&&(we+=ie(je._mainMirrorPosition)),we}for(ue in O._plots){ae=O._plots[ue],q=ae.xaxis,ee=ae.yaxis;var _e="M0,0";w(q,ue)&&(he=D(q,"left",ee,F),Ae=q._offset-(he?S+he:0),be=D(q,"right",ee,F),T=q._offset+q._length+(be?S+be:0),V=B(q,ee,"bottom"),j=B(q,ee,"top"),St=!q._anchorAxis||ue!==q._mainSubplot,St&&(q.mirror==="allticks"||q.mirror==="all")&&(q._linepositions[ue]=[V,j]),_e=Nt(q,ot,Ct),St&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(_e+=ot(V)+ot(j)),ae.xlines.style("stroke-width",q._lw+"px").call(a.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),ae.xlines.attr("d",_e);var De="M0,0";w(ee,ue)&&(ct=D(ee,"bottom",q,F),ke=ee._offset+ee._length+(ct?S:0),vt=D(ee,"top",q,F),Ce=ee._offset-(vt?S:0),qe=B(ee,q,"left"),at=B(ee,q,"right"),St=!ee._anchorAxis||ue!==ee._mainSubplot,St&&(ee.mirror==="allticks"||ee.mirror==="all")&&(ee._linepositions[ue]=[qe,at]),De=Nt(ee,It,At),St&&ee.showline&&(ee.mirror==="all"||ee.mirror==="allticks")&&(De+=It(qe)+It(at)),ae.ylines.style("stroke-width",ee._lw+"px").call(a.stroke,ee.showline?ee.linecolor:"rgba(0,0,0,0)")),ae.ylines.attr("d",De)}return p.makeClipPaths(A),t.previousPromises(A)}function w(A,O){return(A.ticks||A.showline)&&(O===A._mainSubplot||A.mirror==="all"||A.mirror==="allticks")}function K(A,O,L){if(!L.showline||!L._lw)return!1;if(L.mirror==="all"||L.mirror==="allticks")return!0;var S=L._anchorAxis;if(!S)return!1;var F=u.FROM_BL[O];return L.side===O?S.domain[F]===A.domain[F]:L.mirror&&S.domain[1-F]===A.domain[1-F]}function D(A,O,L,S){if(K(A,O,L))return L._lw;for(var F=0;F<S.length;F++){var W=S[F];if(W._mainAxis===L._mainAxis&&K(A,O,W))return W._lw}return 0}E.drawMainTitle=function(A){var O=A._fullLayout.title,L=A._fullLayout,S=G(L),F=P(L),W=U(L,F),ue=R(L,S);if(s.draw(A,"gtitle",{propContainer:L,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:L._dfltTitle.plot,subtitlePlaceholder:L._dfltTitle.subtitle,attributes:{x:ue,y:W,"text-anchor":S,dy:F}}),O.text&&O.automargin){var ae=k.selectAll(".gtitle"),se=o.bBox(k.selectAll(".g-gtitle").node()).height,q=H(A,O,se);if(q>0){z(A,W,q,se),ae.attr({x:ue,y:W,"text-anchor":S,dy:Z(O.yanchor)}).call(n.positionText,ue,W);var ee=(O.text.match(n.BR_TAG_ALL)||[]).length;if(ee){var B=u.LINE_SPACING*ee+u.MID_SHIFT;O.y===0&&(B=-B),ae.selectAll(".line").each(function(){var $=+this.getAttribute("dy").slice(0,-2)-B+"em";this.setAttribute("dy",$)})}var re=k.selectAll(".gtitle-subtitle");if(re.node()){var J=ae.node().getBBox(),X=J.y+J.height,N=X+s.SUBTITLE_PADDING_EM*O.subtitle.font.size;re.attr({x:ue,y:N,"text-anchor":S,dy:Z(O.yanchor)}).call(n.positionText,ue,N)}}}};function I(A,O,L,S,F){var W=O.yref==="paper"?A._fullLayout._size.h:A._fullLayout.height,ue=e.isTopAnchor(O)?S:S-F,ae=L==="b"?W-ue:ue;return e.isTopAnchor(O)&&L==="t"||e.isBottomAnchor(O)&&L==="b"?!1:ae<F}function C(A,O,L,S,F){var W=0;return L==="middle"&&(W+=F/2),A==="t"?(L==="top"&&(W+=F),W+=S-O*S):(L==="bottom"&&(W+=F),W+=O*S),W}function H(A,O,L){var S=O.y,F=O.yanchor,W=S>.5?"t":"b",ue=A._fullLayout.margin[W],ae=0;return O.yref==="paper"?ae=L+O.pad.t+O.pad.b:O.yref==="container"&&(ae=C(W,S,F,A._fullLayout.height,L)+O.pad.t+O.pad.b),ae>ue?ae:0}function z(A,O,L,S){var F="title.automargin",W=A._fullLayout.title,ue=W.y>.5?"t":"b",ae={x:W.x,y:W.y,t:0,b:0},se={};W.yref==="paper"&&I(A,W,ue,O,S)?ae[ue]=L:W.yref==="container"&&(se[ue]=L,A._fullLayout._reservedMargin[F]=se),t.allowAutoMargin(A,F),t.autoMargin(A,F,ae)}function R(A,O){var L=A.title,S=A._size,F=0;switch(O===y?F=L.pad.l:O===c&&(F=-L.pad.r),L.xref){case"paper":return S.l+S.w*L.x+F;case"container":default:return A.width*L.x+F}}function U(A,O){var L=A.title,S=A._size,F=0;if(O==="0em"||!O?F=-L.pad.b:O===u.CAP_SHIFT+"em"&&(F=L.pad.t),L.y==="auto")return S.t/2;switch(L.yref){case"paper":return S.t+S.h-S.h*L.y+F;case"container":default:return A.height-A.height*L.y+F}}function Z(A){return A==="top"?u.CAP_SHIFT+.3+"em":A==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function G(A){var O=A.title,L=m;return e.isRightAnchor(O)?L=c:e.isLeftAnchor(O)&&(L=y),L}function P(A){var O=A.title,L="0em";return e.isTopAnchor(O)?L=u.CAP_SHIFT+"em":e.isMiddleAnchor(O)&&(L=u.MID_SHIFT+"em"),L}E.doTraceStyle=function(A){var O=A.calcdata,L=[],S;for(S=0;S<O.length;S++){var F=O[S],W=F[0]||{},ue=W.trace||{},ae=ue._module||{},se=ae.arraysToCalcdata;se&&se(F,ue);var q=ae.editStyle;q&&L.push({fn:q,cd0:W})}if(L.length){for(S=0;S<L.length;S++){var ee=L[S];ee.fn(A,ee.cd0)}l(A),E.redrawReglTraces(A)}return t.style(A),i.getComponentMethod("legend","draw")(A),t.previousPromises(A)},E.doColorBars=function(A){return i.getComponentMethod("colorbar","draw")(A),t.previousPromises(A)},E.layoutReplot=function(A){var O=A.layout;return A.layout=void 0,i.call("_doPlot",A,"",O)},E.doLegend=function(A){return i.getComponentMethod("legend","draw")(A),t.previousPromises(A)},E.doTicksRelayout=function(A){return p.draw(A,"redraw"),A._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(A),l(A),E.redrawReglTraces(A)),E.drawMainTitle(A),t.previousPromises(A)},E.doModeBar=function(A){var O=A._fullLayout;r.manage(A);for(var L=0;L<O._basePlotModules.length;L++){var S=O._basePlotModules[L].updateFx;S&&S(A)}return t.previousPromises(A)},E.doCamera=function(A){for(var O=A._fullLayout,L=O._subplots.gl3d,S=0;S<L.length;S++){var F=O[L[S]],W=F._scene;W.setViewport(F)}},E.drawData=function(A){var O=A._fullLayout;l(A);for(var L=O._basePlotModules,S=0;S<L.length;S++)L[S].plot(A);return E.redrawReglTraces(A),t.style(A),i.getComponentMethod("selections","draw")(A),i.getComponentMethod("shapes","draw")(A),i.getComponentMethod("annotations","draw")(A),i.getComponentMethod("images","draw")(A),O._replotting=!1,t.previousPromises(A)},E.redrawReglTraces=function(A){var O=A._fullLayout;if(O._has("regl")){var L=A._fullData,S=[],F=[],W,ue;for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),W=0;W<L.length;W++){var ae=L[W];ae.visible===!0&&ae._length!==0&&(ae.type==="splom"?O._splomScenes[ae.uid].draw():ae.type==="scattergl"?e.pushUnique(S,ae.xaxis+ae.yaxis):ae.type==="scatterpolargl"&&e.pushUnique(F,ae.subplot))}for(W=0;W<S.length;W++)ue=O._plots[S[W]],ue._scene&&ue._scene.draw();for(W=0;W<F.length;W++)ue=O[F[W]]._subplot,ue._scene&&ue._scene.draw()}},E.doAutoRangeAndConstraints=function(A){for(var O=p.list(A,"",!0),L,S={},F=0;F<O.length;F++)if(L=O[F],!S[L._id]){S[L._id]=1,v(A,L),x(A,L);var W=L._matchGroup;if(W)for(var ue in W){var ae=p.getFromId(A,ue);x(A,ae,L.range),S[ue]=1}}g(A)},E.finalDraw=function(A){i.getComponentMethod("rangeslider","draw")(A),i.getComponentMethod("rangeselector","draw")(A)},E.drawMarginPushers=function(A){i.getComponentMethod("legend","draw")(A),i.getComponentMethod("rangeselector","draw")(A),i.getComponentMethod("sliders","draw")(A),i.getComponentMethod("updatemenus","draw")(A),i.getComponentMethod("colorbar","draw")(A)}}),ad=xe((E,k)=>{var i=Lo().readPaths,t=hc(),e=Mo().clearOutlineControllers,n=Nn(),l=na(),a=ca().arrayEditor,o=Co(),s=o.getPathString;k.exports={draw:r,drawOne:u,activateLastSelection:v};function r(y){var m=y._fullLayout;e(y),m._selectionLayer.selectAll("path").remove();for(var c in m._plots){var h=m._plots[c].selectionLayer;h&&h.selectAll("path").remove()}for(var b=0;b<m.selections.length;b++)u(y,b)}function p(y){return y._context.editSelection}function u(y,m){y._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+m+'"]').remove();var c=o.makeSelectionsOptionsAndPlotinfo(y,m),h=c.options,b=c.plotinfo;if(!h._input)return;_(y._fullLayout._selectionLayer);function _(w){var K=s(y,h),D={"data-index":m,"fill-rule":"evenodd",d:K},I=h.opacity,C="rgba(0,0,0,0)",H=h.line.color||n.contrast(y._fullLayout.plot_bgcolor),z=h.line.width,R=h.line.dash;z||(z=5,R="solid");var U=p(y)&&y._fullLayout._activeSelectionIndex===m;U&&(C=y._fullLayout.activeselection.fillcolor,I=y._fullLayout.activeselection.opacity);for(var Z=[],G=1;G>=0;G--){var P=w.append("path").attr(D).style("opacity",G?.1:I).call(n.stroke,H).call(n.fill,C).call(l.dashLine,G?"solid":R,G?4+z:z);if(d(P,y,h),U){var A=a(y.layout,"selections",h);P.style({cursor:"move"});var O={element:P.node(),plotinfo:b,gd:y,editHelpers:A,isActiveSelection:!0},L=i(K,y);t(L,P,O)}else P.style("pointer-events",G?"all":"none");Z[G]=P}var S=Z[0],F=Z[1];F.node().addEventListener("click",function(){return g(y,S)})}}function d(y,m,c){var h=c.xref+c.yref;l.setClipUrl(y,"clip"+m._fullLayout._uid+h,m)}function g(y,m){if(p(y)){var c=m.node(),h=+c.getAttribute("data-index");if(h>=0){if(h===y._fullLayout._activeSelectionIndex){x(y);return}y._fullLayout._activeSelectionIndex=h,y._fullLayout._deactivateSelection=x,r(y)}}}function v(y){if(p(y)){var m=y._fullLayout.selections.length-1;y._fullLayout._activeSelectionIndex=m,y._fullLayout._deactivateSelection=x,r(y)}}function x(y){if(p(y)){var m=y._fullLayout._activeSelectionIndex;m>=0&&(e(y),delete y._fullLayout._activeSelectionIndex,r(y))}}}),$p=xe((E,k)=>{function i(){var t,e=0,n=!1;function l(a,o){return t.list.push({type:a,data:o?JSON.parse(JSON.stringify(o)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(a,o){return l("check",{seg1:a,seg2:o})},segmentChop:function(a,o){return l("div_seg",{seg:a,pt:o}),l("chop",{seg:a,pt:o})},statusRemove:function(a){return l("pop_seg",{seg:a})},segmentUpdate:function(a){return l("seg_update",{seg:a})},segmentNew:function(a,o){return l("new_seg",{seg:a,primary:o})},segmentRemove:function(a){return l("rem_seg",{seg:a})},tempStatus:function(a,o,s){return l("temp_status",{seg:a,above:o,below:s})},rewind:function(a){return l("rewind",{seg:a})},status:function(a,o,s){return l("status",{seg:a,above:o,below:s})},vert:function(a){return a===n?t:(n=a,l("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),l("log",{txt:a})},reset:function(){return l("reset")},selected:function(a){return l("selected",{segs:a})},chainStart:function(a){return l("chain_start",{seg:a})},chainRemoveHead:function(a,o){return l("chain_rem_head",{index:a,pt:o})},chainRemoveTail:function(a,o){return l("chain_rem_tail",{index:a,pt:o})},chainNew:function(a,o){return l("chain_new",{pt1:a,pt2:o})},chainMatch:function(a){return l("chain_match",{index:a})},chainClose:function(a){return l("chain_close",{index:a})},chainAddHead:function(a,o){return l("chain_add_head",{index:a,pt:o})},chainAddTail:function(a,o){return l("chain_add_tail",{index:a,pt:o})},chainConnect:function(a,o){return l("chain_con",{index1:a,index2:o})},chainReverse:function(a){return l("chain_rev",{index:a})},chainJoin:function(a,o){return l("chain_join",{index1:a,index2:o})},done:function(){return l("done")}},t}k.exports=i}),Xp=xe((E,k)=>{function i(t){typeof t!="number"&&(t=1e-10);var e={epsilon:function(n){return typeof n=="number"&&(t=n),t},pointAboveOrOnLine:function(n,l,a){var o=l[0],s=l[1],r=a[0],p=a[1],u=n[0],d=n[1];return(r-o)*(d-s)-(p-s)*(u-o)>=-t},pointBetween:function(n,l,a){var o=n[1]-l[1],s=a[0]-l[0],r=n[0]-l[0],p=a[1]-l[1],u=r*s+o*p;if(u<t)return!1;var d=s*s+p*p;return!(u-d>-t)},pointsSameX:function(n,l){return Math.abs(n[0]-l[0])<t},pointsSameY:function(n,l){return Math.abs(n[1]-l[1])<t},pointsSame:function(n,l){return e.pointsSameX(n,l)&&e.pointsSameY(n,l)},pointsCompare:function(n,l){return e.pointsSameX(n,l)?e.pointsSameY(n,l)?0:n[1]<l[1]?-1:1:n[0]<l[0]?-1:1},pointsCollinear:function(n,l,a){var o=n[0]-l[0],s=n[1]-l[1],r=l[0]-a[0],p=l[1]-a[1];return Math.abs(o*p-r*s)<t},linesIntersect:function(n,l,a,o){var s=l[0]-n[0],r=l[1]-n[1],p=o[0]-a[0],u=o[1]-a[1],d=s*u-r*p;if(Math.abs(d)<t)return!1;var g=n[0]-a[0],v=n[1]-a[1],x=(p*v-u*g)/d,y=(s*v-r*g)/d,m={alongA:0,alongB:0,pt:[n[0]+x*s,n[1]+x*r]};return x<=-t?m.alongA=-2:x<t?m.alongA=-1:x-1<=-t?m.alongA=0:x-1<t?m.alongA=1:m.alongA=2,y<=-t?m.alongB=-2:y<t?m.alongB=-1:y-1<=-t?m.alongB=0:y-1<t?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(n,l){for(var a=n[0],o=n[1],s=l[l.length-1][0],r=l[l.length-1][1],p=!1,u=0;u<l.length;u++){var d=l[u][0],g=l[u][1];g-o>t!=r-o>t&&(s-d)*(o-g)/(r-g)+d-a>t&&(p=!p),s=d,r=g}return p}};return e}k.exports=i}),Qp=xe((E,k)=>{var i={create:function(){var t={root:{root:!0,next:null},exists:function(e){return!(e===null||e===t.root)},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(e,n){for(var l=t.root,a=t.root.next;a!==null;){if(n(a)){e.prev=a.prev,e.next=a,a.prev.next=e,a.prev=e;return}l=a,a=a.next}l.next=e,e.prev=l,e.next=null},findTransition:function(e){for(var n=t.root,l=t.root.next;l!==null&&!e(l);)n=l,l=l.next;return{before:n===t.root?null:n,after:l,insert:function(a){return a.prev=n,a.next=l,n.next=a,l!==null&&(l.prev=a),a}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}};k.exports=i}),e0=xe((E,k)=>{var i=Qp();function t(e,n,l){function a(m,c){return{id:l?l.segmentId():-1,start:m,end:c,myFill:{above:null,below:null},otherFill:null}}function o(m,c,h){return{id:l?l.segmentId():-1,start:m,end:c,myFill:{above:h.myFill.above,below:h.myFill.below},otherFill:null}}var s=i.create();function r(m,c,h,b,_,w){var K=n.pointsCompare(c,_);return K!==0?K:n.pointsSame(h,w)?0:m!==b?m?1:-1:n.pointAboveOrOnLine(h,b?_:w,b?w:_)?1:-1}function p(m,c){s.insertBefore(m,function(h){var b=r(m.isStart,m.pt,c,h.isStart,h.pt,h.other.pt);return b<0})}function u(m,c){var h=i.node({isStart:!0,pt:m.start,seg:m,primary:c,other:null,status:null});return p(h,m.end),h}function d(m,c,h){var b=i.node({isStart:!1,pt:c.end,seg:c,primary:h,other:m,status:null});m.other=b,p(b,m.pt)}function g(m,c){var h=u(m,c);return d(h,m,c),h}function v(m,c){l&&l.segmentChop(m.seg,c),m.other.remove(),m.seg.end=c,m.other.pt=c,p(m.other,m.pt)}function x(m,c){var h=o(c,m.seg.end,m.seg);return v(m,c),g(h,m.primary)}function y(m,c){var h=i.create();function b(P,A){var O=P.seg.start,L=P.seg.end,S=A.seg.start,F=A.seg.end;return n.pointsCollinear(O,S,F)?n.pointsCollinear(L,S,F)||n.pointAboveOrOnLine(L,S,F)?1:-1:n.pointAboveOrOnLine(O,S,F)?1:-1}function _(P){return h.findTransition(function(A){var O=b(P,A.ev);return O>0})}function w(P,A){var O=P.seg,L=A.seg,S=O.start,F=O.end,W=L.start,ue=L.end;l&&l.checkIntersection(O,L);var ae=n.linesIntersect(S,F,W,ue);if(ae===!1){if(!n.pointsCollinear(S,F,W)||n.pointsSame(S,ue)||n.pointsSame(F,W))return!1;var se=n.pointsSame(S,W),q=n.pointsSame(F,ue);if(se&&q)return A;var ee=!se&&n.pointBetween(S,W,ue),B=!q&&n.pointBetween(F,W,ue);if(se)return B?x(A,F):x(P,ue),A;ee&&(q||(B?x(A,F):x(P,ue)),x(A,S))}else ae.alongA===0&&(ae.alongB===-1?x(P,W):ae.alongB===0?x(P,ae.pt):ae.alongB===1&&x(P,ue)),ae.alongB===0&&(ae.alongA===-1?x(A,S):ae.alongA===0?x(A,ae.pt):ae.alongA===1&&x(A,F));return!1}for(var K=[];!s.isEmpty();){var D=s.getHead();if(l&&l.vert(D.pt[0]),D.isStart){let P=function(){if(C){var A=w(D,C);if(A)return A}return H?w(D,H):!1};l&&l.segmentNew(D.seg,D.primary);var I=_(D),C=I.before?I.before.ev:null,H=I.after?I.after.ev:null;l&&l.tempStatus(D.seg,C?C.seg:!1,H?H.seg:!1);var z=P();if(z){if(e){var R;D.seg.myFill.below===null?R=!0:R=D.seg.myFill.above!==D.seg.myFill.below,R&&(z.seg.myFill.above=!z.seg.myFill.above)}else z.seg.otherFill=D.seg.myFill;l&&l.segmentUpdate(z.seg),D.other.remove(),D.remove()}if(s.getHead()!==D){l&&l.rewind(D.seg);continue}if(e){var R;D.seg.myFill.below===null?R=!0:R=D.seg.myFill.above!==D.seg.myFill.below,H?D.seg.myFill.below=H.seg.myFill.above:D.seg.myFill.below=m,R?D.seg.myFill.above=!D.seg.myFill.below:D.seg.myFill.above=D.seg.myFill.below}else if(D.seg.otherFill===null){var U;H?D.primary===H.primary?U=H.seg.otherFill.above:U=H.seg.myFill.above:U=D.primary?c:m,D.seg.otherFill={above:U,below:U}}l&&l.status(D.seg,C?C.seg:!1,H?H.seg:!1),D.other.status=I.insert(i.node({ev:D}))}else{var Z=D.status;if(Z===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(h.exists(Z.prev)&&h.exists(Z.next)&&w(Z.prev.ev,Z.next.ev),l&&l.statusRemove(Z.ev.seg),Z.remove(),!D.primary){var G=D.seg.myFill;D.seg.myFill=D.seg.otherFill,D.seg.otherFill=G}K.push(D.seg)}s.getHead().remove()}return l&&l.done(),K}return e?{addRegion:function(m){for(var c,h=m[m.length-1],b=0;b<m.length;b++){c=h,h=m[b];var _=n.pointsCompare(c,h);_!==0&&g(a(_<0?c:h,_<0?h:c),!0)}},calculate:function(m){return y(m,!1)}}:{calculate:function(m,c,h,b){return m.forEach(function(_){g(o(_.start,_.end,_),!0)}),h.forEach(function(_){g(o(_.start,_.end,_),!1)}),y(c,b)}}}k.exports=t}),t0=xe((E,k)=>{function i(t,e,n){var l=[],a=[];return t.forEach(function(o){var s=o.start,r=o.end;if(e.pointsSame(s,r)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}n&&n.chainStart(o);var p={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},d=p;function g(U,Z,G){return d.index=U,d.matches_head=Z,d.matches_pt1=G,d===p?(d=u,!1):(d=null,!0)}for(var v=0;v<l.length;v++){var x=l[v],y=x[0];x[1];var m=x[x.length-1];if(x[x.length-2],e.pointsSame(y,s)){if(g(v,!0,!0))break}else if(e.pointsSame(y,r)){if(g(v,!0,!1))break}else if(e.pointsSame(m,s)){if(g(v,!1,!0))break}else if(e.pointsSame(m,r)&&g(v,!1,!1))break}if(d===p){l.push([s,r]),n&&n.chainNew(s,r);return}if(d===u){n&&n.chainMatch(p.index);var c=p.index,h=p.matches_pt1?r:s,b=p.matches_head,x=l[c],_=b?x[0]:x[x.length-1],w=b?x[1]:x[x.length-2],K=b?x[x.length-1]:x[0],D=b?x[x.length-2]:x[1];if(e.pointsCollinear(w,_,h)&&(b?(n&&n.chainRemoveHead(p.index,h),x.shift()):(n&&n.chainRemoveTail(p.index,h),x.pop()),_=w),e.pointsSame(K,h)){l.splice(c,1),e.pointsCollinear(D,K,_)&&(b?(n&&n.chainRemoveTail(p.index,_),x.pop()):(n&&n.chainRemoveHead(p.index,_),x.shift())),n&&n.chainClose(p.index),a.push(x);return}b?(n&&n.chainAddHead(p.index,h),x.unshift(h)):(n&&n.chainAddTail(p.index,h),x.push(h));return}function I(U){n&&n.chainReverse(U),l[U].reverse()}function C(U,Z){var G=l[U],P=l[Z],A=G[G.length-1],O=G[G.length-2],L=P[0],S=P[1];e.pointsCollinear(O,A,L)&&(n&&n.chainRemoveTail(U,A),G.pop(),A=O),e.pointsCollinear(A,L,S)&&(n&&n.chainRemoveHead(Z,L),P.shift()),n&&n.chainJoin(U,Z),l[U]=G.concat(P),l.splice(Z,1)}var H=p.index,z=u.index;n&&n.chainConnect(H,z);var R=l[H].length<l[z].length;p.matches_head?u.matches_head?R?(I(H),C(H,z)):(I(z),C(z,H)):C(z,H):u.matches_head?C(H,z):R?(I(H),C(z,H)):(I(z),C(H,z))}),a}k.exports=i}),r0=xe((E,k)=>{function i(e,n,l){var a=[];return e.forEach(function(o){var s=(o.myFill.above?8:0)+(o.myFill.below?4:0)+(o.otherFill&&o.otherFill.above?2:0)+(o.otherFill&&o.otherFill.below?1:0);n[s]!==0&&a.push({id:l?l.segmentId():-1,start:o.start,end:o.end,myFill:{above:n[s]===1,below:n[s]===2},otherFill:null})}),l&&l.selected(a),a}var t={union:function(e,n){return i(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)},intersect:function(e,n){return i(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)},difference:function(e,n){return i(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)},differenceRev:function(e,n){return i(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)},xor:function(e,n){return i(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}};k.exports=t}),n0=xe((E,k)=>{var i={toPolygon:function(t,e){function n(o){if(o.length<=0)return t.segments({inverted:!1,regions:[]});function s(u){var d=u.slice(0,u.length-1);return t.segments({inverted:!1,regions:[d]})}for(var r=s(o[0]),p=1;p<o.length;p++)r=t.selectDifference(t.combine(r,s(o[p])));return r}if(e.type==="Polygon")return t.polygon(n(e.coordinates));if(e.type==="MultiPolygon"){for(var l=t.segments({inverted:!1,regions:[]}),a=0;a<e.coordinates.length;a++)l=t.selectUnion(t.combine(l,n(e.coordinates[a])));return t.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,n){n=t.polygon(t.segments(n));function l(x,y){return e.pointInsideRegion([(x[0][0]+x[1][0])*.5,(x[0][1]+x[1][1])*.5],y)}function a(x){return{region:x,children:[]}}var o=a(null);function s(x,y){for(var m=0;m<x.children.length;m++){var c=x.children[m];if(l(y,c.region)){s(c,y);return}}for(var h=a(y),m=0;m<x.children.length;m++){var c=x.children[m];l(c.region,y)&&(h.children.push(c),x.children.splice(m,1),m--)}x.children.push(h)}for(var r=0;r<n.regions.length;r++){var p=n.regions[r];p.length<3||s(o,p)}function u(x,y){for(var m=0,c=x[x.length-1][0],h=x[x.length-1][1],b=[],_=0;_<x.length;_++){var w=x[_][0],K=x[_][1];b.push([w,K]),m+=K*c-w*h,c=w,h=K}var D=m<0;return D!==y&&b.reverse(),b.push([b[0][0],b[0][1]]),b}var d=[];function g(x){var y=[u(x.region,!1)];d.push(y);for(var m=0;m<x.children.length;m++)y.push(v(x.children[m]))}function v(x){for(var y=0;y<x.children.length;y++)g(x.children[y]);return u(x.region,!0)}for(var r=0;r<o.children.length;r++)g(o.children[r]);return d.length<=0?{type:"Polygon",coordinates:[]}:d.length==1?{type:"Polygon",coordinates:d[0]}:{type:"MultiPolygon",coordinates:d}}};k.exports=i}),a0=xe((E,k)=>{var i=$p(),t=Xp(),e=e0(),n=t0(),l=r0(),a=n0(),o=!1,s=t(),r;r={buildLog:function(u){return u===!0?o=i():u===!1&&(o=!1),o===!1?!1:o.list},epsilon:function(u){return s.epsilon(u)},segments:function(u){var d=e(!0,s,o);return u.regions.forEach(d.addRegion),{segments:d.calculate(u.inverted),inverted:u.inverted}},combine:function(u,d){var g=e(!1,s,o);return{combined:g.calculate(u.segments,u.inverted,d.segments,d.inverted),inverted1:u.inverted,inverted2:d.inverted}},selectUnion:function(u){return{segments:l.union(u.combined,o),inverted:u.inverted1||u.inverted2}},selectIntersect:function(u){return{segments:l.intersect(u.combined,o),inverted:u.inverted1&&u.inverted2}},selectDifference:function(u){return{segments:l.difference(u.combined,o),inverted:u.inverted1&&!u.inverted2}},selectDifferenceRev:function(u){return{segments:l.differenceRev(u.combined,o),inverted:!u.inverted1&&u.inverted2}},selectXor:function(u){return{segments:l.xor(u.combined,o),inverted:u.inverted1!==u.inverted2}},polygon:function(u){return{regions:n(u.segments,s,o),inverted:u.inverted}},polygonFromGeoJSON:function(u){return a.toPolygon(r,u)},polygonToGeoJSON:function(u){return a.fromPolygon(r,s,u)},union:function(u,d){return p(u,d,r.selectUnion)},intersect:function(u,d){return p(u,d,r.selectIntersect)},difference:function(u,d){return p(u,d,r.selectDifference)},differenceRev:function(u,d){return p(u,d,r.selectDifferenceRev)},xor:function(u,d){return p(u,d,r.selectXor)}};function p(u,d,g){var v=r.segments(u),x=r.segments(d),y=r.combine(v,x),m=g(y);return r.polygon(m)}typeof window=="object"&&(window.PolyBool=r),k.exports=r}),i0=xe((E,k)=>{k.exports=function(i,t,e,n){var l=i[0],a=i[1],o=!1;e===void 0&&(e=0),n===void 0&&(n=t.length);for(var s=n-e,r=0,p=s-1;r<s;p=r++){var u=t[r+e][0],d=t[r+e][1],g=t[p+e][0],v=t[p+e][1],x=d>a!=v>a&&l<(g-u)*(a-d)/(v-d)+u;x&&(o=!o)}return o}}),id=xe((E,k)=>{var i=Zu().dot,t=Pa().BADNUM,e=k.exports={};e.tester=function(n){var l=n.slice(),a=l[0][0],o=a,s=l[0][1],r=s,p;for((l[l.length-1][0]!==l[0][0]||l[l.length-1][1]!==l[0][1])&&l.push(l[0]),p=1;p<l.length;p++)a=Math.min(a,l[p][0]),o=Math.max(o,l[p][0]),s=Math.min(s,l[p][1]),r=Math.max(r,l[p][1]);var u=!1,d;l.length===5&&(l[0][0]===l[1][0]?l[2][0]===l[3][0]&&l[0][1]===l[3][1]&&l[1][1]===l[2][1]&&(u=!0,d=function(m){return m[0]===l[0][0]}):l[0][1]===l[1][1]&&l[2][1]===l[3][1]&&l[0][0]===l[3][0]&&l[1][0]===l[2][0]&&(u=!0,d=function(m){return m[1]===l[0][1]}));function g(m,c){var h=m[0],b=m[1];return!(h===t||h<a||h>o||b===t||b<s||b>r||c&&d(m))}function v(m,c){var h=m[0],b=m[1];if(h===t||h<a||h>o||b===t||b<s||b>r)return!1;var _=l.length,w=l[0][0],K=l[0][1],D=0,I,C,H,z,R;for(I=1;I<_;I++)if(C=w,H=K,w=l[I][0],K=l[I][1],z=Math.min(C,w),!(h<z||h>Math.max(C,w)||b>Math.max(H,K)))if(b<Math.min(H,K))h!==z&&D++;else{if(w===C?R=b:R=H+(h-C)*(K-H)/(w-C),b===R)return!(I===1&&c);b<=R&&h!==z&&D++}return D%2===1}var x=!0,y=l[0];for(p=1;p<l.length;p++)if(y[0]!==l[p][0]||y[1]!==l[p][1]){x=!1;break}return{xmin:a,xmax:o,ymin:s,ymax:r,pts:l,contains:u?g:v,isRect:u,degenerate:x}},e.isSegmentBent=function(n,l,a,o){var s=n[l],r=[n[a][0]-s[0],n[a][1]-s[1]],p=i(r,r),u=Math.sqrt(p),d=[-r[1]/u,r[0]/u],g,v,x;for(g=l+1;g<a;g++)if(v=[n[g][0]-s[0],n[g][1]-s[1]],x=i(v,r),x<0||x>p||Math.abs(i(v,d))>o)return!0;return!1},e.filter=function(n,l){var a=[n[0]],o=0,s=0;function r(u){n.push(u);var d=a.length,g=o;a.splice(s+1);for(var v=g+1;v<n.length;v++)(v===n.length-1||e.isSegmentBent(n,g,v+1,l))&&(a.push(n[v]),a.length<d-2&&(o=v,s=a.length-1),g=v)}if(n.length>1){var p=n.pop();r(p)}return{addPt:r,raw:n,filtered:a}}}),o0=xe((E,k)=>{k.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}),l0=xe((E,k)=>{var i=a0(),t=i0(),e=mn(),n=na().dashStyle,l=Nn(),a=Oo(),o=Xi().makeEventData,s=Zo(),r=s.freeMode,p=s.rectMode,u=s.drawMode,d=s.openMode,g=s.selectMode,v=Co(),x=Rs(),y=hc(),m=Mo().clearOutline,c=Lo(),h=c.handleEllipse,b=c.readPaths,_=dc().newShapes,w=$f(),K=ad().activateLastSelection,D=sr(),I=D.sorterAsc,C=id(),H=Qu(),z=Da().getFromId,R=sc(),U=gc().redrawReglTraces,Z=o0(),G=Z.MINSELECT,P=C.filter,A=C.tester,O=fc(),L=O.p2r,S=O.axValue,F=O.getTransform;function W(_e){return _e.subplot!==void 0}function ue(_e,De,je,ie,ve){var we=!W(ie),Se=r(ve),Ue=p(ve),Le=d(ve),tt=u(ve),nt=g(ve),ut=ve==="drawline",Ye=ve==="drawcircle",st=ut||Ye,xt=ie.gd,Tt=xt._fullLayout,tr=nt&&Tt.newselection.mode==="immediate"&&we,cr=Tt._zoomlayer,Er=ie.element.getBoundingClientRect(),nr=ie.plotinfo,yr=F(nr),qt=De-Er.left,Zt=je-Er.top;Tt._calcInverseTransform(xt);var jr=D.apply3DTransform(Tt._invTransform)(qt,Zt);qt=jr[0],Zt=jr[1];var Ar=Tt._invScaleX,kr=Tt._invScaleY,rr=qt,zt=Zt,xr="M"+qt+","+Zt,Gr=ie.xaxes[0],fn=ie.yaxes[0],br=Gr._length,Jr=fn._length,$r=_e.altKey&&!(u(ve)&&Le),Sn,Bt,gn,oe,de,Ge,We;re(_e,xt,ie),Se&&(Sn=P([[qt,Zt]],Z.BENDPX));var Pe=cr.selectAll("path.select-outline-"+nr.id).data([1]),Ie=tt?Tt.newshape:Tt.newselection;tt&&(ie.hasText=Ie.label.text||Ie.label.texttemplate);var Ve=tt&&!Le?Ie.fillcolor:"rgba(0,0,0,0)",Ze=Ie.line.color||(we?l.contrast(xt._fullLayout.plot_bgcolor):"#7f7f7f");Pe.enter().append("path").attr("class","select-outline select-outline-"+nr.id).style({opacity:tt?Ie.opacity/2:1,"stroke-dasharray":n(Ie.line.dash,Ie.line.width),"stroke-width":Ie.line.width+"px","shape-rendering":"crispEdges"}).call(l.stroke,Ze).call(l.fill,Ve).attr("fill-rule","evenodd").classed("cursor-move",!!tt).attr("transform",yr).attr("d",xr+"Z");var Be=cr.append("path").attr("class","zoombox-corners").style({fill:l.background,stroke:l.defaultLine,"stroke-width":1}).attr("transform",yr).attr("d","M0,0Z");if(tt&&ie.hasText){var Je=cr.select(".label-temp");Je.empty()&&(Je=cr.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Xe=Tt._uid+Z.SELECTID,rt=[],kt=te(xt,ie.xaxes,ie.yaxes,ie.subplot);tr&&!_e.shiftKey&&(ie._clearSubplotSelections=function(){if(we){var Rt=Gr._id,Kt=fn._id;ke(xt,Rt,Kt,kt);for(var ir=(xt.layout||{}).selections||[],Fr=[],or=!1,mr=0;mr<ir.length;mr++){var Mr=Tt.selections[mr];!Mr||Mr.xref!==Rt||Mr.yref!==Kt?Fr.push(ir[mr]):or=!0}or&&(xt._fullLayout._noEmitSelectedAtStart=!0,e.call("_guiRelayout",xt,{selections:Fr}))}});var Dt=Ct(ie);ie.moveFn=function(Rt,Kt){ie._clearSubplotSelections&&(ie._clearSubplotSelections(),ie._clearSubplotSelections=void 0),rr=Math.max(0,Math.min(br,Ar*Rt+qt)),zt=Math.max(0,Math.min(Jr,kr*Kt+Zt));var ir=Math.abs(rr-qt),Fr=Math.abs(zt-Zt);if(Ue){var or,mr,Mr;if(nt){var Qr=Tt.selectdirection;switch(Qr==="any"?Fr<Math.min(ir*.6,G)?or="h":ir<Math.min(Fr*.6,G)?or="v":or="d":or=Qr,or){case"h":mr=Ye?Jr/2:0,Mr=Jr;break;case"v":mr=Ye?br/2:0,Mr=br;break}}if(tt)switch(Tt.newshape.drawdirection){case"vertical":or="h",mr=Ye?Jr/2:0,Mr=Jr;break;case"horizontal":or="v",mr=Ye?br/2:0,Mr=br;break;case"ortho":ir<Fr?(or="h",mr=Zt,Mr=zt):(or="v",mr=qt,Mr=rr);break;default:or="d"}or==="h"?(oe=st?h(Ye,[rr,mr],[rr,Mr]):[[qt,mr],[qt,Mr],[rr,Mr],[rr,mr]],oe.xmin=st?rr:Math.min(qt,rr),oe.xmax=st?rr:Math.max(qt,rr),oe.ymin=Math.min(mr,Mr),oe.ymax=Math.max(mr,Mr),Be.attr("d","M"+oe.xmin+","+(Zt-G)+"h-4v"+2*G+"h4ZM"+(oe.xmax-1)+","+(Zt-G)+"h4v"+2*G+"h-4Z")):or==="v"?(oe=st?h(Ye,[mr,zt],[Mr,zt]):[[mr,Zt],[mr,zt],[Mr,zt],[Mr,Zt]],oe.xmin=Math.min(mr,Mr),oe.xmax=Math.max(mr,Mr),oe.ymin=st?zt:Math.min(Zt,zt),oe.ymax=st?zt:Math.max(Zt,zt),Be.attr("d","M"+(qt-G)+","+oe.ymin+"v-4h"+2*G+"v4ZM"+(qt-G)+","+(oe.ymax-1)+"v4h"+2*G+"v-4Z")):or==="d"&&(oe=st?h(Ye,[qt,Zt],[rr,zt]):[[qt,Zt],[qt,zt],[rr,zt],[rr,Zt]],oe.xmin=Math.min(qt,rr),oe.xmax=Math.max(qt,rr),oe.ymin=Math.min(Zt,zt),oe.ymax=Math.max(Zt,zt),Be.attr("d","M0,0Z"))}else Se&&(Sn.addPt([rr,zt]),oe=Sn.filtered);if(ie.selectionDefs&&ie.selectionDefs.length?(gn=Re(ie.mergedPolygons,oe,$r),oe.subtract=$r,Bt=B(ie.selectionDefs.concat([oe]))):(gn=[oe],Bt=A(oe)),y(T(gn,Le),Pe,ie),nt){var hn=j(xt,!1),Fn=hn.eventData?hn.eventData.points.slice():[];hn=j(xt,!1,Bt,kt,ie),Bt=hn.selectionTesters,We=hn.eventData;var wn;Sn?wn=Sn.filtered:wn=vt(gn),H.throttle(Xe,Z.SELECTDELAY,function(){rt=V(Bt,kt);for(var Pn=rt.slice(),aa=0;aa<Fn.length;aa++){for(var oa=Fn[aa],jn=!1,Ir=0;Ir<Pn.length;Ir++)if(Pn[Ir].curveNumber===oa.curveNumber&&Pn[Ir].pointNumber===oa.pointNumber){jn=!0;break}jn||Pn.push(oa)}Pn.length&&(We||(We={}),We.points=Pn),Dt(We,wn),It(xt,We)})}},ie.clickFn=function(Rt,Kt){if(Be.remove(),xt._fullLayout._activeShapeIndex>=0){xt._fullLayout._deactivateShape(xt);return}if(!tt){var ir=Tt.clickmode;H.done(Xe).then(function(){if(H.clear(Xe),Rt===2){for(Pe.remove(),de=0;de<kt.length;de++)Ge=kt[de],Ge._module.selectPoints(Ge,!1);if(Ne(xt,kt),N(ie),Nt(xt),kt.length){var Fr=kt[0].xaxis,or=kt[0].yaxis;if(Fr&&or){for(var mr=[],Mr=xt._fullLayout.selections,Qr=0;Qr<Mr.length;Qr++){var hn=Mr[Qr];hn&&(hn.xref!==Fr._id||hn.yref!==or._id)&&mr.push(hn)}mr.length<Mr.length&&(xt._fullLayout._noEmitSelectedAtStart=!0,e.call("_guiRelayout",xt,{selections:mr}))}}}else ir.indexOf("select")>-1&&ae(Kt,xt,ie.xaxes,ie.yaxes,ie.subplot,ie,Pe),ir==="event"&&At(xt,void 0);a.click(xt,Kt,nr.id)}).catch(D.error)}},ie.doneFn=function(){Be.remove(),H.done(Xe).then(function(){H.clear(Xe),!tr&&oe&&ie.selectionDefs&&(oe.subtract=$r,ie.selectionDefs.push(oe),ie.mergedPolygons.length=0,[].push.apply(ie.mergedPolygons,gn)),(tr||tt)&&N(ie,tr),ie.doneFnCompleted&&ie.doneFnCompleted(rt),nt&&At(xt,We)}).catch(D.error)}}function ae(_e,De,je,ie,ve,we,Se){var Ue=De._hoverdata,Le=De._fullLayout,tt=Le.clickmode,nt=tt.indexOf("event")>-1,ut=[],Ye,st,xt,Tt,tr,cr,Er,nr,yr,qt;if(pe(Ue)){re(_e,De,we),Ye=te(De,je,ie,ve);var Zt=fe(Ue,Ye),jr=Zt.pointNumbers.length>0;if(jr?Me(Ye,Zt):He(Ye)&&(Er=ye(Zt))){for(Se&&Se.remove(),qt=0;qt<Ye.length;qt++)st=Ye[qt],st._module.selectPoints(st,!1);Ne(De,Ye),N(we),nt&&Nt(De)}else{nr=_e.shiftKey&&(Er!==void 0?Er:ye(Zt)),xt=se(Zt.pointNumber,Zt.searchInfo,nr);var Ar=we.selectionDefs.concat([xt]);for(Tt=B(Ar),qt=0;qt<Ye.length;qt++)if(tr=Ye[qt]._module.selectPoints(Ye[qt],Tt),cr=Ae(tr,Ye[qt]),ut.length)for(var kr=0;kr<cr.length;kr++)ut.push(cr[kr]);else ut=cr;if(yr={points:ut},Ne(De,Ye,yr),xt&&we&&we.selectionDefs.push(xt),Se){var rr=we.mergedPolygons,zt=d(we.dragmode);y(T(rr,zt),Se,we)}nt&&At(De,yr)}}}function se(_e,De,je){return{pointNumber:_e,searchInfo:De,subtract:!!je}}function q(_e){return"pointNumber"in _e&&"searchInfo"in _e}function ee(_e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(De,je,ie,ve){var we=_e.searchInfo.cd[0].trace.index,Se=ve.cd[0].trace.index;return Se===we&&ie===_e.pointNumber},isRect:!1,degenerate:!1,subtract:!!_e.subtract}}function B(_e){if(!_e.length)return;for(var De=[],je=q(_e[0])?0:_e[0][0][0],ie=je,ve=q(_e[0])?0:_e[0][0][1],we=ve,Se=0;Se<_e.length;Se++)if(q(_e[Se]))De.push(ee(_e[Se]));else{var Ue=A(_e[Se]);Ue.subtract=!!_e[Se].subtract,De.push(Ue),je=Math.min(je,Ue.xmin),ie=Math.max(ie,Ue.xmax),ve=Math.min(ve,Ue.ymin),we=Math.max(we,Ue.ymax)}function Le(tt,nt,ut,Ye){for(var st=!1,xt=0;xt<De.length;xt++)De[xt].contains(tt,nt,ut,Ye)&&(st=!De[xt].subtract);return st}return{xmin:je,xmax:ie,ymin:ve,ymax:we,pts:[],contains:Le,isRect:!1,degenerate:!1}}function re(_e,De,je){var ie=De._fullLayout,ve=je.plotinfo,we=je.dragmode,Se=ie._lastSelectedSubplot&&ie._lastSelectedSubplot===ve.id,Ue=(_e.shiftKey||_e.altKey)&&!(u(we)&&d(we));Se&&Ue&&ve.selection&&ve.selection.selectionDefs&&!je.selectionDefs?(je.selectionDefs=ve.selection.selectionDefs,je.mergedPolygons=ve.selection.mergedPolygons):(!Ue||!ve.selection)&&N(je),Se||(m(De),ie._lastSelectedSubplot=ve.id)}function J(_e){return _e._fullLayout._activeShapeIndex>=0}function X(_e){return _e._fullLayout._activeSelectionIndex>=0}function N(_e,De){var je=_e.dragmode,ie=_e.plotinfo,ve=_e.gd;J(ve)&&ve._fullLayout._deactivateShape(ve),X(ve)&&ve._fullLayout._deactivateSelection(ve);var we=ve._fullLayout,Se=we._zoomlayer,Ue=u(je),Le=g(je);if(Ue||Le){var tt=Se.selectAll(".select-outline-"+ie.id);if(tt&&ve._fullLayout._outlining){var nt;Ue&&(nt=_(tt,_e)),nt&&e.call("_guiRelayout",ve,{shapes:nt});var ut;Le&&!W(_e)&&(ut=w(tt,_e)),ut&&(ve._fullLayout._noEmitSelectedAtStart=!0,e.call("_guiRelayout",ve,{selections:ut}).then(function(){De&&K(ve)})),ve._fullLayout._outlining=!1}}ie.selection={},ie.selection.selectionDefs=_e.selectionDefs=[],ie.selection.mergedPolygons=_e.mergedPolygons=[]}function $(_e){return _e._id}function te(_e,De,je,ie){if(!_e.calcdata)return[];var ve=[],we=De.map($),Se=je.map($),Ue,Le,tt;for(tt=0;tt<_e.calcdata.length;tt++)if(Ue=_e.calcdata[tt],Le=Ue[0].trace,!(Le.visible!==!0||!Le._module||!Le._module.selectPoints))if(W({subplot:ie})&&(Le.subplot===ie||Le.geo===ie))ve.push(le(Le._module,Ue,De[0],je[0]));else if(Le.type==="splom"){if(Le._xaxes[we[0]]&&Le._yaxes[Se[0]]){var nt=le(Le._module,Ue,De[0],je[0]);nt.scene=_e._fullLayout._splomScenes[Le.uid],ve.push(nt)}}else if(Le.type==="sankey"){var ut=le(Le._module,Ue,De[0],je[0]);ve.push(ut)}else{if(we.indexOf(Le.xaxis)===-1&&(!Le._xA||!Le._xA.overlaying)||Se.indexOf(Le.yaxis)===-1&&(!Le._yA||!Le._yA.overlaying))continue;ve.push(le(Le._module,Ue,z(_e,Le.xaxis),z(_e,Le.yaxis)))}return ve}function le(_e,De,je,ie){return{_module:_e,cd:De,xaxis:je,yaxis:ie}}function pe(_e){return _e&&Array.isArray(_e)&&_e[0].hoverOnBox!==!0}function fe(_e,De){var je=_e[0],ie=-1,ve=[],we,Se;for(Se=0;Se<De.length;Se++)if(we=De[Se],je.fullData.index===we.cd[0].trace.index){if(je.hoverOnBox===!0)break;je.pointNumber!==void 0?ie=je.pointNumber:je.binNumber!==void 0&&(ie=je.binNumber,ve=je.pointNumbers);break}return{pointNumber:ie,pointNumbers:ve,searchInfo:we}}function ye(_e){var De=_e.searchInfo.cd[0].trace,je=_e.pointNumber,ie=_e.pointNumbers,ve=ie.length>0,we=ve?ie[0]:je;return De.selectedpoints?De.selectedpoints.indexOf(we)>-1:!1}function Me(_e,De){var je=[],ie,ve,we,Se;for(Se=0;Se<_e.length;Se++)ie=_e[Se],ie.cd[0].trace.selectedpoints&&ie.cd[0].trace.selectedpoints.length>0&&je.push(ie);if(je.length===1&&(we=je[0]===De.searchInfo,we&&(ve=De.searchInfo.cd[0].trace,ve.selectedpoints.length===De.pointNumbers.length))){for(Se=0;Se<De.pointNumbers.length;Se++)if(ve.selectedpoints.indexOf(De.pointNumbers[Se])<0)return!1;return!0}return!1}function He(_e){var De=0,je,ie,ve;for(ve=0;ve<_e.length;ve++)if(je=_e[ve],ie=je.cd[0].trace,ie.selectedpoints&&(ie.selectedpoints.length>1||(De+=ie.selectedpoints.length,De>1)))return!1;return De===1}function Ne(_e,De,je){var ie;for(ie=0;ie<De.length;ie++){var ve=De[ie].cd[0].trace._fullInput,we=_e._fullLayout._tracePreGUI[ve.uid]||{};we.selectedpoints===void 0&&(we.selectedpoints=ve._input.selectedpoints||null)}var Se;if(je){var Ue=je.points||[];for(ie=0;ie<De.length;ie++)Se=De[ie].cd[0].trace,Se._input.selectedpoints=Se._fullInput.selectedpoints=[],Se._fullInput!==Se&&(Se.selectedpoints=[]);for(var Le=0;Le<Ue.length;Le++){var tt=Ue[Le],nt=tt.data,ut=tt.fullData,Ye=tt.pointIndex,st=tt.pointIndices;st?([].push.apply(nt.selectedpoints,st),Se._fullInput!==Se&&[].push.apply(ut.selectedpoints,st)):(nt.selectedpoints.push(Ye),Se._fullInput!==Se&&ut.selectedpoints.push(Ye))}}else for(ie=0;ie<De.length;ie++)Se=De[ie].cd[0].trace,delete Se.selectedpoints,delete Se._input.selectedpoints,Se._fullInput!==Se&&delete Se._fullInput.selectedpoints;ze(_e,De)}function ze(_e,De){for(var je=!1,ie=0;ie<De.length;ie++){var ve=De[ie],we=ve.cd;e.traceIs(we[0].trace,"regl")&&(je=!0);var Se=ve._module,Ue=Se.styleOnSelect||Se.style;Ue&&(Ue(_e,we,we[0].node3),we[0].nodeRangePlot3&&Ue(_e,we,we[0].nodeRangePlot3))}je&&(R(_e),U(_e))}function Re(_e,De,je){for(var ie=je?i.difference:i.union,ve=ie({regions:_e},{regions:[De]}),we=ve.regions.reverse(),Se=0;Se<we.length;Se++){var Ue=we[Se];Ue.subtract=at(Ue,we.slice(0,Se))}return we}function Ae(_e,De){if(Array.isArray(_e))for(var je=De.cd,ie=De.cd[0].trace,ve=0;ve<_e.length;ve++)_e[ve]=o(_e[ve],ie,je);return _e}function T(_e,De){for(var je=[],ie=0;ie<_e.length;ie++){je[ie]=[];for(var ve=0;ve<_e[ie].length;ve++){je[ie][ve]=[],je[ie][ve][0]=ve?"L":"M";for(var we=0;we<_e[ie][ve].length;we++)je[ie][ve].push(_e[ie][ve][we])}De||je[ie].push(["Z",je[ie][0][1],je[ie][0][2]])}return je}function V(_e,De){for(var je=[],ie,ve=[],we,Se=0;Se<De.length;Se++){var Ue=De[Se];we=Ue._module.selectPoints(Ue,_e),ve.push(we),ie=Ae(we,Ue),je=je.concat(ie)}return je}function j(_e,De,je,ie,ve){var we=!!ie,Se,Ue,Le;ve&&(Se=ve.plotinfo,Ue=ve.xaxes[0]._id,Le=ve.yaxes[0]._id);var tt=[],nt=[],ut=qe(_e),Ye=_e._fullLayout;if(Se){var st=Ye._zoomlayer,xt=Ye.dragmode,Tt=u(xt),tr=g(xt);if(Tt||tr){var cr=z(_e,Ue,"x"),Er=z(_e,Le,"y");if(cr&&Er){var nr=st.selectAll(".select-outline-"+Se.id);if(nr&&_e._fullLayout._outlining&&nr.length){for(var yr=nr[0][0],qt=yr.getAttribute("d"),Zt=b(qt,_e,Se),jr=[],Ar=0;Ar<Zt.length;Ar++){for(var kr=Zt[Ar],rr=[],zt=0;zt<kr.length;zt++)rr.push([ct(cr,kr[zt][1]),ct(Er,kr[zt][2])]);rr.xref=Ue,rr.yref=Le,rr.subtract=at(rr,jr),jr.push(rr)}ut=ut.concat(jr)}}}}var xr=Ue&&Le?[Ue+Le]:Ye._subplots.cartesian;he(_e);for(var Gr={},fn=0;fn<xr.length;fn++){var br=xr[fn],Jr=br.indexOf("y"),$r=br.slice(0,Jr),Sn=br.slice(Jr),Bt=Ue&&Le?je:void 0;if(Bt=Ce(ut,$r,Sn,Bt),Bt){var gn=ie;if(!we){var oe=z(_e,$r,"x"),de=z(_e,Sn,"y");gn=te(_e,[oe],[de],br);for(var Ge=0;Ge<gn.length;Ge++){var We=gn[Ge],Pe=We.cd[0],Ie=Pe.trace;if(We._module.name==="scattergl"&&!Pe.t.xpx){var Ve=Ie.x,Ze=Ie.y,Be=Ie._length;Pe.t.xpx=[],Pe.t.ypx=[];for(var Je=0;Je<Be;Je++)Pe.t.xpx[Je]=oe.c2p(Ve[Je]),Pe.t.ypx[Je]=de.c2p(Ze[Je])}We._module.name==="splom"&&(Gr[Ie.uid]||(Gr[Ie.uid]=!0))}}var Xe=V(Bt,gn);tt=tt.concat(Xe),nt=nt.concat(gn)}}var rt={points:tt};Ne(_e,nt,rt);var kt=Ye.clickmode,Dt=kt.indexOf("event")>-1&&De;if(!Se&&De){var Rt=qe(_e,!0);if(Rt.length){var Kt=Rt[0].xref,ir=Rt[0].yref;if(Kt&&ir){var Fr=vt(Rt),or=ot([z(_e,Kt,"x"),z(_e,ir,"y")]);or(rt,Fr)}}_e._fullLayout._noEmitSelectedAtStart?_e._fullLayout._noEmitSelectedAtStart=!1:Dt&&At(_e,rt),Ye._reselect=!1}if(!Se&&Ye._deselect){var mr=Ye._deselect;Ue=mr.xref,Le=mr.yref,be(Ue,Le,nt)||ke(_e,Ue,Le,ie),Dt&&(rt.points.length?At(_e,rt):Nt(_e)),Ye._deselect=!1}return{eventData:rt,selectionTesters:je}}function he(_e){var De=_e.calcdata;if(De)for(var je=0;je<De.length;je++){var ie=De[je][0],ve=ie.trace,we=_e._fullLayout._splomScenes;if(we){var Se=we[ve.uid];Se&&(Se.selectBatch=[])}}}function be(_e,De,je){for(var ie=0;ie<je.length;ie++){var ve=je[ie];if(ve.xaxis&&ve.xaxis._id===_e&&ve.yaxis&&ve.yaxis._id===De)return!0}return!1}function ke(_e,De,je,ie){ie=te(_e,[z(_e,De,"x")],[z(_e,je,"y")],De+je);for(var ve=0;ve<ie.length;ve++){var we=ie[ve];we._module.selectPoints(we,!1)}Ne(_e,ie)}function Ce(_e,De,je,ie){for(var ve,we=0;we<_e.length;we++){var Se=_e[we];if(!(De!==Se.xref||je!==Se.yref))if(ve){var Ue=!!Se.subtract;ve=Re(ve,Se,Ue),ie=B(ve)}else ve=[Se],ie=A(Se)}return ie}function qe(_e,De){for(var je=[],ie=_e._fullLayout,ve=ie.selections,we=ve.length,Se=0;Se<we;Se++)if(!(De&&Se!==ie._activeSelectionIndex)){var Ue=ve[Se];if(Ue){var Le=Ue.xref,tt=Ue.yref,nt=z(_e,Le,"x"),ut=z(_e,tt,"y"),Ye,st,xt,Tt,tr;if(Ue.type==="rect"){tr=[];var cr=ct(nt,Ue.x0),Er=ct(nt,Ue.x1),nr=ct(ut,Ue.y0),yr=ct(ut,Ue.y1);tr=[[cr,nr],[cr,yr],[Er,yr],[Er,nr]],Ye=Math.min(cr,Er),st=Math.max(cr,Er),xt=Math.min(nr,yr),Tt=Math.max(nr,yr),tr.xmin=Ye,tr.xmax=st,tr.ymin=xt,tr.ymax=Tt,tr.xref=Le,tr.yref=tt,tr.subtract=!1,tr.isRect=!0,je.push(tr)}else if(Ue.type==="path")for(var qt=Ue.path.split("Z"),Zt=[],jr=0;jr<qt.length;jr++){var Ar=qt[jr];if(Ar){Ar+="Z";var kr=v.extractPathCoords(Ar,x.paramIsX,"raw"),rr=v.extractPathCoords(Ar,x.paramIsY,"raw");Ye=1/0,st=-1/0,xt=1/0,Tt=-1/0,tr=[];for(var zt=0;zt<kr.length;zt++){var xr=ct(nt,kr[zt]),Gr=ct(ut,rr[zt]);tr.push([xr,Gr]),Ye=Math.min(xr,Ye),st=Math.max(xr,st),xt=Math.min(Gr,xt),Tt=Math.max(Gr,Tt)}tr.xmin=Ye,tr.xmax=st,tr.ymin=xt,tr.ymax=Tt,tr.xref=Le,tr.yref=tt,tr.subtract=at(tr,Zt),Zt.push(tr),je.push(tr)}}}}return je}function at(_e,De){for(var je=!1,ie=0;ie<De.length;ie++)for(var ve=De[ie],we=0;we<_e.length;we++)if(t(_e[we],ve)){je=!je;break}return je}function ct(_e,De){return _e.type==="date"&&(De=De.replace("_"," ")),_e.type==="log"?_e.c2p(De):_e.r2p(De,null,_e.calendar)}function vt(_e){for(var De=_e.length,je=[],ie=0;ie<De;ie++){var ve=_e[ie];je=je.concat(ve),je=je.concat([ve[0]])}return St(je)}function St(_e){return _e.isRect=_e.length===5&&_e[0][0]===_e[4][0]&&_e[0][1]===_e[4][1]&&_e[0][0]===_e[1][0]&&_e[2][0]===_e[3][0]&&_e[0][1]===_e[3][1]&&_e[1][1]===_e[2][1]||_e[0][1]===_e[1][1]&&_e[2][1]===_e[3][1]&&_e[0][0]===_e[3][0]&&_e[1][0]===_e[2][0],_e.isRect&&(_e.xmin=Math.min(_e[0][0],_e[2][0]),_e.xmax=Math.max(_e[0][0],_e[2][0]),_e.ymin=Math.min(_e[0][1],_e[2][1]),_e.ymax=Math.max(_e[0][1],_e[2][1])),_e}function ot(_e){return function(De,je){for(var ie,ve,we=0;we<_e.length;we++){var Se=_e[we],Ue=Se._id,Le=Ue.charAt(0);if(je.isRect){ie||(ie={});var tt=je[Le+"min"],nt=je[Le+"max"];tt!==void 0&&nt!==void 0&&(ie[Ue]=[L(Se,tt),L(Se,nt)].sort(I))}else ve||(ve={}),ve[Ue]=je.map(S(Se))}ie&&(De.range=ie),ve&&(De.lassoPoints=ve)}}function Ct(_e){var De=_e.plotinfo;return De.fillRangeItems||ot(_e.xaxes.concat(_e.yaxes))}function It(_e,De){_e.emit("plotly_selecting",De)}function At(_e,De){De&&(De.selections=(_e.layout||{}).selections||[]),_e.emit("plotly_selected",De)}function Nt(_e){_e.emit("plotly_deselect",null)}k.exports={reselect:j,prepSelect:ue,clearOutline:m,clearSelectionsCache:N,selectOnClick:ae}}),od=xe((E,k)=>{k.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}),zs=xe((E,k)=>{k.exports={axisRefDescription:function(i,t,e){return["If set to a",i,"axis id (e.g. *"+i+"* or","*"+i+"2*), the `"+i+"` position refers to a",i,"coordinate. If set to *paper*, the `"+i+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+e+"). If set to a",i,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+i+"2 domain* refers to the domain of the second",i," axis and a",i,"position of 0.5 refers to the","point between the",t,"and the",e,"of the domain of the","second",i,"axis."].join(" ")}}}),Ll=xe((E,k)=>{var i=od(),t=ei(),e=Za(),n=ca().templatedArray;zs(),k.exports=n("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",e.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",e.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",e.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",e.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:t({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}),Bs=xe((E,k)=>{k.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),ld=xe((E,k)=>{k.exports=function(i){return{valType:"color",editType:"style",anim:!0}}}),Ko=xe((E,k)=>{var i=rc().axisHoverFormat,t=Ds().texttemplateAttrs,e=Ds().hovertemplateAttrs,n=Ps(),l=ei(),a=ko().dash,o=ko().pattern,s=na(),r=Bs(),p=za().extendFlat,u=ld();function d(x){return{valType:"any",dflt:0,editType:"calc"}}function g(x){return{valType:"any",editType:"calc"}}function v(x){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}k.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:d(),yperiod:d(),xperiod0:g(),yperiod0:g(),xperiodalignment:v(),yperiodalignment:v(),xhoverformat:i("x"),yhoverformat:i("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:t({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:e({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:p({},a,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:u(!0),fillgradient:p({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:o,marker:p({symbol:{valType:"enumerated",values:s.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:p({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},n("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},n("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:l({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}),sd=xe((E,k)=>{var i=Ll(),t=Ko().line,e=ko().dash,n=za().extendFlat,l=Di().overrideAll,a=ca().templatedArray;zs(),k.exports=l(a("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:n({},i.xref,{}),yref:n({},i.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:t.color,width:n({},t.width,{min:1,dflt:1}),dash:n({},e,{dflt:"dot"})}}),"arraydraw","from-root")}),s0=xe((E,k)=>{var i=sr(),t=Ma(),e=Pi(),n=sd(),l=Co();k.exports=function(o,s){e(o,s,{name:"selections",handleItemDefaults:a});for(var r=s.selections,p=0;p<r.length;p++){var u=r[p];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(s.selections[p]=null)}};function a(o,s,r){function p(R,U){return i.coerce(o,s,n,R,U)}var u=p("path"),d=u?"path":"rect",g=p("type",d),v=g!=="path";v&&delete s.path,p("opacity"),p("line.color"),p("line.width"),p("line.dash");for(var x=["x","y"],y=0;y<2;y++){var m=x[y],c={_fullLayout:r},h,b,_,w=t.coerceRef(o,s,c,m);if(h=t.getFromId(c,w),h._selectionIndices.push(s._index),_=l.rangeToShapePosition(h),b=l.shapePositionToRange(h),v){var K=m+"0",D=m+"1",I=o[K],C=o[D];o[K]=b(o[K],!0),o[D]=b(o[D],!0),t.coercePosition(s,c,p,w,K),t.coercePosition(s,c,p,w,D);var H=s[K],z=s[D];H!==void 0&&z!==void 0&&(s[K]=_(H),s[D]=_(z),o[K]=I,o[D]=C)}}v&&i.noneOrAll(o,s,["x0","x1","y0","y1"])}}),u0=xe((E,k)=>{k.exports=function(i,t,e){e("newselection.mode");var n=e("newselection.line.width");n&&(e("newselection.line.color"),e("newselection.line.dash")),e("activeselection.fillcolor"),e("activeselection.opacity")}}),Us=xe((E,k)=>{var i=mn(),t=sr(),e=Da();k.exports=function(n){return function(l,a){var o=l[n];if(Array.isArray(o))for(var s=i.subplotsRegistry.cartesian,r=s.idRegex,p=a._subplots,u=p.xaxis,d=p.yaxis,g=p.cartesian,v=a._has("cartesian"),x=0;x<o.length;x++){var y=o[x];if(t.isPlainObject(y)){var m=e.cleanId(y.xref,"x",!1),c=e.cleanId(y.yref,"y",!1),h=r.x.test(m),b=r.y.test(c);if(h||b){v||t.pushUnique(a._basePlotModules,s);var _=!1;h&&u.indexOf(m)===-1&&(u.push(m),_=!0),b&&d.indexOf(c)===-1&&(d.push(c),_=!0),_&&h&&b&&g.push(m+c)}}}}}}),Cl=xe((E,k)=>{var i=ad(),t=l0();k.exports={moduleType:"component",name:"selections",layoutAttributes:sd(),supplyLayoutDefaults:s0(),supplyDrawNewSelectionDefaults:u0(),includeBasePlot:Us()("selections"),draw:i.draw,drawOne:i.drawOne,reselect:t.reselect,prepSelect:t.prepSelect,clearOutline:t.clearOutline,clearSelectionsCache:t.clearSelectionsCache,selectOnClick:t.selectOnClick}}),c0=xe((E,k)=>{var i=Jn(),t=sr(),e=t.numberFormat,n=Li(),l=Hf(),a=mn(),o=t.strTranslate,s=fi(),r=Nn(),p=na(),u=Oo(),d=Ma(),g=So(),v=Fi(),x=Zo(),y=x.selectingOrDrawing,m=x.freeMode,c=ii().FROM_TL,h=sc(),b=gc().redrawReglTraces,_=Ba(),w=Da().getFromId,K=Cl().prepSelect,D=Cl().clearOutline,I=Cl().selectOnClick,C=nd(),H=Za(),z=H.MINDRAG,R=H.MINZOOM,U=!0;function Z(le,pe,fe,ye,Me,He,Ne,ze){var Re=le._fullLayout._zoomlayer,Ae=Ne+ze==="nsew",T=(Ne+ze).length===1,V,j,he,be,ke,Ce,qe,at,ct,vt,St,ot,Ct,It,At,Nt,_e,De,je,ie,ve,we,Se;fe+=pe.yaxis._shift;function Ue(){if(V=pe.xaxis,j=pe.yaxis,ct=V._length,vt=j._length,qe=V._offset,at=j._offset,he={},he[V._id]=V,be={},be[j._id]=j,Ne&&ze)for(var Pe=pe.overlays,Ie=0;Ie<Pe.length;Ie++){var Ve=Pe[Ie].xaxis;he[Ve._id]=Ve;var Ze=Pe[Ie].yaxis;be[Ze._id]=Ze}ke=te(he),Ce=te(be),Ct=A(ke,ze),It=A(Ce,Ne),At=!It&&!Ct,ot=N(le,le._fullLayout._axisMatchGroups,he,be),St=N(le,le._fullLayout._axisConstraintGroups,he,be,ot);var Be=St.isSubplotConstrained||ot.isSubplotConstrained;Nt=ze||Be,_e=Ne||Be;var Je=le._fullLayout;De=Je._has("scattergl"),je=Je._has("splom"),ie=Je._has("svg")}Ue();var Le=W(It+Ct,le._fullLayout.dragmode,Ae),tt=P(pe,Ne+ze+"drag",Le,fe,ye,Me,He);if(At&&!Ae)return tt.onmousedown=null,tt.style.pointerEvents="none",tt;var nt={element:tt,gd:le,plotinfo:pe};nt.prepFn=function(Pe,Ie,Ve){var Ze=nt.dragmode,Be=le._fullLayout.dragmode;Be!==Ze&&(nt.dragmode=Be),Ue(),we=le._fullLayout._invScaleX,Se=le._fullLayout._invScaleY,At||(Ae?Pe.shiftKey?Be==="pan"?Be="zoom":y(Be)||(Be="pan"):Pe.ctrlKey&&(Be="pan"):Be="pan"),m(Be)?nt.minDrag=1:nt.minDrag=void 0,y(Be)?(nt.xaxes=ke,nt.yaxes=Ce,K(Pe,Ie,Ve,nt,Be)):(nt.clickFn=Ye,y(Ze)&&ut(),At||(Be==="zoom"?(nt.moveFn=Ar,nt.doneFn=rr,nt.minDrag=1,jr(Pe,Ie,Ve)):Be==="pan"&&(nt.moveFn=Jr,nt.doneFn=gn))),le._fullLayout._redrag=function(){var Je=le._dragdata;if(Je&&Je.element===tt){var Xe=le._fullLayout.dragmode;y(Xe)||(Ue(),oe([0,0,ct,vt]),nt.moveFn(Je.dx,Je.dy))}}};function ut(){nt.plotinfo.selection=!1,D(le)}function Ye(Pe,Ie){var Ve=nt.gd;if(Ve._fullLayout._activeShapeIndex>=0){Ve._fullLayout._deactivateShape(Ve);return}var Ze=Ve._fullLayout.clickmode;if(ee(Ve),Pe===2&&!T&&Bt(),Ae)Ze.indexOf("select")>-1&&I(Ie,Ve,ke,Ce,pe.id,nt),Ze.indexOf("event")>-1&&u.click(Ve,Ie,pe.id);else if(Pe===1&&T){var Be=Ne?j:V,Je=Ne==="s"||ze==="w"?0:1,Xe=Be._name+".range["+Je+"]",rt=O(Be,Je),kt="left",Dt="middle";if(Be.fixedrange)return;Ne?(Dt=Ne==="n"?"top":"bottom",Be.side==="right"&&(kt="right")):ze==="e"&&(kt="right"),Ve._context.showAxisRangeEntryBoxes&&i.select(tt).call(s.makeEditable,{gd:Ve,immediate:!0,background:Ve._fullLayout.paper_bgcolor,text:String(rt),fill:Be.tickfont?Be.tickfont.color:"#444",horizontalAlign:kt,verticalAlign:Dt}).on("edit",function(Rt){var Kt=Be.d2r(Rt);Kt!==void 0&&a.call("_guiRelayout",Ve,Xe,Kt)})}}v.init(nt);var st,xt,Tt,tr,cr,Er,nr,yr,qt,Zt;function jr(Pe,Ie,Ve){var Ze=tt.getBoundingClientRect();st=Ie-Ze.left,xt=Ve-Ze.top,le._fullLayout._calcInverseTransform(le);var Be=t.apply3DTransform(le._fullLayout._invTransform)(st,xt);st=Be[0],xt=Be[1],Tt={l:st,r:st,w:0,t:xt,b:xt,h:0},tr=le._hmpixcount?le._hmlumcount/le._hmpixcount:n(le._fullLayout.plot_bgcolor).getLuminance(),cr="M0,0H"+ct+"V"+vt+"H0V0",Er=!1,nr="xy",Zt=!1,yr=ue(Re,tr,qe,at,cr),qt=ae(Re,qe,at)}function Ar(Pe,Ie){if(le._transitioningWithDuration)return!1;var Ve=Math.max(0,Math.min(ct,we*Pe+st)),Ze=Math.max(0,Math.min(vt,Se*Ie+xt)),Be=Math.abs(Ve-st),Je=Math.abs(Ze-xt);Tt.l=Math.min(st,Ve),Tt.r=Math.max(st,Ve),Tt.t=Math.min(xt,Ze),Tt.b=Math.max(xt,Ze);function Xe(){nr="",Tt.r=Tt.l,Tt.t=Tt.b,qt.attr("d","M0,0Z")}if(St.isSubplotConstrained)Be>R||Je>R?(nr="xy",Be/ct>Je/vt?(Je=Be*vt/ct,xt>Ze?Tt.t=xt-Je:Tt.b=xt+Je):(Be=Je*ct/vt,st>Ve?Tt.l=st-Be:Tt.r=st+Be),qt.attr("d",X(Tt))):Xe();else if(ot.isSubplotConstrained)if(Be>R||Je>R){nr="xy";var rt=Math.min(Tt.l/ct,(vt-Tt.b)/vt),kt=Math.max(Tt.r/ct,(vt-Tt.t)/vt);Tt.l=rt*ct,Tt.r=kt*ct,Tt.b=(1-rt)*vt,Tt.t=(1-kt)*vt,qt.attr("d",X(Tt))}else Xe();else!It||Je<Math.min(Math.max(Be*.6,z),R)?Be<z||!Ct?Xe():(Tt.t=0,Tt.b=vt,nr="x",qt.attr("d",re(Tt,xt))):!Ct||Be<Math.min(Je*.6,R)?(Tt.l=0,Tt.r=ct,nr="y",qt.attr("d",J(Tt,st))):(nr="xy",qt.attr("d",X(Tt)));Tt.w=Tt.r-Tt.l,Tt.h=Tt.b-Tt.t,nr&&(Zt=!0),le._dragged=Zt,se(yr,qt,Tt,cr,Er,tr),kr(),le.emit("plotly_relayouting",ve),Er=!0}function kr(){ve={},(nr==="xy"||nr==="x")&&(L(ke,Tt.l/ct,Tt.r/ct,ve,St.xaxes),$r("x",ve)),(nr==="xy"||nr==="y")&&(L(Ce,(vt-Tt.b)/vt,(vt-Tt.t)/vt,ve,St.yaxes),$r("y",ve))}function rr(){kr(),ee(le),gn(),B(le)}var zt=[0,0,ct,vt],xr=null,Gr=H.REDRAWDELAY,fn=pe.mainplot?le._fullLayout._plots[pe.mainplot]:pe;function br(Pe){if(!le._context._scrollZoom.cartesian&&!le._fullLayout._enablescrollzoom)return;if(ut(),le._transitioningWithDuration){Pe.preventDefault(),Pe.stopPropagation();return}Ue(),clearTimeout(xr);var Ie=-Pe.deltaY;if(isFinite(Ie)||(Ie=Pe.wheelDelta/10),!isFinite(Ie)){t.log("Did not find wheel motion attributes: ",Pe);return}var Ve=Math.exp(-Math.min(Math.max(Ie,-20),20)/200),Ze=fn.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Be=(Pe.clientX-Ze.left)/Ze.width,Je=(Ze.bottom-Pe.clientY)/Ze.height,Xe;function rt(kt,Dt,Rt){if(kt.fixedrange)return;var Kt=t.simpleMap(kt.range,kt.r2l),ir=Kt[0]+(Kt[1]-Kt[0])*Dt;function Fr(or){return kt.l2r(ir+(or-ir)*Rt)}kt.range=Kt.map(Fr)}if(Nt){for(ze||(Be=.5),Xe=0;Xe<ke.length;Xe++)rt(ke[Xe],Be,Ve);$r("x"),zt[2]*=Ve,zt[0]+=zt[2]*Be*(1/Ve-1)}if(_e){for(Ne||(Je=.5),Xe=0;Xe<Ce.length;Xe++)rt(Ce[Xe],Je,Ve);$r("y"),zt[3]*=Ve,zt[1]+=zt[3]*(1-Je)*(1/Ve-1)}oe(zt),Sn(),le.emit("plotly_relayouting",ve),xr=setTimeout(function(){le._fullLayout&&(zt=[0,0,ct,vt],gn())},Gr),Pe.preventDefault()}Ne.length*ze.length!==1&&$(tt,br);function Jr(Pe,Ie){if(Pe=Pe*we,Ie=Ie*Se,le._transitioningWithDuration)return;if(le._fullLayout._replotting=!0,Ct==="ew"||It==="ns"){var Ve=Ct?-Pe:0,Ze=It?-Ie:0;if(ot.isSubplotConstrained){if(Ct&&It){var Be=(Pe/ct-Ie/vt)/2;Pe=Be*ct,Ie=-Be*vt,Ve=-Pe,Ze=-Ie}It?Ve=-Ze*ct/vt:Ze=-Ve*vt/ct}Ct&&(S(ke,Pe),$r("x")),It&&(S(Ce,Ie),$r("y")),oe([Ve,Ze,ct,vt]),Sn(),le.emit("plotly_relayouting",ve);return}function Je(Fr,or,mr){for(var Mr=1-or,Qr,hn,Fn=0;Fn<Fr.length;Fn++){var wn=Fr[Fn];if(!wn.fixedrange){Qr=wn,hn=wn._rl[Mr]+(wn._rl[or]-wn._rl[Mr])/F(mr/wn._length);var Pn=wn.l2r(hn);Pn!==!1&&Pn!==void 0&&(wn.range[or]=Pn)}}return Qr._length*(Qr._rl[or]-hn)/(Qr._rl[or]-Qr._rl[Mr])}var Xe=Ct==="w"==(It==="n")?1:-1;if(Ct&&It&&(St.isSubplotConstrained||ot.isSubplotConstrained)){var rt=(Pe/ct+Xe*Ie/vt)/2;Pe=rt*ct,Ie=Xe*rt*vt}var kt,Dt;if(Ct==="w"?Pe=Je(ke,0,Pe):Ct==="e"?Pe=Je(ke,1,-Pe):Ct||(Pe=0),It==="n"?Ie=Je(Ce,1,Ie):It==="s"?Ie=Je(Ce,0,-Ie):It||(Ie=0),kt=Ct==="w"?Pe:0,Dt=It==="n"?Ie:0,St.isSubplotConstrained&&!ot.isSubplotConstrained||ot.isSubplotConstrained&&Ct&&It&&Xe>0){var Rt;if(ot.isSubplotConstrained||!Ct&&It.length===1){for(Rt=0;Rt<ke.length;Rt++)ke[Rt].range=ke[Rt]._r.slice(),C(ke[Rt],1-Ie/vt);Pe=Ie*ct/vt,kt=Pe/2}if(ot.isSubplotConstrained||!It&&Ct.length===1){for(Rt=0;Rt<Ce.length;Rt++)Ce[Rt].range=Ce[Rt]._r.slice(),C(Ce[Rt],1-Pe/ct);Ie=Pe*vt/ct,Dt=Ie/2}}(!ot.isSubplotConstrained||!It)&&$r("x"),(!ot.isSubplotConstrained||!Ct)&&$r("y");var Kt=ct-Pe,ir=vt-Ie;ot.isSubplotConstrained&&!(Ct&&It)&&(Ct?(Dt=kt?0:Pe*vt/ct,ir=Kt*vt/ct):(kt=Dt?0:Ie*ct/vt,Kt=ir*ct/vt)),oe([kt,Dt,Kt,ir]),Sn(),le.emit("plotly_relayouting",ve)}function $r(Pe,Ie){for(var Ve=ot.isSubplotConstrained?{x:Ce,y:ke}[Pe]:ot[Pe+"axes"],Ze=ot.isSubplotConstrained?{x:ke,y:Ce}[Pe]:[],Be=0;Be<Ve.length;Be++){var Je=Ve[Be],Xe=Je._id,rt=ot.xLinks[Xe]||ot.yLinks[Xe],kt=Ze[0]||he[rt]||be[rt];kt&&(Ie?(Ie[Je._name+".range[0]"]=Ie[kt._name+".range[0]"],Ie[Je._name+".range[1]"]=Ie[kt._name+".range[1]"]):Je.range=kt.range.slice())}}function Sn(){var Pe=[],Ie;function Ve(Xe){for(Ie=0;Ie<Xe.length;Ie++)Xe[Ie].fixedrange||Pe.push(Xe[Ie]._id)}function Ze(Xe,rt){for(Ie=0;Ie<Xe.length;Ie++){var kt=Xe[Ie],Dt=kt[rt];!kt.fixedrange&&Dt.tickmode==="sync"&&Pe.push(Dt._id)}}for(Nt&&(Ve(ke),Ve(St.xaxes),Ve(ot.xaxes),Ze(pe.overlays,"xaxis")),_e&&(Ve(Ce),Ve(St.yaxes),Ve(ot.yaxes),Ze(pe.overlays,"yaxis")),ve={},Ie=0;Ie<Pe.length;Ie++){var Be=Pe[Ie],Je=w(le,Be);d.drawOne(le,Je,{skipTitle:!0}),ve[Je._name+".range[0]"]=Je.range[0],ve[Je._name+".range[1]"]=Je.range[1]}d.redrawComponents(le,Pe)}function Bt(){if(!le._transitioningWithDuration){var Pe=le._context.doubleClick,Ie=[];Ct&&(Ie=Ie.concat(ke)),It&&(Ie=Ie.concat(Ce)),ot.xaxes&&(Ie=Ie.concat(ot.xaxes)),ot.yaxes&&(Ie=Ie.concat(ot.yaxes));var Ve={},Ze,Be;if(Pe==="reset+autosize")for(Pe="autosize",Be=0;Be<Ie.length;Be++){Ze=Ie[Be];var Je=Ze._rangeInitial0,Xe=Ze._rangeInitial1,rt=Je!==void 0||Xe!==void 0;if(rt&&(Je!==void 0&&Je!==Ze.range[0]||Xe!==void 0&&Xe!==Ze.range[1])||!rt&&Ze.autorange!==!0){Pe="reset";break}}if(Pe==="autosize")for(Be=0;Be<Ie.length;Be++)Ze=Ie[Be],Ze.fixedrange||(Ve[Ze._name+".autorange"]=!0);else if(Pe==="reset"){for((Ct||St.isSubplotConstrained)&&(Ie=Ie.concat(St.xaxes)),It&&!St.isSubplotConstrained&&(Ie=Ie.concat(St.yaxes)),St.isSubplotConstrained&&(Ct?It||(Ie=Ie.concat(Ce)):Ie=Ie.concat(ke)),Be=0;Be<Ie.length;Be++)if(Ze=Ie[Be],!Ze.fixedrange){var kt=Ze._name,Dt=Ze._autorangeInitial;Ze._rangeInitial0===void 0&&Ze._rangeInitial1===void 0?Ve[kt+".autorange"]=!0:Ze._rangeInitial0===void 0?(Ve[kt+".autorange"]=Dt,Ve[kt+".range"]=[null,Ze._rangeInitial1]):Ze._rangeInitial1===void 0?(Ve[kt+".range"]=[Ze._rangeInitial0,null],Ve[kt+".autorange"]=Dt):Ve[kt+".range"]=[Ze._rangeInitial0,Ze._rangeInitial1]}}le.emit("plotly_doubleclick",null),a.call("_guiRelayout",le,Ve)}}function gn(){oe([0,0,ct,vt]),t.syncOrAsync([_.previousPromises,function(){le._fullLayout._replotting=!1,a.call("_guiRelayout",le,ve)}],le)}function oe(Pe){var Ie=le._fullLayout,Ve=Ie._plots,Ze=Ie._subplots.cartesian,Be,Je,Xe,rt;if(je&&a.subplotsRegistry.splom.drag(le),De){for(Be=0;Be<Ze.length;Be++)if(Je=Ve[Ze[Be]],Xe=Je.xaxis,rt=Je.yaxis,Je._scene){Xe.limitRange&&Xe.limitRange(),rt.limitRange&&rt.limitRange();var kt=t.simpleMap(Xe.range,Xe.r2l),Dt=t.simpleMap(rt.range,rt.r2l);Je._scene.update({range:[kt[0],Dt[0],kt[1],Dt[1]]})}}if((je||De)&&(h(le),b(le)),ie){var Rt=Pe[2]/V._length,Kt=Pe[3]/j._length;for(Be=0;Be<Ze.length;Be++){Je=Ve[Ze[Be]],Xe=Je.xaxis,rt=Je.yaxis;var ir=(Nt||ot.isSubplotConstrained)&&!Xe.fixedrange&&he[Xe._id],Fr=(_e||ot.isSubplotConstrained)&&!rt.fixedrange&&be[rt._id],or,mr,Mr,Qr;if(ir?(or=Rt,Mr=ze||ot.isSubplotConstrained?Pe[0]:We(Xe,or)):ot.xaHash[Xe._id]?(or=Rt,Mr=Pe[0]*Xe._length/V._length):ot.yaHash[Xe._id]?(or=Kt,Mr=It==="ns"?-Pe[1]*Xe._length/j._length:We(Xe,or,{n:"top",s:"bottom"}[It])):(or=de(Xe,Rt,Kt),Mr=Ge(Xe,or)),or>1&&(Xe.maxallowed!==void 0&&Nt===(Xe.range[0]<Xe.range[1]?"e":"w")||Xe.minallowed!==void 0&&Nt===(Xe.range[0]<Xe.range[1]?"w":"e"))&&(or=1,Mr=0),Fr?(mr=Kt,Qr=Ne||ot.isSubplotConstrained?Pe[1]:We(rt,mr)):ot.yaHash[rt._id]?(mr=Kt,Qr=Pe[1]*rt._length/j._length):ot.xaHash[rt._id]?(mr=Rt,Qr=Ct==="ew"?-Pe[0]*rt._length/V._length:We(rt,mr,{e:"right",w:"left"}[Ct])):(mr=de(rt,Rt,Kt),Qr=Ge(rt,mr)),mr>1&&(rt.maxallowed!==void 0&&_e===(rt.range[0]<rt.range[1]?"n":"s")||rt.minallowed!==void 0&&_e===(rt.range[0]<rt.range[1]?"s":"n"))&&(mr=1,Qr=0),!(!or&&!mr)){or||(or=1),mr||(mr=1);var hn=Xe._offset-Mr/or,Fn=rt._offset-Qr/mr;Je.clipRect.call(p.setTranslate,Mr,Qr).call(p.setScale,or,mr),Je.plot.call(p.setTranslate,hn,Fn).call(p.setScale,1/or,1/mr),(or!==Je.xScaleFactor||mr!==Je.yScaleFactor)&&(p.setPointGroupScale(Je.zoomScalePts,or,mr),p.setTextPointsScale(Je.zoomScaleTxt,or,mr)),p.hideOutsideRangePoints(Je.clipOnAxisFalseTraces,Je),Je.xScaleFactor=or,Je.yScaleFactor=mr}}}}function de(Pe,Ie,Ve){return Pe.fixedrange?0:Nt&&St.xaHash[Pe._id]?Ie:_e&&(St.isSubplotConstrained?St.xaHash:St.yaHash)[Pe._id]?Ve:0}function Ge(Pe,Ie){return Ie?(Pe.range=Pe._r.slice(),C(Pe,Ie),We(Pe,Ie)):0}function We(Pe,Ie,Ve){return Pe._length*(1-Ie)*c[Ve||Pe.constraintoward||"middle"]}return tt}function G(le,pe,fe,ye){var Me=t.ensureSingle(le.draglayer,pe,fe,function(He){He.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",le.id)});return Me.call(g,ye),Me.node()}function P(le,pe,fe,ye,Me,He,Ne){var ze=G(le,"rect",pe,fe);return i.select(ze).call(p.setRect,ye,Me,He,Ne),ze}function A(le,pe){for(var fe=0;fe<le.length;fe++)if(!le[fe].fixedrange)return pe;return""}function O(le,pe){var fe=le.range[pe],ye=Math.abs(fe-le.range[1-pe]),Me;return le.type==="date"?fe:le.type==="log"?(Me=Math.ceil(Math.max(0,-Math.log(ye)/Math.LN10))+3,e("."+Me+"g")(Math.pow(10,fe))):(Me=Math.floor(Math.log(Math.abs(fe))/Math.LN10)-Math.floor(Math.log(ye)/Math.LN10)+4,e("."+String(Me)+"g")(fe))}function L(le,pe,fe,ye,Me){for(var He=0;He<le.length;He++){var Ne=le[He];if(!Ne.fixedrange)if(Ne.rangebreaks){var ze=Ne._id.charAt(0)==="y",Re=ze?1-pe:pe,Ae=ze?1-fe:fe;ye[Ne._name+".range[0]"]=Ne.l2r(Ne.p2l(Re*Ne._length)),ye[Ne._name+".range[1]"]=Ne.l2r(Ne.p2l(Ae*Ne._length))}else{var T=Ne._rl[0],V=Ne._rl[1]-T;ye[Ne._name+".range[0]"]=Ne.l2r(T+V*pe),ye[Ne._name+".range[1]"]=Ne.l2r(T+V*fe)}}if(Me&&Me.length){var j=(pe+(1-fe))/2;L(Me,j,1-j,ye,[])}}function S(le,pe){for(var fe=0;fe<le.length;fe++){var ye=le[fe];if(!ye.fixedrange){if(ye.rangebreaks){var Me=0,He=ye._length,Ne=ye.p2l(Me+pe)-ye.p2l(Me),ze=ye.p2l(He+pe)-ye.p2l(He),Re=(Ne+ze)/2;ye.range=[ye.l2r(ye._rl[0]-Re),ye.l2r(ye._rl[1]-Re)]}else ye.range=[ye.l2r(ye._rl[0]-pe/ye._m),ye.l2r(ye._rl[1]-pe/ye._m)];ye.limitRange&&ye.limitRange()}}}function F(le){return 1-(le>=0?Math.min(le,.9):1/(1/Math.max(le,-.3)+3.222))}function W(le,pe,fe){return le?le==="nsew"?fe?"":pe==="pan"?"move":"crosshair":le.toLowerCase()+"-resize":"pointer"}function ue(le,pe,fe,ye,Me){return le.append("path").attr("class","zoombox").style({fill:pe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",o(fe,ye)).attr("d",Me+"Z")}function ae(le,pe,fe){return le.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",o(pe,fe)).attr("d","M0,0Z")}function se(le,pe,fe,ye,Me,He){le.attr("d",ye+"M"+fe.l+","+fe.t+"v"+fe.h+"h"+fe.w+"v-"+fe.h+"h-"+fe.w+"Z"),q(le,pe,Me,He)}function q(le,pe,fe,ye){fe||(le.transition().style("fill",ye>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),pe.transition().style("opacity",1).duration(200))}function ee(le){i.select(le).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function B(le){U&&le.data&&le._context.showTips&&(t.notifier(t._(le,"Double-click to zoom back out"),"long"),U=!1)}function re(le,pe){return"M"+(le.l-.5)+","+(pe-R-.5)+"h-3v"+(2*R+1)+"h3ZM"+(le.r+.5)+","+(pe-R-.5)+"h3v"+(2*R+1)+"h-3Z"}function J(le,pe){return"M"+(pe-R-.5)+","+(le.t-.5)+"v-3h"+(2*R+1)+"v3ZM"+(pe-R-.5)+","+(le.b+.5)+"v3h"+(2*R+1)+"v-3Z"}function X(le){var pe=Math.floor(Math.min(le.b-le.t,le.r-le.l,R)/2);return"M"+(le.l-3.5)+","+(le.t-.5+pe)+"h3v"+-pe+"h"+pe+"v-3h-"+(pe+3)+"ZM"+(le.r+3.5)+","+(le.t-.5+pe)+"h-3v"+-pe+"h"+-pe+"v-3h"+(pe+3)+"ZM"+(le.r+3.5)+","+(le.b+.5-pe)+"h-3v"+pe+"h"+-pe+"v3h"+(pe+3)+"ZM"+(le.l-3.5)+","+(le.b+.5-pe)+"h3v"+pe+"h"+pe+"v3h-"+(pe+3)+"Z"}function N(le,pe,fe,ye,Me){for(var He=!1,Ne={},ze={},Re,Ae,T,V,j=(Me||{}).xaHash,he=(Me||{}).yaHash,be=0;be<pe.length;be++){var ke=pe[be];for(Re in fe)if(ke[Re]){for(T in ke)!(Me&&(j[T]||he[T]))&&!(T.charAt(0)==="x"?fe:ye)[T]&&(Ne[T]=Re);for(Ae in ye)!(Me&&(j[Ae]||he[Ae]))&&ke[Ae]&&(He=!0)}for(Ae in ye)if(ke[Ae])for(V in ke)!(Me&&(j[V]||he[V]))&&!(V.charAt(0)==="x"?fe:ye)[V]&&(ze[V]=Ae)}He&&(t.extendFlat(Ne,ze),ze={});var Ce={},qe=[];for(T in Ne){var at=w(le,T);qe.push(at),Ce[at._id]=at}var ct={},vt=[];for(V in ze){var St=w(le,V);vt.push(St),ct[St._id]=St}return{xaHash:Ce,yaHash:ct,xaxes:qe,yaxes:vt,xLinks:Ne,yLinks:ze,isSubplotConstrained:He}}function $(le,pe){if(!l)le.onwheel!==void 0?le.onwheel=pe:le.onmousewheel!==void 0?le.onmousewheel=pe:le.isAddedWheelEvent||(le.isAddedWheelEvent=!0,le.addEventListener("wheel",pe,{passive:!1}));else{var fe=le.onwheel!==void 0?"wheel":"mousewheel";le._onwheel&&le.removeEventListener(fe,le._onwheel),le._onwheel=pe,le.addEventListener(fe,pe,{passive:!1})}}function te(le){var pe=[];for(var fe in le)pe.push(le[fe]);return pe}k.exports={makeDragBox:Z,makeDragger:G,makeRectDragger:P,makeZoombox:ue,makeCorners:ae,updateZoombox:se,xyCorners:X,transitionZoombox:q,removeZoombox:ee,showDoubleClickNotifier:B,attachWheelEventHandler:$}}),ud=xe(E=>{var k=Jn(),i=Oo(),t=Fi(),e=So(),n=c0().makeDragBox,l=Za().DRAGGERSIZE;E.initInteractions=function(a){var o=a._fullLayout;if(a._context.staticPlot){k.select(a).selectAll(".drag").remove();return}if(!(!o._has("cartesian")&&!o._has("splom"))){var s=Object.keys(o._plots||{}).sort(function(p,u){if((o._plots[p].mainplot&&!0)===(o._plots[u].mainplot&&!0)){var d=p.split("y"),g=u.split("y");return d[0]===g[0]?Number(d[1]||1)-Number(g[1]||1):Number(d[0]||1)-Number(g[0]||1)}return o._plots[p].mainplot?1:-1});s.forEach(function(p){var u=o._plots[p],d=u.xaxis,g=u.yaxis;if(!u.mainplot){var v=n(a,u,d._offset,g._offset,d._length,g._length,"ns","ew");v.onmousemove=function(m){a._fullLayout._rehover=function(){a._fullLayout._hoversubplot===p&&a._fullLayout._plots[p]&&i.hover(a,m,p)},i.hover(a,m,p),a._fullLayout._lasthover=v,a._fullLayout._hoversubplot=p},v.onmouseout=function(m){a._dragging||(a._fullLayout._hoversubplot=null,t.unhover(a,m))},a._context.showAxisDragHandles&&(n(a,u,d._offset-l,g._offset-l,l,l,"n","w"),n(a,u,d._offset+d._length,g._offset-l,l,l,"n","e"),n(a,u,d._offset-l,g._offset+g._length,l,l,"s","w"),n(a,u,d._offset+d._length,g._offset+g._length,l,l,"s","e"))}if(a._context.showAxisDragHandles){if(p===d._mainSubplot){var x=d._mainLinePosition;d.side==="top"&&(x-=l),n(a,u,d._offset+d._length*.1,x,d._length*.8,l,"","ew"),n(a,u,d._offset,x,d._length*.1,l,"","w"),n(a,u,d._offset+d._length*.9,x,d._length*.1,l,"","e")}if(p===g._mainSubplot){var y=g._mainLinePosition;g.side!=="right"&&(y-=l),n(a,u,y,g._offset+g._length*.1,l,g._length*.8,"ns",""),n(a,u,y,g._offset+g._length*.9,l,g._length*.1,"s",""),n(a,u,y,g._offset,l,g._length*.1,"n","")}}});var r=o._hoverlayer.node();r.onmousemove=function(p){p.target=a._fullLayout._lasthover,i.hover(a,p,o._hoversubplot)},r.onclick=function(p){p.target=a._fullLayout._lasthover,i.click(a,p)},r.onmousedown=function(p){a._fullLayout._lasthover.onmousedown(p)},E.updateFx(a)}},E.updateFx=function(a){var o=a._fullLayout,s=o.dragmode==="pan"?"move":"crosshair";e(o._draggers,s)}}),f0=xe((E,k)=>{var i=mn();k.exports=function(t){for(var e=i.layoutArrayContainers,n=i.layoutArrayRegexes,l=t.split("[")[0],a,o,s=0;s<n.length;s++)if(o=t.match(n[s]),o&&o.index===0){a=o[0];break}if(a||(a=e[e.indexOf(l)]),!a)return!1;var r=t.substr(a.length);return r?(o=r.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),o?{array:a,index:Number(o[1]),property:o[3]||""}:!1):{array:a,index:"",property:""}}}),d0=xe(E=>{var k=To(),i=Ju(),t=Go(),e=Tf().sorterAsc,n=mn();E.containerArrayMatch=f0();var l=E.isAddVal=function(o){return o==="add"||k(o)},a=E.isRemoveVal=function(o){return o===null||o==="remove"};E.applyContainerArrayChanges=function(o,s,r,p,u){var d=s.astr,g=n.getComponentMethod(d,"supplyLayoutDefaults"),v=n.getComponentMethod(d,"draw"),x=n.getComponentMethod(d,"drawOne"),y=p.replot||p.recalc||g===i||v===i,m=o.layout,c=o._fullLayout;if(r[""]){Object.keys(r).length>1&&t.warn("Full array edits are incompatible with other edits",d);var h=r[""][""];if(a(h))s.set(null);else if(Array.isArray(h))s.set(h);else return t.warn("Unrecognized full array edit value",d,h),!0;return y?!1:(g(m,c),v(o),!0)}var b=Object.keys(r).map(Number).sort(e),_=s.get(),w=_||[],K=u(c,d).get(),D=[],I=-1,C=w.length,H,z,R,U,Z,G,P,A;for(H=0;H<b.length;H++){if(R=b[H],U=r[R],Z=Object.keys(U),G=U[""],P=l(G),R<0||R>w.length-(P?0:1)){t.warn("index out of range",d,R);continue}if(G!==void 0)Z.length>1&&t.warn("Insertion & removal are incompatible with edits to the same index.",d,R),a(G)?D.push(R):P?(G==="add"&&(G={}),w.splice(R,0,G),K&&K.splice(R,0,{})):t.warn("Unrecognized full object edit value",d,R,G),I===-1&&(I=R);else for(z=0;z<Z.length;z++)A=d+"["+R+"].",u(w[R],Z[z],A).set(U[Z[z]])}for(H=D.length-1;H>=0;H--)w.splice(D[H],1),K&&K.splice(D[H],1);if(w.length?_||s.set(w):s.set(null),y)return!1;if(g(m,c),x!==i){var O;if(I===-1)O=b;else{for(C=Math.max(w.length,C),O=[],H=0;H<b.length&&(R=b[H],!(R>=I));H++)O.push(R);for(H=I;H<C;H++)O.push(H)}for(H=0;H<O.length;H++)x(o,O[H])}else v(o);return!0}}),h0=xe(E=>{var k=Bn();bf();var i=mn(),t=sr(),e=Ba(),n=Da(),l=Nn(),a=n.cleanId,o=n.getFromTrace,s=i.traceIs;E.clearPromiseQueue=function(m){Array.isArray(m._promises)&&m._promises.length>0&&t.log("Clearing previous rejected promises from queue."),m._promises=[]},E.cleanLayout=function(m){var c;m||(m={}),m.xaxis1&&(m.xaxis||(m.xaxis=m.xaxis1),delete m.xaxis1),m.yaxis1&&(m.yaxis||(m.yaxis=m.yaxis1),delete m.yaxis1),m.scene1&&(m.scene||(m.scene=m.scene1),delete m.scene1);var h=(e.subplotsRegistry.cartesian||{}).attrRegex;(e.subplotsRegistry.polar||{}).attrRegex,(e.subplotsRegistry.ternary||{}).attrRegex,(e.subplotsRegistry.gl3d||{}).attrRegex;var b=Object.keys(m);for(c=0;c<b.length;c++){var _=b[c];if(h&&h.test(_)){var w=m[_];w.anchor&&w.anchor!=="free"&&(w.anchor=a(w.anchor)),w.overlaying&&(w.overlaying=a(w.overlaying)),w.type||(w.isdate?w.type="date":w.islog?w.type="log":w.isdate===!1&&w.islog===!1&&(w.type="linear")),(w.autorange==="withzero"||w.autorange==="tozero")&&(w.autorange=!0,w.rangemode="tozero"),w.insiderange&&delete w.range,delete w.islog,delete w.isdate,delete w.categories,g(w,"domain")&&delete w.domain}}var K=Array.isArray(m.annotations)?m.annotations.length:0;for(c=0;c<K;c++){var D=m.annotations[c];t.isPlainObject(D)&&(r(D,"xref"),r(D,"yref"))}var I=Array.isArray(m.shapes)?m.shapes.length:0;for(c=0;c<I;c++){var C=m.shapes[c];t.isPlainObject(C)&&(r(C,"xref"),r(C,"yref"))}var H=Array.isArray(m.images)?m.images.length:0;for(c=0;c<H;c++){var z=m.images[c];t.isPlainObject(z)&&(r(z,"xref"),r(z,"yref"))}var R=m.legend;return R&&(R.x>3?(R.x=1.02,R.xanchor="left"):R.x<-2&&(R.x=-.02,R.xanchor="right"),R.y>3?(R.y=1.02,R.yanchor="bottom"):R.y<-2&&(R.y=-.02,R.yanchor="top")),m.dragmode==="rotate"&&(m.dragmode="orbit"),l.clean(m),m.template&&m.template.layout&&E.cleanLayout(m.template.layout),m};function r(m,c){var h=m[c],b=c.charAt(0);h&&h!=="paper"&&(m[c]=a(h,b,!0))}E.cleanData=function(m){for(var c=0;c<m.length;c++){var h=m[c],b;if(h.type==="histogramy"&&"xbins"in h&&!("ybins"in h)&&(h.ybins=h.xbins,delete h.xbins),h.type==="histogramy"&&E.swapXYData(h),(h.type==="histogramx"||h.type==="histogramy")&&(h.type="histogram"),"scl"in h&&!("colorscale"in h)&&(h.colorscale=h.scl,delete h.scl),"reversescl"in h&&!("reversescale"in h)&&(h.reversescale=h.reversescl,delete h.reversescl),h.xaxis&&(h.xaxis=a(h.xaxis,"x")),h.yaxis&&(h.yaxis=a(h.yaxis,"y")),s(h,"gl3d")&&h.scene&&(h.scene=e.subplotsRegistry.gl3d.cleanId(h.scene)),!s(h,"pie-like")&&!s(h,"bar-like"))if(Array.isArray(h.textposition))for(b=0;b<h.textposition.length;b++)h.textposition[b]=d(h.textposition[b]);else h.textposition&&(h.textposition=d(h.textposition));var _=i.getModule(h);if(_&&_.colorbar){var w=_.colorbar.container,K=w?h[w]:h;K&&K.colorscale&&(K.colorscale==="YIGnBu"&&(K.colorscale="YlGnBu"),K.colorscale==="YIOrRd"&&(K.colorscale="YlOrRd"))}if(h.type==="surface"&&t.isPlainObject(h.contours)){var D=["x","y","z"];for(b=0;b<D.length;b++){var I=h.contours[D[b]];t.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(h.type==="candlestick"||h.type==="ohlc"){var C=(h.increasing||{}).showlegend!==!1,H=(h.decreasing||{}).showlegend!==!1,z=p(h.increasing),R=p(h.decreasing);if(z!==!1&&R!==!1){var U=u(z,R,C,H);U&&(h.name=U)}else(z||R)&&!h.name&&(h.name=z||R)}g(h,"line")&&delete h.line,"marker"in h&&(g(h.marker,"line")&&delete h.marker.line,g(h,"marker")&&delete h.marker),l.clean(h),h.autobinx&&(delete h.autobinx,delete h.xbins),h.autobiny&&(delete h.autobiny,delete h.ybins)}};function p(m){if(!t.isPlainObject(m))return!1;var c=m.name;return delete m.name,delete m.showlegend,(typeof c=="string"||typeof c=="number")&&String(c)}function u(m,c,h,b){if(h&&!b)return m;if(b&&!h||!m.trim())return c;if(!c.trim())return m;var _=Math.min(m.length,c.length),w;for(w=0;w<_&&m.charAt(w)===c.charAt(w);w++);var K=m.substr(0,w);return K.trim()}function d(m){var c="middle",h="center";return typeof m=="string"&&(m.indexOf("top")!==-1?c="top":m.indexOf("bottom")!==-1&&(c="bottom"),m.indexOf("left")!==-1?h="left":m.indexOf("right")!==-1&&(h="right")),c+" "+h}function g(m,c){return c in m&&typeof m[c]=="object"&&Object.keys(m[c]).length===0}E.swapXYData=function(m){var c;if(t.swapAttrs(m,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(m.z)&&Array.isArray(m.z[0])&&(m.transpose?delete m.transpose:m.transpose=!0),m.error_x&&m.error_y){var h=m.error_y,b="copy_ystyle"in h?h.copy_ystyle:!(h.color||h.thickness||h.width);t.swapAttrs(m,["error_?.copy_ystyle"]),b&&t.swapAttrs(m,["error_?.color","error_?.thickness","error_?.width"])}if(typeof m.hoverinfo=="string"){var _=m.hoverinfo.split("+");for(c=0;c<_.length;c++)_[c]==="x"?_[c]="y":_[c]==="y"&&(_[c]="x");m.hoverinfo=_.join("+")}},E.coerceTraceIndices=function(m,c){if(k(c))return[c];if(!Array.isArray(c)||!c.length)return m.data.map(function(_,w){return w});if(Array.isArray(c)){for(var h=[],b=0;b<c.length;b++)t.isIndex(c[b],m.data.length)?h.push(c[b]):t.warn("trace index (",c[b],") is not a number or is out of bounds");return h}return c},E.manageArrayContainers=function(m,c,h){var b=m.obj,_=m.parts,w=_.length,K=_[w-1],D=k(K);if(D&&c===null){var I=_.slice(0,w-1).join("."),C=t.nestedProperty(b,I).get();C.splice(K,1)}else D&&m.get()===void 0&&m.get()===void 0&&(h[m.astr]=null),m.set(c)};var v=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(m){var c=m.search(v);if(c>0)return m.substr(0,c)}E.hasParent=function(m,c){for(var h=x(c);h;){if(h in m)return!0;h=x(h)}return!1};var y=["x","y","z"];E.clearAxisTypes=function(m,c,h){for(var b=0;b<c.length;b++)for(var _=m._fullData[b],w=0;w<3;w++){var K=o(m,_,y[w]);if(K&&K.type!=="log"){var D=K._name,I=K._id.substr(1);if(I.substr(0,5)==="scene"){if(h[I]!==void 0)continue;D=I+"."+D}var C=D+".type";h[D]===void 0&&h[C]===void 0&&t.nestedProperty(m.layout,C).set(null)}}}}),cd=xe(E=>{var k=Jn(),i=Bn(),t=Mf(),e=sr(),n=e.nestedProperty,l=Es(),a=Op(),o=mn(),s=Sl(),r=Ba(),p=Ma(),u=Uf(),d=Ei(),g=na(),v=Nn(),x=ud().initInteractions,y=Jo(),m=Cl().clearOutline,c=Yo().dfltConfig,h=d0(),b=h0(),_=gc(),w=Di(),K=Za().AX_NAME_PATTERN,D=0,I=5;function C(ie,ve,we,Se){var Ue;if(ie=e.getGraphDiv(ie),l.init(ie),e.isPlainObject(ve)){var Le=ve;ve=Le.data,we=Le.layout,Se=Le.config,Ue=Le.frames}var tt=l.triggerHandler(ie,"plotly_beforeplot",[ve,we,Se]);if(tt===!1)return Promise.reject();!ve&&!we&&!e.isPlotDiv(ie)&&e.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ie);function nt(){if(Ue)return E.addFrames(ie,Ue)}Z(ie,Se),we||(we={}),k.select(ie).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(ie._promises)||(ie._promises=[]);var ut=(ie.data||[]).length===0&&Array.isArray(ve);Array.isArray(ve)&&(b.cleanData(ve),ut?ie.data=ve:ie.data.push.apply(ie.data,ve),ie.empty=!1),(!ie.layout||ut)&&(ie.layout=b.cleanLayout(we)),r.supplyDefaults(ie);var Ye=ie._fullLayout,st=Ye._has("cartesian");Ye._replotting=!0,(ut||Ye._shouldCreateBgLayer)&&(je(ie),Ye._shouldCreateBgLayer&&delete Ye._shouldCreateBgLayer),g.initGradients(ie),g.initPatterns(ie),ut&&p.saveShowSpikeInitial(ie);var xt=!ie.calcdata||ie.calcdata.length!==(ie._fullData||[]).length;xt&&r.doCalcdata(ie);for(var Tt=0;Tt<ie.calcdata.length;Tt++)ie.calcdata[Tt][0].trace=ie._fullData[Tt];ie._context.responsive?ie._responsiveChartHandler||(ie._responsiveChartHandler=function(){e.isHidden(ie)||r.resize(ie)},window.addEventListener("resize",ie._responsiveChartHandler)):e.clearResponsive(ie);var tr=e.extendFlat({},Ye._size),cr=0;function Er(){for(var rr=Ye._basePlotModules,zt=0;zt<rr.length;zt++)rr[zt].drawFramework&&rr[zt].drawFramework(ie);!Ye._glcanvas&&Ye._has("gl")&&(Ye._glcanvas=Ye._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(br){return br.key}),Ye._glcanvas.enter().append("canvas").attr("class",function(br){return"gl-canvas gl-canvas-"+br.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var xr=ie._context.plotGlPixelRatio;if(Ye._glcanvas){Ye._glcanvas.attr("width",Ye.width*xr).attr("height",Ye.height*xr).style("width",Ye.width+"px").style("height",Ye.height+"px");var Gr=Ye._glcanvas.data()[0].regl;if(Gr&&(Math.floor(Ye.width*xr)!==Gr._gl.drawingBufferWidth||Math.floor(Ye.height*xr)!==Gr._gl.drawingBufferHeight)){var fn="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(cr)e.error(fn);else return e.log(fn+" Clearing graph and plotting again."),r.cleanPlot([],{},ie._fullData,Ye),r.supplyDefaults(ie),Ye=ie._fullLayout,r.doCalcdata(ie),cr++,Er()}}return Ye.modebar.orientation==="h"?Ye._modebardiv.style("height",null).style("width","100%"):Ye._modebardiv.style("width",null).style("height",Ye.height+"px"),r.previousPromises(ie)}function nr(){if(r.clearAutoMarginIds(ie),_.drawMarginPushers(ie),p.allowAutoMargin(ie),ie._fullLayout.title.text&&ie._fullLayout.title.automargin&&r.allowAutoMargin(ie,"title.automargin"),Ye._has("pie"))for(var rr=ie._fullData,zt=0;zt<rr.length;zt++){var xr=rr[zt];xr.type==="pie"&&xr.automargin&&r.allowAutoMargin(ie,"pie."+xr.uid+".automargin")}return r.doAutoMargin(ie),r.previousPromises(ie)}function yr(){if(r.didMarginChange(tr,Ye._size))return e.syncOrAsync([nr,_.layoutStyles],ie)}function qt(){if(!xt){Zt();return}return e.syncOrAsync([o.getComponentMethod("shapes","calcAutorange"),o.getComponentMethod("annotations","calcAutorange"),Zt],ie)}function Zt(){ie._transitioning||(_.doAutoRangeAndConstraints(ie),ut&&p.saveRangeInitial(ie),o.getComponentMethod("rangeslider","calcAutorange")(ie))}function jr(){return p.draw(ie,ut?"":"redraw")}var Ar=[r.previousPromises,nt,Er,nr,yr];st&&Ar.push(qt),Ar.push(_.layoutStyles),st&&Ar.push(jr,function(rr){var zt=rr._fullLayout._insideTickLabelsUpdaterange;if(zt)return rr._fullLayout._insideTickLabelsUpdaterange=void 0,pe(rr,zt).then(function(){p.saveRangeInitial(rr,!0)})}),Ar.push(_.drawData,_.finalDraw,x,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,r.previousPromises);var kr=e.syncOrAsync(Ar,ie);return(!kr||!kr.then)&&(kr=Promise.resolve()),kr.then(function(){return H(ie),ie})}function H(ie){var ve=ie._fullLayout;ve._redrawFromAutoMarginCount?ve._redrawFromAutoMarginCount--:ie.emit("plotly_afterplot")}function z(ie){return e.extendFlat(c,ie)}function R(ie,ve){try{ie._fullLayout._paper.style("background",ve)}catch(we){e.error(we)}}function U(ie,ve){var we=v.combine(ve,"white");R(ie,we)}function Z(ie,ve){if(!ie._context){ie._context=e.extendDeep({},c);var we=k.select("base");ie._context._baseUrl=we.size()&&we.attr("href")?window.location.href.split("#")[0]:""}var Se=ie._context,Ue,Le,tt;if(ve){for(Le=Object.keys(ve),Ue=0;Ue<Le.length;Ue++)tt=Le[Ue],!(tt==="editable"||tt==="edits")&&tt in Se&&(tt==="setBackground"&&ve[tt]==="opaque"?Se[tt]=U:Se[tt]=ve[tt]);var nt=ve.editable;if(nt!==void 0)for(Se.editable=nt,Le=Object.keys(Se.edits),Ue=0;Ue<Le.length;Ue++)Se.edits[Le[Ue]]=nt;if(ve.edits)for(Le=Object.keys(ve.edits),Ue=0;Ue<Le.length;Ue++)tt=Le[Ue],tt in Se.edits&&(Se.edits[tt]=ve.edits[tt]);Se._exportedPlot=ve._exportedPlot}Se.staticPlot&&(Se.editable=!1,Se.edits={},Se.autosizable=!1,Se.scrollZoom=!1,Se.doubleClick=!1,Se.showTips=!1,Se.showLink=!1,Se.displayModeBar=!1),Se.displayModeBar==="hover"&&!t&&(Se.displayModeBar=!0),(Se.setBackground==="transparent"||typeof Se.setBackground!="function")&&(Se.setBackground=R),Se._hasZeroHeight=Se._hasZeroHeight||ie.clientHeight===0,Se._hasZeroWidth=Se._hasZeroWidth||ie.clientWidth===0;var ut=Se.scrollZoom,Ye=Se._scrollZoom={};if(ut===!0)Ye.cartesian=1,Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1,Ye.map=1;else if(typeof ut=="string"){var st=ut.split("+");for(Ue=0;Ue<st.length;Ue++)Ye[st[Ue]]=1}else ut!==!1&&(Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1,Ye.map=1)}function G(ie){if(ie=e.getGraphDiv(ie),!e.isPlotDiv(ie))throw new Error("This element is not a Plotly plot: "+ie);return b.cleanData(ie.data),b.cleanLayout(ie.layout),ie.calcdata=void 0,E._doPlot(ie).then(function(){return ie.emit("plotly_redraw"),ie})}function P(ie,ve,we,Se){return ie=e.getGraphDiv(ie),r.cleanPlot([],{},ie._fullData||[],ie._fullLayout||{}),r.purge(ie),E._doPlot(ie,ve,we,Se)}function A(ie,ve){var we=ve+1,Se=[],Ue,Le;for(Ue=0;Ue<ie.length;Ue++)Le=ie[Ue],Le<0?Se.push(we+Le):Se.push(Le);return Se}function O(ie,ve,we){var Se,Ue;for(Se=0;Se<ve.length;Se++){if(Ue=ve[Se],Ue!==parseInt(Ue,10))throw new Error("all values in "+we+" must be integers");if(Ue>=ie.data.length||Ue<-ie.data.length)throw new Error(we+" must be valid indices for gd.data.");if(ve.indexOf(Ue,Se+1)>-1||Ue>=0&&ve.indexOf(-ie.data.length+Ue)>-1||Ue<0&&ve.indexOf(ie.data.length+Ue)>-1)throw new Error("each index in "+we+" must be unique.")}}function L(ie,ve,we){if(!Array.isArray(ie.data))throw new Error("gd.data must be an array.");if(typeof ve>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ve)||(ve=[ve]),O(ie,ve,"currentIndices"),typeof we<"u"&&!Array.isArray(we)&&(we=[we]),typeof we<"u"&&O(ie,we,"newIndices"),typeof we<"u"&&ve.length!==we.length)throw new Error("current and new indices must be of equal length.")}function S(ie,ve,we){var Se,Ue;if(!Array.isArray(ie.data))throw new Error("gd.data must be an array.");if(typeof ve>"u")throw new Error("traces must be defined.");for(Array.isArray(ve)||(ve=[ve]),Se=0;Se<ve.length;Se++)if(Ue=ve[Se],typeof Ue!="object"||Array.isArray(Ue)||Ue===null)throw new Error("all values in traces array must be non-array objects");if(typeof we<"u"&&!Array.isArray(we)&&(we=[we]),typeof we<"u"&&we.length!==ve.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function F(ie,ve,we,Se){var Ue=e.isPlainObject(Se);if(!Array.isArray(ie.data))throw new Error("gd.data must be an array");if(!e.isPlainObject(ve))throw new Error("update must be a key:value object");if(typeof we>"u")throw new Error("indices must be an integer or array of integers");O(ie,we,"indices");for(var Le in ve){if(!Array.isArray(ve[Le])||ve[Le].length!==we.length)throw new Error("attribute "+Le+" must be an array of length equal to indices array length");if(Ue&&(!(Le in Se)||!Array.isArray(Se[Le])||Se[Le].length!==ve[Le].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function W(ie,ve,we,Se){var Ue=e.isPlainObject(Se),Le=[],tt,nt,ut,Ye,st;Array.isArray(we)||(we=[we]),we=A(we,ie.data.length-1);for(var xt in ve)for(var Tt=0;Tt<we.length;Tt++){if(tt=ie.data[we[Tt]],ut=n(tt,xt),nt=ut.get(),Ye=ve[xt][Tt],!e.isArrayOrTypedArray(Ye))throw new Error("attribute: "+xt+" index: "+Tt+" must be an array");if(!e.isArrayOrTypedArray(nt))throw new Error("cannot extend missing or non-array attribute: "+xt);if(nt.constructor!==Ye.constructor)throw new Error("cannot extend array with an array of a different type: "+xt);st=Ue?Se[xt][Tt]:Se,i(st)||(st=-1),Le.push({prop:ut,target:nt,insert:Ye,maxp:Math.floor(st)})}return Le}function ue(ie,ve,we,Se,Ue){F(ie,ve,we,Se);for(var Le=W(ie,ve,we,Se),tt={},nt={},ut=0;ut<Le.length;ut++){var Ye=Le[ut].prop,st=Le[ut].maxp,xt=Ue(Le[ut].target,Le[ut].insert,st);Ye.set(xt[0]),Array.isArray(tt[Ye.astr])||(tt[Ye.astr]=[]),tt[Ye.astr].push(xt[1]),Array.isArray(nt[Ye.astr])||(nt[Ye.astr]=[]),nt[Ye.astr].push(Le[ut].target.length)}return{update:tt,maxPoints:nt}}function ae(ie,ve){var we=new ie.constructor(ie.length+ve.length);return we.set(ie),we.set(ve,ie.length),we}function se(ie,ve,we,Se){ie=e.getGraphDiv(ie);function Ue(ut,Ye,st){var xt,Tt;if(e.isTypedArray(ut))if(st<0){var tr=new ut.constructor(0),cr=ae(ut,Ye);st<0?(xt=cr,Tt=tr):(xt=tr,Tt=cr)}else if(xt=new ut.constructor(st),Tt=new ut.constructor(ut.length+Ye.length-st),st===Ye.length)xt.set(Ye),Tt.set(ut);else if(st<Ye.length){var Er=Ye.length-st;xt.set(Ye.subarray(Er)),Tt.set(ut),Tt.set(Ye.subarray(0,Er),ut.length)}else{var nr=st-Ye.length,yr=ut.length-nr;xt.set(ut.subarray(yr)),xt.set(Ye,nr),Tt.set(ut.subarray(0,yr))}else xt=ut.concat(Ye),Tt=st>=0&&st<xt.length?xt.splice(0,xt.length-st):[];return[xt,Tt]}var Le=ue(ie,ve,we,Se,Ue),tt=E.redraw(ie),nt=[ie,Le.update,we,Le.maxPoints];return a.add(ie,E.prependTraces,nt,se,arguments),tt}function q(ie,ve,we,Se){ie=e.getGraphDiv(ie);function Ue(ut,Ye,st){var xt,Tt;if(e.isTypedArray(ut))if(st<=0){var tr=new ut.constructor(0),cr=ae(Ye,ut);st<0?(xt=cr,Tt=tr):(xt=tr,Tt=cr)}else if(xt=new ut.constructor(st),Tt=new ut.constructor(ut.length+Ye.length-st),st===Ye.length)xt.set(Ye),Tt.set(ut);else if(st<Ye.length){var Er=Ye.length-st;xt.set(Ye.subarray(0,Er)),Tt.set(Ye.subarray(Er)),Tt.set(ut,Er)}else{var nr=st-Ye.length;xt.set(Ye),xt.set(ut.subarray(0,nr),Ye.length),Tt.set(ut.subarray(nr))}else xt=Ye.concat(ut),Tt=st>=0&&st<xt.length?xt.splice(st,xt.length):[];return[xt,Tt]}var Le=ue(ie,ve,we,Se,Ue),tt=E.redraw(ie),nt=[ie,Le.update,we,Le.maxPoints];return a.add(ie,E.extendTraces,nt,q,arguments),tt}function ee(ie,ve,we){ie=e.getGraphDiv(ie);var Se=[],Ue=E.deleteTraces,Le=ee,tt=[ie,Se],nt=[ie,ve],ut,Ye;for(S(ie,ve,we),Array.isArray(ve)||(ve=[ve]),ve=ve.map(function(st){return e.extendFlat({},st)}),b.cleanData(ve),ut=0;ut<ve.length;ut++)ie.data.push(ve[ut]);for(ut=0;ut<ve.length;ut++)Se.push(-ve.length+ut);if(typeof we>"u")return Ye=E.redraw(ie),a.add(ie,Ue,tt,Le,nt),Ye;Array.isArray(we)||(we=[we]);try{L(ie,Se,we)}catch(st){throw ie.data.splice(ie.data.length-ve.length,ve.length),st}return a.startSequence(ie),a.add(ie,Ue,tt,Le,nt),Ye=E.moveTraces(ie,Se,we),a.stopSequence(ie),Ye}function B(ie,ve){ie=e.getGraphDiv(ie);var we=[],Se=E.addTraces,Ue=B,Le=[ie,we,ve],tt=[ie,ve],nt,ut;if(typeof ve>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ve)||(ve=[ve]),O(ie,ve,"indices"),ve=A(ve,ie.data.length-1),ve.sort(e.sorterDes),nt=0;nt<ve.length;nt+=1)ut=ie.data.splice(ve[nt],1)[0],we.push(ut);var Ye=E.redraw(ie);return a.add(ie,Se,Le,Ue,tt),Ye}function re(ie,ve,we){ie=e.getGraphDiv(ie);var Se=[],Ue=[],Le=re,tt=re,nt=[ie,we,ve],ut=[ie,ve,we],Ye;if(L(ie,ve,we),ve=Array.isArray(ve)?ve:[ve],typeof we>"u")for(we=[],Ye=0;Ye<ve.length;Ye++)we.push(-ve.length+Ye);for(we=Array.isArray(we)?we:[we],ve=A(ve,ie.data.length-1),we=A(we,ie.data.length-1),Ye=0;Ye<ie.data.length;Ye++)ve.indexOf(Ye)===-1&&Se.push(ie.data[Ye]);for(Ye=0;Ye<ve.length;Ye++)Ue.push({newIndex:we[Ye],trace:ie.data[ve[Ye]]});for(Ue.sort(function(xt,Tt){return xt.newIndex-Tt.newIndex}),Ye=0;Ye<Ue.length;Ye+=1)Se.splice(Ue[Ye].newIndex,0,Ue[Ye].trace);ie.data=Se;var st=E.redraw(ie);return a.add(ie,Le,nt,tt,ut),st}function J(ie,ve,we,Se){ie=e.getGraphDiv(ie),b.clearPromiseQueue(ie);var Ue={};if(typeof ve=="string")Ue[ve]=we;else if(e.isPlainObject(ve))Ue=e.extendFlat({},ve),Se===void 0&&(Se=we);else return e.warn("Restyle fail.",ve,we,Se),Promise.reject();Object.keys(Ue).length&&(ie.changed=!0);var Le=b.coerceTraceIndices(ie,Se),tt=le(ie,Ue,Le),nt=tt.flags;nt.calc&&(ie.calcdata=void 0),nt.clearAxisTypes&&b.clearAxisTypes(ie,Le,{});var ut=[];nt.fullReplot?ut.push(E._doPlot):(ut.push(r.previousPromises),r.supplyDefaults(ie),nt.markerSize&&(r.doCalcdata(ie),ye(ut)),nt.style&&ut.push(_.doTraceStyle),nt.colorbars&&ut.push(_.doColorBars),ut.push(H)),ut.push(r.rehover,r.redrag,r.reselect),a.add(ie,J,[ie,tt.undoit,tt.traces],J,[ie,tt.redoit,tt.traces]);var Ye=e.syncOrAsync(ut,ie);return(!Ye||!Ye.then)&&(Ye=Promise.resolve()),Ye.then(function(){return ie.emit("plotly_restyle",tt.eventData),ie})}function X(ie){return ie===void 0?null:ie}function N(ie,ve){return ve?function(we,Se,Ue){var Le=n(we,Se),tt=Le.set;return Le.set=function(nt){var ut=(Ue||"")+Se;$(ut,Le.get(),nt,ie),tt(nt)},Le}:n}function $(ie,ve,we,Se){if(Array.isArray(ve)||Array.isArray(we))for(var Ue=Array.isArray(ve)?ve:[],Le=Array.isArray(we)?we:[],tt=Math.max(Ue.length,Le.length),nt=0;nt<tt;nt++)$(ie+"["+nt+"]",Ue[nt],Le[nt],Se);else if(e.isPlainObject(ve)||e.isPlainObject(we)){var ut=e.isPlainObject(ve)?ve:{},Ye=e.isPlainObject(we)?we:{},st=e.extendFlat({},ut,Ye);for(var xt in st)$(ie+"."+xt,ut[xt],Ye[xt],Se)}else Se[ie]===void 0&&(Se[ie]=X(ve))}function te(ie,ve,we){for(var Se in we){var Ue=n(ie,Se);$(Se,Ue.get(),we[Se],ve)}}function le(ie,ve,we){var Se=ie._fullLayout,Ue=ie._fullData,Le=ie.data,tt=Se._guiEditing,nt=N(Se._preGUI,tt),ut=e.extendDeepAll({},ve),Ye,st=w.traceFlags(),xt={},Tt={},tr;function cr(){return we.map(function(){})}function Er(Rt){var Kt=p.id2name(Rt);tr.indexOf(Kt)===-1&&tr.push(Kt)}function nr(Rt){return"LAYOUT"+Rt+".autorange"}function yr(Rt){return"LAYOUT"+Rt+".range"}function qt(Rt){for(var Kt=Rt;Kt<Ue.length;Kt++)if(Ue[Kt]._input===Le[Rt])return Ue[Kt]}function Zt(Rt,Kt,ir){if(Array.isArray(Rt)){Rt.forEach(function(Mr){Zt(Mr,Kt,ir)});return}if(!(Rt in ve||b.hasParent(ve,Rt))){var Fr;if(Rt.substr(0,6)==="LAYOUT")Fr=nt(ie.layout,Rt.replace("LAYOUT",""));else{var or=we[ir],mr=Se._tracePreGUI[qt(or)._fullInput.uid];Fr=N(mr,tt)(Le[or],Rt)}Rt in Tt||(Tt[Rt]=cr()),Tt[Rt][ir]===void 0&&(Tt[Rt][ir]=X(Fr.get())),Kt!==void 0&&Fr.set(Kt)}}function jr(Rt){return function(Kt){return Ue[Kt][Rt]}}function Ar(Rt){return function(Kt,ir){return Kt===!1?Ue[we[ir]][Rt]:null}}for(var kr in ve){if(b.hasParent(ve,kr))throw new Error("cannot set "+kr+" and a parent attribute simultaneously");var rr=ve[kr],zt,xr,Gr,fn,br,Jr;if((kr==="autobinx"||kr==="autobiny")&&(kr=kr.charAt(kr.length-1)+"bins",Array.isArray(rr)?rr=rr.map(Ar(kr)):rr===!1?rr=we.map(jr(kr)):rr=null),xt[kr]=rr,kr.substr(0,6)==="LAYOUT"){Gr=nt(ie.layout,kr.replace("LAYOUT","")),Tt[kr]=[X(Gr.get())],Gr.set(Array.isArray(rr)?rr[0]:rr),st.calc=!0;continue}for(Tt[kr]=cr(),Ye=0;Ye<we.length;Ye++){zt=Le[we[Ye]],xr=qt(we[Ye]);var $r=Se._tracePreGUI[xr._fullInput.uid];if(Gr=N($r,tt)(zt,kr),fn=Gr.get(),br=Array.isArray(rr)?rr[Ye%rr.length]:rr,br!==void 0){var Sn=Gr.parts[Gr.parts.length-1],Bt=kr.substr(0,kr.length-Sn.length-1),gn=Bt?Bt+".":"",oe=Bt?n(xr,Bt).get():xr;if(Jr=s.getTraceValObject(xr,Gr.parts),Jr&&Jr.impliedEdits&&br!==null)for(var de in Jr.impliedEdits)Zt(e.relativeAttr(kr,de),Jr.impliedEdits[de],Ye);else if((Sn==="thicknessmode"||Sn==="lenmode")&&fn!==br&&(br==="fraction"||br==="pixels")&&oe){var Ge=Se._size,We=oe.orient,Pe=We==="top"||We==="bottom";if(Sn==="thicknessmode"){var Ie=Pe?Ge.h:Ge.w;Zt(gn+"thickness",oe.thickness*(br==="fraction"?1/Ie:Ie),Ye)}else{var Ve=Pe?Ge.w:Ge.h;Zt(gn+"len",oe.len*(br==="fraction"?1/Ve:Ve),Ye)}}else if(kr==="type"&&(br==="pie"!=(fn==="pie")||br==="funnelarea"!=(fn==="funnelarea"))){var Ze="x",Be="y";(br==="bar"||fn==="bar")&&zt.orientation==="h"&&(Ze="y",Be="x"),e.swapAttrs(zt,["?","?src"],"labels",Ze),e.swapAttrs(zt,["d?","?0"],"label",Ze),e.swapAttrs(zt,["?","?src"],"values",Be),fn==="pie"||fn==="funnelarea"?(n(zt,"marker.color").set(n(zt,"marker.colors").get()),Se._pielayer.selectAll("g.trace").remove()):o.traceIs(zt,"cartesian")&&n(zt,"marker.colors").set(n(zt,"marker.color").get())}Tt[kr][Ye]=X(fn);var Je=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Je.indexOf(kr)!==-1){if(kr==="orientation"){Gr.set(br);var Xe=zt.x&&!zt.y?"h":"v";if((Gr.get()||Xe)===xr.orientation)continue}else kr==="orientationaxes"&&(zt.orientation={v:"h",h:"v"}[xr.orientation]);b.swapXYData(zt),st.calc=st.clearAxisTypes=!0}else r.dataArrayContainers.indexOf(Gr.parts[0])!==-1?(b.manageArrayContainers(Gr,br,Tt),st.calc=!0):(Jr?Jr.arrayOk&&!o.traceIs(xr,"regl")&&(e.isArrayOrTypedArray(br)||e.isArrayOrTypedArray(fn))?st.calc=!0:w.update(st,Jr):st.calc=!0,Gr.set(br))}}if(["swapxyaxes","orientationaxes"].indexOf(kr)!==-1&&p.swap(ie,we),kr==="orientationaxes"){var rt=n(ie.layout,"hovermode"),kt=rt.get();kt==="x"?rt.set("y"):kt==="y"?rt.set("x"):kt==="x unified"?rt.set("y unified"):kt==="y unified"&&rt.set("x unified")}if(["orientation","type"].indexOf(kr)!==-1){for(tr=[],Ye=0;Ye<we.length;Ye++){var Dt=Le[we[Ye]];o.traceIs(Dt,"cartesian")&&(Er(Dt.xaxis||"x"),Er(Dt.yaxis||"y"))}Zt(tr.map(nr),!0,0),Zt(tr.map(yr),[0,1],0)}}return(st.calc||st.plot)&&(st.fullReplot=!0),{flags:st,undoit:Tt,redoit:xt,traces:we,eventData:e.extendDeepNoArrays([],[ut,we])}}function pe(ie,ve,we){ie=e.getGraphDiv(ie),b.clearPromiseQueue(ie);var Se={};if(typeof ve=="string")Se[ve]=we;else if(e.isPlainObject(ve))Se=e.extendFlat({},ve);else return e.warn("Relayout fail.",ve,we),Promise.reject();Object.keys(Se).length&&(ie.changed=!0);var Ue=ze(ie,Se),Le=Ue.flags;Le.calc&&(ie.calcdata=void 0);var tt=[r.previousPromises];Le.layoutReplot?tt.push(_.layoutReplot):Object.keys(Se).length&&(fe(ie,Le,Ue)||r.supplyDefaults(ie),Le.legend&&tt.push(_.doLegend),Le.layoutstyle&&tt.push(_.layoutStyles),Le.axrange&&ye(tt,Ue.rangesAltered),Le.ticks&&tt.push(_.doTicksRelayout),Le.modebar&&tt.push(_.doModeBar),Le.camera&&tt.push(_.doCamera),Le.colorbars&&tt.push(_.doColorBars),tt.push(H)),tt.push(r.rehover,r.redrag,r.reselect),a.add(ie,pe,[ie,Ue.undoit],pe,[ie,Ue.redoit]);var nt=e.syncOrAsync(tt,ie);return(!nt||!nt.then)&&(nt=Promise.resolve(ie)),nt.then(function(){return ie.emit("plotly_relayout",Ue.eventData),ie})}function fe(ie,ve,we){var Se=ie._fullLayout;if(!ve.axrange)return!1;for(var Ue in ve)if(Ue!=="axrange"&&ve[Ue])return!1;var Le,tt,nt=function(tr,cr){return e.coerce(Le,tt,d,tr,cr)},ut={};for(var Ye in we.rangesAltered){var st=p.id2name(Ye);if(Le=ie.layout[st],tt=Se[st],u(Le,tt,nt,ut),tt._matchGroup){for(var xt in tt._matchGroup)if(xt!==Ye){var Tt=Se[p.id2name(xt)];Tt.autorange=tt.autorange,Tt.range=tt.range.slice(),Tt._input.range=tt.range.slice()}}}return!0}function ye(ie,ve){var we=ve?function(Se){var Ue=[],Le=!0;for(var tt in ve){var nt=p.getFromId(Se,tt);if(Ue.push(tt),(nt.ticklabelposition||"").indexOf("inside")!==-1&&nt._anchorAxis&&Ue.push(nt._anchorAxis._id),nt._matchGroup)for(var ut in nt._matchGroup)ve[ut]||Ue.push(ut)}return p.draw(Se,Ue,{skipTitle:Le})}:function(Se){return p.draw(Se,"redraw")};ie.push(m,_.doAutoRangeAndConstraints,we,_.drawData,_.finalDraw)}var Me=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,He=/^[xyz]axis[0-9]*\.autorange$/,Ne=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ze(ie,ve){var we=ie.layout,Se=ie._fullLayout,Ue=Se._guiEditing,Le=N(Se._preGUI,Ue),tt=Object.keys(ve),nt=p.list(ie),ut=e.extendDeepAll({},ve),Ye={},st,xt,Tt;for(tt=Object.keys(ve),xt=0;xt<tt.length;xt++)if(tt[xt].indexOf("allaxes")===0){for(Tt=0;Tt<nt.length;Tt++){var tr=nt[Tt]._id.substr(1),cr=tr.indexOf("scene")!==-1?tr+".":"",Er=tt[xt].replace("allaxes",cr+nt[Tt]._name);ve[Er]||(ve[Er]=ve[tt[xt]])}delete ve[tt[xt]]}var nr=w.layoutFlags(),yr={},qt={};function Zt(mr,Mr){if(Array.isArray(mr)){mr.forEach(function(hn){Zt(hn,Mr)});return}if(!(mr in ve||b.hasParent(ve,mr))){var Qr=Le(we,mr);mr in qt||(qt[mr]=X(Qr.get())),Mr!==void 0&&Qr.set(Mr)}}var jr={},Ar;function kr(mr){var Mr=p.name2id(mr.split(".")[0]);return jr[Mr]=1,Mr}for(var rr in ve){if(b.hasParent(ve,rr))throw new Error("cannot set "+rr+" and a parent attribute simultaneously");for(var zt=Le(we,rr),xr=ve[rr],Gr=zt.parts.length,fn=Gr-1;fn>0&&typeof zt.parts[fn]!="string";)fn--;var br=zt.parts[fn],Jr=zt.parts[fn-1]+"."+br,$r=zt.parts.slice(0,fn).join("."),Sn=n(ie.layout,$r).get(),Bt=n(Se,$r).get(),gn=zt.get();if(xr!==void 0){yr[rr]=xr,qt[rr]=br==="reverse"?xr:X(gn);var oe=s.getLayoutValObject(Se,zt.parts);if(oe&&oe.impliedEdits&&xr!==null)for(var de in oe.impliedEdits)Zt(e.relativeAttr(rr,de),oe.impliedEdits[de]);if(["width","height"].indexOf(rr)!==-1)if(xr){Zt("autosize",null);var Ge=rr==="height"?"width":"height";Zt(Ge,Se[Ge])}else Se[rr]=ie._initialAutoSize[rr];else if(rr==="autosize")Zt("width",xr?null:Se.width),Zt("height",xr?null:Se.height);else if(Jr.match(Me))kr(Jr),n(Se,$r+"._inputRange").set(null);else if(Jr.match(He)){kr(Jr),n(Se,$r+"._inputRange").set(null);var We=n(Se,$r).get();We._inputDomain&&(We._input.domain=We._inputDomain.slice())}else Jr.match(Ne)&&n(Se,$r+"._inputDomain").set(null);if(br==="type"){Ar=Sn;var Pe=Bt.type==="linear"&&xr==="log",Ie=Bt.type==="log"&&xr==="linear";if(Pe||Ie){if(!Ar||!Ar.range)Zt($r+".autorange",!0);else if(Bt.autorange)Pe&&(Ar.range=Ar.range[1]>Ar.range[0]?[1,2]:[2,1]);else{var Ve=Ar.range[0],Ze=Ar.range[1];Pe?(Ve<=0&&Ze<=0&&Zt($r+".autorange",!0),Ve<=0?Ve=Ze/1e6:Ze<=0&&(Ze=Ve/1e6),Zt($r+".range[0]",Math.log(Ve)/Math.LN10),Zt($r+".range[1]",Math.log(Ze)/Math.LN10)):(Zt($r+".range[0]",Math.pow(10,Ve)),Zt($r+".range[1]",Math.pow(10,Ze)))}Array.isArray(Se._subplots.polar)&&Se._subplots.polar.length&&Se[zt.parts[0]]&&zt.parts[1]==="radialaxis"&&delete Se[zt.parts[0]]._subplot.viewInitial["radialaxis.range"],o.getComponentMethod("annotations","convertCoords")(ie,Bt,xr,Zt),o.getComponentMethod("images","convertCoords")(ie,Bt,xr,Zt)}else Zt($r+".autorange",!0),Zt($r+".range",null);n(Se,$r+"._inputRange").set(null)}else if(br.match(K)){var Be=n(Se,rr).get(),Je=(xr||{}).type;(!Je||Je==="-")&&(Je="linear"),o.getComponentMethod("annotations","convertCoords")(ie,Be,Je,Zt),o.getComponentMethod("images","convertCoords")(ie,Be,Je,Zt)}var Xe=h.containerArrayMatch(rr);if(Xe){st=Xe.array,xt=Xe.index;var rt=Xe.property,kt=oe||{editType:"calc"};xt!==""&&rt===""&&(h.isAddVal(xr)?qt[rr]=null:h.isRemoveVal(xr)?qt[rr]=(n(we,st).get()||[])[xt]:e.warn("unrecognized full object value",ve)),w.update(nr,kt),Ye[st]||(Ye[st]={});var Dt=Ye[st][xt];Dt||(Dt=Ye[st][xt]={}),Dt[rt]=xr,delete ve[rr]}else br==="reverse"?(Sn.range?Sn.range.reverse():(Zt($r+".autorange",!0),Sn.range=[1,0]),Bt.autorange?nr.calc=!0:nr.plot=!0):(rr==="dragmode"&&(xr===!1&&gn!==!1||xr!==!1&&gn===!1)||Se._has("scatter-like")&&Se._has("regl")&&rr==="dragmode"&&(xr==="lasso"||xr==="select")&&!(gn==="lasso"||gn==="select")?nr.plot=!0:oe?w.update(nr,oe):nr.calc=!0,zt.set(xr))}}for(st in Ye){var Rt=h.applyContainerArrayChanges(ie,Le(we,st),Ye[st],nr,Le);Rt||(nr.plot=!0)}for(var Kt in jr){Ar=p.getFromId(ie,Kt);var ir=Ar&&Ar._constraintGroup;if(ir){nr.calc=!0;for(var Fr in ir)jr[Fr]||(p.getFromId(ie,Fr)._constraintShrinkable=!0)}}(Re(ie)||ve.height||ve.width)&&(nr.plot=!0);var or=Se.shapes;for(xt=0;xt<or.length;xt++)if(or[xt].showlegend){nr.calc=!0;break}return(nr.plot||nr.calc)&&(nr.layoutReplot=!0),{flags:nr,rangesAltered:jr,undoit:qt,redoit:yr,eventData:ut}}function Re(ie){var ve=ie._fullLayout,we=ve.width,Se=ve.height;return ie.layout.autosize&&r.plotAutoSize(ie,ie.layout,ve),ve.width!==we||ve.height!==Se}function Ae(ie,ve,we,Se){ie=e.getGraphDiv(ie),b.clearPromiseQueue(ie),e.isPlainObject(ve)||(ve={}),e.isPlainObject(we)||(we={}),Object.keys(ve).length&&(ie.changed=!0),Object.keys(we).length&&(ie.changed=!0);var Ue=b.coerceTraceIndices(ie,Se),Le=le(ie,e.extendFlat({},ve),Ue),tt=Le.flags,nt=ze(ie,e.extendFlat({},we)),ut=nt.flags;(tt.calc||ut.calc)&&(ie.calcdata=void 0),tt.clearAxisTypes&&b.clearAxisTypes(ie,Ue,we);var Ye=[];ut.layoutReplot?Ye.push(_.layoutReplot):tt.fullReplot?Ye.push(E._doPlot):(Ye.push(r.previousPromises),fe(ie,ut,nt)||r.supplyDefaults(ie),tt.style&&Ye.push(_.doTraceStyle),(tt.colorbars||ut.colorbars)&&Ye.push(_.doColorBars),ut.legend&&Ye.push(_.doLegend),ut.layoutstyle&&Ye.push(_.layoutStyles),ut.axrange&&ye(Ye,nt.rangesAltered),ut.ticks&&Ye.push(_.doTicksRelayout),ut.modebar&&Ye.push(_.doModeBar),ut.camera&&Ye.push(_.doCamera),Ye.push(H)),Ye.push(r.rehover,r.redrag,r.reselect),a.add(ie,Ae,[ie,Le.undoit,nt.undoit,Le.traces],Ae,[ie,Le.redoit,nt.redoit,Le.traces]);var st=e.syncOrAsync(Ye,ie);return(!st||!st.then)&&(st=Promise.resolve(ie)),st.then(function(){return ie.emit("plotly_update",{data:Le.eventData,layout:nt.eventData}),ie})}function T(ie){return function(ve){ve._fullLayout._guiEditing=!0;var we=ie.apply(null,arguments);return ve._fullLayout._guiEditing=!1,we}}var V=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],j=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function he(ie,ve){for(var we=0;we<ve.length;we++){var Se=ve[we],Ue=ie.match(Se.pattern);if(Ue){var Le=Ue[1]||"";return{head:Le,tail:ie.substr(Le.length+1),attr:Se.attr}}}}function be(ie,ve){var we=n(ve,ie).get();if(we!==void 0)return we;var Se=ie.split(".");for(Se.pop();Se.length>1;)if(Se.pop(),we=n(ve,Se.join(".")+".uirevision").get(),we!==void 0)return we;return ve.uirevision}function ke(ie,ve){for(var we=0;we<ve.length;we++)if(ve[we]._fullInput.uid===ie)return we;return-1}function Ce(ie,ve,we){for(var Se=0;Se<ve.length;Se++)if(ve[Se].uid===ie)return Se;return!ve[we]||ve[we].uid?-1:we}function qe(ie,ve){var we=e.isPlainObject(ie),Se=Array.isArray(ie);return we||Se?(we&&e.isPlainObject(ve)||Se&&Array.isArray(ve))&&JSON.stringify(ie)===JSON.stringify(ve):ie===ve}function at(ie,ve,we,Se){var Ue=Se._preGUI,Le,tt,nt,ut,Ye,st,xt,Tt,tr,cr,Er=[],nr={},yr={};for(Le in Ue){if(Ye=he(Le,V),Ye){if(tr=Ye.head,cr=Ye.tail,tt=Ye.attr||tr+".uirevision",nt=n(Se,tt).get(),ut=nt&&be(tt,ve),ut&&ut===nt){if(st=Ue[Le],st===null&&(st=void 0),xt=n(ve,Le),Tt=xt.get(),qe(Tt,st)){Tt===void 0&&cr==="autorange"&&Er.push(tr),xt.set(X(n(Se,Le).get()));continue}else if(cr==="autorange"||cr.substr(0,6)==="range["){var qt=Ue[tr+".range[0]"],Zt=Ue[tr+".range[1]"],jr=Ue[tr+".autorange"];if(jr||jr===null&&qt===null&&Zt===null){if(!(tr in nr)){var Ar=n(ve,tr).get();nr[tr]=Ar&&(Ar.autorange||Ar.autorange!==!1&&(!Ar.range||Ar.range.length!==2))}if(nr[tr]){xt.set(X(n(Se,Le).get()));continue}}}}}else e.warn("unrecognized GUI edit: "+Le);delete Ue[Le],Ye&&Ye.tail.substr(0,6)==="range["&&(yr[Ye.head]=1)}for(var kr=0;kr<Er.length;kr++){var rr=Er[kr];if(yr[rr]){var zt=n(ve,rr).get();zt&&delete zt.autorange}}var xr=Se._tracePreGUI;for(var Gr in xr){var fn=xr[Gr],br=null,Jr;for(Le in fn){if(!br){var $r=ke(Gr,we);if($r<0){delete xr[Gr];break}var Sn=we[$r];Jr=Sn._fullInput;var Bt=Ce(Gr,ie,Jr.index);if(Bt<0){delete xr[Gr];break}br=ie[Bt]}if(Ye=he(Le,j),Ye){if(Ye.attr?(nt=n(Se,Ye.attr).get(),ut=nt&&be(Ye.attr,ve)):(nt=Jr.uirevision,ut=br.uirevision,ut===void 0&&(ut=ve.uirevision)),ut&&ut===nt&&(st=fn[Le],st===null&&(st=void 0),xt=n(br,Le),Tt=xt.get(),qe(Tt,st))){xt.set(X(n(Jr,Le).get()));continue}}else e.warn("unrecognized GUI edit: "+Le+" in trace uid "+Gr);delete fn[Le]}}}function ct(ie,ve,we,Se){var Ue,Le;function tt(){return E.addFrames(ie,Ue)}ie=e.getGraphDiv(ie),b.clearPromiseQueue(ie);var nt=ie._fullData,ut=ie._fullLayout;if(!e.isPlotDiv(ie)||!nt||!ut)Le=E.newPlot(ie,ve,we,Se);else{if(e.isPlainObject(ve)){var Ye=ve;ve=Ye.data,we=Ye.layout,Se=Ye.config,Ue=Ye.frames}var st=!1;if(Se){var xt=e.extendDeep({},ie._context);ie._context=void 0,Z(ie,Se),st=Ct(xt,ie._context)}ie.data=ve||[],b.cleanData(ie.data),ie.layout=we||{},b.cleanLayout(ie.layout),at(ie.data,ie.layout,nt,ut),r.supplyDefaults(ie,{skipUpdateCalc:!0});var Tt=ie._fullData,tr=ie._fullLayout,cr=tr.datarevision===void 0,Er=tr.transition,nr=St(ie,ut,tr,cr,Er),yr=nr.newDataRevision,qt=vt(ie,nt,Tt,cr,Er,yr);if(Re(ie)&&(nr.layoutReplot=!0),qt.calc||nr.calc){ie.calcdata=void 0;for(var Zt=Object.getOwnPropertyNames(tr),jr=0;jr<Zt.length;jr++){var Ar=Zt[jr],kr=Ar.substring(0,5);if(kr==="xaxis"||kr==="yaxis"){var rr=tr[Ar]._emptyCategories;rr&&rr()}}}else r.supplyDefaultsUpdateCalc(ie.calcdata,Tt);var zt=[];if(Ue&&(ie._transitionData={},r.createTransitionData(ie),zt.push(tt)),tr.transition&&!st&&(qt.anim||nr.anim))nr.ticks&&zt.push(_.doTicksRelayout),r.doCalcdata(ie),_.doAutoRangeAndConstraints(ie),zt.push(function(){return r.transitionFromReact(ie,qt,nr,ut)});else if(qt.fullReplot||nr.layoutReplot||st)ie._fullLayout._skipDefaults=!0,zt.push(E._doPlot);else{for(var xr in nr.arrays){var Gr=nr.arrays[xr];if(Gr.length){var fn=o.getComponentMethod(xr,"drawOne");if(fn!==e.noop)for(var br=0;br<Gr.length;br++)fn(ie,Gr[br]);else{var Jr=o.getComponentMethod(xr,"draw");if(Jr===e.noop)throw new Error("cannot draw components: "+xr);Jr(ie)}}}zt.push(r.previousPromises),qt.style&&zt.push(_.doTraceStyle),(qt.colorbars||nr.colorbars)&&zt.push(_.doColorBars),nr.legend&&zt.push(_.doLegend),nr.layoutstyle&&zt.push(_.layoutStyles),nr.axrange&&ye(zt),nr.ticks&&zt.push(_.doTicksRelayout),nr.modebar&&zt.push(_.doModeBar),nr.camera&&zt.push(_.doCamera),zt.push(H)}zt.push(r.rehover,r.redrag,r.reselect),Le=e.syncOrAsync(zt,ie),(!Le||!Le.then)&&(Le=Promise.resolve(ie))}return Le.then(function(){return ie.emit("plotly_react",{data:ve,layout:we}),ie})}function vt(ie,ve,we,Se,Ue,Le){var tt=ve.length===we.length;if(!Ue&&!tt)return{fullReplot:!0,calc:!0};var nt=w.traceFlags();nt.arrays={},nt.nChanges=0,nt.nChangesAnim=0;var ut,Ye;function st(tr){var cr=s.getTraceValObject(Ye,tr);return!Ye._module.animatable&&cr.anim&&(cr.anim=!1),cr}var xt={getValObject:st,flags:nt,immutable:Se,transition:Ue,newDataRevision:Le,gd:ie},Tt={};for(ut=0;ut<ve.length;ut++)if(we[ut]){if(Ye=we[ut]._fullInput,Tt[Ye.uid])continue;Tt[Ye.uid]=1,ot(ve[ut]._fullInput,Ye,[],xt)}return(nt.calc||nt.plot)&&(nt.fullReplot=!0),Ue&&nt.nChanges&&nt.nChangesAnim&&(nt.anim=nt.nChanges===nt.nChangesAnim&&tt?"all":"some"),nt}function St(ie,ve,we,Se,Ue){var Le=w.layoutFlags();Le.arrays={},Le.rangesAltered={},Le.nChanges=0,Le.nChangesAnim=0;function tt(Tt){return s.getLayoutValObject(we,Tt)}for(var nt in we)if(!(!nt.startsWith("xaxis")&&!nt.startsWith("yaxis"))&&ve[nt]){var ut=we[nt].domain,Ye=ve[nt].domain,st=ve[nt]._inputDomain;ve[nt]._inputDomain&&(ut[0]===st[0]&&ut[1]===st[1]?we[nt].domain=ve[nt].domain:(ut[0]!==Ye[0]||ut[1]!==Ye[1])&&(we[nt]._inputDomain=null))}var xt={getValObject:tt,flags:Le,immutable:Se,transition:Ue,gd:ie};return ot(ve,we,[],xt),(Le.plot||Le.calc)&&(Le.layoutReplot=!0),Ue&&Le.nChanges&&Le.nChangesAnim&&(Le.anim=Le.nChanges===Le.nChangesAnim?"all":"some"),Le}function ot(ie,ve,we,Se){var Ue,Le,tt,nt=Se.getValObject,ut=Se.flags,Ye=Se.immutable,st=Se.inArray,xt=Se.arrayIndex;function Tt(){var $r=Ue.editType;if(st&&$r.indexOf("arraydraw")!==-1){e.pushUnique(ut.arrays[st],xt);return}w.update(ut,Ue),$r!=="none"&&ut.nChanges++,Se.transition&&Ue.anim&&ut.nChangesAnim++,(Me.test(tt)||He.test(tt))&&(ut.rangesAltered[we[0]]=1),Le==="datarevision"&&(ut.newDataRevision=1)}function tr($r){return $r.valType==="data_array"||$r.arrayOk}for(Le in ie){if(ut.calc&&!Se.transition)return;var cr=ie[Le],Er=ve[Le],nr=we.concat(Le);if(tt=nr.join("."),!(Le.charAt(0)==="_"||typeof cr=="function"||cr===Er)){if((Le==="tick0"||Le==="dtick")&&we[0]!=="geo"){var yr=ve.tickmode;if(yr==="auto"||yr==="array"||!yr)continue}if(!(Le==="range"&&ve.autorange)&&!((Le==="zmin"||Le==="zmax")&&ve.type==="contourcarpet")&&(Ue=nt(nr),!!Ue&&!(Ue._compareAsJSON&&JSON.stringify(cr)===JSON.stringify(Er)))){var qt=Ue.valType,Zt,jr=tr(Ue),Ar=Array.isArray(cr),kr=Array.isArray(Er);if(Ar&&kr){var rr="_input_"+Le,zt=ie[rr],xr=ve[rr];if(Array.isArray(zt)&&zt===xr)continue}if(Er===void 0)jr&&Ar?ut.calc=!0:Tt();else if(Ue._isLinkedToArray){var Gr=[],fn=!1;st||(ut.arrays[Le]=Gr);var br=Math.min(cr.length,Er.length),Jr=Math.max(cr.length,Er.length);if(br!==Jr)if(Ue.editType==="arraydraw")fn=!0;else{Tt();continue}for(Zt=0;Zt<br;Zt++)ot(cr[Zt],Er[Zt],nr.concat(Zt),e.extendFlat({inArray:Le,arrayIndex:Zt},Se));if(fn)for(Zt=br;Zt<Jr;Zt++)Gr.push(Zt)}else!qt&&e.isPlainObject(cr)?ot(cr,Er,nr,Se):jr?Ar&&kr?(Ye&&(ut.calc=!0),(Ye||Se.newDataRevision)&&Tt()):Ar!==kr?ut.calc=!0:Tt():Ar&&kr?(cr.length!==Er.length||String(cr)!==String(Er))&&Tt():Tt()}}}for(Le in ve)if(!(Le in ie||Le.charAt(0)==="_"||typeof ve[Le]=="function"))if(Ue=nt(we.concat(Le)),tr(Ue)&&Array.isArray(ve[Le])){ut.calc=!0;return}else Tt()}function Ct(ie,ve){var we;for(we in ie)if(we.charAt(0)!=="_"){var Se=ie[we],Ue=ve[we];if(Se!==Ue)if(e.isPlainObject(Se)&&e.isPlainObject(Ue)){if(Ct(Se,Ue))return!0}else if(Array.isArray(Se)&&Array.isArray(Ue)){if(Se.length!==Ue.length)return!0;for(var Le=0;Le<Se.length;Le++)if(Se[Le]!==Ue[Le])if(e.isPlainObject(Se[Le])&&e.isPlainObject(Ue[Le])){if(Ct(Se[Le],Ue[Le]))return!0}else return!0}else return!0}}function It(ie,ve,we){if(ie=e.getGraphDiv(ie),!e.isPlotDiv(ie))throw new Error("This element is not a Plotly plot: "+ie+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Se=ie._transitionData;Se._frameQueue||(Se._frameQueue=[]),we=r.supplyAnimationDefaults(we);var Ue=we.transition,Le=we.frame;Se._frameWaitingCnt===void 0&&(Se._frameWaitingCnt=0);function tt(Ye){return Array.isArray(Ue)?Ye>=Ue.length?Ue[0]:Ue[Ye]:Ue}function nt(Ye){return Array.isArray(Le)?Ye>=Le.length?Le[0]:Le[Ye]:Le}function ut(Ye,st){var xt=0;return function(){if(Ye&&++xt===st)return Ye()}}return new Promise(function(Ye,st){function xt(){if(Se._frameQueue.length!==0){for(;Se._frameQueue.length;){var br=Se._frameQueue.pop();br.onInterrupt&&br.onInterrupt()}ie.emit("plotly_animationinterrupted",[])}}function Tt(br){if(br.length!==0){for(var Jr=0;Jr<br.length;Jr++){var $r;br[Jr].type==="byname"?$r=r.computeFrame(ie,br[Jr].name):$r=br[Jr].data;var Sn=nt(Jr),Bt=tt(Jr);Bt.duration=Math.min(Bt.duration,Sn.duration);var gn={frame:$r,name:br[Jr].name,frameOpts:Sn,transitionOpts:Bt};Jr===br.length-1&&(gn.onComplete=ut(Ye,2),gn.onInterrupt=st),Se._frameQueue.push(gn)}we.mode==="immediate"&&(Se._lastFrameAt=-1/0),Se._animationRaf||Er()}}function tr(){ie.emit("plotly_animated"),window.cancelAnimationFrame(Se._animationRaf),Se._animationRaf=null}function cr(){Se._currentFrame&&Se._currentFrame.onComplete&&Se._currentFrame.onComplete();var br=Se._currentFrame=Se._frameQueue.shift();if(br){var Jr=br.name?br.name.toString():null;ie._fullLayout._currentFrame=Jr,Se._lastFrameAt=Date.now(),Se._timeToNext=br.frameOpts.duration,r.transition(ie,br.frame.data,br.frame.layout,b.coerceTraceIndices(ie,br.frame.traces),br.frameOpts,br.transitionOpts).then(function(){br.onComplete&&br.onComplete()}),ie.emit("plotly_animatingframe",{name:Jr,frame:br.frame,animation:{frame:br.frameOpts,transition:br.transitionOpts}})}else tr()}function Er(){ie.emit("plotly_animating"),Se._lastFrameAt=-1/0,Se._timeToNext=0,Se._runningTransitions=0,Se._currentFrame=null;var br=function(){Se._animationRaf=window.requestAnimationFrame(br),Date.now()-Se._lastFrameAt>Se._timeToNext&&cr()};br()}var nr=0;function yr(br){return Array.isArray(Ue)?nr>=Ue.length?br.transitionOpts=Ue[nr]:br.transitionOpts=Ue[0]:br.transitionOpts=Ue,nr++,br}var qt,Zt,jr=[],Ar=ve==null,kr=Array.isArray(ve),rr=!Ar&&!kr&&e.isPlainObject(ve);if(rr)jr.push({type:"object",data:yr(e.extendFlat({},ve))});else if(Ar||["string","number"].indexOf(typeof ve)!==-1)for(qt=0;qt<Se._frames.length;qt++)Zt=Se._frames[qt],Zt&&(Ar||String(Zt.group)===String(ve))&&jr.push({type:"byname",name:String(Zt.name),data:yr({name:Zt.name})});else if(kr)for(qt=0;qt<ve.length;qt++){var zt=ve[qt];["number","string"].indexOf(typeof zt)!==-1?(zt=String(zt),jr.push({type:"byname",name:zt,data:yr({name:zt})})):e.isPlainObject(zt)&&jr.push({type:"object",data:yr(e.extendFlat({},zt))})}for(qt=0;qt<jr.length;qt++)if(Zt=jr[qt],Zt.type==="byname"&&!Se._frameHash[Zt.data.name]){e.warn('animate failure: frame not found: "'+Zt.data.name+'"'),st();return}["next","immediate"].indexOf(we.mode)!==-1&&xt(),we.direction==="reverse"&&jr.reverse();var xr=ie._fullLayout._currentFrame;if(xr&&we.fromcurrent){var Gr=-1;for(qt=0;qt<jr.length;qt++)if(Zt=jr[qt],Zt.type==="byname"&&Zt.name===xr){Gr=qt;break}if(Gr>0&&Gr<jr.length-1){var fn=[];for(qt=0;qt<jr.length;qt++)Zt=jr[qt],(jr[qt].type!=="byname"||qt>Gr)&&fn.push(Zt);jr=fn}}jr.length>0?Tt(jr):(ie.emit("plotly_animated"),Ye())})}function At(ie,ve,we){if(ie=e.getGraphDiv(ie),ve==null)return Promise.resolve();if(!e.isPlotDiv(ie))throw new Error("This element is not a Plotly plot: "+ie+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Se,Ue,Le,tt,nt=ie._transitionData._frames,ut=ie._transitionData._frameHash;if(!Array.isArray(ve))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ve);var Ye=nt.length+ve.length*2,st=[],xt={};for(Se=ve.length-1;Se>=0;Se--)if(e.isPlainObject(ve[Se])){var Tt=ve[Se].name,tr=(ut[Tt]||xt[Tt]||{}).name,cr=ve[Se].name,Er=ut[tr]||xt[tr];tr&&cr&&typeof cr=="number"&&Er&&D<I&&(D++,e.warn('addFrames: overwriting frame "'+(ut[tr]||xt[tr]).name+'" with a frame whose name of type "number" also equates to "'+tr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),D===I&&e.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),xt[Tt]={name:Tt},st.push({frame:r.supplyFrameDefaults(ve[Se]),index:we&&we[Se]!==void 0&&we[Se]!==null?we[Se]:Ye+Se})}st.sort(function(rr,zt){return rr.index>zt.index?-1:rr.index<zt.index?1:0});var nr=[],yr=[],qt=nt.length;for(Se=st.length-1;Se>=0;Se--){if(Ue=st[Se].frame,typeof Ue.name=="number"&&e.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ue.name)for(;ut[Ue.name="frame "+ie._transitionData._counter++];);if(ut[Ue.name]){for(Le=0;Le<nt.length&&(nt[Le]||{}).name!==Ue.name;Le++);nr.push({type:"replace",index:Le,value:Ue}),yr.unshift({type:"replace",index:Le,value:nt[Le]})}else tt=Math.max(0,Math.min(st[Se].index,qt)),nr.push({type:"insert",index:tt,value:Ue}),yr.unshift({type:"delete",index:tt}),qt++}var Zt=r.modifyFrames,jr=r.modifyFrames,Ar=[ie,yr],kr=[ie,nr];return a&&a.add(ie,Zt,Ar,jr,kr),r.modifyFrames(ie,nr)}function Nt(ie,ve){if(ie=e.getGraphDiv(ie),!e.isPlotDiv(ie))throw new Error("This element is not a Plotly plot: "+ie);var we,Se,Ue=ie._transitionData._frames,Le=[],tt=[];if(!ve)for(ve=[],we=0;we<Ue.length;we++)ve.push(we);for(ve=ve.slice(),ve.sort(),we=ve.length-1;we>=0;we--)Se=ve[we],Le.push({type:"delete",index:Se}),tt.unshift({type:"insert",index:Se,value:Ue[Se]});var nt=r.modifyFrames,ut=r.modifyFrames,Ye=[ie,tt],st=[ie,Le];return a&&a.add(ie,nt,Ye,ut,st),r.modifyFrames(ie,Le)}function _e(ie){ie=e.getGraphDiv(ie);var ve=ie._fullLayout||{},we=ie._fullData||[];return r.cleanPlot([],{},we,ve),r.purge(ie),l.purge(ie),ve._container&&ve._container.remove(),delete ie._context,ie}function De(ie){var ve=ie._fullLayout,we=ie.getBoundingClientRect();if(!e.equalDomRects(we,ve._lastBBox)){var Se=ve._invTransform=e.inverseTransformMatrix(e.getFullTransformMatrix(ie));ve._invScaleX=Math.sqrt(Se[0][0]*Se[0][0]+Se[0][1]*Se[0][1]+Se[0][2]*Se[0][2]),ve._invScaleY=Math.sqrt(Se[1][0]*Se[1][0]+Se[1][1]*Se[1][1]+Se[1][2]*Se[1][2]),ve._lastBBox=we}}function je(ie){var ve=k.select(ie),we=ie._fullLayout;if(we._calcInverseTransform=De,we._calcInverseTransform(ie),we._container=ve.selectAll(".plot-container").data([0]),we._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),we._paperdiv=we._container.selectAll(".svg-container").data([0]),we._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),we._glcontainer=we._paperdiv.selectAll(".gl-container").data([{}]),we._glcontainer.enter().append("div").classed("gl-container",!0),we._paperdiv.selectAll(".main-svg").remove(),we._paperdiv.select(".modebar-container").remove(),we._paper=we._paperdiv.insert("svg",":first-child").classed("main-svg",!0),we._toppaper=we._paperdiv.append("svg").classed("main-svg",!0),we._modebardiv=we._paperdiv.append("div"),delete we._modeBar,we._hoverpaper=we._paperdiv.append("svg").classed("main-svg",!0),!we._uid){var Se={};k.selectAll("defs").each(function(){this.id&&(Se[this.id.split("-")[1]]=1)}),we._uid=e.randstr(Se)}we._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),we._defs=we._paper.append("defs").attr("id","defs-"+we._uid),we._clips=we._defs.append("g").classed("clips",!0),we._topdefs=we._toppaper.append("defs").attr("id","topdefs-"+we._uid),we._topclips=we._topdefs.append("g").classed("clips",!0),we._bgLayer=we._paper.append("g").classed("bglayer",!0),we._draggers=we._paper.append("g").classed("draglayer",!0);var Ue=we._paper.append("g").classed("layer-below",!0);we._imageLowerLayer=Ue.append("g").classed("imagelayer",!0),we._shapeLowerLayer=Ue.append("g").classed("shapelayer",!0),we._cartesianlayer=we._paper.append("g").classed("cartesianlayer",!0),we._polarlayer=we._paper.append("g").classed("polarlayer",!0),we._smithlayer=we._paper.append("g").classed("smithlayer",!0),we._ternarylayer=we._paper.append("g").classed("ternarylayer",!0),we._geolayer=we._paper.append("g").classed("geolayer",!0),we._funnelarealayer=we._paper.append("g").classed("funnelarealayer",!0),we._pielayer=we._paper.append("g").classed("pielayer",!0),we._iciclelayer=we._paper.append("g").classed("iciclelayer",!0),we._treemaplayer=we._paper.append("g").classed("treemaplayer",!0),we._sunburstlayer=we._paper.append("g").classed("sunburstlayer",!0),we._indicatorlayer=we._toppaper.append("g").classed("indicatorlayer",!0),we._glimages=we._paper.append("g").classed("glimages",!0);var Le=we._toppaper.append("g").classed("layer-above",!0);we._imageUpperLayer=Le.append("g").classed("imagelayer",!0),we._shapeUpperLayer=Le.append("g").classed("shapelayer",!0),we._selectionLayer=we._toppaper.append("g").classed("selectionlayer",!0),we._infolayer=we._toppaper.append("g").classed("infolayer",!0),we._menulayer=we._toppaper.append("g").classed("menulayer",!0),we._zoomlayer=we._toppaper.append("g").classed("zoomlayer",!0),we._hoverlayer=we._hoverpaper.append("g").classed("hoverlayer",!0),we._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ie.emit("plotly_framework")}E.animate=It,E.addFrames=At,E.deleteFrames=Nt,E.addTraces=ee,E.deleteTraces=B,E.extendTraces=se,E.moveTraces=re,E.prependTraces=q,E.newPlot=P,E._doPlot=C,E.purge=_e,E.react=ct,E.redraw=G,E.relayout=pe,E.restyle=J,E.setPlotConfig=z,E.update=Ae,E._guiRelayout=T(pe),E._guiRestyle=T(J),E._guiUpdate=T(Ae),E._storeDirectGUIEdit=te}),$o=xe(E=>{var k=mn();E.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("mapbox")||e._has("map"))?500:0},E.getRedrawFunc=function(e){return function(){k.getComponentMethod("colorbar","draw")(e)}},E.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},E.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var i=window.URL||window.webkitURL;E.createObjectURL=function(e){return i.createObjectURL(e)},E.revokeObjectURL=function(e){return i.revokeObjectURL(e)},E.createBlob=function(e,n){if(n==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(n==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var l=t(window.atob(e));return new window.Blob([l],{type:"image/"+n})},E.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function t(e){for(var n=e.length,l=new ArrayBuffer(n),a=new Uint8Array(l),o=0;o<n;o++)a[o]=e.charCodeAt(o);return l}E.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}),yc=xe((E,k)=>{var i=Jn();sr();var t=na(),e=Nn();Jo();var n=/"/g,l="TOBESTRIPPED",a=new RegExp('("'+l+")|("+l+'")',"g");function o(r){var p=i.select("body").append("div").style({display:"none"}).html(""),u=r.replace(/(&[^;]*;)/gi,function(d){return d==="&lt;"?"&#60;":d==="&rt;"?"&#62;":d.indexOf("<")!==-1||d.indexOf(">")!==-1?"":p.html(d).text()});return p.remove(),u}function s(r){return r.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}k.exports=function(r,p,u){var d=r._fullLayout,g=d._paper,v=d._toppaper,x=d.width,y=d.height,m;g.insert("rect",":first-child").call(t.setRect,0,0,x,y).call(e.fill,d.paper_bgcolor);var c=d._basePlotModules||[];for(m=0;m<c.length;m++){var h=c[m];h.toSVG&&h.toSVG(r)}if(v){var b=v.node().childNodes,_=Array.prototype.slice.call(b);for(m=0;m<_.length;m++){var w=_[m];w.childNodes.length&&g.node().appendChild(w)}}d._draggers&&d._draggers.remove(),g.node().style.background="",g.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var D=i.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){D.remove();return}else D.style({visibility:null,display:null});var I=this.style.fontFamily;I&&I.indexOf('"')!==-1&&D.style("font-family",I.replace(n,l));var C=this.style.fontWeight;C&&(C==="normal"||C==="400")&&D.style("font-weight",void 0);var H=this.style.fontStyle;H&&H==="normal"&&D.style("font-style",void 0);var z=this.style.fontVariant;z&&z==="normal"&&D.style("font-variant",void 0)}),g.selectAll(".gradient_filled,.pattern_filled").each(function(){var D=i.select(this),I=this.style.fill;I&&I.indexOf("url(")!==-1&&D.style("fill",I.replace(n,l));var C=this.style.stroke;C&&C.indexOf("url(")!==-1&&D.style("stroke",C.replace(n,l))}),(p==="pdf"||p==="eps")&&g.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p==="svg"&&u&&(g.attr("width",u*x),g.attr("height",u*y),g.attr("viewBox","0 0 "+x+" "+y));var K=new window.XMLSerializer().serializeToString(g.node());return K=o(K),K=s(K),K=K.replace(a,"'"),K}}),vc=xe((E,k)=>{var i=sr(),t=ec().EventEmitter,e=$o();function n(l){var a=l.emitter||new t,o=new Promise(function(s,r){var p=window.Image,u=l.svg,d=l.format||"png",g=l.canvas,v=l.scale||1,x=l.width||300,y=l.height||150,m=v*x,c=v*y,h=g.getContext("2d",{willReadFrequently:!0}),b=new p,_,w;d==="svg"||i.isSafari()?w=e.encodeSVG(u):(_=e.createBlob(u,"svg"),w=e.createObjectURL(_)),g.width=m,g.height=c,b.onload=function(){var K;switch(_=null,e.revokeObjectURL(w),d!=="svg"&&h.drawImage(b,0,0,m,c),d){case"jpeg":K=g.toDataURL("image/jpeg");break;case"png":K=g.toDataURL("image/png");break;case"webp":K=g.toDataURL("image/webp");break;case"svg":K=w;break;default:var D="Image format is not jpeg, png, svg or webp.";if(r(new Error(D)),!l.promise)return a.emit("error",D)}s(K),l.promise||a.emit("success",K)},b.onerror=function(K){if(_=null,e.revokeObjectURL(w),r(K),!l.promise)return a.emit("error",K)},b.src=w});return l.promise?o:a}k.exports=n}),fd=xe((E,k)=>{var i=Bn(),t=cd(),e=Ba(),n=sr(),l=$o(),a=yc(),o=vc(),s=qu().version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function p(u,d){d=d||{};var g,v,x,y;n.isPlainObject(u)?(g=u.data||[],v=u.layout||{},x=u.config||{},y={}):(u=n.getGraphDiv(u),g=n.extendDeep([],u.data),v=n.extendDeep({},u.layout),x=u._context,y=u._fullLayout||{});function m(P){return!(P in d)||n.validate(d[P],r[P])}if(!m("width")&&d.width!==null||!m("height")&&d.height!==null)throw new Error("Height and width should be pixel values.");if(!m("format"))throw new Error("Export format is not "+n.join2(r.format.values,", "," or ")+".");var c={};function h(P,A){return n.coerce(d,c,r,P,A)}var b=h("format"),_=h("width"),w=h("height"),K=h("scale"),D=h("setBackground"),I=h("imageDataOnly"),C=document.createElement("div");C.style.position="absolute",C.style.left="-5000px",document.body.appendChild(C);var H=n.extendFlat({},v);_?H.width=_:d.width===null&&i(y.width)&&(H.width=y.width),w?H.height=w:d.height===null&&i(y.height)&&(H.height=y.height);var z=n.extendFlat({},x,{_exportedPlot:!0,staticPlot:!0,setBackground:D}),R=l.getRedrawFunc(C);function U(){return new Promise(function(P){setTimeout(P,l.getDelay(C._fullLayout))})}function Z(){return new Promise(function(P,A){var O=a(C,b,K),L=C._fullLayout.width,S=C._fullLayout.height;function F(){t.purge(C),document.body.removeChild(C)}if(b==="full-json"){var W=e.graphJson(C,!1,"keepdata","object",!0,!0);return W.version=s,W=JSON.stringify(W),F(),P(I?W:l.encodeJSON(W))}if(F(),b==="svg")return P(I?O:l.encodeSVG(O));var ue=document.createElement("canvas");ue.id=n.randstr(),o({format:b,width:L,height:S,scale:K,canvas:ue,svg:O,promise:!0}).then(P).catch(A)})}function G(P){return I?P.replace(l.IMAGE_URL_PREFIX,""):P}return new Promise(function(P,A){t.newPlot(C,g,H,z).then(R).then(U).then(Z).then(function(O){P(G(O))}).catch(function(O){A(O)})})}k.exports=p}),p0=xe((E,k)=>{var i=sr(),t=Ba(),e=Sl(),n=Yo().dfltConfig,l=i.isPlainObject,a=Array.isArray,o=i.isArrayOrTypedArray;k.exports=function(c,h){c===void 0&&(c=[]),h===void 0&&(h={});var b=e.get(),_=[],w={_context:i.extendFlat({},n)},K,D;a(c)?(w.data=i.extendDeep([],c),K=c):(w.data=[],K=[],_.push(d("array","data"))),l(h)?(w.layout=i.extendDeep({},h),D=h):(w.layout={},D={},arguments.length>1&&_.push(d("object","layout"))),t.supplyDefaults(w);for(var I=w._fullData,C=K.length,H=0;H<C;H++){var z=K[H],R=["data",H];if(!l(z)){_.push(d("object",R));continue}var U=I[H],Z=U.type,G=b.traces[Z].attributes;G.type={valType:"enumerated",values:[Z]},U.visible===!1&&z.visible!==!1&&_.push(d("invisible",R)),s(z,U,G,_,R)}var P=w._fullLayout,A=r(b,I);return s(D,P,A,_,"layout"),_.length===0?void 0:_};function s(c,h,b,_,w,K){K=K||[];for(var D=Object.keys(c),I=0;I<D.length;I++){var C=D[I],H=K.slice();H.push(C);var z=c[C],R=h[C],U=v(b,C),Z=(U||{}).valType,G=Z==="info_array",P=Z==="colorscale",A=(U||{}).items;if(!g(b,C))_.push(d("schema",w,H));else if(l(z)&&l(R)&&Z!=="any")s(z,R,U,_,w,H);else if(G&&a(z)){z.length>R.length&&_.push(d("unused",w,H.concat(R.length)));var O=R.length,L=Array.isArray(A);L&&(O=Math.min(O,A.length));var S,F,W,ue,ae;if(U.dimensions===2)for(F=0;F<O;F++)if(a(z[F])){z[F].length>R[F].length&&_.push(d("unused",w,H.concat(F,R[F].length)));var se=R[F].length;for(S=0;S<(L?Math.min(se,A[F].length):se);S++)W=L?A[F][S]:A,ue=z[F][S],ae=R[F][S],i.validate(ue,W)?ae!==ue&&ae!==+ue&&_.push(d("dynamic",w,H.concat(F,S),ue,ae)):_.push(d("value",w,H.concat(F,S),ue))}else _.push(d("array",w,H.concat(F),z[F]));else for(F=0;F<O;F++)W=L?A[F]:A,ue=z[F],ae=R[F],i.validate(ue,W)?ae!==ue&&ae!==+ue&&_.push(d("dynamic",w,H.concat(F),ue,ae)):_.push(d("value",w,H.concat(F),ue))}else if(U.items&&!G&&a(z)){var q=A[Object.keys(A)[0]],ee=[],B,re;for(B=0;B<R.length;B++){var J=R[B]._index||B;if(re=H.slice(),re.push(J),l(z[J])&&l(R[B])){ee.push(J);var X=z[J],N=R[B];l(X)&&X.visible!==!1&&N.visible===!1?_.push(d("invisible",w,re)):s(X,N,q,_,w,re)}}for(B=0;B<z.length;B++)re=H.slice(),re.push(B),l(z[B])?ee.indexOf(B)===-1&&_.push(d("unused",w,re)):_.push(d("object",w,re,z[B]))}else!l(z)&&l(R)?_.push(d("object",w,H,z)):!o(z)&&o(R)&&!G&&!P?_.push(d("array",w,H,z)):C in h?i.validate(z,U)?U.valType==="enumerated"&&(U.coerceNumber&&z!==+R||z!==R)&&_.push(d("dynamic",w,H,z,R)):_.push(d("value",w,H,z)):_.push(d("unused",w,H,z))}return _}function r(c,h){for(var b=c.layout.layoutAttributes,_=0;_<h.length;_++){var w=h[_],K=c.traces[w.type],D=K.layoutAttributes;D&&(w.subplot?i.extendFlat(b[K.attributes.subplot.dflt],D):i.extendFlat(b,D))}return b}var p={object:function(c,h){var b;return c==="layout"&&h===""?b="The layout argument":c[0]==="data"&&h===""?b="Trace "+c[1]+" in the data argument":b=u(c)+"key "+h,b+" must be linked to an object container"},array:function(c,h){var b;return c==="data"?b="The data argument":b=u(c)+"key "+h,b+" must be linked to an array container"},schema:function(c,h){return u(c)+"key "+h+" is not part of the schema"},unused:function(c,h,b){var _=l(b)?"container":"key";return u(c)+_+" "+h+" did not get coerced"},dynamic:function(c,h,b,_){return[u(c)+"key",h,"(set to '"+b+"')","got reset to","'"+_+"'","during defaults."].join(" ")},invisible:function(c,h){return(h?u(c)+"item "+h:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,h,b){return[u(c)+"key "+h,"is set to an invalid value ("+b+")"].join(" ")}};function u(c){return a(c)?"In data trace "+c[1]+", ":"In "+c+", "}function d(c,h,b,_,w){b=b||"";var K,D;a(h)?(K=h[0],D=h[1]):(K=h,D=null);var I=m(b),C=p[c](h,I,_,w);return i.log(C),{code:c,container:K,trace:D,path:b,astr:I,msg:C}}function g(c,h){var b=y(h),_=b.keyMinusId,w=b.id;return _ in c&&c[_]._isSubplotObj&&w?!0:h in c}function v(c,h){if(h in c)return c[h];var b=y(h);return c[b.keyMinusId]}var x=i.counterRegex("([a-z]+)");function y(c){var h=c.match(x);return{keyMinusId:h&&h[1],id:h&&h[2]}}function m(c){if(!a(c))return String(c);for(var h="",b=0;b<c.length;b++){var _=c[b];typeof _=="number"?h=h.substr(0,h.length-1)+"["+_+"]":h+=_,b<c.length-1&&(h+=".")}return h}}),g0=xe((E,k)=>{var i=sr(),t=$o();function e(n,l,a){var o=document.createElement("a"),s="download"in o,r=new Promise(function(p,u){var d,g;if(s)return d=t.createBlob(n,a),g=t.createObjectURL(d),o.href=g,o.download=l,document.body.appendChild(o),o.click(),document.body.removeChild(o),t.revokeObjectURL(g),d=null,p(l);if(i.isSafari()){var v=a==="svg"?",":";base64,";return t.octetStream(v+encodeURIComponent(n)),p(l)}u(new Error("download error"))});return r}k.exports=e}),dd=xe((E,k)=>{var i=sr(),t=fd(),e=g0();$o();function n(l,a){var o;return i.isPlainObject(l)||(o=i.getGraphDiv(l)),a=a||{},a.format=a.format||"png",a.width=a.width||null,a.height=a.height||null,a.imageDataOnly=!0,new Promise(function(s,r){o&&o._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),o&&(o._snapshotInProgress=!0);var p=t(l,a),u=a.filename||l.fn||"newplot";u+="."+a.format.replace("-","."),p.then(function(d){return o&&(o._snapshotInProgress=!1),e(d,u,a.format)}).then(function(d){s(d)}).catch(function(d){o&&(o._snapshotInProgress=!1),r(d)})})}k.exports=n}),y0=xe(E=>{var k=sr(),i=k.isPlainObject,t=Sl(),e=Ba(),n=Ci(),l=ca(),a=Yo().dfltConfig;E.makeTemplate=function(x){x=k.isPlainObject(x)?x:k.getGraphDiv(x),x=k.extendDeep({_context:a},{data:x.data,layout:x.layout}),e.supplyDefaults(x);var y=x.data||[],m=x.layout||{};m._basePlotModules=x._fullLayout._basePlotModules,m._modules=x._fullLayout._modules;var c={data:{},layout:{}};y.forEach(function(z){var R={};r(z,R,u.bind(null,z));var U=k.coerce(z,{},n,"type"),Z=c.data[U];Z||(Z=c.data[U]=[]),Z.push(R)}),r(m,c.layout,p.bind(null,m)),delete c.layout.template;var h=m.template;if(i(h)){var b=h.layout,_,w,K,D,I,C;i(b)&&o(b,c.layout);var H=h.data;if(i(H)){for(w in c.data)if(K=H[w],Array.isArray(K)){for(I=c.data[w],C=I.length,D=K.length,_=0;_<C;_++)o(K[_%D],I[_]);for(_=C;_<D;_++)I.push(k.extendDeep({},K[_]))}for(w in H)w in c.data||(c.data[w]=k.extendDeep([],H[w]))}}return c};function o(x,y){x=k.extendDeep({},x);var m=Object.keys(x).sort(),c,h;function b(I,C,H){if(i(C)&&i(I))o(I,C);else if(Array.isArray(C)&&Array.isArray(I)){var z=l.arrayTemplater({_template:x},H);for(h=0;h<C.length;h++){var R=C[h],U=z.newItem(R)._template;U&&o(U,R)}var Z=z.defaultItems();for(h=0;h<Z.length;h++)C.push(Z[h]._template);for(h=0;h<C.length;h++)delete C[h].templateitemname}}for(c=0;c<m.length;c++){var _=m[c],w=x[_];if(_ in y?b(w,y[_],_):y[_]=w,s(_)===_)for(var K in y){var D=s(K);K!==D&&D===_&&!(K in x)&&b(w,y[K],_)}}}function s(x){return x.replace(/[0-9]+$/,"")}function r(x,y,m,c,h){var b=h&&m(h);for(var _ in x){var w=x[_],K=d(x,_,c),D=d(x,_,h),I=m(D);if(!I){var C=s(_);C!==_&&(D=d(x,C,h),I=m(D))}if(!(b&&b===I)&&!(!I||I._noTemplating||I.valType==="data_array"||I.arrayOk&&Array.isArray(w)))if(!I.valType&&i(w))r(w,y,m,K,D);else if(I._isLinkedToArray&&Array.isArray(w))for(var H=!1,z=0,R={},U=0;U<w.length;U++){var Z=w[U];if(i(Z)){var G=Z.name;if(G)R[G]||(r(Z,y,m,d(w,z,K),d(w,z,D)),z++,R[G]=1);else if(!H){var P=l.arrayDefaultKey(_),A=d(x,P,c),O=d(w,z,K);r(Z,y,m,O,d(w,z,D));var L=k.nestedProperty(y,O),S=k.nestedProperty(y,A);S.set(L.get()),L.set(null),H=!0}}}else{var F=k.nestedProperty(y,K);F.set(w)}}}function p(x,y){return t.getLayoutValObject(x,k.nestedProperty({},y).parts)}function u(x,y){return t.getTraceValObject(x,k.nestedProperty({},y).parts)}function d(x,y,m){var c;return m?Array.isArray(x)?c=m+"["+y+"]":c=m+"."+y:c=y,c}E.validateTemplate=function(x,y){var m=k.extendDeep({},{_context:a,data:x.data,layout:x.layout}),c=m.layout||{};i(y)||(y=c.template||{});var h=y.layout,b=y.data,_=[];m.layout=c,m.layout.template=y,e.supplyDefaults(m);var w=m._fullLayout,K=m._fullData,D={};function I(A,O){for(var L in A)if(L.charAt(0)!=="_"&&i(A[L])){var S=s(L),F=[],W;for(W=0;W<O.length;W++)F.push(d(A,L,O[W])),S!==L&&F.push(d(A,S,O[W]));for(W=0;W<F.length;W++)D[F[W]]=1;I(A[L],F)}}function C(A,O){for(var L in A)if(L.indexOf("defaults")===-1&&i(A[L])){var S=d(A,L,O);D[S]?C(A[L],S):_.push({code:"unused",path:S})}}if(i(h)?(I(w,["layout"]),C(h,"layout")):_.push({code:"layout"}),!i(b))_.push({code:"data"});else{for(var H={},z,R=0;R<K.length;R++){var U=K[R];z=U.type,H[z]=(H[z]||0)+1,U._fullInput._template||_.push({code:"missing",index:U.index,traceType:z})}for(z in b){var Z=b[z].length,G=H[z]||0;Z>G?_.push({code:"unused",traceType:z,templateCount:Z,dataCount:G}):G>Z&&_.push({code:"reused",traceType:z,templateCount:Z,dataCount:G})}}function P(A,O){for(var L in A)if(L.charAt(0)!=="_"){var S=A[L],F=d(A,L,O);i(S)?(Array.isArray(A)&&S._template===!1&&S.templateitemname&&_.push({code:"missing",path:F,templateitemname:S.templateitemname}),P(S,F)):Array.isArray(S)&&g(S)&&P(S,F)}}if(P({data:K,layout:w},""),_.length)return _.map(v)};function g(x){for(var y=0;y<x.length;y++)if(i(x[y]))return!0}function v(x){var y;switch(x.code){case"data":y="The template has no key data.";break;case"layout":y="The template has no key layout.";break;case"missing":x.path?y="There are no templates for item "+x.path+" with name "+x.templateitemname:y="There are no templates for trace "+x.index+", of type "+x.traceType+".";break;case"unused":x.path?y="The template item at "+x.path+" was not used in constructing the plot.":x.dataCount?y="Some of the templates of type "+x.traceType+" were not used. The template has "+x.templateCount+" traces, the data only has "+x.dataCount+" of this type.":y="The template has "+x.templateCount+" traces of type "+x.traceType+" but there are none in the data.";break;case"reused":y="Some of the templates of type "+x.traceType+" were used more than once. The template has "+x.templateCount+" traces, the data has "+x.dataCount+" of this type.";break}return x.msg=y,x}}),v0=xe(E=>{var k=cd();E._doPlot=k._doPlot,E.newPlot=k.newPlot,E.restyle=k.restyle,E.relayout=k.relayout,E.redraw=k.redraw,E.update=k.update,E._guiRestyle=k._guiRestyle,E._guiRelayout=k._guiRelayout,E._guiUpdate=k._guiUpdate,E._storeDirectGUIEdit=k._storeDirectGUIEdit,E.react=k.react,E.extendTraces=k.extendTraces,E.prependTraces=k.prependTraces,E.addTraces=k.addTraces,E.deleteTraces=k.deleteTraces,E.moveTraces=k.moveTraces,E.purge=k.purge,E.addFrames=k.addFrames,E.deleteFrames=k.deleteFrames,E.animate=k.animate,E.setPlotConfig=k.setPlotConfig;var i=Ls().getGraphDiv,t=pc().eraseActiveShape;E.deleteActiveShape=function(n){return t(i(n))},E.toImage=fd(),E.validate=p0(),E.downloadImage=dd();var e=y0();E.makeTemplate=e.makeTemplate,E.validateTemplate=e.validateTemplate}),hd=xe((E,k)=>{var i=sr(),t=mn();k.exports=function(e,n,l,a){var o=a("x"),s=a("y"),r,p=t.getComponentMethod("calendars","handleTraceDefaults");if(p(e,n,["x","y"],l),o){var u=i.minRowLength(o);s?r=Math.min(u,i.minRowLength(s)):(r=u,a("y0"),a("dy"))}else{if(!s)return 0;r=i.minRowLength(s),a("x0"),a("dx")}return n._length=r,r}}),pd=xe((E,k)=>{var i=sr().dateTick0,t=Pa(),e=t.ONEWEEK;function n(l,a){return l%e===0?i(a,1):i(a,0)}k.exports=function(l,a,o,s,r){if(r||(r={x:!0,y:!0}),r.x){var p=s("xperiod");p&&(s("xperiod0",n(p,a.xcalendar)),s("xperiodalignment"))}if(r.y){var u=s("yperiod");u&&(s("yperiod0",n(u,a.ycalendar)),s("yperiodalignment"))}}}),m0=xe((E,k)=>{var i=["orientation","groupnorm","stackgaps"];k.exports=function(t,e,n,l){var a=n._scatterStackOpts,o=l("stackgroup");if(o){var s=e.xaxis+e.yaxis,r=a[s];r||(r=a[s]={});var p=r[o],u=!1;p?p.traces.push(e):(p=r[o]={traceIndices:[],traces:[e]},u=!0);for(var d={orientation:e.x&&!e.y?"h":"v"},g=0;g<i.length;g++){var v=i[g],x=v+"Found";if(!p[x]){var y=t[v]!==void 0,m=v==="orientation";if((y||u)&&(p[v]=l(v,d[v]),m&&(p.fillDflt=p[v]==="h"?"tonextx":"tonexty"),y&&(p[x]=!0,!u&&(delete p.traces[0][v],m))))for(var c=0;c<p.traces.length-1;c++){var h=p.traces[c];h._input.fill!==h.fill&&(h.fill=p.fillDflt)}}}return p}}}),gd=xe((E,k)=>{var i=Nn(),t=Ui().hasColorscale,e=Fs(),n=ti();k.exports=function(l,a,o,s,r,p){var u=n.isBubble(l),d=(l.line||{}).color,g;if(p=p||{},d&&(o=d),r("marker.symbol"),r("marker.opacity",u?.7:1),r("marker.size"),p.noAngle||(r("marker.angle"),p.noAngleRef||r("marker.angleref"),p.noStandOff||r("marker.standoff")),r("marker.color",o),t(l,"marker")&&e(l,a,s,r,{prefix:"marker.",cLetter:"c"}),p.noSelect||(r("selected.marker.color"),r("unselected.marker.color"),r("selected.marker.size"),r("unselected.marker.size")),p.noLine||(d&&!Array.isArray(d)&&a.marker.color!==d?g=d:u?g=i.background:g=i.defaultLine,r("marker.line.color",g),t(l,"marker.line")&&e(l,a,s,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width",u?1:0)),u&&(r("marker.sizeref"),r("marker.sizemin"),r("marker.sizemode")),p.gradient){var v=r("marker.gradient.type");v!=="none"&&r("marker.gradient.color")}}}),yd=xe((E,k)=>{var i=sr().isArrayOrTypedArray,t=Ui().hasColorscale,e=Fs();k.exports=function(n,l,a,o,s,r){r||(r={});var p=(n.marker||{}).color;if(p&&p._inputArray&&(p=p._inputArray),s("line.color",a),t(n,"line"))e(n,l,o,s,{prefix:"line.",cLetter:"c"});else{var u=(i(p)?!1:p)||a;s("line.color",u)}s("line.width"),r.noDash||s("line.dash"),r.backoff&&s("line.backoff")}}),x0=xe((E,k)=>{k.exports=function(i,t,e){var n=e("line.shape");n==="spline"&&e("line.smoothing")}}),vd=xe((E,k)=>{var i=sr();k.exports=function(t,e,n,l,a){a=a||{},l("textposition"),i.coerceFont(l,"textfont",a.font||n.font,a),a.noSelect||(l("selected.textfont.color"),l("unselected.textfont.color"))}}),md=xe((E,k)=>{var i=Nn(),t=sr().isArrayOrTypedArray;function e(n){for(var l=i.interpolate(n[0][1],n[1][1],.5),a=2;a<n.length;a++){var o=i.interpolate(n[a-1][1],n[a][1],.5);l=i.interpolate(l,o,n[a-1][0]/n[a][0])}return l}k.exports=function(n,l,a,o,s){s||(s={});var r=!1;if(l.marker){var p=l.marker.color,u=(l.marker.line||{}).color;p&&!t(p)?r=p:u&&!t(u)&&(r=u)}var d;if(s.moduleHasFillgradient){var g=o("fillgradient.type");if(g!=="none"){o("fillgradient.start"),o("fillgradient.stop");var v=o("fillgradient.colorscale");v&&(d=e(v))}}o("fillcolor",i.addOpacity((l.line||{}).color||r||d||a,.5))}}),b0=xe((E,k)=>{var i=sr(),t=mn(),e=Ko(),n=Bs(),l=ti(),a=hd(),o=pd(),s=m0(),r=gd(),p=yd(),u=x0(),d=vd(),g=md(),v=sr().coercePattern;k.exports=function(x,y,m,c){function h(H,z){return i.coerce(x,y,e,H,z)}var b=a(x,y,c,h);if(b||(y.visible=!1),!!y.visible){o(x,y,c,h),h("xhoverformat"),h("yhoverformat"),h("zorder");var _=s(x,y,c,h);c.scattermode==="group"&&y.orientation===void 0&&h("orientation","v");var w=!_&&b<n.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("mode",w),l.hasMarkers(y)&&r(x,y,m,c,h,{gradient:!0}),l.hasLines(y)&&(p(x,y,m,c,h,{backoff:!0}),u(x,y,h),h("connectgaps"),h("line.simplify")),l.hasText(y)&&(h("texttemplate"),d(x,y,c,h));var K=[];(l.hasMarkers(y)||l.hasText(y))&&(h("cliponaxis"),h("marker.maxdisplayed"),K.push("points")),h("fill",_?_.fillDflt:"none"),y.fill!=="none"&&(g(x,y,m,h,{moduleHasFillgradient:!0}),l.hasLines(y)||u(x,y,h),v(h,"fillpattern",y.fillcolor,!1));var D=(y.line||{}).color,I=(y.marker||{}).color;(y.fill==="tonext"||y.fill==="toself")&&K.push("fills"),h("hoveron",K.join("+")||"points"),y.hoveron!=="fills"&&h("hovertemplate");var C=t.getComponentMethod("errorbars","supplyDefaults");C(x,y,D||I||m,{axis:"y"}),C(x,y,D||I||m,{axis:"x",inherit:"y"}),i.coerceSelectionMarkerOpacity(y,h)}}}),_0=xe((E,k)=>{var i=js().getAxisGroup;k.exports=function(t,e,n,l,a){var o=e.orientation,s=e[{v:"x",h:"y"}[o]+"axis"],r=i(n,s)+o,p=n._alignmentOpts||{},u=l("alignmentgroup"),d=p[r];d||(d=p[r]={});var g=d[u];g?g.traces.push(e):g=d[u]={traces:[e],alignmentIndex:Object.keys(d).length,offsetGroups:{}};var v=l("offsetgroup")||"",x=g.offsetGroups,y=x[v];e._offsetIndex=0,(a!=="group"||v)&&(y||(y=x[v]={offsetIndex:Object.keys(x).length}),e._offsetIndex=y.offsetIndex)}}),xd=xe((E,k)=>{var i=sr(),t=_0(),e=Ko();k.exports=function(n,l){var a,o,s,r=l.scattermode;function p(x){return i.coerce(o._input,o,e,x)}if(l.scattermode==="group")for(s=0;s<n.length;s++)o=n[s],o.type==="scatter"&&(a=o._input,t(a,o,l,p,r));for(s=0;s<n.length;s++){var u=n[s];if(u.type==="scatter"){var d=u.fill;if(!(d==="none"||d==="toself")&&(u.opacity=void 0,d==="tonexty"||d==="tonextx"))for(var g=s-1;g>=0;g--){var v=n[g];if(v.type==="scatter"&&v.xaxis===u.xaxis&&v.yaxis===u.yaxis){v.opacity=void 0;break}}}}}}),w0=xe((E,k)=>{var i=sr(),t=tc();k.exports=function(e,n){function l(o,s){return i.coerce(e,n,t,o,s)}var a=n.barmode==="group";n.scattermode==="group"&&l("scattergap",a?n.bargap:.2)}}),bd=xe((E,k)=>{var i=Bn(),t=sr(),e=t.dateTime2ms,n=t.incrementMonth,l=Pa(),a=l.ONEAVGMONTH;k.exports=function(o,s,r,p){if(s.type!=="date")return{vals:p};var u=o[r+"periodalignment"];if(!u)return{vals:p};var d=o[r+"period"],g;if(i(d)){if(d=+d,d<=0)return{vals:p}}else if(typeof d=="string"&&d.charAt(0)==="M"){var v=+d.substring(1);if(v>0&&Math.round(v)===v)g=v;else return{vals:p}}for(var x=s.calendar,y=u==="start",m=u==="end",c=o[r+"period0"],h=e(c,x)||0,b=[],_=[],w=[],K=p.length,D=0;D<K;D++){var I=p[D],C,H,z;if(g){for(C=Math.round((I-h)/(g*a)),z=n(h,g*C,x);z>I;)z=n(z,-g,x);for(;z<=I;)z=n(z,g,x);H=n(z,-g,x)}else{for(C=Math.round((I-h)/d),z=h+C*d;z>I;)z-=d;for(;z<=I;)z+=d;H=z-d}b[D]=y?H:m?z:(H+z)/2,_[D]=H,w[D]=z}return{vals:b,starts:_,ends:w}}}),_d=xe((E,k)=>{var i=Ui().hasColorscale,t=jf(),e=ti();k.exports=function(n,l){e.hasLines(l)&&i(l,"line")&&t(n,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),e.hasMarkers(l)&&(i(l,"marker")&&t(n,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),i(l,"marker.line")&&t(n,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}),wd=xe((E,k)=>{var i=sr();k.exports=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;i.mergeArray(e.text,t,"tx"),i.mergeArray(e.texttemplate,t,"txt"),i.mergeArray(e.hovertext,t,"htx"),i.mergeArray(e.customdata,t,"data"),i.mergeArray(e.textposition,t,"tp"),e.textfont&&(i.mergeArrayCastPositive(e.textfont.size,t,"ts"),i.mergeArray(e.textfont.color,t,"tc"),i.mergeArray(e.textfont.family,t,"tf"),i.mergeArray(e.textfont.weight,t,"tw"),i.mergeArray(e.textfont.style,t,"ty"),i.mergeArray(e.textfont.variant,t,"tv"),i.mergeArray(e.textfont.textcase,t,"tC"),i.mergeArray(e.textfont.lineposition,t,"tE"),i.mergeArray(e.textfont.shadow,t,"tS"));var l=e.marker;if(l){i.mergeArrayCastPositive(l.size,t,"ms"),i.mergeArrayCastPositive(l.opacity,t,"mo"),i.mergeArray(l.symbol,t,"mx"),i.mergeArray(l.angle,t,"ma"),i.mergeArray(l.standoff,t,"mf"),i.mergeArray(l.color,t,"mc");var a=l.line;l.line&&(i.mergeArray(a.color,t,"mlc"),i.mergeArrayCastPositive(a.width,t,"mlw"));var o=l.gradient;o&&o.type!=="none"&&(i.mergeArray(o.type,t,"mgt"),i.mergeArray(o.color,t,"mgc"))}}}),A0=xe((E,k)=>{var i=sr();k.exports=function(t,e){i.isArrayOrTypedArray(e.selectedpoints)&&i.tagSelected(t,e)}}),mc=xe((E,k)=>{var i=Bn(),t=sr(),e=Ma(),n=bd(),l=Pa().BADNUM,a=ti(),o=_d(),s=wd(),r=A0();function p(y,m){var c=y._fullLayout,h=m._xA=e.getFromId(y,m.xaxis||"x","x"),b=m._yA=e.getFromId(y,m.yaxis||"y","y"),_=h.makeCalcdata(m,"x"),w=b.makeCalcdata(m,"y"),K=n(m,h,"x",_),D=n(m,b,"y",w),I=K.vals,C=D.vals,H=m._length,z=new Array(H),R=m.ids,U=x(m,c,h,b),Z=!1,G,P,A,O,L,S;g(c,m);var F="x",W="y",ue;if(U)t.pushUnique(U.traceIndices,m.index),G=U.orientation==="v",G?(W="s",ue="x"):(F="s",ue="y"),L=U.stackgaps==="interpolate";else{var ae=d(m,H);u(y,m,h,b,I,C,ae)}var se=!!m.xperiodalignment,q=!!m.yperiodalignment;for(P=0;P<H;P++){var ee=z[P]={},B=i(I[P]),re=i(C[P]);B&&re?(ee[F]=I[P],ee[W]=C[P],se&&(ee.orig_x=_[P],ee.xEnd=K.ends[P],ee.xStart=K.starts[P]),q&&(ee.orig_y=w[P],ee.yEnd=D.ends[P],ee.yStart=D.starts[P])):U&&(G?B:re)?(ee[ue]=G?I[P]:C[P],ee.gap=!0,L?(ee.s=l,Z=!0):ee.s=0):ee[F]=ee[W]=l,R&&(ee.id=String(R[P]))}if(s(z,m),o(y,m),r(z,m),U){for(P=0;P<z.length;)z[P][ue]===l?z.splice(P,1):P++;if(t.sort(z,function($,te){return $[ue]-te[ue]||$.i-te.i}),Z){for(P=0;P<z.length-1&&z[P].gap;)P++;for(S=z[P].s,S||(S=z[P].s=0),A=0;A<P;A++)z[A].s=S;for(O=z.length-1;O>P&&z[O].gap;)O--;for(S=z[O].s,A=z.length-1;A>O;A--)z[A].s=S;for(;P<O;)if(P++,z[P].gap){for(A=P+1;z[A].gap;)A++;for(var J=z[P-1][ue],X=z[P-1].s,N=(z[A].s-X)/(z[A][ue]-J);P<A;)z[P].s=X+(z[P][ue]-J)*N,P++}}}return z}function u(y,m,c,h,b,_,w){var K=m._length,D=y._fullLayout,I=c._id,C=h._id,H=D._firstScatter[v(m)]===m.uid,z=(x(m,D,c,h)||{}).orientation,R=m.fill;c._minDtick=0,h._minDtick=0;var U={padded:!0},Z={padded:!0};w&&(U.ppad=Z.ppad=w);var G=K<2||b[0]!==b[K-1]||_[0]!==_[K-1];G&&(R==="tozerox"||R==="tonextx"&&(H||z==="h"))?U.tozero=!0:!(m.error_y||{}).visible&&(R==="tonexty"||R==="tozeroy"||!a.hasMarkers(m)&&!a.hasText(m))&&(U.padded=!1,U.ppad=0),G&&(R==="tozeroy"||R==="tonexty"&&(H||z==="v"))?Z.tozero=!0:(R==="tonextx"||R==="tozerox")&&(Z.padded=!1),I&&(m._extremes[I]=e.findExtremes(c,b,U)),C&&(m._extremes[C]=e.findExtremes(h,_,Z))}function d(y,m){if(a.hasMarkers(y)){var c=y.marker,h=1.6*(y.marker.sizeref||1),b;if(y.marker.sizemode==="area"?b=function(I){return Math.max(Math.sqrt((I||0)/h),3)}:b=function(I){return Math.max((I||0)/h,3)},t.isArrayOrTypedArray(c.size)){var _={type:"linear"};e.setConvert(_);for(var w=_.makeCalcdata(y.marker,"size"),K=new Array(m),D=0;D<m;D++)K[D]=b(w[D]);return K}else return b(c.size)}}function g(y,m){var c=v(m),h=y._firstScatter;h[c]||(h[c]=m.uid)}function v(y){var m=y.stackgroup;return y.xaxis+y.yaxis+y.type+(m?"-"+m:"")}function x(y,m,c,h){var b=y.stackgroup;if(b){var _=m._scatterStackOpts[c._id+h._id][b],w=_.orientation==="v"?h:c;if(w.type==="linear"||w.type==="log")return _}}k.exports={calc:p,calcMarkerSize:d,calcAxisExpansion:u,setFirstScatter:g,getStackOpts:x}}),T0=xe((E,k)=>{k.exports=t;var i=sr().distinctVals;function t(e,n){this.traces=e,this.sepNegVal=n.sepNegVal,this.overlapNoMerge=n.overlapNoMerge;for(var l=1/0,a=n.posAxis._id.charAt(0),o=[],s=0;s<e.length;s++){for(var r=e[s],p=0;p<r.length;p++){var u=r[p],d=u.p;d===void 0&&(d=u[a]),d!==void 0&&o.push(d)}r[0]&&r[0].width1&&(l=Math.min(r[0].width1,l))}this.positions=o;var g=i(o);this.distinctPositions=g.vals,g.vals.length===1&&l!==1/0?this.minDiff=l:this.minDiff=Math.min(g.minDiff,l);var v=(n.posAxis||{}).type;(v==="category"||v==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}t.prototype.put=function(e,n,l){var a=this.getLabel(e,n,l),o=this.bins[a]||0;return this.bins[a]=o+l,o},t.prototype.get=function(e,n,l){var a=this.getLabel(e,n,l);return this.bins[a]||0},t.prototype.getLabel=function(e,n,l){var a=l<0&&this.sepNegVal?"v":"^",o=this.overlapNoMerge?e:Math.round(e/this.binWidth);return a+o+"g"+n}}),k0=xe((E,k)=>{var i=Bn(),t=sr().isArrayOrTypedArray,e=Pa().BADNUM,n=mn(),l=Ma(),a=js().getAxisGroup,o=T0();function s(z,R){for(var U=R.xaxis,Z=R.yaxis,G=z._fullLayout,P=z._fullData,A=z.calcdata,O=[],L=[],S=0;S<P.length;S++){var F=P[S];if(F.visible===!0&&n.traceIs(F,"bar")&&F.xaxis===U._id&&F.yaxis===Z._id&&(F.orientation==="h"?O.push(A[S]):L.push(A[S]),F._computePh))for(var W=z.calcdata[S],ue=0;ue<W.length;ue++)typeof W[ue].ph0=="function"&&(W[ue].ph0=W[ue].ph0()),typeof W[ue].ph1=="function"&&(W[ue].ph1=W[ue].ph1())}var ae={xCat:U.type==="category"||U.type==="multicategory",yCat:Z.type==="category"||Z.type==="multicategory",mode:G.barmode,norm:G.barnorm,gap:G.bargap,groupgap:G.bargroupgap};r(z,U,Z,L,ae),r(z,Z,U,O,ae)}function r(z,R,U,Z,G){if(Z.length){var P,A,O,L,S;switch(d(U,Z),G.mode){case"overlay":g(z,R,U,Z,G);break;case"group":for(P=[],A=[],O=0;O<Z.length;O++)L=Z[O],S=L[0].trace,S.offset===void 0?A.push(L):P.push(L);A.length&&v(z,R,U,A,G),P.length&&g(z,R,U,P,G);break;case"stack":case"relative":for(P=[],A=[],O=0;O<Z.length;O++)L=Z[O],S=L[0].trace,S.base===void 0?A.push(L):P.push(L);u(A),A.length&&x(z,R,U,A,G),P.length&&g(z,R,U,P,G);break}p(Z),C(Z,R)}}function p(z){var R,U,Z,G,P,A,O;for(R=0;R<z.length;R++)U=z[R],Z=U[0].trace,G=U[0].t,G.cornerradiusvalue===void 0&&(P=Z.marker?Z.marker.cornerradius:void 0,P!==void 0&&(A=i(P)?+P:+P.slice(0,-1),O=i(P)?"px":"%",G.cornerradiusvalue=A,G.cornerradiusform=O))}function u(z){if(!(z.length<2)){var R,U,Z,G,P,A,O;for(R=0;R<z.length&&(U=z[R],Z=U[0].trace,P=Z.marker?Z.marker.cornerradius:void 0,P===void 0);R++);if(P!==void 0)for(A=i(P)?+P:+P.slice(0,-1),O=i(P)?"px":"%",R=0;R<z.length;R++)U=z[R],G=U[0].t,G.cornerradiusvalue=A,G.cornerradiusform=O}}function d(z,R){var U,Z;for(U=0;U<R.length;U++){var G=R[U],P=G[0].trace,A=P.type==="funnel"?P._base:P.base,O,L=P.orientation==="h"?P.xcalendar:P.ycalendar,S=z.type==="category"||z.type==="multicategory"?function(){return null}:z.d2c;if(t(A)){for(Z=0;Z<Math.min(A.length,G.length);Z++)O=S(A[Z],0,L),i(O)?(G[Z].b=+O,G[Z].hasB=1):G[Z].b=0;for(;Z<G.length;Z++)G[Z].b=0}else{O=S(A,0,L);var F=i(O);for(O=F?O:0,Z=0;Z<G.length;Z++)G[Z].b=O,F&&(G[Z].hasB=1)}}}function g(z,R,U,Z,G){for(var P=0;P<Z.length;P++){var A=Z[P],O=new o([A],{posAxis:R,sepNegVal:!1,overlapNoMerge:!G.norm});y(z,R,O,G),G.norm?(w(O),D(U,O,G)):b(U,O)}}function v(z,R,U,Z,G){var P=new o(Z,{posAxis:R,sepNegVal:!1,overlapNoMerge:!G.norm});y(z,R,P,G),K(P,R),G.norm?(w(P),D(U,P,G)):b(U,P)}function x(z,R,U,Z,G){var P=new o(Z,{posAxis:R,sepNegVal:G.mode==="relative",overlapNoMerge:!(G.norm||G.mode==="stack"||G.mode==="relative")});y(z,R,P,G),_(U,P,G);for(var A=0;A<Z.length;A++)for(var O=Z[A],L=O[0].t.offsetindex,S=0;S<O.length;S++){var F=O[S];if(F.s!==e){var W=F.b+F.s===P.get(F.p,L,F.s);W&&(F._outmost=!0)}}G.norm&&D(U,P,G)}function y(z,R,U,Z){var G=z._fullLayout,P=U.positions,A=U.distinctPositions,O=U.minDiff,L=U.traces,S=L.length,F=P.length!==A.length,W=O*(1-Z.gap),ue,ae,se,q;if(R._id==="angularaxis")ue=W,ae=ue*(1-(Z.groupgap||0)),se=-ae/2;else{var ee=a(G,R._id)+L[0][0].trace.orientation;q=G._alignmentOpts[ee]||{}}for(var B=0;B<S;B++){var re=L[B],J=re[0].trace;if(R._id!=="angularaxis"){var X=q[J.alignmentgroup]||{},N=Object.keys(X.offsetGroups||{}).length;N?ue=W/N:ue=F?W/S:W,ae=ue*(1-(Z.groupgap||0)),N?se=((2*J._offsetIndex+1-N)*ue-ae)/2:se=F?((2*B+1-S)*ue-ae)/2:-ae/2}var $=re[0].t;$.barwidth=ae,$.offsetindex=J._offsetIndex||0,$.poffset=se,$.bargroupwidth=W,$.bardelta=O}U.binWidth=L[0][0].t.barwidth/100,m(U),c(R,U),R._id==="angularaxis"?h(R,U):h(R,U,F)}function m(z){var R=z.traces,U,Z;for(U=0;U<R.length;U++){var G=R[U],P=G[0],A=P.trace,O=P.t,L=A._offset||A.offset,S=O.poffset,F;if(t(L)){for(F=Array.prototype.slice.call(L,0,G.length),Z=0;Z<F.length;Z++)i(F[Z])||(F[Z]=S);for(Z=F.length;Z<G.length;Z++)F.push(S);O.poffset=F}else L!==void 0&&(O.poffset=L);var W=A._width||A.width,ue=O.barwidth;if(t(W)){var ae=Array.prototype.slice.call(W,0,G.length);for(Z=0;Z<ae.length;Z++)i(ae[Z])||(ae[Z]=ue);for(Z=ae.length;Z<G.length;Z++)ae.push(ue);if(O.barwidth=ae,L===void 0){for(F=[],Z=0;Z<G.length;Z++)F.push(S+(ue-ae[Z])/2);O.poffset=F}}else W!==void 0&&(O.barwidth=W,L===void 0&&(O.poffset=S+(ue-W)/2))}}function c(z,R){for(var U=R.traces,Z=H(z),G=0;G<U.length;G++)for(var P=U[G],A=P[0].t,O=A.poffset,L=t(O),S=A.barwidth,F=t(S),W=0;W<P.length;W++){var ue=P[W],ae=ue.w=F?S[W]:S;ue.p===void 0&&(ue.p=ue[Z],ue["orig_"+Z]=ue[Z]);var se=(L?O[W]:O)+ae/2;ue[Z]=ue.p+se}}function h(z,R,U){var Z=R.traces,G=R.minDiff,P=G/2;l.minDtick(z,R.minDiff,R.distinctPositions[0],U);for(var A=0;A<Z.length;A++){var O=Z[A],L=O[0],S=L.trace,F=[],W,ue,ae,se;for(se=0;se<O.length;se++)W=O[se],ue=W.p-P,ae=W.p+P,F.push(ue,ae);if(S.width||S.offset){var q=L.t,ee=q.poffset,B=q.barwidth,re=t(ee),J=t(B);for(se=0;se<O.length;se++){W=O[se];var X=re?ee[se]:ee,N=J?B[se]:B;ue=W.p+X,ae=ue+N,F.push(ue,ae)}}S._extremes[z._id]=l.findExtremes(z,F,{padded:!1})}}function b(z,R){for(var U=R.traces,Z=H(z),G=0;G<U.length;G++){for(var P=U[G],A=P[0].trace,O=A.type==="scatter",L=A.orientation==="v",S=[],F=!1,W=0;W<P.length;W++){var ue=P[W],ae=O?0:ue.b,se=O?L?ue.y:ue.x:ae+ue.s;ue[Z]=se,S.push(se),ue.hasB&&S.push(ae),(!ue.hasB||!ue.b)&&(F=!0)}A._extremes[z._id]=l.findExtremes(z,S,{tozero:F,padded:!0})}}function _(z,R,U){var Z=H(z),G=R.traces,P,A,O,L,S,F,W;for(L=0;L<G.length;L++)if(P=G[L],A=P[0].trace,A.type==="funnel")for(W=P[0].t.offsetindex,S=0;S<P.length;S++)F=P[S],F.s!==e&&R.put(F.p,W,-.5*F.s);for(L=0;L<G.length;L++){P=G[L],A=P[0].trace,O=A.type==="funnel",W=A.type==="barpolar"?0:P[0].t.offsetindex;var ue=[];for(S=0;S<P.length;S++)if(F=P[S],F.s!==e){var ae;O?ae=F.s:ae=F.s+F.b;var se=R.put(F.p,W,ae),q=se+ae;F.b=se,F[Z]=q,U.norm||(ue.push(q),F.hasB&&ue.push(se))}U.norm||(A._extremes[z._id]=l.findExtremes(z,ue,{tozero:!0,padded:!0}))}}function w(z){for(var R=z.traces,U=0;U<R.length;U++)for(var Z=R[U],G=Z[0].t.offsetindex,P=0;P<Z.length;P++){var A=Z[P];A.s!==e&&z.put(A.p,G,A.b+A.s)}}function K(z,R){for(var U=z.traces,Z=0;Z<U.length;Z++){var G=U[Z],P=G[0].trace,A=G[0].t.offsetindex;if(P.base===void 0)for(var O=new o([G],{posAxis:R,sepNegVal:!0,overlapNoMerge:!0}),L=0;L<G.length;L++){var S=G[L];if(S.p!==e){var F=O.put(S.p,A,S.b+S.s);F&&(S.b=F)}}}}function D(z,R,U){var Z=R.traces,G=H(z),P=U.norm==="fraction"?1:100,A=P/1e9,O=z.l2c(z.c2l(0)),L=U.mode==="stack"?P:O;function S($){return i(z.c2l($))&&($<O-A||$>L+A||!i(O))}for(var F=0;F<Z.length;F++){for(var W=Z[F],ue=W[0].t.offsetindex,ae=W[0].trace,se=[],q=!1,ee=!1,B=0;B<W.length;B++){var re=W[B];if(re.s!==e){var J=Math.abs(P/R.get(re.p,ue,re.s));re.b*=J,re.s*=J;var X=re.b,N=X+re.s;re[G]=N,se.push(N),ee=ee||S(N),re.hasB&&(se.push(X),ee=ee||S(X)),(!re.hasB||!re.b)&&(q=!0)}}ae._extremes[z._id]=l.findExtremes(z,se,{tozero:q,padded:ee})}}function I(z,R,U,Z){for(var G=H(Z),P=0;P<z.length;P++)for(var A=z[P],O=0;O<A.length;O++){var L=A[O],S=L[G];L._sMin=R[S],L._sMax=U[S]}}function C(z,R){var U=H(R),Z={},G,P,A,O=1/0,L=-1/0;for(G=0;G<z.length;G++)for(A=z[G],P=0;P<A.length;P++){var S=A[P].p;i(S)&&(O=Math.min(O,S),L=Math.max(L,S))}var F=1e4/(L-O),W=Z.round=function(le){return String(Math.round(F*(le-O)))},ue={},ae={},se=z.some(function(le){var pe=le[0].trace;return"marker"in pe&&pe.marker.cornerradius});for(G=0;G<z.length;G++){A=z[G],A[0].t.extents=Z;var q=A[0].t.poffset,ee=t(q);for(P=0;P<A.length;P++){var B=A[P],re=B[U]-B.w/2;if(i(re)){var J=B[U]+B.w/2,X=W(B.p);Z[X]?Z[X]=[Math.min(re,Z[X][0]),Math.max(J,Z[X][1])]:Z[X]=[re,J]}if(B.p0=B.p+(ee?q[P]:q),B.p1=B.p0+B.w,B.s0=B.b,B.s1=B.s0+B.s,se){var N=Math.min(B.s0,B.s1)||0,$=Math.max(B.s0,B.s1)||0,te=B[U];ue[te]=te in ue?Math.min(ue[te],N):N,ae[te]=te in ae?Math.max(ae[te],$):$}}}se&&I(z,ue,ae,R)}function H(z){return z._id.charAt(0)}k.exports={crossTraceCalc:s,setGroupPositions:r}}),M0=xe((E,k)=>{var i=mc(),t=k0().setGroupPositions;function e(a,o){for(var s=o.xaxis,r=o.yaxis,p=a._fullLayout,u=a._fullData,d=a.calcdata,g=[],v=[],x=0;x<u.length;x++){var y=u[x];y.visible===!0&&y.type==="scatter"&&y.xaxis===s._id&&y.yaxis===r._id&&(y.orientation==="h"?g.push(d[x]):y.orientation==="v"&&v.push(d[x]))}var m={mode:p.scattermode,gap:p.scattergap};t(a,s,r,v,m),t(a,r,s,g,m)}k.exports=function(a,o){a._fullLayout.scattermode==="group"&&e(a,o);var s=o.xaxis,r=o.yaxis,p=s._id+r._id,u=a._fullLayout._scatterStackOpts[p];if(u){var d=a.calcdata,g,v,x,y,m,c,h,b,_,w,K,D,I,C,H;for(var z in u){w=u[z];var R=w.traceIndices;if(R.length){for(K=w.stackgaps==="interpolate",D=w.groupnorm,w.orientation==="v"?(I="x",C="y"):(I="y",C="x"),H=new Array(R.length),g=0;g<H.length;g++)H[g]=!1;c=d[R[0]];var U=new Array(c.length);for(g=0;g<c.length;g++)U[g]=c[g][I];for(g=1;g<R.length;g++){for(m=d[R[g]],v=x=0;v<m.length;v++){for(h=m[v][I];h>U[x]&&x<U.length;x++)n(m,v,U[x],g,H,K,I),v++;if(h!==U[x]){for(y=0;y<g;y++)n(d[R[y]],x,h,y,H,K,I);U.splice(x,0,h)}x++}for(;x<U.length;x++)n(m,v,U[x],g,H,K,I),v++}var Z=U.length;for(v=0;v<c.length;v++){for(b=c[v][C]=c[v].s,g=1;g<R.length;g++)m=d[R[g]],m[0].trace._rawLength=m[0].trace._length,m[0].trace._length=Z,b+=m[v].s,m[v][C]=b;if(D)for(_=(D==="fraction"?b:b/100)||1,g=0;g<R.length;g++){var G=d[R[g]][v];G[C]/=_,G.sNorm=G.s/_}}for(g=0;g<R.length;g++){m=d[R[g]];var P=m[0].trace,A=i.calcMarkerSize(P,P._rawLength),O=Array.isArray(A);if(A&&H[g]||O){var L=A;for(A=new Array(Z),v=0;v<Z;v++)A[v]=m[v].gap?0:O?L[m[v].i]:L}var S=new Array(Z),F=new Array(Z);for(v=0;v<Z;v++)S[v]=m[v].x,F[v]=m[v].y;i.calcAxisExpansion(a,P,s,r,S,F,A),m[0].t.orientation=w.orientation}}}}};function n(a,o,s,r,p,u,d){p[r]=!0;var g={i:null,gap:!0,s:0};if(g[d]=s,a.splice(o,0,g),o&&s===a[o-1][d]){var v=a[o-1];g.s=v.s,g.i=v.i,g.gap=v.gap}else u&&(g.s=l(a,o,s,d));o||(a[0].t=a[1].t,a[0].trace=a[1].trace,delete a[1].t,delete a[1].trace)}function l(a,o,s,r){var p=a[o-1],u=a[o+1];return u?p?p.s+(u.s-p.s)*(s-p[r])/(u[r]-p[r]):u.s:p.s}}),S0=xe((E,k)=>{var i=na(),t=Pa(),e=t.BADNUM,n=t.LOG_CLIP,l=n+.5,a=n-.5,o=sr(),s=o.segmentsIntersect,r=o.constrain,p=Bs();k.exports=function(u,d){var g=d.trace||{},v=d.xaxis,x=d.yaxis,y=v.type==="log",m=x.type==="log",c=v._length,h=x._length,b=d.backoff,_=g.marker,w=d.connectGaps,K=d.baseTolerance,D=d.shape,I=D==="linear",C=g.fill&&g.fill!=="none",H=[],z=p.minTolerance,R=u.length,U=new Array(R),Z=0,G,P,A,O,L,S,F,W,ue,ae,se,q,ee,B,re,J;function X(Le){var tt=u[Le];if(!tt)return!1;var nt=d.linearized?v.l2p(tt.x):v.c2p(tt.x),ut=d.linearized?x.l2p(tt.y):x.c2p(tt.y);if(nt===e){if(y&&(nt=v.c2p(tt.x,!0)),nt===e)return!1;m&&ut===e&&(nt*=Math.abs(v._m*h*(v._m>0?l:a)/(x._m*c*(x._m>0?l:a)))),nt*=1e3}if(ut===e){if(m&&(ut=x.c2p(tt.y,!0)),ut===e)return!1;ut*=1e3}return[nt,ut]}function N(Le,tt,nt,ut){var Ye=nt-Le,st=ut-tt,xt=.5-Le,Tt=.5-tt,tr=Ye*Ye+st*st,cr=Ye*xt+st*Tt;if(cr>0&&cr<tr){var Er=xt*st-Tt*Ye;if(Er*Er<tr)return!0}}var $,te;function le(Le,tt){var nt=Le[0]/c,ut=Le[1]/h,Ye=Math.max(0,-nt,nt-1,-ut,ut-1);return Ye&&$!==void 0&&N(nt,ut,$,te)&&(Ye=0),Ye&&tt&&N(nt,ut,tt[0]/c,tt[1]/h)&&(Ye=0),(1+p.toleranceGrowth*Ye)*K}function pe(Le,tt){var nt=Le[0]-tt[0],ut=Le[1]-tt[1];return Math.sqrt(nt*nt+ut*ut)}var fe=p.maxScreensAway,ye=-c*fe,Me=c*(1+fe),He=-h*fe,Ne=h*(1+fe),ze=[[ye,He,Me,He],[Me,He,Me,Ne],[Me,Ne,ye,Ne],[ye,Ne,ye,He]],Re,Ae,T,V,j,he;function be(Le,tt){for(var nt=[],ut=0,Ye=0;Ye<4;Ye++){var st=ze[Ye],xt=s(Le[0],Le[1],tt[0],tt[1],st[0],st[1],st[2],st[3]);xt&&(!ut||Math.abs(xt.x-nt[0][0])>1||Math.abs(xt.y-nt[0][1])>1)&&(xt=[xt.x,xt.y],ut&&pe(xt,Le)<pe(nt[0],Le)?nt.unshift(xt):nt.push(xt),ut++)}return nt}function ke(Le){if(Le[0]<ye||Le[0]>Me||Le[1]<He||Le[1]>Ne)return[r(Le[0],ye,Me),r(Le[1],He,Ne)]}function Ce(Le,tt){if(Le[0]===tt[0]&&(Le[0]===ye||Le[0]===Me)||Le[1]===tt[1]&&(Le[1]===He||Le[1]===Ne))return!0}function qe(Le,tt){var nt=[],ut=ke(Le),Ye=ke(tt);return ut&&Ye&&Ce(ut,Ye)||(ut&&nt.push(ut),Ye&&nt.push(Ye)),nt}function at(Le,tt,nt){return function(ut,Ye){var st=ke(ut),xt=ke(Ye),Tt=[];if(st&&xt&&Ce(st,xt))return Tt;st&&Tt.push(st),xt&&Tt.push(xt);var tr=2*o.constrain((ut[Le]+Ye[Le])/2,tt,nt)-((st||ut)[Le]+(xt||Ye)[Le]);if(tr){var cr;st&&xt?cr=tr>0==st[Le]>xt[Le]?st:xt:cr=st||xt,cr[Le]+=tr}return Tt}}var ct;D==="linear"||D==="spline"?ct=be:D==="hv"||D==="vh"?ct=qe:D==="hvh"?ct=at(0,ye,Me):D==="vhv"&&(ct=at(1,He,Ne));function vt(Le,tt){var nt=tt[0]-Le[0],ut=(tt[1]-Le[1])/nt,Ye=(Le[1]*tt[0]-tt[1]*Le[0])/nt;return Ye>0?[ut>0?ye:Me,Ne]:[ut>0?Me:ye,He]}function St(Le){var tt=Le[0],nt=Le[1],ut=tt===U[Z-1][0],Ye=nt===U[Z-1][1];if(!(ut&&Ye))if(Z>1){var st=tt===U[Z-2][0],xt=nt===U[Z-2][1];ut&&(tt===ye||tt===Me)&&st?xt?Z--:U[Z-1]=Le:Ye&&(nt===He||nt===Ne)&&xt?st?Z--:U[Z-1]=Le:U[Z++]=Le}else U[Z++]=Le}function ot(Le){U[Z-1][0]!==Le[0]&&U[Z-1][1]!==Le[1]&&St([T,V]),St(Le),j=null,T=V=0}var Ct=o.isArrayOrTypedArray(_);function It(Le){if(Le&&b&&(Le.i=G,Le.d=u,Le.trace=g,Le.marker=Ct?_[Le.i]:_,Le.backoff=b),$=Le[0]/c,te=Le[1]/h,Re=Le[0]<ye?ye:Le[0]>Me?Me:0,Ae=Le[1]<He?He:Le[1]>Ne?Ne:0,Re||Ae){if(!Z)U[Z++]=[Re||Le[0],Ae||Le[1]];else if(j){var tt=ct(j,Le);tt.length>1&&(ot(tt[0]),U[Z++]=tt[1])}else he=ct(U[Z-1],Le)[0],U[Z++]=he;var nt=U[Z-1];Re&&Ae&&(nt[0]!==Re||nt[1]!==Ae)?(j&&(T!==Re&&V!==Ae?St(T&&V?vt(j,Le):[T||Re,V||Ae]):T&&V&&St([T,V])),St([Re,Ae])):T-Re&&V-Ae&&St([Re||T,Ae||V]),j=Le,T=Re,V=Ae}else j&&ot(ct(j,Le)[0]),U[Z++]=Le}for(G=0;G<R;G++)if(P=X(G),!!P){for(Z=0,j=null,It(P),G++;G<R;G++){if(O=X(G),!O){if(w)continue;break}if(!I||!d.simplify){It(O);continue}var At=X(G+1);if(ae=pe(O,P),!(!(C&&(Z===0||Z===R-1))&&ae<le(O,At)*z)){for(W=[(O[0]-P[0])/ae,(O[1]-P[1])/ae],L=P,se=ae,q=B=re=0,F=!1,A=O,G++;G<u.length;G++){if(S=At,At=X(G+1),!S){if(w)continue;break}if(ue=[S[0]-P[0],S[1]-P[1]],J=ue[0]*W[1]-ue[1]*W[0],B=Math.min(B,J),re=Math.max(re,J),re-B>le(S,At))break;A=S,ee=ue[0]*W[0]+ue[1]*W[1],ee>se?(se=ee,O=S,F=!1):ee<q&&(q=ee,L=S,F=!0)}if(F?(It(O),A!==L&&It(L)):(L!==P&&It(L),A!==O&&It(O)),It(A),G>=u.length||!S)break;It(S),P=S}}j&&St([T||j[0],V||j[1]]),H.push(U.slice(0,Z))}var Nt=D.slice(D.length-1);if(b&&Nt!=="h"&&Nt!=="v"){for(var _e=!1,De=-1,je=[],ie=0;ie<H.length;ie++)for(var ve=0;ve<H[ie].length-1;ve++){var we=H[ie][ve],Se=H[ie][ve+1],Ue=i.applyBackoff(Se,we);(Ue[0]!==Se[0]||Ue[1]!==Se[1])&&(_e=!0),je[De+1]||(De++,je[De]=[we,[Ue[0],Ue[1]]])}return _e?je:H}return H}}),Ad=xe((E,k)=>{var i={tonextx:1,tonexty:1,tonext:1};k.exports=function(t,e,n){var l,a,o,s,r,p={},u=!1,d=-1,g=0,v=-1;for(a=0;a<n.length;a++)l=n[a][0].trace,o=l.stackgroup||"",o?o in p?r=p[o]:(r=p[o]=g,g++):l.fill in i&&v>=0?r=v:(r=v=g,g++),r<d&&(u=!0),l._groupIndex=d=r;var x=n.slice();u&&x.sort(function(m,c){var h=m[0].trace,b=c[0].trace;return h._groupIndex-b._groupIndex||h.index-b.index});var y={};for(a=0;a<x.length;a++)l=x[a][0].trace,o=l.stackgroup||"",l.visible===!0?(l._nexttrace=null,l.fill in i&&(s=y[o],l._prevtrace=s||null,s&&(s._nexttrace=l)),l._ownfill=l.fill&&(l.fill.substr(0,6)==="tozero"||l.fill==="toself"||l.fill.substr(0,2)==="to"&&!l._prevtrace),y[o]=l):l._prevtrace=l._nexttrace=l._ownfill=null;return x}}),O0=xe((E,k)=>{var i=Jn(),t=mn(),e=sr(),n=e.ensureSingle,l=e.identity,a=na(),o=ti(),s=S0(),r=Ad(),p=id().tester;k.exports=function(v,x,y,m,c,h){var b,_,w=!c,K=!!c&&c.duration>0,D=r(v,x,y);if(b=m.selectAll("g.trace").data(D,function(C){return C[0].trace.uid}),b.enter().append("g").attr("class",function(C){return"trace scatter trace"+C[0].trace.uid}).style("stroke-miterlimit",2),b.order(),u(v,b,x),K){h&&(_=h());var I=i.transition().duration(c.duration).ease(c.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});I.each(function(){m.selectAll("g.trace").each(function(C,H){d(v,H,x,C,D,this,c)})})}else b.each(function(C,H){d(v,H,x,C,D,this,c)});w&&b.exit().remove(),m.selectAll("path:not([d])").remove()};function u(v,x,y){x.each(function(m){var c=n(i.select(this),"g","fills");a.setClipUrl(c,y.layerClipId,v);var h=m[0].trace,b=[];h._ownfill&&b.push("_ownFill"),h._nexttrace&&b.push("_nextFill");var _=c.selectAll("g").data(b,l);_.enter().append("g"),_.exit().each(function(w){h[w]=null}).remove(),_.order().each(function(w){h[w]=n(i.select(this),"path","js-fill")})})}function d(v,x,y,m,c,h,b){var _=v._context.staticPlot,w;g(v,x,y,m,c);var K=!!b&&b.duration>0;function D(ot){return K?ot.transition():ot}var I=y.xaxis,C=y.yaxis,H=m[0].trace,z=H.line,R=i.select(h),U=n(R,"g","errorbars"),Z=n(R,"g","lines"),G=n(R,"g","points"),P=n(R,"g","text");if(t.getComponentMethod("errorbars","plot")(v,U,y,b),H.visible!==!0)return;D(R).style("opacity",H.opacity);var A,O,L=H.fill.charAt(H.fill.length-1);L!=="x"&&L!=="y"&&(L="");var S,F;L==="y"?(S=1,F=C.c2p(0,!0)):L==="x"&&(S=0,F=I.c2p(0,!0)),m[0][y.isRangePlot?"nodeRangePlot3":"node3"]=R;var W="",ue=[],ae=H._prevtrace,se=null,q=null;ae&&(W=ae._prevRevpath||"",O=ae._nextFill,ue=ae._ownPolygons,se=ae._fillsegments,q=ae._fillElement);var ee,B,re="",J="",X,N,$,te,le,pe,fe=[];H._polygons=[];var ye=[],Me=[],He=e.noop;if(A=H._ownFill,o.hasLines(H)||H.fill!=="none"){O&&O.datum(m),["hv","vh","hvh","vhv"].indexOf(z.shape)!==-1?(X=a.steps(z.shape),N=a.steps(z.shape.split("").reverse().join(""))):z.shape==="spline"?X=N=function(ot){var Ct=ot[ot.length-1];return ot.length>1&&ot[0][0]===Ct[0]&&ot[0][1]===Ct[1]?a.smoothclosed(ot.slice(1),z.smoothing):a.smoothopen(ot,z.smoothing)}:X=N=function(ot){return"M"+ot.join("L")},$=function(ot){return N(ot.reverse())},Me=s(m,{xaxis:I,yaxis:C,trace:H,connectGaps:H.connectgaps,baseTolerance:Math.max(z.width||1,3)/4,shape:z.shape,backoff:z.backoff,simplify:z.simplify,fill:H.fill}),ye=new Array(Me.length);var Ne=0;for(w=0;w<Me.length;w++){var ze,Re=Me[w];!ze||!L?(ze=Re.slice(),ye[Ne]=ze,Ne++):ze.push.apply(ze,Re)}H._fillElement=null,H._fillExclusionElement=q,H._fillsegments=ye.slice(0,Ne),ye=H._fillsegments,Me.length&&(te=Me[0][0].slice(),le=Me[Me.length-1],pe=le[le.length-1].slice()),He=function(ot){return function(Ct){if(ee=X(Ct),B=$(Ct),re?L?(re+="L"+ee.substr(1),J=B+("L"+J.substr(1))):(re+="Z"+ee,J=B+"Z"+J):(re=ee,J=B),o.hasLines(H)){var It=i.select(this);if(It.datum(m),ot)D(It.style("opacity",0).attr("d",ee).call(a.lineGroupStyle)).style("opacity",1);else{var At=D(It);At.attr("d",ee),a.singleLineStyle(m,At)}}}}}var Ae=Z.selectAll(".js-line").data(Me);D(Ae.exit()).style("opacity",0).remove(),Ae.each(He(!1)),Ae.enter().append("path").classed("js-line",!0).style("vector-effect",_?"none":"non-scaling-stroke").call(a.lineGroupStyle).each(He(!0)),a.setClipUrl(Ae,y.layerClipId,v);function T(ot){D(ot).attr("d","M0,0Z")}var V=function(){var ot=new Array(ye.length);for(w=0;w<ye.length;w++)ot[w]=p(ye[w]);return ot},j=function(ot){var Ct,It;if(!ot||ot.length===0)for(Ct=new Array(ye.length),It=0;It<ye.length;It++){var At=ye[It][0].slice(),Nt=ye[It][ye[It].length-1].slice();At[S]=Nt[S]=F;var _e=[Nt,At],De=_e.concat(ye[It]);Ct[It]=p(De)}else{for(Ct=new Array(ot.length-1+ye.length),It=0;It<ot.length-1;It++)Ct[It]=p(ot[It]);var je=ot[ot.length-1].slice();for(je.reverse(),It=0;It<ye.length;It++)Ct[ot.length-1+It]=p(ye[It].concat(je))}return Ct};Me.length?(A?(A.datum(m),te&&pe&&(L?(te[S]=pe[S]=F,D(A).attr("d","M"+pe+"L"+te+"L"+re.substr(1)).call(a.singleFillStyle,v),fe=j(null)):(D(A).attr("d",re+"Z").call(a.singleFillStyle,v),fe=V())),H._polygons=fe,H._fillElement=A):O&&(H.fill.substr(0,6)==="tonext"&&re&&W?(H.fill==="tonext"?(D(O).attr("d",re+"Z"+W+"Z").call(a.singleFillStyle,v),fe=V(),H._polygons=fe.concat(ue)):(D(O).attr("d",re+"L"+W.substr(1)+"Z").call(a.singleFillStyle,v),fe=j(se),H._polygons=fe),H._fillElement=O):T(O)),H._prevRevpath=J):(A?T(A):O&&T(O),H._prevRevpath=null),H._ownPolygons=fe;function he(ot){return ot.filter(function(Ct){return!Ct.gap&&Ct.vis})}function be(ot){return ot.filter(function(Ct){return Ct.vis})}function ke(ot){return ot.filter(function(Ct){return!Ct.gap})}function Ce(ot){return ot.id}function qe(ot){if(ot.ids)return Ce}function at(){return!1}function ct(ot,Ct,It){var At,Nt,_e,De=It[0].trace,je=o.hasMarkers(De),ie=o.hasText(De),ve=qe(De),we=at,Se=at;if(je||ie){var Ue=l,Le=De.stackgroup,tt=Le&&v._fullLayout._scatterStackOpts[I._id+C._id][Le].stackgaps==="infer zero";De.marker.maxdisplayed||De._needsCull?Ue=tt?be:he:Le&&!tt&&(Ue=ke),je&&(we=Ue),ie&&(Se=Ue)}Nt=ot.selectAll("path.point"),At=Nt.data(we,ve);var nt=At.enter().append("path").classed("point",!0);K&&nt.call(a.pointStyle,De,v).call(a.translatePoints,I,C).style("opacity",0).transition().style("opacity",1),At.order();var ut;je&&(ut=a.makePointStyleFns(De)),At.each(function(Ye){var st=i.select(this),xt=D(st);_e=a.translatePoint(Ye,xt,I,C),_e?(a.singlePointStyle(Ye,xt,De,ut,v),y.layerClipId&&a.hideOutsideRangePoint(Ye,xt,I,C,De.xcalendar,De.ycalendar),De.customdata&&st.classed("plotly-customdata",Ye.data!==null&&Ye.data!==void 0)):xt.remove()}),K?At.exit().transition().style("opacity",0).remove():At.exit().remove(),Nt=Ct.selectAll("g"),At=Nt.data(Se,ve),At.enter().append("g").classed("textpoint",!0).append("text"),At.order(),At.each(function(Ye){var st=i.select(this),xt=D(st.select("text"));_e=a.translatePoint(Ye,xt,I,C),_e?y.layerClipId&&a.hideOutsideRangePoint(Ye,st,I,C,De.xcalendar,De.ycalendar):st.remove()}),At.selectAll("text").call(a.textPointStyle,De,v).each(function(Ye){var st=I.c2p(Ye.x),xt=C.c2p(Ye.y);i.select(this).selectAll("tspan.line").each(function(){D(i.select(this)).attr({x:st,y:xt})})}),At.exit().remove()}G.datum(m),P.datum(m),ct(G,P,m);var vt=H.cliponaxis===!1,St=vt?null:y.layerClipId;a.setClipUrl(G,St,v),a.setClipUrl(P,St,v)}function g(v,x,y,m,c){var h=y.xaxis,b=y.yaxis,_=i.extent(e.simpleMap(h.range,h.r2c)),w=i.extent(e.simpleMap(b.range,b.r2c)),K=m[0].trace;if(o.hasMarkers(K)){var D=K.marker.maxdisplayed;if(D!==0){var I=m.filter(function(R){return R.x>=_[0]&&R.x<=_[1]&&R.y>=w[0]&&R.y<=w[1]}),C=Math.ceil(I.length/D),H=0;c.forEach(function(R,U){var Z=R[0].trace;o.hasMarkers(Z)&&Z.marker.maxdisplayed>0&&U<x&&H++});var z=Math.round(H*C/3+Math.floor(H/3)*C/7.1);m.forEach(function(R){delete R.vis}),I.forEach(function(R,U){Math.round((U+z)%C)===0&&(R.vis=!0)})}}}}),Td=xe((E,k)=>{k.exports={container:"marker",min:"cmin",max:"cmax"}}),kd=xe((E,k)=>{var i=Ma();k.exports=function(t,e,n){var l={},a={_fullLayout:n},o=i.getFromTrace(a,e,"x"),s=i.getFromTrace(a,e,"y"),r=t.orig_x;r===void 0&&(r=t.x);var p=t.orig_y;return p===void 0&&(p=t.y),l.xLabel=i.tickText(o,o.c2l(r),!0).text,l.yLabel=i.tickText(s,s.c2l(p),!0).text,l}}),Md=xe((E,k)=>{var i=Jn(),t=na(),e=mn();function n(s){var r=i.select(s).selectAll("g.trace.scatter");r.style("opacity",function(p){return p[0].trace.opacity}),r.selectAll("g.points").each(function(p){var u=i.select(this),d=p.trace||p[0].trace;l(u,d,s)}),r.selectAll("g.text").each(function(p){var u=i.select(this),d=p.trace||p[0].trace;a(u,d,s)}),r.selectAll("g.trace path.js-line").call(t.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(t.fillGroupStyle,s,!1),e.getComponentMethod("errorbars","style")(r)}function l(s,r,p){t.pointStyle(s.selectAll("path.point"),r,p)}function a(s,r,p){t.textPointStyle(s.selectAll("text"),r,p)}function o(s,r,p){var u=r[0].trace;u.selectedpoints?(t.selectedPointStyle(p.selectAll("path.point"),u),t.selectedTextStyle(p.selectAll("text"),u)):(l(p,u,s),a(p,u,s))}k.exports={style:n,stylePoints:l,styleText:a,styleOnSelect:o}}),Sd=xe((E,k)=>{var i=Nn(),t=ti();k.exports=function(e,n){var l,a;if(e.mode==="lines")return l=e.line.color,l&&i.opacity(l)?l:e.fillcolor;if(e.mode==="none")return e.fill?e.fillcolor:"";var o=n.mcc||(e.marker||{}).color,s=n.mlcc||((e.marker||{}).line||{}).color;return a=o&&i.opacity(o)?o:s&&i.opacity(s)&&(n.mlw||((e.marker||{}).line||{}).width)?s:"",a?i.opacity(a)<.3?i.addOpacity(a,.3):a:(l=(e.line||{}).color,l&&i.opacity(l)&&t.hasLines(e)&&e.line.width?l:e.fillcolor)}}),L0=xe((E,k)=>{var i=sr(),t=Oo(),e=mn(),n=Sd(),l=Nn(),a=i.fillText;k.exports=function(o,s,r,p){var u=o.cd,d=u[0].trace,g=o.xa,v=o.ya,x=g.c2p(s),y=v.c2p(r),m=[x,y],c=d.hoveron||"",h=d.mode.indexOf("markers")!==-1?3:.5,b=!!d.xperiodalignment,_=!!d.yperiodalignment;if(c.indexOf("points")!==-1){var w=function(W){if(b){var ue=g.c2p(W.xStart),ae=g.c2p(W.xEnd);return x>=Math.min(ue,ae)&&x<=Math.max(ue,ae)?0:1/0}var se=Math.max(3,W.mrc||0),q=1-1/se,ee=Math.abs(g.c2p(W.x)-x);return ee<se?q*ee/se:ee-se+q},K=function(W){if(_){var ue=v.c2p(W.yStart),ae=v.c2p(W.yEnd);return y>=Math.min(ue,ae)&&y<=Math.max(ue,ae)?0:1/0}var se=Math.max(3,W.mrc||0),q=1-1/se,ee=Math.abs(v.c2p(W.y)-y);return ee<se?q*ee/se:ee-se+q},D=function(W){var ue=Math.max(h,W.mrc||0),ae=g.c2p(W.x)-x,se=v.c2p(W.y)-y;return Math.max(Math.sqrt(ae*ae+se*se)-ue,1-h/ue)},I=t.getDistanceFunction(p,w,K,D);if(t.getClosest(u,I,o),o.index!==!1){var C=u[o.index],H=g.c2p(C.x,!0),z=v.c2p(C.y,!0),R=C.mrc||1;o.index=C.i;var U=u[0].t.orientation,Z=U&&(C.sNorm||C.s),G=U==="h"?Z:C.orig_x!==void 0?C.orig_x:C.x,P=U==="v"?Z:C.orig_y!==void 0?C.orig_y:C.y;return i.extendFlat(o,{color:n(d,C),x0:H-R,x1:H+R,xLabelVal:G,y0:z-R,y1:z+R,yLabelVal:P,spikeDistance:D(C),hovertemplate:d.hovertemplate}),a(C,d,o),e.getComponentMethod("errorbars","hoverInfo")(C,d,o),[o]}}function A(W){if(!W)return!1;var ue=W.node();try{var ae=new DOMPoint(m[0],m[1]);return ue.isPointInFill(ae)}catch{var se=ue.ownerSVGElement.createSVGPoint();return se.x=m[0],se.y=m[1],ue.isPointInFill(se)}}function O(W){var ue,ae=[],se=1/0,q=-1/0,ee=1/0,B=-1/0,re;for(ue=0;ue<W.length;ue++){var J=W[ue];J.contains(m)&&(ae.push(J),ee=Math.min(ee,J.ymin),B=Math.max(B,J.ymax))}if(ae.length===0)return null;ee=Math.max(ee,0),B=Math.min(B,v._length),re=(ee+B)/2;var X,N,$,te,le,pe,fe;for(ue=0;ue<ae.length;ue++)for(N=ae[ue].pts,X=1;X<N.length;X++)pe=N[X-1][1],fe=N[X][1],pe>re!=fe>=re&&(te=N[X-1][0],le=N[X][0],fe-pe&&($=te+(le-te)*(re-pe)/(fe-pe),se=Math.min(se,$),q=Math.max(q,$)));return se=Math.max(se,0),q=Math.min(q,g._length),{x0:se,x1:q,y0:re,y1:re}}if(c.indexOf("fills")!==-1&&d._fillElement){var L=A(d._fillElement)&&!A(d._fillExclusionElement);if(L){var S=O(d._polygons);S===null&&(S={x0:m[0],x1:m[0],y0:m[1],y1:m[1]});var F=l.defaultLine;return l.opacity(d.fillcolor)?F=d.fillcolor:l.opacity((d.line||{}).color)&&(F=d.line.color),i.extendFlat(o,{distance:o.maxHoverDistance,x0:S.x0,x1:S.x1,y0:S.y0,y1:S.y1,color:F,hovertemplate:!1}),delete o.index,d.text&&!i.isArrayOrTypedArray(d.text)?o.text=String(d.text):o.text=d.name,[o]}}}}),C0=xe((E,k)=>{var i=ti();k.exports=function(t,e){var n=t.cd,l=t.xaxis,a=t.yaxis,o=[],s=n[0].trace,r,p,u,d,g=!i.hasMarkers(s)&&!i.hasText(s);if(g)return[];if(e===!1)for(r=0;r<n.length;r++)n[r].selected=0;else for(r=0;r<n.length;r++)p=n[r],u=l.c2p(p.x),d=a.c2p(p.y),p.i!==null&&e.contains([u,d],!1,r,t)?(o.push({pointNumber:p.i,x:l.c2d(p.x),y:a.c2d(p.y)}),p.selected=1):p.selected=0;return o}}),D0=xe((E,k)=>{k.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}),E0=xe((E,k)=>{var i=mn().traceIs,t=Bf();k.exports=function(o,s,r,p){r("autotypenumbers",p.autotypenumbersDflt);var u=r("type",(p.splomStash||{}).type);u==="-"&&(e(s,p.data),s.type==="-"?s.type="linear":o.type=s.type)};function e(o,s){if(o.type==="-"){var r=o._id,p=r.charAt(0),u;r.indexOf("scene")!==-1&&(r=p);var d=n(s,r,p);if(d){if(d.type==="histogram"&&p==={v:"y",h:"x"}[d.orientation||"v"]){o.type="linear";return}var g=p+"calendar",v=d[g],x={noMultiCategory:!i(d,"cartesian")||i(d,"noMultiCategory")};if(d.type==="box"&&d._hasPreCompStats&&p==={h:"x",v:"y"}[d.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=o.autotypenumbers,a(d,p)){var y=l(d),m=[];for(u=0;u<s.length;u++){var c=s[u];!i(c,"box-violin")||(c[p+"axis"]||p)!==r||(c[y]!==void 0?m.push(c[y][0]):c.name!==void 0?m.push(c.name):m.push("text"),c[g]!==v&&(v=void 0))}o.type=t(m,v,x)}else if(d.type==="splom"){var h=d.dimensions,b=h[d._axesDim[r]];b.visible&&(o.type=t(b.values,v,x))}else o.type=t(d[p]||[d[p+"0"]],v,x)}}}function n(o,s,r){for(var p=0;p<o.length;p++){var u=o[p];if(u.type==="splom"&&u._length>0&&(u["_"+r+"axes"]||{})[s]||(u[r+"axis"]||r)===s&&(a(u,r)||(u[r]||[]).length||u[r+"0"]))return u}}function l(o){return{v:"x",h:"y"}[o.orientation||"v"]}function a(o,s){var r=l(o),p=i(o,"box-violin"),u=i(o._fullInput||{},"candlestick");return p&&!u&&s===r&&o[r]===void 0&&o[r+"0"]===void 0}}),P0=xe((E,k)=>{var i=hi().isTypedArraySpec;function t(e,n){var l=n.dataAttr||e._id.charAt(0),a={},o,s,r;if(n.axData)o=n.axData;else for(o=[],s=0;s<n.data.length;s++){var p=n.data[s];p[l+"axis"]===e._id&&o.push(p)}for(s=0;s<o.length;s++){var u=o[s][l];for(r=0;r<u.length;r++){var d=u[r];d!=null&&(a[d]=1)}}return Object.keys(a)}k.exports=function(e,n,l,a){if(n.type==="category"){var o=e.categoryarray,s=Array.isArray(o)&&o.length>0||i(o),r;s&&(r="array");var p=l("categoryorder",r),u;p==="array"&&(u=l("categoryarray")),!s&&p==="array"&&(p=n.categoryorder="trace"),p==="trace"?n._initialCategories=[]:p==="array"?n._initialCategories=u.slice():(u=t(n,a).sort(),p==="category ascending"?n._initialCategories=u:p==="category descending"&&(n._initialCategories=u.reverse()))}}}),F0=xe((E,k)=>{var i=Li().mix,t=Bi(),e=sr();k.exports=function(n,l,a,o){o=o||{};var s=o.dfltColor;function r(C,H){return e.coerce2(n,l,o.attributes,C,H)}var p=r("linecolor",s),u=r("linewidth"),d=a("showline",o.showLine||!!p||!!u);d||(delete l.linecolor,delete l.linewidth);var g=i(s,o.bgColor,o.blend||t.lightFraction).toRgbString(),v=r("gridcolor",g),x=r("gridwidth"),y=r("griddash"),m=a("showgrid",o.showGrid||!!v||!!x||!!y);if(m||(delete l.gridcolor,delete l.gridwidth,delete l.griddash),o.hasMinor){var c=i(l.gridcolor,o.bgColor,67).toRgbString(),h=r("minor.gridcolor",c),b=r("minor.gridwidth",l.gridwidth||1),_=r("minor.griddash",l.griddash||"solid"),w=a("minor.showgrid",!!h||!!b||!!_);w||(delete l.minor.gridcolor,delete l.minor.gridwidth,delete l.minor.griddash)}if(!o.noZeroLine){var K=r("zerolinecolor",s),D=r("zerolinewidth"),I=a("zeroline",o.showGrid||!!K||!!D);I||(delete l.zerolinecolor,delete l.zerolinewidth)}}}),Od=xe((E,k)=>{var i=Bn(),t=mn(),e=sr(),n=ca(),l=Pi(),a=Ei(),o=Ef(),s=Pf(),r=If(),p=Nf(),u=P0(),d=F0(),g=Uf(),v=ic(),x=Za().WEEKDAY_PATTERN,y=Za().HOUR_PATTERN;k.exports=function(b,_,w,K,D){var I=K.letter,C=K.font||{},H=K.splomStash||{},z=w("visible",!K.visibleDflt),R=_._template||{},U=_.type||R.type||"-",Z;if(U==="date"){var G=t.getComponentMethod("calendars","handleDefaults");G(b,_,"calendar",K.calendar),K.noTicklabelmode||(Z=w("ticklabelmode"))}!K.noTicklabelindex&&(U==="date"||U==="linear")&&w("ticklabelindex");var P="";(!K.noTicklabelposition||U==="multicategory")&&(P=e.coerce(b,_,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Z==="period"?["outside","inside"]:I==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),K.noTicklabeloverflow||w("ticklabeloverflow",P.indexOf("inside")!==-1?"hide past domain":U==="category"||U==="multicategory"?"allow":"hide past div"),v(_,D),g(b,_,w,K),u(b,_,w,K),U!=="category"&&!K.noHover&&w("hoverformat");var A=w("color"),O=A!==a.color.dflt?A:C.color,L=H.label||D._dfltTitle[I];if(p(b,_,w,U,K),!z)return _;w("title.text",L),e.coerceFont(w,"title.font",C,{overrideDflt:{size:e.bigFont(C.size),color:O}}),o(b,_,w,U);var S=K.hasMinor;if(S&&(n.newContainer(_,"minor"),o(b,_,w,U,{isMinor:!0})),r(b,_,w,U,K),s(b,_,w,K),S){var F=K.isMinor;K.isMinor=!0,s(b,_,w,K),K.isMinor=F}d(b,_,w,{dfltColor:A,bgColor:K.bgColor,showGrid:K.showGrid,hasMinor:S,attributes:a}),S&&!_.minor.ticks&&!_.minor.showgrid&&delete _.minor,(_.showline||_.ticks)&&w("mirror");var W=U==="multicategory";if(!K.noTickson&&(U==="category"||W)&&(_.ticks||_.showgrid)){var ue;W&&(ue="boundaries");var ae=w("tickson",ue);ae==="boundaries"&&delete _.ticklabelposition}if(W){var se=w("showdividers");se&&(w("dividercolor"),w("dividerwidth"))}if(U==="date")if(l(b,_,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:m}),!_.rangebreaks.length)delete _.rangebreaks;else{for(var q=0;q<_.rangebreaks.length;q++)if(_.rangebreaks[q].pattern===x){_._hasDayOfWeekBreaks=!0;break}if(v(_,D),D._has("scattergl")||D._has("splom"))for(var ee=0;ee<K.data.length;ee++){var B=K.data[ee];(B.type==="scattergl"||B.type==="splom")&&(B.visible=!1,e.warn(B.type+" traces do not work on axes with rangebreaks. Setting trace "+B.index+" to `visible: false`."))}}return _};function m(b,_,w){function K(G,P){return e.coerce(b,_,a.rangebreaks,G,P)}var D=K("enabled");if(D){var I=K("bounds");if(I&&I.length>=2){var C="",H,z;if(I.length===2){for(H=0;H<2;H++)if(z=h(I[H]),z){C=x;break}}var R=K("pattern",C);if(R===x)for(H=0;H<2;H++)z=h(I[H]),z&&(_.bounds[H]=I[H]=z-1);if(R)for(H=0;H<2;H++)switch(z=I[H],R){case x:if(!i(z)){_.enabled=!1;return}if(z=+z,z!==Math.floor(z)||z<0||z>=7){_.enabled=!1;return}_.bounds[H]=I[H]=z;break;case y:if(!i(z)){_.enabled=!1;return}if(z=+z,z<0||z>24){_.enabled=!1;return}_.bounds[H]=I[H]=z;break}if(w.autorange===!1){var U=w.range;if(U[0]<U[1]){if(I[0]<U[0]&&I[1]>U[1]){_.enabled=!1;return}}else if(I[0]>U[0]&&I[1]<U[1]){_.enabled=!1;return}}}else{var Z=K("values");if(Z&&Z.length)K("dvalue");else{_.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function h(b){if(typeof b=="string")return c[b.substr(0,3).toLowerCase()]}}),Ld=xe((E,k)=>{var i=Bn(),t=sr();k.exports=function(e,n,l,a){var o=a.counterAxes||[],s=a.overlayableAxes||[],r=a.letter,p=a.grid,u=a.overlayingDomain,d,g,v,x,y,m;p&&(g=p._domains[r][p._axisMap[n._id]],d=p._anchors[n._id],g&&(v=p[r+"side"].split(" ")[0],x=p.domain[r][v==="right"||v==="top"?1:0])),g=g||[0,1],d=d||(i(e.position)?"free":o[0]||"free"),v=v||(r==="x"?"bottom":"left"),x=x||0,y=0,m=!1;var c=t.coerce(e,n,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:d}},"anchor"),h=t.coerce(e,n,{side:{valType:"enumerated",values:r==="x"?["bottom","top"]:["left","right"],dflt:v}},"side");if(c==="free"){if(r==="y"){var b=l("autoshift");b&&(x=h==="left"?u[0]:u[1],m=n.automargin?n.automargin:!0,y=h==="left"?-3:3),l("shift",y)}l("position",x)}l("automargin",m);var _=!1;if(s.length&&(_=t.coerce(e,n,{overlaying:{valType:"enumerated",values:[!1].concat(s),dflt:!1}},"overlaying")),!_){var w=l("domain",g);w[0]>w[1]-1/4096&&(n.domain=g),t.noneOrAll(e.domain,n.domain,g),n.tickmode==="sync"&&(n.tickmode="auto")}return l("layer"),n}}),I0=xe((E,k)=>{var i=sr(),t=Nn(),e=Xi().isUnifiedHover,n=Kf(),l=ca(),a=Ml(),o=Ei(),s=E0(),r=Od(),p=js(),u=Ld(),d=Da(),g=d.id2name,v=d.name2id,x=Za().AX_ID_PATTERN,y=mn(),m=y.traceIs,c=y.getComponentMethod;function h(b,_,w){Array.isArray(b[_])?b[_].push(w):b[_]=[w]}k.exports=function(b,_,w){var K=_.autotypenumbers,D={},I={},C={},H={},z={},R={},U={},Z={},G={},P={},A,O;for(A=0;A<w.length;A++){var L=w[A];if(m(L,"cartesian")){var S;if(L.xaxis)S=g(L.xaxis),h(D,S,L);else if(L.xaxes)for(O=0;O<L.xaxes.length;O++)h(D,g(L.xaxes[O]),L);var F;if(L.yaxis)F=g(L.yaxis),h(D,F,L);else if(L.yaxes)for(O=0;O<L.yaxes.length;O++)h(D,g(L.yaxes[O]),L);if(L.type==="funnel"?L.orientation==="h"?(S&&(I[S]=!0),F&&(U[F]=!0)):F&&(C[F]=!0):L.type==="image"?(F&&(Z[F]=!0),S&&(Z[S]=!0)):(F&&(z[F]=!0,R[F]=!0),(!m(L,"carpet")||L.type==="carpet"&&!L._cheater)&&S&&(H[S]=!0)),L.type==="carpet"&&L._cheater&&S&&(I[S]=!0),m(L,"2dMap")&&(G[S]=!0,G[F]=!0),m(L,"oriented")){var W=L.orientation==="h"?F:S;P[W]=!0}}}var ue=_._subplots,ae=ue.xaxis,se=ue.yaxis,q=i.simpleMap(ae,g),ee=i.simpleMap(se,g),B=q.concat(ee),re=t.background;ae.length&&se.length&&(re=i.coerce(b,_,a,"plot_bgcolor"));var J=t.combine(re,_.paper_bgcolor),X,N,$,te,le;function pe(){var ve=D[X]||[];le._traceIndices=ve.map(function(we){return we.index}),le._annIndices=[],le._shapeIndices=[],le._selectionIndices=[],le._imgIndices=[],le._subplotsWith=[],le._counterAxes=[],le._name=le._attr=X,le._id=N}function fe(ve,we){return i.coerce(te,le,o,ve,we)}function ye(ve,we){return i.coerce2(te,le,o,ve,we)}function Me(ve){return ve==="x"?se:ae}function He(ve,we){for(var Se=ve==="x"?q:ee,Ue=[],Le=0;Le<Se.length;Le++){var tt=Se[Le];tt!==we&&!(b[tt]||{}).overlaying&&Ue.push(v(tt))}return Ue}var Ne={x:Me("x"),y:Me("y")},ze=Ne.x.concat(Ne.y),Re={},Ae=[];function T(){var ve=te.matches;x.test(ve)&&ze.indexOf(ve)===-1&&(Re[ve]=te.type,Ae=Object.keys(Re))}var V=n(b,_),j=e(V);for(A=0;A<B.length;A++){X=B[A],N=v(X),$=X.charAt(0),i.isPlainObject(b[X])||(b[X]={}),te=b[X],le=l.newContainer(_,X,$+"axis"),pe();var he=$==="x"&&!H[X]&&I[X]||$==="y"&&!z[X]&&C[X],be=$==="y"&&(!R[X]&&U[X]||Z[X]),ke={hasMinor:!0,letter:$,font:_.font,outerTicks:G[X],showGrid:!P[X],data:D[X]||[],bgColor:J,calendar:_.calendar,automargin:!0,visibleDflt:he,reverseDflt:be,autotypenumbersDflt:K,splomStash:((_._splomAxes||{})[$]||{})[N],noAutotickangles:$==="y"};fe("uirevision",_.uirevision),s(te,le,fe,ke),r(te,le,fe,ke,_);var Ce=j&&$===V.charAt(0),qe=ye("spikecolor",j?le.color:void 0),at=ye("spikethickness",j?1.5:void 0),ct=ye("spikedash",j?"dot":void 0),vt=ye("spikemode",j?"across":void 0),St=ye("spikesnap"),ot=fe("showspikes",!!Ce||!!qe||!!at||!!ct||!!vt||!!St);ot||(delete le.spikecolor,delete le.spikethickness,delete le.spikedash,delete le.spikemode,delete le.spikesnap);var Ct=g(te.overlaying),It=[0,1];if(_[Ct]!==void 0){var At=g(_[Ct].anchor);_[At]!==void 0&&(It=_[At].domain)}u(te,le,fe,{letter:$,counterAxes:Ne[$],overlayableAxes:He($,X),grid:_.grid,overlayingDomain:It}),fe("title.standoff"),T(),le._input=te}for(A=0;A<Ae.length;){N=Ae[A++],X=g(N),$=X.charAt(0),i.isPlainObject(b[X])||(b[X]={}),te=b[X],le=l.newContainer(_,X,$+"axis"),pe();var Nt={letter:$,font:_.font,outerTicks:G[X],showGrid:!P[X],data:[],bgColor:J,calendar:_.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:K,splomStash:((_._splomAxes||{})[$]||{})[N]};fe("uirevision",_.uirevision),le.type=Re[N]||"linear",r(te,le,fe,Nt,_),u(te,le,fe,{letter:$,counterAxes:Ne[$],overlayableAxes:He($,X),grid:_.grid}),fe("fixedrange"),T(),le._input=te}var _e=c("rangeslider","handleDefaults"),De=c("rangeselector","handleDefaults");for(A=0;A<q.length;A++)X=q[A],te=b[X],le=_[X],_e(b,_,X),le.type==="date"&&De(te,le,_,ee,le.calendar),fe("fixedrange");for(A=0;A<ee.length;A++){X=ee[A],te=b[X],le=_[X];var je=_[g(le.anchor)],ie=c("rangeslider","isVisible")(je);fe("fixedrange",ie)}p.handleDefaults(b,_,{axIds:ze.concat(Ae).sort(d.idSort),axHasImage:Z})}}),N0=xe((E,k)=>{var i=Jn(),t=mn(),e=sr(),n=na(),l=Ma();k.exports=function(a,o,s,r){var p=a._fullLayout;if(o.length===0){l.redrawComponents(a);return}function u(_){var w=_.xaxis,K=_.yaxis;p._defs.select("#"+_.clipId+"> rect").call(n.setTranslate,0,0).call(n.setScale,1,1),_.plot.call(n.setTranslate,w._offset,K._offset).call(n.setScale,1,1);var D=_.plot.selectAll(".scatterlayer .trace");D.selectAll(".point").call(n.setPointGroupScale,1,1),D.selectAll(".textpoint").call(n.setTextPointsScale,1,1),D.call(n.hideOutsideRangePoints,_)}function d(_,w){var K=_.plotinfo,D=K.xaxis,I=K.yaxis,C=D._length,H=I._length,z=!!_.xr1,R=!!_.yr1,U=[];if(z){var Z=e.simpleMap(_.xr0,D.r2l),G=e.simpleMap(_.xr1,D.r2l),P=Z[1]-Z[0],A=G[1]-G[0];U[0]=(Z[0]*(1-w)+w*G[0]-Z[0])/(Z[1]-Z[0])*C,U[2]=C*(1-w+w*A/P),D.range[0]=D.l2r(Z[0]*(1-w)+w*G[0]),D.range[1]=D.l2r(Z[1]*(1-w)+w*G[1])}else U[0]=0,U[2]=C;if(R){var O=e.simpleMap(_.yr0,I.r2l),L=e.simpleMap(_.yr1,I.r2l),S=O[1]-O[0],F=L[1]-L[0];U[1]=(O[1]*(1-w)+w*L[1]-O[1])/(O[0]-O[1])*H,U[3]=H*(1-w+w*F/S),I.range[0]=D.l2r(O[0]*(1-w)+w*L[0]),I.range[1]=I.l2r(O[1]*(1-w)+w*L[1])}else U[1]=0,U[3]=H;l.drawOne(a,D,{skipTitle:!0}),l.drawOne(a,I,{skipTitle:!0}),l.redrawComponents(a,[D._id,I._id]);var W=z?C/U[2]:1,ue=R?H/U[3]:1,ae=z?U[0]:0,se=R?U[1]:0,q=z?U[0]/U[2]*C:0,ee=R?U[1]/U[3]*H:0,B=D._offset-q,re=I._offset-ee;K.clipRect.call(n.setTranslate,ae,se).call(n.setScale,1/W,1/ue),K.plot.call(n.setTranslate,B,re).call(n.setScale,W,ue),n.setPointGroupScale(K.zoomScalePts,1/W,1/ue),n.setTextPointsScale(K.zoomScaleTxt,1/W,1/ue)}var g;r&&(g=r());function v(){for(var _={},w=0;w<o.length;w++){var K=o[w],D=K.plotinfo.xaxis,I=K.plotinfo.yaxis;K.xr1&&(_[D._name+".range"]=K.xr1.slice()),K.yr1&&(_[I._name+".range"]=K.yr1.slice())}return g&&g(),t.call("relayout",a,_).then(function(){for(var C=0;C<o.length;C++)u(o[C].plotinfo)})}function x(){for(var _={},w=0;w<o.length;w++){var K=o[w],D=K.plotinfo.xaxis,I=K.plotinfo.yaxis;K.xr0&&(_[D._name+".range"]=K.xr0.slice()),K.yr0&&(_[I._name+".range"]=K.yr0.slice())}return t.call("relayout",a,_).then(function(){for(var C=0;C<o.length;C++)u(o[C].plotinfo)})}var y,m,c,h=i.ease(s.easing);a._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(c),c=null,x()});function b(){m=Date.now();for(var _=Math.min(1,(m-y)/s.duration),w=h(_),K=0;K<o.length;K++)d(o[K],w);m-y>s.duration?(v(),c=window.cancelAnimationFrame(b)):c=window.requestAnimationFrame(b)}return y=Date.now(),c=window.requestAnimationFrame(b),Promise.resolve()}}),xc=xe(E=>{var k=Jn(),i=mn(),t=sr(),e=Ba(),n=na(),l=Of().getModuleCalcData,a=Da(),o=Za(),s=Jo(),r=t.ensureSingle;function p(m,c,h){return t.ensureSingle(m,c,h,function(b){b.datum(h)})}var u=o.zindexSeparator;E.name="cartesian",E.attr=["xaxis","yaxis"],E.idRoot=["x","y"],E.idRegex=o.idRegex,E.attrRegex=o.attrRegex,E.attributes=D0(),E.layoutAttributes=Ei(),E.supplyLayoutDefaults=I0(),E.transitionAxes=N0(),E.finalizeSubplots=function(m,c){var h=c._subplots,b=h.xaxis,_=h.yaxis,w=h.cartesian,K=w,D={},I={},C,H,z;for(C=0;C<K.length;C++){var R=K[C].split("y");D[R[0]]=1,I["y"+R[1]]=1}for(C=0;C<b.length;C++)H=b[C],D[H]||(z=(m[a.id2name(H)]||{}).anchor,o.idRegex.y.test(z)||(z="y"),w.push(H+z),K.push(H+z),I[z]||(I[z]=1,t.pushUnique(_,z)));for(C=0;C<_.length;C++)z=_[C],I[z]||(H=(m[a.id2name(z)]||{}).anchor,o.idRegex.x.test(H)||(H="x"),w.push(H+z),K.push(H+z),D[H]||(D[H]=1,t.pushUnique(b,H)));if(!K.length){H="",z="";for(var U in m)if(o.attrRegex.test(U)){var Z=U.charAt(0);Z==="x"?(!H||+U.substr(5)<+H.substr(5))&&(H=U):(!z||+U.substr(5)<+z.substr(5))&&(z=U)}H=H?a.name2id(H):"x",z=z?a.name2id(z):"y",b.push(H),_.push(z),w.push(H+z)}},E.plot=function(m,c,h,b){var _=m._fullLayout,w=_._subplots.cartesian,K=m.calcdata,D;if(!Array.isArray(c))for(c=[],D=0;D<K.length;D++)c.push(D);for(var I=_._zindices,C=0;C<I.length;C++){var H=I[C];for(D=0;D<w.length;D++){var z=w[D],R=_._plots[z];if(C>0){var U=R.id;if(U.indexOf(u)!==-1)continue;U+=u+(C+1),R=t.extendFlat({},R,{id:U,plot:_._cartesianlayer.selectAll(".subplot").select("."+U)})}for(var Z=[],G,P=0;P<K.length;P++){var A=K[P],O=A[0].trace;H===(O.zorder||0)&&O.xaxis+O.yaxis===z&&((c.indexOf(O.index)!==-1||O.carpet)&&(G&&G[0].trace.xaxis+G[0].trace.yaxis===z&&["tonextx","tonexty","tonext"].indexOf(O.fill)!==-1&&Z.indexOf(G)===-1&&Z.push(G),Z.push(A)),G=A)}d(m,R,Z,h,b)}}};function d(m,c,h,b,_){for(var w=o.traceLayerClasses,K=m._fullLayout,D=K._zindices,I=K._modules,C,H,z,R=[],U=[],Z=0;Z<D.length;Z++)for(var G=D[Z],P=0;P<I.length;P++){C=I[P];var A=C.name,O=i.modules[A].categories;if(O.svg){var L=C.layerName||A+"layer",S=L+(Z?Number(Z)+1:""),F=C.plot;H=l(h,F,G),z=H[0],h=H[1],z.length&&R.push({i:w.indexOf(L),zindex:Z,className:S,plotMethod:F,cdModule:z}),O.zoomScale&&U.push("."+S)}}R.sort(function(ae,se){return(ae.zindex||0)-(se.zindex||0)||ae.i-se.i});var W=c.plot.selectAll("g.mlayer").data(R,function(ae){return ae.className});if(W.enter().append("g").attr("class",function(ae){return ae.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),W.exit().remove(),W.order(),W.each(function(ae){var se=k.select(this),q=ae.className;ae.plotMethod(m,c,ae.cdModule,se,b,_),o.clipOnAxisFalseQuery.indexOf("."+q)===-1&&n.setClipUrl(se,c.layerClipId,m)}),K._has("scattergl")&&(C=i.getModule("scattergl"),z=l(h,C)[0],C.plot(m,c,z)),!m._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(o.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),U.length)){var ue=c.plot.selectAll(U.join(",")).selectAll(".trace");c.zoomScalePts=ue.selectAll("path.point"),c.zoomScaleTxt=ue.selectAll(".textpoint")}}E.clean=function(m,c,h,b){var _=b._plots||{},w=c._plots||{},K=b._subplots||{},D,I,C;if(b._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(C in _)D=_[C],D.plotgroup&&D.plotgroup.remove();var H=b._has&&b._has("gl"),z=c._has&&c._has("gl");if(H&&!z)for(C in _)D=_[C],D._scene&&D._scene.destroy();if(K.xaxis&&K.yaxis){var R=a.listIds({_fullLayout:b});for(I=0;I<R.length;I++){var U=R[I];c[a.id2name(U)]||b._infolayer.selectAll(".g-"+U+"title").remove()}}var Z=b._has&&b._has("cartesian"),G=c._has&&c._has("cartesian");if(Z&&!G)x(b._cartesianlayer.selectAll(".subplot"),b),b._defs.selectAll(".axesclip").remove(),delete b._axisConstraintGroups,delete b._axisMatchGroups;else if(K.cartesian)for(I=0;I<K.cartesian.length;I++){var P=K.cartesian[I];if(P.indexOf(u)===-1&&!w[P]){var A="."+P+",."+P+"-x,."+P+"-y";b._cartesianlayer.selectAll(A).remove(),y(P,b)}}},E.drawFramework=function(m){var c=m._fullLayout,h=m.calcdata,b,_={};for(b=0;b<h.length;b++){var w=h[b][0],K=w.trace,D=K.zorder||0;_[D]||(_[D]=[]),_[D].push(w)}var I=Object.keys(_).map(Number).sort(t.sorterAsc);I.length||(I=[0]),c._zindices=I;var C=g(m),H=C.length,z=[];for(b=0;b<H;b++)z[b]=C[b].slice();for(var R=1;R<I.length;R++){var U=[];for(b=0;b<H;b++)U[b]=C[b].slice(),U[b][0]+=u+(R+1);z=z.concat(U)}var Z=c._cartesianlayer.selectAll(".subplot").data(z,String);Z.enter().append("g").attr("class",function(G){return"subplot "+G[0]}),Z.order(),Z.exit().call(x,c),Z.each(function(G){var P=G[0],A=P.indexOf(u),O=A!==-1,L=O?P.slice(0,A):P,S=c._plots[P];S||(S=t.extendFlat({},c._plots[L]),S&&(S.id=P,c._plots[P]=S,c._subplots.cartesian.push(P))),S&&(S.plotgroup=k.select(this),v(m,S),O||(S.draglayer=r(c._draggers,"g",P)))})},E.rangePlot=function(m,c,h){v(m,c),d(m,c,h),e.style(m)};function g(m){var c=m._fullLayout,h=c._zindices.length,b=c._subplots.cartesian,_=b.length,w,K,D,I,C,H,z=[],R=[];for(w=0;w<_;w++){D=b[w],I=c._plots[D],C=I.xaxis,H=I.yaxis;var U=C._mainAxis,Z=H._mainAxis,G=U._id+Z._id,P=c._plots[G];I.overlays=[],G!==D&&P?(I.mainplot=G,I.mainplotinfo=P,R.push(D)):(I.mainplot=void 0,I.mainplotinfo=void 0,z.push(D))}for(w=0;w<R.length;w++)D=R[w],I=c._plots[D],I.mainplotinfo.overlays.push(I);var A=z.concat(R),O=[];for(w=0;w<_;w++){D=A[w],I=c._plots[D],C=I.xaxis,H=I.yaxis;for(var L=[],S=1;S<=h;S++){var F="";for(S>1&&(F+=u+S),L.push(D+F),K=0;K<I.overlays.length;K++)L.push(I.overlays[K].id+F)}L=L.concat([C.layer,H.layer,C.overlaying||"",H.overlaying||""]),O.push(L)}return O}function v(m,c){var h=m._fullLayout,b=c.plotgroup,_=c.id,w=_.indexOf(u),K=w!==-1,D=o.layerValue2layerClass[c.xaxis.layer],I=o.layerValue2layerClass[c.yaxis.layer],C=h._hasOnlyLargeSploms,H=h._zindices.length>1,z=c.mainplotinfo;if(!c.mainplot||H)if(C)c.xlines=r(b,"path","xlines-above"),c.ylines=r(b,"path","ylines-above"),c.xaxislayer=r(b,"g","xaxislayer-above"),c.yaxislayer=r(b,"g","yaxislayer-above");else{if(!K){var R=r(b,"g","layer-subplot");c.shapelayer=r(R,"g","shapelayer"),c.imagelayer=r(R,"g","imagelayer"),z&&H?(c.minorGridlayer=z.minorGridlayer,c.gridlayer=z.gridlayer,c.zerolinelayer=z.zerolinelayer):(c.minorGridlayer=r(b,"g","minor-gridlayer"),c.gridlayer=r(b,"g","gridlayer"),c.zerolinelayer=r(b,"g","zerolinelayer"));var U=r(b,"g","layer-between");c.shapelayerBetween=r(U,"g","shapelayer"),c.imagelayerBetween=r(U,"g","imagelayer"),r(b,"path","xlines-below"),r(b,"path","ylines-below"),c.overlinesBelow=r(b,"g","overlines-below"),r(b,"g","xaxislayer-below"),r(b,"g","yaxislayer-below"),c.overaxesBelow=r(b,"g","overaxes-below")}c.overplot=r(b,"g","overplot"),c.plot=r(c.overplot,"g",_),K||(c.xlines=r(b,"path","xlines-above"),c.ylines=r(b,"path","ylines-above"),c.overlinesAbove=r(b,"g","overlines-above"),r(b,"g","xaxislayer-above"),r(b,"g","yaxislayer-above"),c.overaxesAbove=r(b,"g","overaxes-above"),c.xlines=b.select(".xlines-"+D),c.ylines=b.select(".ylines-"+I),c.xaxislayer=b.select(".xaxislayer-"+D),c.yaxislayer=b.select(".yaxislayer-"+I))}else{var Z=z.plotgroup,G=_+"-x",P=_+"-y";c.minorGridlayer=z.minorGridlayer,c.gridlayer=z.gridlayer,c.zerolinelayer=z.zerolinelayer,r(z.overlinesBelow,"path",G),r(z.overlinesBelow,"path",P),r(z.overaxesBelow,"g",G),r(z.overaxesBelow,"g",P),c.plot=r(z.overplot,"g",_),r(z.overlinesAbove,"path",G),r(z.overlinesAbove,"path",P),r(z.overaxesAbove,"g",G),r(z.overaxesAbove,"g",P),c.xlines=Z.select(".overlines-"+D).select("."+G),c.ylines=Z.select(".overlines-"+I).select("."+P),c.xaxislayer=Z.select(".overaxes-"+D).select("."+G),c.yaxislayer=Z.select(".overaxes-"+I).select("."+P)}K||(C||(p(c.minorGridlayer,"g",c.xaxis._id),p(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(A){return A[0]}).sort(a.idSort),p(c.gridlayer,"g",c.xaxis._id),p(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(A){return A[0]}).sort(a.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0))}function x(m,c){if(m){var h={};m.each(function(I){var C=I[0],H=k.select(this);H.remove(),y(C,c),h[C]=!0});for(var b in c._plots)for(var _=c._plots[b],w=_.overlays||[],K=0;K<w.length;K++){var D=w[K];h[D.id]&&D.plot.selectAll(".trace").remove()}}}function y(m,c){c._draggers.selectAll("g."+m).remove(),c._defs.select("#clip"+c._uid+m+"plot").remove()}E.toSVG=function(m){var c=m._fullLayout._glimages,h=k.select(m).selectAll(".svg-container"),b=h.filter(function(w,K){return K===h.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function _(){var w=this,K=w.toDataURL("image/png"),D=c.append("svg:image");D.attr({xmlns:s.svg,"xlink:href":K,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}b.each(_)},E.updateFx=ud().updateFx}),R0=xe((E,k)=>{var i=ti();k.exports={hasLines:i.hasLines,hasMarkers:i.hasMarkers,hasText:i.hasText,isBubble:i.isBubble,attributes:Ko(),layoutAttributes:tc(),supplyDefaults:b0(),crossTraceDefaults:xd(),supplyLayoutDefaults:w0(),calc:mc().calc,crossTraceCalc:M0(),arraysToCalcdata:wd(),plot:O0(),colorbar:Td(),formatLabels:kd(),style:Md().style,styleOnSelect:Md().styleOnSelect,hoverPoints:L0(),selectPoints:C0(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:xc(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}),j0=xe((E,k)=>{var i=Jn(),t=Nn(),e=od(),n=sr(),l=n.strScale,a=n.strRotate,o=n.strTranslate;k.exports=function(s,r,p){var u=s.node(),d=e[p.arrowhead||0],g=e[p.startarrowhead||0],v=(p.arrowwidth||1)*(p.arrowsize||1),x=(p.arrowwidth||1)*(p.startarrowsize||1),y=r.indexOf("start")>=0,m=r.indexOf("end")>=0,c=d.backoff*v+p.standoff,h=g.backoff*x+p.startstandoff,b,_,w,K;if(u.nodeName==="line"){b={x:+s.attr("x1"),y:+s.attr("y1")},_={x:+s.attr("x2"),y:+s.attr("y2")};var D=b.x-_.x,I=b.y-_.y;if(w=Math.atan2(I,D),K=w+Math.PI,c&&h&&c+h>Math.sqrt(D*D+I*I)){S();return}if(c){if(c*c>D*D+I*I){S();return}var C=c*Math.cos(w),H=c*Math.sin(w);_.x+=C,_.y+=H,s.attr({x2:_.x,y2:_.y})}if(h){if(h*h>D*D+I*I){S();return}var z=h*Math.cos(w),R=h*Math.sin(w);b.x-=z,b.y-=R,s.attr({x1:b.x,y1:b.y})}}else if(u.nodeName==="path"){var U=u.getTotalLength(),Z="";if(U<c+h){S();return}var G=u.getPointAtLength(0),P=u.getPointAtLength(.1);w=Math.atan2(G.y-P.y,G.x-P.x),b=u.getPointAtLength(Math.min(h,U)),Z="0px,"+h+"px,";var A=u.getPointAtLength(U),O=u.getPointAtLength(U-.1);K=Math.atan2(A.y-O.y,A.x-O.x),_=u.getPointAtLength(Math.max(0,U-c));var L=Z?h+c:c;Z+=U-L+"px,"+U+"px",s.style("stroke-dasharray",Z)}function S(){s.style("stroke-dasharray","0px,100px")}function F(W,ue,ae,se){W.path&&(W.noRotate&&(ae=0),i.select(u.parentNode).append("path").attr({class:s.attr("class"),d:W.path,transform:o(ue.x,ue.y)+a(ae*180/Math.PI)+l(se)}).style({fill:t.rgb(p.arrowcolor),"stroke-width":0}))}y&&F(g,b,w,x),m&&F(d,_,K,v)}}),bc=xe((E,k)=>{var i=Jn(),t=mn(),e=Ba(),n=sr(),l=n.strTranslate,a=Ma(),o=Nn(),s=na(),r=Oo(),p=fi(),u=So(),d=Fi(),g=ca().arrayEditor,v=j0();k.exports={draw:x,drawOne:y,drawRaw:c};function x(h){var b=h._fullLayout;b._infolayer.selectAll(".annotation").remove();for(var _=0;_<b.annotations.length;_++)b.annotations[_].visible&&y(h,_);return e.previousPromises(h)}function y(h,b){var _=h._fullLayout,w=_.annotations[b]||{},K=a.getFromId(h,w.xref),D=a.getFromId(h,w.yref);K&&K.setScale(),D&&D.setScale(),c(h,w,b,!1,K,D)}function m(h,b,_,w,K){var D=K[_],I=K[_+"ref"],C=_.indexOf("y")!==-1,H=a.getRefType(I)==="domain",z=C?w.h:w.w;return h?H?D+(C?-b:b)/h._length:h.p2r(h.r2p(D)+b):D+(C?-b:b)/z}function c(h,b,_,w,K,D){var I=h._fullLayout,C=h._fullLayout._size,H=h._context.edits,z,R;w?(z="annotation-"+w,R=w+".annotations"):(z="annotation",R="annotations");var U=g(h.layout,R,b),Z=U.modifyBase,G=U.modifyItem,P=U.getUpdateObj;I._infolayer.selectAll("."+z+'[data-index="'+_+'"]').remove();var A="clip"+I._uid+"_ann"+_;if(!b._input||b.visible===!1){i.selectAll("#"+A).remove();return}var O={x:{},y:{}},L=+b.textangle||0,S=I._infolayer.append("g").classed(z,!0).attr("data-index",String(_)).style("opacity",b.opacity),F=S.append("g").classed("annotation-text-g",!0),W=H[b.showarrow?"annotationTail":"annotationPosition"],ue=b.captureevents||H.annotationText||W;function ae(fe){var ye={index:_,annotation:b._input,fullAnnotation:b,event:fe};return w&&(ye.subplotId=w),ye}var se=F.append("g").style("pointer-events",ue?"all":null).call(u,"pointer").on("click",function(){h._dragging=!1,h.emit("plotly_clickannotation",ae(i.event))});b.hovertext&&se.on("mouseover",function(){var fe=b.hoverlabel,ye=fe.font,Me=this.getBoundingClientRect(),He=h.getBoundingClientRect();r.loneHover({x0:Me.left-He.left,x1:Me.right-He.left,y:(Me.top+Me.bottom)/2-He.top,text:b.hovertext,color:fe.bgcolor,borderColor:fe.bordercolor,fontFamily:ye.family,fontSize:ye.size,fontColor:ye.color,fontWeight:ye.weight,fontStyle:ye.style,fontVariant:ye.variant,fontShadow:ye.fontShadow,fontLineposition:ye.fontLineposition,fontTextcase:ye.fontTextcase},{container:I._hoverlayer.node(),outerContainer:I._paper.node(),gd:h})}).on("mouseout",function(){r.loneUnhover(I._hoverlayer.node())});var q=b.borderwidth,ee=b.borderpad,B=q+ee,re=se.append("rect").attr("class","bg").style("stroke-width",q+"px").call(o.stroke,b.bordercolor).call(o.fill,b.bgcolor),J=b.width||b.height,X=I._topclips.selectAll("#"+A).data(J?[0]:[]);X.enter().append("clipPath").classed("annclip",!0).attr("id",A).append("rect"),X.exit().remove();var N=b.font,$=I._meta?n.templateString(b.text,I._meta):b.text,te=se.append("text").classed("annotation-text",!0).text($);function le(fe){return fe.call(s.font,N).attr({"text-anchor":{left:"start",right:"end"}[b.align]||"middle"}),p.convertToTspans(fe,h,pe),fe}function pe(){var fe=te.selectAll("a");if(fe.size()===1&&fe.text()===te.text()){var ye=se.insert("a",":first-child").attr({"xlink:xlink:href":fe.attr("xlink:href"),"xlink:xlink:show":fe.attr("xlink:show")}).style({cursor:"pointer"});ye.node().appendChild(re.node())}var Me=se.select(".annotation-text-math-group"),He=!Me.empty(),Ne=s.bBox((He?Me:te).node()),ze=Ne.width,Re=Ne.height,Ae=b.width||ze,T=b.height||Re,V=Math.round(Ae+2*B),j=Math.round(T+2*B);function he(yr,qt){return qt==="auto"&&(yr<1/3?qt="left":yr>2/3?qt="right":qt="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[qt]}for(var be=!1,ke=["x","y"],Ce=0;Ce<ke.length;Ce++){var qe=ke[Ce],at=b[qe+"ref"]||qe,ct=b["a"+qe+"ref"],vt={x:K,y:D}[qe],St=(L+(qe==="x"?0:-90))*Math.PI/180,ot=V*Math.cos(St),Ct=j*Math.sin(St),It=Math.abs(ot)+Math.abs(Ct),At=b[qe+"anchor"],Nt=b[qe+"shift"]*(qe==="x"?1:-1),_e=O[qe],De,je,ie,ve,we,Se=a.getRefType(at);if(vt&&Se!=="domain"){var Ue=vt.r2fraction(b[qe]);(Ue<0||Ue>1)&&(ct===at?(Ue=vt.r2fraction(b["a"+qe]),(Ue<0||Ue>1)&&(be=!0)):be=!0),De=vt._offset+vt.r2p(b[qe]),ve=.5}else{var Le=Se==="domain";qe==="x"?(ie=b[qe],De=Le?vt._offset+vt._length*ie:De=C.l+C.w*ie):(ie=1-b[qe],De=Le?vt._offset+vt._length*ie:De=C.t+C.h*ie),ve=b.showarrow?.5:ie}if(b.showarrow){_e.head=De;var tt=b["a"+qe];if(we=ot*he(.5,b.xanchor)-Ct*he(.5,b.yanchor),ct===at){var nt=a.getRefType(ct);nt==="domain"?(qe==="y"&&(tt=1-tt),_e.tail=vt._offset+vt._length*tt):nt==="paper"?qe==="y"?(tt=1-tt,_e.tail=C.t+C.h*tt):_e.tail=C.l+C.w*tt:_e.tail=vt._offset+vt.r2p(tt),je=we}else _e.tail=De+tt,je=we+tt;_e.text=_e.tail+we;var ut=I[qe==="x"?"width":"height"];if(at==="paper"&&(_e.head=n.constrain(_e.head,1,ut-1)),ct==="pixel"){var Ye=-Math.max(_e.tail-3,_e.text),st=Math.min(_e.tail+3,_e.text)-ut;Ye>0?(_e.tail+=Ye,_e.text+=Ye):st>0&&(_e.tail-=st,_e.text-=st)}_e.tail+=Nt,_e.head+=Nt}else we=It*he(ve,At),je=we,_e.text=De+we;_e.text+=Nt,we+=Nt,je+=Nt,b["_"+qe+"padplus"]=It/2+je,b["_"+qe+"padminus"]=It/2-je,b["_"+qe+"size"]=It,b["_"+qe+"shift"]=we}if(be){se.remove();return}var xt=0,Tt=0;if(b.align!=="left"&&(xt=(Ae-ze)*(b.align==="center"?.5:1)),b.valign!=="top"&&(Tt=(T-Re)*(b.valign==="middle"?.5:1)),He)Me.select("svg").attr({x:B+xt-1,y:B+Tt}).call(s.setClipUrl,J?A:null,h);else{var tr=B+Tt-Ne.top,cr=B+xt-Ne.left;te.call(p.positionText,cr,tr).call(s.setClipUrl,J?A:null,h)}X.select("rect").call(s.setRect,B,B,Ae,T),re.call(s.setRect,q/2,q/2,V-q,j-q),se.call(s.setTranslate,Math.round(O.x.text-V/2),Math.round(O.y.text-j/2)),F.attr({transform:"rotate("+L+","+O.x.text+","+O.y.text+")"});var Er=function(yr,qt){S.selectAll(".annotation-arrow-g").remove();var Zt=O.x.head,jr=O.y.head,Ar=O.x.tail+yr,kr=O.y.tail+qt,rr=O.x.text+yr,zt=O.y.text+qt,xr=n.rotationXYMatrix(L,rr,zt),Gr=n.apply2DTransform(xr),fn=n.apply2DTransform2(xr),br=+re.attr("width"),Jr=+re.attr("height"),$r=rr-.5*br,Sn=$r+br,Bt=zt-.5*Jr,gn=Bt+Jr,oe=[[$r,Bt,$r,gn],[$r,gn,Sn,gn],[Sn,gn,Sn,Bt],[Sn,Bt,$r,Bt]].map(fn);if(!oe.reduce(function(kt,Dt){return kt^!!n.segmentsIntersect(Zt,jr,Zt+1e6,jr+1e6,Dt[0],Dt[1],Dt[2],Dt[3])},!1)){oe.forEach(function(kt){var Dt=n.segmentsIntersect(Ar,kr,Zt,jr,kt[0],kt[1],kt[2],kt[3]);Dt&&(Ar=Dt.x,kr=Dt.y)});var de=b.arrowwidth,Ge=b.arrowcolor,We=b.arrowside,Pe=S.append("g").style({opacity:o.opacity(Ge)}).classed("annotation-arrow-g",!0),Ie=Pe.append("path").attr("d","M"+Ar+","+kr+"L"+Zt+","+jr).style("stroke-width",de+"px").call(o.stroke,o.rgb(Ge));if(v(Ie,We,b),H.annotationPosition&&Ie.node().parentNode&&!w){var Ve=Zt,Ze=jr;if(b.standoff){var Be=Math.sqrt(Math.pow(Zt-Ar,2)+Math.pow(jr-kr,2));Ve+=b.standoff*(Ar-Zt)/Be,Ze+=b.standoff*(kr-jr)/Be}var Je=Pe.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Ar-Ve)+","+(kr-Ze),transform:l(Ve,Ze)}).style("stroke-width",de+6+"px").call(o.stroke,"rgba(0,0,0,0)").call(o.fill,"rgba(0,0,0,0)"),Xe,rt;d.init({element:Je.node(),gd:h,prepFn:function(){var kt=s.getTranslate(se);Xe=kt.x,rt=kt.y,K&&K.autorange&&Z(K._name+".autorange",!0),D&&D.autorange&&Z(D._name+".autorange",!0)},moveFn:function(kt,Dt){var Rt=Gr(Xe,rt),Kt=Rt[0]+kt,ir=Rt[1]+Dt;se.call(s.setTranslate,Kt,ir),G("x",m(K,kt,"x",C,b)),G("y",m(D,Dt,"y",C,b)),b.axref===b.xref&&G("ax",m(K,kt,"ax",C,b)),b.ayref===b.yref&&G("ay",m(D,Dt,"ay",C,b)),Pe.attr("transform",l(kt,Dt)),F.attr({transform:"rotate("+L+","+Kt+","+ir+")"})},doneFn:function(){t.call("_guiRelayout",h,P());var kt=document.querySelector(".js-notes-box-panel");kt&&kt.redraw(kt.selectedObj)}})}}};if(b.showarrow&&Er(0,0),W){var nr;d.init({element:se.node(),gd:h,prepFn:function(){nr=F.attr("transform")},moveFn:function(yr,qt){var Zt="pointer";if(b.showarrow)b.axref===b.xref?G("ax",m(K,yr,"ax",C,b)):G("ax",b.ax+yr),b.ayref===b.yref?G("ay",m(D,qt,"ay",C.w,b)):G("ay",b.ay+qt),Er(yr,qt);else{if(w)return;var jr,Ar;if(K)jr=m(K,yr,"x",C,b);else{var kr=b._xsize/C.w,rr=b.x+(b._xshift-b.xshift)/C.w-kr/2;jr=d.align(rr+yr/C.w,kr,0,1,b.xanchor)}if(D)Ar=m(D,qt,"y",C,b);else{var zt=b._ysize/C.h,xr=b.y-(b._yshift+b.yshift)/C.h-zt/2;Ar=d.align(xr-qt/C.h,zt,0,1,b.yanchor)}G("x",jr),G("y",Ar),(!K||!D)&&(Zt=d.getCursor(K?.5:jr,D?.5:Ar,b.xanchor,b.yanchor))}F.attr({transform:l(yr,qt)+nr}),u(se,Zt)},clickFn:function(yr,qt){b.captureevents&&h.emit("plotly_clickannotation",ae(qt))},doneFn:function(){u(se),t.call("_guiRelayout",h,P());var yr=document.querySelector(".js-notes-box-panel");yr&&yr.redraw(yr.selectedObj)}})}}H.annotationText?te.call(p.makeEditable,{delegate:se,gd:h}).call(le).on("edit",function(fe){b.text=fe,this.call(le),G("text",fe),K&&K.autorange&&Z(K._name+".autorange",!0),D&&D.autorange&&Z(D._name+".autorange",!0),t.call("_guiRelayout",h,P())}):te.call(le)}}),z0=xe((E,k)=>{var i=sr(),t=mn(),e=ca().arrayEditor;k.exports={hasClickToShow:n,onClick:l};function n(s,r){var p=a(s,r);return p.on.length>0||p.explicitOff.length>0}function l(s,r){var p=a(s,r),u=p.on,d=p.off.concat(p.explicitOff),g={},v=s._fullLayout.annotations,x,y;if(u.length||d.length){for(x=0;x<u.length;x++)y=e(s.layout,"annotations",v[u[x]]),y.modifyItem("visible",!0),i.extendFlat(g,y.getUpdateObj());for(x=0;x<d.length;x++)y=e(s.layout,"annotations",v[d[x]]),y.modifyItem("visible",!1),i.extendFlat(g,y.getUpdateObj());return t.call("update",s,{},g)}}function a(s,r){var p=s._fullLayout.annotations,u=[],d=[],g=[],v=(r||[]).length,x,y,m,c,h,b,_,w;for(x=0;x<p.length;x++)if(m=p[x],c=m.clicktoshow,c){for(y=0;y<v;y++)if(h=r[y],b=h.xaxis,_=h.yaxis,b._id===m.xref&&_._id===m.yref&&b.d2r(h.x)===o(m._xclick,b)&&_.d2r(h.y)===o(m._yclick,_)){m.visible?c==="onout"?w=d:w=g:w=u,w.push(x);break}y===v&&m.visible&&c==="onout"&&d.push(x)}return{on:u,off:d,explicitOff:g}}function o(s,r){return r.type==="log"?r.l2r(s):r.d2r(s)}}),Cd=xe((E,k)=>{var i=sr(),t=Nn();k.exports=function(e,n,l,a){a("opacity");var o=a("bgcolor"),s=a("bordercolor"),r=t.opacity(s);a("borderpad");var p=a("borderwidth"),u=a("showarrow");a("text",u?" ":l._dfltTitle.annotation),a("textangle"),i.coerceFont(a,"font",l.font),a("width"),a("align");var d=a("height");if(d&&a("valign"),u){var g=a("arrowside"),v,x;g.indexOf("end")!==-1&&(v=a("arrowhead"),x=a("arrowsize")),g.indexOf("start")!==-1&&(a("startarrowhead",v),a("startarrowsize",x)),a("arrowcolor",r?n.bordercolor:t.defaultLine),a("arrowwidth",(r&&p||1)*2),a("standoff"),a("startstandoff")}var y=a("hovertext"),m=l.hoverlabel||{};if(y){var c=a("hoverlabel.bgcolor",m.bgcolor||(t.opacity(o)?t.rgb(o):t.defaultLine)),h=a("hoverlabel.bordercolor",m.bordercolor||t.contrast(c)),b=i.extendFlat({},m.font);b.color||(b.color=h),i.coerceFont(a,"hoverlabel.font",b)}a("captureevents",!!y)}}),B0=xe((E,k)=>{var i=sr(),t=Ma(),e=Pi(),n=Cd(),l=Ll();k.exports=function(o,s){e(o,s,{name:"annotations",handleItemDefaults:a})};function a(o,s,r){function p(C,H){return i.coerce(o,s,l,C,H)}var u=p("visible"),d=p("clicktoshow");if(u||d){n(o,s,r,p);for(var g=s.showarrow,v=["x","y"],x=[-10,-30],y={_fullLayout:r},m=0;m<2;m++){var c=v[m],h=t.coerceRef(o,s,y,c,"","paper");if(h!=="paper"){var b=t.getFromId(y,h);b._annIndices.push(s._index)}if(t.coercePosition(s,y,p,h,c,.5),g){var _="a"+c,w=t.coerceRef(o,s,y,_,"pixel",["pixel","paper"]);w!=="pixel"&&w!==h&&(w=s[_]="pixel");var K=w==="pixel"?x[m]:.4;t.coercePosition(s,y,p,w,_,K)}p(c+"anchor"),p(c+"shift")}if(i.noneOrAll(o,s,["x","y"]),g&&i.noneOrAll(o,s,["ax","ay"]),d){var D=p("xclick"),I=p("yclick");s._xclick=D===void 0?s.x:t.cleanPosition(D,y,s.xref),s._yclick=I===void 0?s.y:t.cleanPosition(I,y,s.yref)}}}}),U0=xe((E,k)=>{var i=sr(),t=Ma(),e=bc().draw;k.exports=function(a){var o=a._fullLayout,s=i.filterVisible(o.annotations);if(s.length&&a._fullData.length)return i.syncOrAsync([e,n],a)};function n(a){var o=a._fullLayout;i.filterVisible(o.annotations).forEach(function(s){var r=t.getFromId(a,s.xref),p=t.getFromId(a,s.yref),u=t.getRefType(s.xref),d=t.getRefType(s.yref);s._extremes={},u==="range"&&l(s,r),d==="range"&&l(s,p)})}function l(a,o){var s=o._id,r=s.charAt(0),p=a[r],u=a["a"+r],d=a[r+"ref"],g=a["a"+r+"ref"],v=a["_"+r+"padplus"],x=a["_"+r+"padminus"],y={x:1,y:-1}[r]*a[r+"shift"],m=3*a.arrowsize*a.arrowwidth||0,c=m+y,h=m-y,b=3*a.startarrowsize*a.arrowwidth||0,_=b+y,w=b-y,K;if(g===d){var D=t.findExtremes(o,[o.r2c(p)],{ppadplus:c,ppadminus:h}),I=t.findExtremes(o,[o.r2c(u)],{ppadplus:Math.max(v,_),ppadminus:Math.max(x,w)});K={min:[D.min[0],I.min[0]],max:[D.max[0],I.max[0]]}}else _=u?_+u:_,w=u?w-u:w,K=t.findExtremes(o,[o.r2c(p)],{ppadplus:Math.max(v,c,_),ppadminus:Math.max(x,h,w)});a._extremes[s]=K}}),H0=xe((E,k)=>{var i=Bn(),t=Yu();k.exports=function(e,n,l,a){n=n||{};var o=l==="log"&&n.type==="linear",s=l==="linear"&&n.type==="log";if(!(o||s))return;var r=e._fullLayout.annotations,p=n._id.charAt(0),u,d;function g(x){var y=u[x],m=null;o?m=t(y,n.range):m=Math.pow(10,y),i(m)||(m=null),a(d+x,m)}for(var v=0;v<r.length;v++)u=r[v],d="annotations["+v+"].",u[p+"ref"]===n._id&&g(p),u["a"+p+"ref"]===n._id&&g("a"+p)}}),V0=xe((E,k)=>{var i=bc(),t=z0();k.exports={moduleType:"component",name:"annotations",layoutAttributes:Ll(),supplyLayoutDefaults:B0(),includeBasePlot:Us()("annotations"),calcAutorange:U0(),draw:i.draw,drawOne:i.drawOne,drawRaw:i.drawRaw,hasClickToShow:t.hasClickToShow,onClick:t.onClick,convertCoords:H0()}}),_c=xe((E,k)=>{var i=Ll(),t=Di().overrideAll,e=ca().templatedArray;k.exports=t(e("annotation",{visible:i.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:i.xanchor,xshift:i.xshift,yanchor:i.yanchor,yshift:i.yshift,text:i.text,textangle:i.textangle,font:i.font,width:i.width,height:i.height,opacity:i.opacity,align:i.align,valign:i.valign,bgcolor:i.bgcolor,bordercolor:i.bordercolor,borderpad:i.borderpad,borderwidth:i.borderwidth,showarrow:i.showarrow,arrowcolor:i.arrowcolor,arrowhead:i.arrowhead,startarrowhead:i.startarrowhead,arrowside:i.arrowside,arrowsize:i.arrowsize,startarrowsize:i.startarrowsize,arrowwidth:i.arrowwidth,standoff:i.standoff,startstandoff:i.startstandoff,hovertext:i.hovertext,hoverlabel:i.hoverlabel,captureevents:i.captureevents}),"calc","from-root")}),q0=xe((E,k)=>{var i=sr(),t=Ma(),e=Pi(),n=Cd(),l=_c();k.exports=function(o,s,r){e(o,s,{name:"annotations",handleItemDefaults:a,fullLayout:r.fullLayout})};function a(o,s,r,p){function u(v,x){return i.coerce(o,s,l,v,x)}function d(v){var x=v+"axis",y={_fullLayout:{}};return y._fullLayout[x]=r[x],t.coercePosition(s,y,u,v,v,.5)}var g=u("visible");g&&(n(o,s,p.fullLayout,u),d("x"),d("y"),d("z"),i.noneOrAll(o,s,["x","y","z"]),s.xref="x",s.yref="y",s.zref="z",u("xanchor"),u("yanchor"),u("xshift"),u("yshift"),s.showarrow&&(s.axref="pixel",s.ayref="pixel",u("ax",-10),u("ay",-30),i.noneOrAll(o,s,["ax","ay"])))}}),W0=xe((E,k)=>{var i=sr(),t=Ma();k.exports=function(n){for(var l=n.fullSceneLayout,a=l.annotations,o=0;o<a.length;o++)e(a[o],n);n.fullLayout._infolayer.selectAll(".annotation-"+n.id).remove()};function e(n,l){var a=l.fullSceneLayout,o=a.domain,s=l.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};n._xa={},i.extendFlat(n._xa,r),t.setConvert(n._xa),n._xa._offset=s.l+o.x[0]*s.w,n._xa.l2p=function(){return .5*(1+n._pdata[0]/n._pdata[3])*s.w*(o.x[1]-o.x[0])},n._ya={},i.extendFlat(n._ya,r),t.setConvert(n._ya),n._ya._offset=s.t+(1-o.y[1])*s.h,n._ya.l2p=function(){return .5*(1-n._pdata[1]/n._pdata[3])*s.h*(o.y[1]-o.y[0])}}}),Y0=xe((E,k)=>{function i(e,n){var l=[0,0,0,0],a,o;for(a=0;a<4;++a)for(o=0;o<4;++o)l[o]+=e[4*a+o]*n[a];return l}function t(e,n){var l=i(e.projection,i(e.view,i(e.model,[n[0],n[1],n[2],1])));return l}k.exports=t}),G0=xe((E,k)=>{var i=bc().drawRaw,t=Y0(),e=["x","y","z"];k.exports=function(n){for(var l=n.fullSceneLayout,a=n.dataScale,o=l.annotations,s=0;s<o.length;s++){for(var r=o[s],p=!1,u=0;u<3;u++){var d=e[u],g=r[d],v=l[d+"axis"],x=v.r2fraction(g);if(x<0||x>1){p=!0;break}}p?n.fullLayout._infolayer.select(".annotation-"+n.id+'[data-index="'+s+'"]').remove():(r._pdata=t(n.glplot.cameraParams,[l.xaxis.r2l(r.x)*a[0],l.yaxis.r2l(r.y)*a[1],l.zaxis.r2l(r.z)*a[2]]),i(n.graphDiv,r,s,n.id,r._xa,r._ya))}}}),J0=xe((E,k)=>{var i=mn(),t=sr();k.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:_c()}}},layoutAttributes:_c(),handleDefaults:q0(),includeBasePlot:e,convert:W0(),draw:G0()};function e(n,l){var a=i.subplotsRegistry.gl3d;if(a)for(var o=a.attrRegex,s=Object.keys(n),r=0;r<s.length;r++){var p=s[r];o.test(p)&&(n[p].annotations||[]).length&&(t.pushUnique(l._basePlotModules,a),t.pushUnique(l._subplots.gl3d,p))}}}),Dd=xe((E,k)=>{var i=Ll(),t=ei(),e=Ko().line,n=ko().dash,l=za().extendFlat,a=ca().templatedArray;zs();var o=Ci(),s=Ds().shapeTexttemplateAttrs,r=Ku();k.exports=a("shape",{visible:l({},o.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:l({},o.legend,{editType:"calc+arraydraw"}),legendgroup:l({},o.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:l({},o.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:t({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:l({},o.legendrank,{editType:"calc+arraydraw"}),legendwidth:l({},o.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:l({},i.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:l({},i.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:l({},e.color,{editType:"arraydraw"}),width:l({},e.width,{editType:"calc+arraydraw"}),dash:l({},n,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:s({},{keys:Object.keys(r)}),font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}),Z0=xe((E,k)=>{var i=sr(),t=Ma(),e=Pi(),n=Dd(),l=Co();k.exports=function(s,r){e(s,r,{name:"shapes",handleItemDefaults:o})};function a(s,r){return s?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function o(s,r,p){function u(q,ee){return i.coerce(s,r,n,q,ee)}r._isShape=!0;var d=u("visible");if(d){var g=u("showlegend");g&&(u("legend"),u("legendwidth"),u("legendgroup"),u("legendgrouptitle.text"),i.coerceFont(u,"legendgrouptitle.font"),u("legendrank"));var v=u("path"),x=v?"path":"rect",y=u("type",x),m=y!=="path";m&&delete r.path,u("editable"),u("layer"),u("opacity"),u("fillcolor"),u("fillrule");var c=u("line.width");c&&(u("line.color"),u("line.dash"));for(var h=u("xsizemode"),b=u("ysizemode"),_=["x","y"],w=0;w<2;w++){var K=_[w],D=K+"anchor",I=K==="x"?h:b,C={_fullLayout:p},H,z,R,U=t.coerceRef(s,r,C,K,void 0,"paper"),Z=t.getRefType(U);if(Z==="range"?(H=t.getFromId(C,U),H._shapeIndices.push(r._index),R=l.rangeToShapePosition(H),z=l.shapePositionToRange(H),(H.type==="category"||H.type==="multicategory")&&(u(K+"0shift"),u(K+"1shift"))):z=R=i.identity,m){var G=.25,P=.75,A=K+"0",O=K+"1",L=s[A],S=s[O];s[A]=z(s[A],!0),s[O]=z(s[O],!0),I==="pixel"?(u(A,0),u(O,10)):(t.coercePosition(r,C,u,U,A,G),t.coercePosition(r,C,u,U,O,P)),r[A]=R(r[A]),r[O]=R(r[O]),s[A]=L,s[O]=S}if(I==="pixel"){var F=s[D];s[D]=z(s[D],!0),t.coercePosition(r,C,u,U,D,.25),r[D]=R(r[D]),s[D]=F}}m&&i.noneOrAll(s,r,["x0","x1","y0","y1"]);var W=y==="line",ue,ae;if(m&&(ue=u("label.texttemplate")),ue||(ae=u("label.text")),ae||ue){u("label.textangle");var se=u("label.textposition",W?"middle":"middle center");u("label.xanchor"),u("label.yanchor",a(W,se)),u("label.padding"),i.coerceFont(u,"label.font",p.font)}}}}),K0=xe((E,k)=>{var i=Nn(),t=sr();function e(n,l){return n?"bottom":l.indexOf("top")!==-1?"top":l.indexOf("bottom")!==-1?"bottom":"middle"}k.exports=function(n,l,a){a("newshape.visible"),a("newshape.name"),a("newshape.showlegend"),a("newshape.legend"),a("newshape.legendwidth"),a("newshape.legendgroup"),a("newshape.legendgrouptitle.text"),t.coerceFont(a,"newshape.legendgrouptitle.font"),a("newshape.legendrank"),a("newshape.drawdirection"),a("newshape.layer"),a("newshape.fillcolor"),a("newshape.fillrule"),a("newshape.opacity");var o=a("newshape.line.width");if(o){var s=(n||{}).plot_bgcolor||"#FFF";a("newshape.line.color",i.contrast(s)),a("newshape.line.dash")}var r=n.dragmode==="drawline",p=a("newshape.label.text"),u=a("newshape.label.texttemplate");if(p||u){a("newshape.label.textangle");var d=a("newshape.label.textposition",r?"middle":"middle center");a("newshape.label.xanchor"),a("newshape.label.yanchor",e(r,d)),a("newshape.label.padding"),t.coerceFont(a,"newshape.label.font",l.font)}a("activeshape.fillcolor"),a("activeshape.opacity")}}),$0=xe((E,k)=>{var i=sr(),t=Ma(),e=Rs(),n=Co();k.exports=function(r){var p=r._fullLayout,u=i.filterVisible(p.shapes);if(!(!u.length||!r._fullData.length))for(var d=0;d<u.length;d++){var g=u[d];g._extremes={};var v,x,y=t.getRefType(g.xref),m=t.getRefType(g.yref);g.xref!=="paper"&&y!=="domain"&&(v=t.getFromId(r,g.xref),x=s(v,g,e.paramIsX),x&&(g._extremes[v._id]=t.findExtremes(v,x,l(g)))),g.yref!=="paper"&&m!=="domain"&&(v=t.getFromId(r,g.yref),x=s(v,g,e.paramIsY),x&&(g._extremes[v._id]=t.findExtremes(v,x,a(g))))}};function l(r){return o(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function a(r){return o(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function o(r,p,u,d,g,v){var x=r/2,y=v;if(p==="pixel"){var m=g?n.extractPathCoords(g,v?e.paramIsY:e.paramIsX):[u,d],c=i.aggNums(Math.max,null,m),h=i.aggNums(Math.min,null,m),b=h<0?Math.abs(h)+x:x,_=c>0?c+x:x;return{ppad:x,ppadplus:y?b:_,ppadminus:y?_:b}}else return{ppad:x}}function s(r,p,u){var d=r._id.charAt(0)==="x"?"x":"y",g=r.type==="category"||r.type==="multicategory",v,x,y=0,m=0,c=g?r.r2c:r.d2c,h=p[d+"sizemode"]==="scaled";if(h?(v=p[d+"0"],x=p[d+"1"],g&&(y=p[d+"0shift"],m=p[d+"1shift"])):(v=p[d+"anchor"],x=p[d+"anchor"]),v!==void 0)return[c(v)+y,c(x)+m];if(p.path){var b=1/0,_=-1/0,w=p.path.match(e.segmentRE),K,D,I,C,H;for(r.type==="date"&&(c=n.decodeDate(c)),K=0;K<w.length;K++)D=w[K],I=u[D.charAt(0)].drawn,I!==void 0&&(C=w[K].substr(1).match(e.paramRE),!(!C||C.length<I)&&(H=c(C[I]),H<b&&(b=H),H>_&&(_=H)));if(_>=b)return[b,_]}}}),X0=xe((E,k)=>{var i=pc();k.exports={moduleType:"component",name:"shapes",layoutAttributes:Dd(),supplyLayoutDefaults:Z0(),supplyDrawNewShapeDefaults:K0(),includeBasePlot:Us()("shapes"),calcAutorange:$0(),draw:i.draw,drawOne:i.drawOne}}),Ed=xe((E,k)=>{var i=Za(),t=ca().templatedArray;zs(),k.exports=t("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}),Q0=xe((E,k)=>{var i=sr(),t=Ma(),e=Pi(),n=Ed(),l="images";k.exports=function(o,s){var r={name:l,handleItemDefaults:a};e(o,s,r)};function a(o,s,r){function p(h,b){return i.coerce(o,s,n,h,b)}var u=p("source"),d=p("visible",!!u);if(!d)return s;p("layer"),p("xanchor"),p("yanchor"),p("sizex"),p("sizey"),p("sizing"),p("opacity");for(var g={_fullLayout:r},v=["x","y"],x=0;x<2;x++){var y=v[x],m=t.coerceRef(o,s,g,y,"paper",void 0);if(m!=="paper"){var c=t.getFromId(g,m);c._imgIndices.push(s._index)}t.coercePosition(s,g,p,m,y,0)}return s}}),eg=xe((E,k)=>{var i=Jn(),t=na(),e=Ma(),n=Da(),l=Jo();k.exports=function(a){var o=a._fullLayout,s=[],r={},p=[],u,d;for(d=0;d<o.images.length;d++){var g=o.images[d];if(g.visible)if(g.layer==="below"&&g.xref!=="paper"&&g.yref!=="paper"){u=n.ref2id(g.xref)+n.ref2id(g.yref);var v=o._plots[u];if(!v){p.push(g);continue}v.mainplot&&(u=v.mainplot.id),r[u]||(r[u]=[]),r[u].push(g)}else g.layer==="above"?s.push(g):p.push(g)}var x={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function y(I){var C=i.select(this);if(this._imgSrc!==I.source)if(C.attr("xmlns",l.svg),!a._context.staticPlot||I.source&&I.source.slice(0,5)==="data:")C.attr("xlink:href",I.source),this._imgSrc=I.source;else{var H=new Promise(function(z){var R=new Image;this.img=R,R.setAttribute("crossOrigin","anonymous"),R.onerror=U,R.onload=function(){var Z=document.createElement("canvas");Z.width=this.width,Z.height=this.height;var G=Z.getContext("2d",{willReadFrequently:!0});G.drawImage(this,0,0);var P=Z.toDataURL("image/png");C.attr("xlink:href",P),z()},C.on("error",U),R.src=I.source,this._imgSrc=I.source;function U(){C.remove(),z()}}.bind(this));a._promises.push(H)}}function m(I){var C=i.select(this),H=e.getFromId(a,I.xref),z=e.getFromId(a,I.yref),R=e.getRefType(I.xref)==="domain",U=e.getRefType(I.yref)==="domain",Z=o._size,G,P;H!==void 0?G=typeof I.xref=="string"&&R?H._length*I.sizex:Math.abs(H.l2p(I.sizex)-H.l2p(0)):G=I.sizex*Z.w,z!==void 0?P=typeof I.yref=="string"&&U?z._length*I.sizey:Math.abs(z.l2p(I.sizey)-z.l2p(0)):P=I.sizey*Z.h;var A=G*x.x[I.xanchor].offset,O=P*x.y[I.yanchor].offset,L=x.x[I.xanchor].sizing+x.y[I.yanchor].sizing,S,F;switch(H!==void 0?S=typeof I.xref=="string"&&R?H._length*I.x+H._offset:H.r2p(I.x)+H._offset:S=I.x*Z.w+Z.l,S+=A,z!==void 0?F=typeof I.yref=="string"&&U?z._length*(1-I.y)+z._offset:z.r2p(I.y)+z._offset:F=Z.h-I.y*Z.h+Z.t,F+=O,I.sizing){case"fill":L+=" slice";break;case"stretch":L="none";break}C.attr({x:S,y:F,width:G,height:P,preserveAspectRatio:L,opacity:I.opacity});var W=H&&e.getRefType(I.xref)!=="domain"?H._id:"",ue=z&&e.getRefType(I.yref)!=="domain"?z._id:"",ae=W+ue;t.setClipUrl(C,ae?"clip"+o._uid+ae:null,a)}function c(I){return[I.xref,I.x,I.sizex,I.yref,I.y,I.sizey].join("_")}function h(I,C){return I._index-C._index}var b=o._imageLowerLayer.selectAll("image").data(p,c),_=o._imageUpperLayer.selectAll("image").data(s,c);b.enter().append("image"),_.enter().append("image"),b.exit().remove(),_.exit().remove(),b.each(function(I){y.bind(this)(I),m.bind(this)(I)}),_.each(function(I){y.bind(this)(I),m.bind(this)(I)}),b.sort(h),_.sort(h);var w=Object.keys(o._plots);for(d=0;d<w.length;d++){u=w[d];var K=o._plots[u];if(K.imagelayer){var D=K.imagelayer.selectAll("image").data(r[u]||[],c);D.enter().append("image"),D.exit().remove(),D.each(function(I){y.bind(this)(I),m.bind(this)(I)}),D.sort(h)}}}}),tg=xe((E,k)=>{var i=Bn(),t=Yu();k.exports=function(e,n,l,a){n=n||{};var o=l==="log"&&n.type==="linear",s=l==="linear"&&n.type==="log";if(o||s){for(var r=e._fullLayout.images,p=n._id.charAt(0),u,d,g=0;g<r.length;g++)if(u=r[g],d="images["+g+"].",u[p+"ref"]===n._id){var v=u[p],x=u["size"+p],y=null,m=null;if(o){y=t(v,n.range);var c=x/Math.pow(10,y)/2;m=2*Math.log(c+Math.sqrt(1+c*c))/Math.LN10}else y=Math.pow(10,v),m=y*(Math.pow(10,x/2)-Math.pow(10,-x/2));i(y)?i(m)||(m=null):(y=null,m=null),a(d+p,y),a(d+"size"+p,m)}}}}),rg=xe((E,k)=>{k.exports={moduleType:"component",name:"images",layoutAttributes:Ed(),supplyLayoutDefaults:Q0(),includeBasePlot:Us()("images"),draw:eg(),convertCoords:tg()}}),wc=xe((E,k)=>{k.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}}),Pd=xe((E,k)=>{var i=ei(),t=Bi(),e=za().extendFlat,n=Di().overrideAll,l=$u(),a=ca().templatedArray,o=a("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});k.exports=n(a("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:o,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:e(l({editType:"arraydraw"}),{}),font:i({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:t.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}),ng=xe((E,k)=>{var i=sr(),t=Pi(),e=Pd(),n=wc(),l=n.name,a=e.buttons;k.exports=function(r,p){var u={name:l,handleItemDefaults:o};t(r,p,u)};function o(r,p,u){function d(x,y){return i.coerce(r,p,e,x,y)}var g=t(r,p,{name:"buttons",handleItemDefaults:s}),v=d("visible",g.length>0);v&&(d("active"),d("direction"),d("type"),d("showactive"),d("x"),d("y"),i.noneOrAll(r,p,["x","y"]),d("xanchor"),d("yanchor"),d("pad.t"),d("pad.r"),d("pad.b"),d("pad.l"),i.coerceFont(d,"font",u.font),d("bgcolor",u.paper_bgcolor),d("bordercolor"),d("borderwidth"))}function s(r,p){function u(g,v){return i.coerce(r,p,a,g,v)}var d=u("visible",r.method==="skip"||Array.isArray(r.args));d&&(u("method"),u("args"),u("args2"),u("label"),u("execute"))}}),ag=xe((E,k)=>{k.exports=l;var i=Jn(),t=Nn(),e=na(),n=sr();function l(a,o,s){this.gd=a,this.container=o,this.id=s,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(a,o,s){var r=this.gd._fullLayout,p=r.width,u=r.height;this.position=a;var d=this.position.l,g=this.position.w,v=this.position.t,x=this.position.h,y=this.position.direction,m=y==="down",c=y==="left",h=y==="right",b=y==="up",_=g,w=x,K,D,I,C;!m&&!c&&!h&&!b&&(this.position.direction="down",m=!0);var H=m||b;H?(K=d,D=K+_,m?(I=v,C=Math.min(I+w,u),w=C-I):(C=v+w,I=Math.max(C-w,0),w=C-I)):(I=v,C=I+w,c?(D=d+_,K=Math.max(D-_,0),_=D-K):(K=d,D=Math.min(K+_,p),_=D-K)),this._box={l:K,t:I,w:_,h:w};var z=g>_,R=l.barLength+2*l.barPad,U=l.barWidth+2*l.barPad,Z=d,G=v+x;G+U>u&&(G=u-U);var P=this.container.selectAll("rect.scrollbar-horizontal").data(z?[0]:[]);P.exit().on(".drag",null).remove(),P.enter().append("rect").classed("scrollbar-horizontal",!0).call(t.fill,l.barColor),z?(this.hbar=P.attr({rx:l.barRadius,ry:l.barRadius,x:Z,y:G,width:R,height:U}),this._hbarXMin=Z+R/2,this._hbarTranslateMax=_-R):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var A=x>w,O=l.barWidth+2*l.barPad,L=l.barLength+2*l.barPad,S=d+g,F=v;S+O>p&&(S=p-O);var W=this.container.selectAll("rect.scrollbar-vertical").data(A?[0]:[]);W.exit().on(".drag",null).remove(),W.enter().append("rect").classed("scrollbar-vertical",!0).call(t.fill,l.barColor),A?(this.vbar=W.attr({rx:l.barRadius,ry:l.barRadius,x:S,y:F,width:O,height:L}),this._vbarYMin=F+L/2,this._vbarTranslateMax=w-L):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ue=this.id,ae=K-.5,se=A?D+O+.5:D+.5,q=I-.5,ee=z?C+U+.5:C+.5,B=r._topdefs.selectAll("#"+ue).data(z||A?[0]:[]);if(B.exit().remove(),B.enter().append("clipPath").attr("id",ue).append("rect"),z||A?(this._clipRect=B.select("rect").attr({x:Math.floor(ae),y:Math.floor(q),width:Math.ceil(se)-Math.floor(ae),height:Math.ceil(ee)-Math.floor(q)}),this.container.call(e.setClipUrl,ue,this.gd),this.bg.attr({x:d,y:v,width:g,height:x})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(e.setClipUrl,null),delete this._clipRect),z||A){var re=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(re);var J=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault(),i.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));z&&this.hbar.on(".drag",null).call(J),A&&this.vbar.on(".drag",null).call(J)}this.setTranslate(o,s)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(e.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var a=this.translateX,o=this.translateY;this.hbar&&(a-=i.event.dx),this.vbar&&(o-=i.event.dy),this.setTranslate(a,o)},l.prototype._onBoxWheel=function(){var a=this.translateX,o=this.translateY;this.hbar&&(a+=i.event.deltaY),this.vbar&&(o+=i.event.deltaY),this.setTranslate(a,o)},l.prototype._onBarDrag=function(){var a=this.translateX,o=this.translateY;if(this.hbar){var s=a+this._hbarXMin,r=s+this._hbarTranslateMax,p=n.constrain(i.event.x,s,r),u=(p-s)/(r-s),d=this.position.w-this._box.w;a=u*d}if(this.vbar){var g=o+this._vbarYMin,v=g+this._vbarTranslateMax,x=n.constrain(i.event.y,g,v),y=(x-g)/(v-g),m=this.position.h-this._box.h;o=y*m}this.setTranslate(a,o)},l.prototype.setTranslate=function(a,o){var s=this.position.w-this._box.w,r=this.position.h-this._box.h;if(a=n.constrain(a||0,0,s),o=n.constrain(o||0,0,r),this.translateX=a,this.translateY=o,this.container.call(e.setTranslate,this._box.l-this.position.l-a,this._box.t-this.position.t-o),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+a-.5),y:Math.floor(this.position.t+o-.5)}),this.hbar){var p=a/s;this.hbar.call(e.setTranslate,a+p*this._hbarTranslateMax,o)}if(this.vbar){var u=o/r;this.vbar.call(e.setTranslate,a,o+u*this._vbarTranslateMax)}}}),ig=xe((E,k)=>{var i=Jn(),t=Ba(),e=Nn(),n=na(),l=sr(),a=fi(),o=ca().arrayEditor,s=ii().LINE_SPACING,r=wc(),p=ag();k.exports=function(R){var U=R._fullLayout,Z=l.filterVisible(U[r.name]);function G(ue){t.autoMargin(R,C(ue))}var P=U._menulayer.selectAll("g."+r.containerClassName).data(Z.length>0?[0]:[]);if(P.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),P.exit().each(function(){i.select(this).selectAll("g."+r.headerGroupClassName).each(G)}).remove(),Z.length!==0){var A=P.selectAll("g."+r.headerGroupClassName).data(Z,u);A.enter().append("g").classed(r.headerGroupClassName,!0);for(var O=l.ensureSingle(P,"g",r.dropdownButtonGroupClassName,function(ue){ue.style("pointer-events","all")}),L=0;L<Z.length;L++){var S=Z[L];I(R,S)}var F="updatemenus"+U._uid,W=new p(R,O,F);A.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(z)),A.exit().each(function(ue){O.call(z),G(ue)}).remove(),A.each(function(ue){var ae=i.select(this),se=ue.type==="dropdown"?O:null;t.manageCommandObserver(R,ue,ue.buttons,function(q){v(R,ue,ue.buttons[q.index],ae,se,W,q.index,!0)}),ue.type==="dropdown"?(x(R,ae,O,W,ue),g(O,ue)&&y(R,ae,O,W,ue)):y(R,ae,null,null,ue)})}};function u(R){return R._index}function d(R){return+R.attr(r.menuIndexAttrName)==-1}function g(R,U){return+R.attr(r.menuIndexAttrName)===U._index}function v(R,U,Z,G,P,A,O,L){U.active=O,o(R.layout,r.name,U).applyUpdate("active",O),U.type==="buttons"?y(R,G,null,null,U):U.type==="dropdown"&&(P.attr(r.menuIndexAttrName,"-1"),x(R,G,P,A,U),L||y(R,G,P,A,U))}function x(R,U,Z,G,P){var A=l.ensureSingle(U,"g",r.headerClassName,function(ae){ae.style("pointer-events","all")}),O=P._dims,L=P.active,S=P.buttons[L]||r.blankHeaderOpts,F={y:P.pad.t,yPad:0,x:P.pad.l,xPad:0,index:0},W={width:O.headerWidth,height:O.headerHeight};A.call(h,P,S,R).call(H,P,F,W);var ue=l.ensureSingle(U,"text",r.headerArrowClassName,function(ae){ae.attr("text-anchor","end").call(n.font,P.font).text(r.arrowSymbol[P.direction])});ue.attr({x:O.headerWidth-r.arrowOffsetX+P.pad.l,y:O.headerHeight/2+r.textOffsetY+P.pad.t}),A.on("click",function(){Z.call(z,String(g(Z,P)?-1:P._index)),y(R,U,Z,G,P)}),A.on("mouseover",function(){A.call(K)}),A.on("mouseout",function(){A.call(D,P)}),n.setTranslate(U,O.lx,O.ly)}function y(R,U,Z,G,P){Z||(Z=U,Z.attr("pointer-events","all"));var A=!d(Z)||P.type==="buttons"?P.buttons:[],O=P.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,L=Z.selectAll("g."+O).data(l.filterVisible(A)),S=L.enter().append("g").classed(O,!0),F=L.exit();P.type==="dropdown"?(S.attr("opacity","0").transition().attr("opacity","1"),F.transition().attr("opacity","0").remove()):F.remove();var W=0,ue=0,ae=P._dims,se=["up","down"].indexOf(P.direction)!==-1;P.type==="dropdown"&&(se?ue=ae.headerHeight+r.gapButtonHeader:W=ae.headerWidth+r.gapButtonHeader),P.type==="dropdown"&&P.direction==="up"&&(ue=-r.gapButtonHeader+r.gapButton-ae.openHeight),P.type==="dropdown"&&P.direction==="left"&&(W=-r.gapButtonHeader+r.gapButton-ae.openWidth);var q={x:ae.lx+W+P.pad.l,y:ae.ly+ue+P.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},ee={l:q.x+P.borderwidth,t:q.y+P.borderwidth};L.each(function(B,re){var J=i.select(this);J.call(h,P,B,R).call(H,P,q),J.on("click",function(){i.event.defaultPrevented||(B.execute&&(B.args2&&P.active===re?(v(R,P,B,U,Z,G,-1),t.executeAPICommand(R,B.method,B.args2)):(v(R,P,B,U,Z,G,re),t.executeAPICommand(R,B.method,B.args))),R.emit("plotly_buttonclicked",{menu:P,button:B,active:P.active}))}),J.on("mouseover",function(){J.call(K)}),J.on("mouseout",function(){J.call(D,P),L.call(w,P)})}),L.call(w,P),se?(ee.w=Math.max(ae.openWidth,ae.headerWidth),ee.h=q.y-ee.t):(ee.w=q.x-ee.l,ee.h=Math.max(ae.openHeight,ae.headerHeight)),ee.direction=P.direction,G&&(L.size()?m(R,U,Z,G,P,ee):c(G))}function m(R,U,Z,G,P,A){var O=P.direction,L=O==="up"||O==="down",S=P._dims,F=P.active,W,ue,ae;if(L)for(ue=0,ae=0;ae<F;ae++)ue+=S.heights[ae]+r.gapButton;else for(W=0,ae=0;ae<F;ae++)W+=S.widths[ae]+r.gapButton;G.enable(A,W,ue),G.hbar&&G.hbar.attr("opacity","0").transition().attr("opacity","1"),G.vbar&&G.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(R){var U=!!R.hbar,Z=!!R.vbar;U&&R.hbar.transition().attr("opacity","0").each("end",function(){U=!1,Z||R.disable()}),Z&&R.vbar.transition().attr("opacity","0").each("end",function(){Z=!1,U||R.disable()})}function h(R,U,Z,G){R.call(b,U).call(_,U,Z,G)}function b(R,U){var Z=l.ensureSingle(R,"rect",r.itemRectClassName,function(G){G.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});Z.call(e.stroke,U.bordercolor).call(e.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function _(R,U,Z,G){var P=l.ensureSingle(R,"text",r.itemTextClassName,function(L){L.attr({"text-anchor":"start","data-notex":1})}),A=Z.label,O=G._fullLayout._meta;O&&(A=l.templateString(A,O)),P.call(n.font,U.font).text(A).call(a.convertToTspans,G)}function w(R,U){var Z=U.active;R.each(function(G,P){var A=i.select(this);P===Z&&U.showactive&&A.select("rect."+r.itemRectClassName).call(e.fill,r.activeColor)})}function K(R){R.select("rect."+r.itemRectClassName).call(e.fill,r.hoverColor)}function D(R,U){R.select("rect."+r.itemRectClassName).call(e.fill,U.bgcolor)}function I(R,U){var Z=U._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},G=n.tester.selectAll("g."+r.dropdownButtonClassName).data(l.filterVisible(U.buttons));G.enter().append("g").classed(r.dropdownButtonClassName,!0);var P=["up","down"].indexOf(U.direction)!==-1;G.each(function(W,ue){var ae=i.select(this);ae.call(h,U,W,R);var se=ae.select("."+r.itemTextClassName),q=se.node()&&n.bBox(se.node()).width,ee=Math.max(q+r.textPadX,r.minWidth),B=U.font.size*s,re=a.lineCount(se),J=Math.max(B*re,r.minHeight)+r.textOffsetY;J=Math.ceil(J),ee=Math.ceil(ee),Z.widths[ue]=ee,Z.heights[ue]=J,Z.height1=Math.max(Z.height1,J),Z.width1=Math.max(Z.width1,ee),P?(Z.totalWidth=Math.max(Z.totalWidth,ee),Z.openWidth=Z.totalWidth,Z.totalHeight+=J+r.gapButton,Z.openHeight+=J+r.gapButton):(Z.totalWidth+=ee+r.gapButton,Z.openWidth+=ee+r.gapButton,Z.totalHeight=Math.max(Z.totalHeight,J),Z.openHeight=Z.totalHeight)}),P?Z.totalHeight-=r.gapButton:Z.totalWidth-=r.gapButton,Z.headerWidth=Z.width1+r.arrowPadX,Z.headerHeight=Z.height1,U.type==="dropdown"&&(P?(Z.width1+=r.arrowPadX,Z.totalHeight=Z.height1):Z.totalWidth=Z.width1,Z.totalWidth+=r.arrowPadX),G.remove();var A=Z.totalWidth+U.pad.l+U.pad.r,O=Z.totalHeight+U.pad.t+U.pad.b,L=R._fullLayout._size;Z.lx=L.l+L.w*U.x,Z.ly=L.t+L.h*(1-U.y);var S="left";l.isRightAnchor(U)&&(Z.lx-=A,S="right"),l.isCenterAnchor(U)&&(Z.lx-=A/2,S="center");var F="top";l.isBottomAnchor(U)&&(Z.ly-=O,F="bottom"),l.isMiddleAnchor(U)&&(Z.ly-=O/2,F="middle"),Z.totalWidth=Math.ceil(Z.totalWidth),Z.totalHeight=Math.ceil(Z.totalHeight),Z.lx=Math.round(Z.lx),Z.ly=Math.round(Z.ly),t.autoMargin(R,C(U),{x:U.x,y:U.y,l:A*({right:1,center:.5}[S]||0),r:A*({left:1,center:.5}[S]||0),b:O*({top:1,middle:.5}[F]||0),t:O*({bottom:1,middle:.5}[F]||0)})}function C(R){return r.autoMarginIdRoot+R._index}function H(R,U,Z,G){G=G||{};var P=R.select("."+r.itemRectClassName),A=R.select("."+r.itemTextClassName),O=U.borderwidth,L=Z.index,S=U._dims;n.setTranslate(R,O+Z.x,O+Z.y);var F=["up","down"].indexOf(U.direction)!==-1,W=G.height||(F?S.heights[L]:S.height1);P.attr({x:0,y:0,width:G.width||(F?S.width1:S.widths[L]),height:W});var ue=U.font.size*s,ae=a.lineCount(A),se=(ae-1)*ue/2;a.positionText(A,r.textOffsetX,W/2-se+r.textOffsetY),F?Z.y+=S.heights[L]+Z.yPad:Z.x+=S.widths[L]+Z.xPad,Z.index++}function z(R,U){R.attr(r.menuIndexAttrName,U||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}}),og=xe((E,k)=>{var i=wc();k.exports={moduleType:"component",name:i.name,layoutAttributes:Pd(),supplyLayoutDefaults:ng(),draw:ig()}}),Hs=xe((E,k)=>{k.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),Fd=xe((E,k)=>{var i=ei(),t=$u(),e=za().extendDeepAll,n=Di().overrideAll,l=Cs(),a=ca().templatedArray,o=Hs(),s=a("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});k.exports=n(a("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:s,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:e(t({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:i({})},font:i({}),activebgcolor:{valType:"color",dflt:o.gripBgActiveColor},bgcolor:{valType:"color",dflt:o.railBgColor},bordercolor:{valType:"color",dflt:o.railBorderColor},borderwidth:{valType:"number",min:0,dflt:o.railBorderWidth},ticklen:{valType:"number",min:0,dflt:o.tickLength},tickcolor:{valType:"color",dflt:o.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:o.minorTickLength}}),"arraydraw","from-root")}),lg=xe((E,k)=>{var i=sr(),t=Pi(),e=Fd(),n=Hs(),l=n.name,a=e.steps;k.exports=function(r,p){t(r,p,{name:l,handleItemDefaults:o})};function o(r,p,u){function d(b,_){return i.coerce(r,p,e,b,_)}for(var g=t(r,p,{name:"steps",handleItemDefaults:s}),v=0,x=0;x<g.length;x++)g[x].visible&&v++;var y;if(v<2?y=p.visible=!1:y=d("visible"),!!y){p._stepCount=v;var m=p._visibleSteps=i.filterVisible(g),c=d("active");(g[c]||{}).visible||(p.active=m[0]._index),d("x"),d("y"),i.noneOrAll(r,p,["x","y"]),d("xanchor"),d("yanchor"),d("len"),d("lenmode"),d("pad.t"),d("pad.r"),d("pad.b"),d("pad.l"),i.coerceFont(d,"font",u.font);var h=d("currentvalue.visible");h&&(d("currentvalue.xanchor"),d("currentvalue.prefix"),d("currentvalue.suffix"),d("currentvalue.offset"),i.coerceFont(d,"currentvalue.font",p.font)),d("transition.duration"),d("transition.easing"),d("bgcolor"),d("activebgcolor"),d("bordercolor"),d("borderwidth"),d("ticklen"),d("tickwidth"),d("tickcolor"),d("minorticklen")}}function s(r,p){function u(v,x){return i.coerce(r,p,a,v,x)}var d;if(r.method!=="skip"&&!Array.isArray(r.args)?d=p.visible=!1:d=u("visible"),d){u("method"),u("args");var g=u("label","step-"+p._index);u("value",g),u("execute")}}}),sg=xe((E,k)=>{var i=Jn(),t=Ba(),e=Nn(),n=na(),l=sr(),a=l.strTranslate,o=fi(),s=ca().arrayEditor,r=Hs(),p=ii(),u=p.LINE_SPACING,d=p.FROM_TL,g=p.FROM_BR;k.exports=function(P){var A=P._context.staticPlot,O=P._fullLayout,L=x(O,P),S=O._infolayer.selectAll("g."+r.containerClassName).data(L.length>0?[0]:[]);S.enter().append("g").classed(r.containerClassName,!0).style("cursor",A?null:"ew-resize");function F(se){se._commandObserver&&(se._commandObserver.remove(),delete se._commandObserver),t.autoMargin(P,v(se))}if(S.exit().each(function(){i.select(this).selectAll("g."+r.groupClassName).each(F)}).remove(),L.length!==0){var W=S.selectAll("g."+r.groupClassName).data(L,y);W.enter().append("g").classed(r.groupClassName,!0),W.exit().each(F).remove();for(var ue=0;ue<L.length;ue++){var ae=L[ue];m(P,ae)}W.each(function(se){var q=i.select(this);H(se),t.manageCommandObserver(P,se,se._visibleSteps,function(ee){var B=q.data()[0];B.active!==ee.index&&(B._dragging||D(P,q,B,ee.index,!1,!0))}),c(P,i.select(this),se)})}};function v(P){return r.autoMarginIdRoot+P._index}function x(P,A){for(var O=P[r.name],L=[],S=0;S<O.length;S++){var F=O[S];F.visible&&(F._gd=A,L.push(F))}return L}function y(P){return P._index}function m(P,A){var O=n.tester.selectAll("g."+r.labelGroupClass).data(A._visibleSteps);O.enter().append("g").classed(r.labelGroupClass,!0);var L=0,S=0;O.each(function(J){var X=i.select(this),N=_(X,{step:J},A),$=N.node();if($){var te=n.bBox($);S=Math.max(S,te.height),L=Math.max(L,te.width)}}),O.remove();var F=A._dims={};F.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var W=P._fullLayout._size;F.lx=W.l+W.w*A.x,F.ly=W.t+W.h*(1-A.y),A.lenmode==="fraction"?F.outerLength=Math.round(W.w*A.len):F.outerLength=A.len,F.inputAreaStart=0,F.inputAreaLength=Math.round(F.outerLength-A.pad.l-A.pad.r);var ue=F.inputAreaLength-2*r.stepInset,ae=ue/(A._stepCount-1),se=L+r.labelPadding;if(F.labelStride=Math.max(1,Math.ceil(se/ae)),F.labelHeight=S,F.currentValueMaxWidth=0,F.currentValueHeight=0,F.currentValueTotalHeight=0,F.currentValueMaxLines=1,A.currentvalue.visible){var q=n.tester.append("g");O.each(function(J){var X=h(q,A,J.label),N=X.node()&&n.bBox(X.node())||{width:0,height:0},$=o.lineCount(X);F.currentValueMaxWidth=Math.max(F.currentValueMaxWidth,Math.ceil(N.width)),F.currentValueHeight=Math.max(F.currentValueHeight,Math.ceil(N.height)),F.currentValueMaxLines=Math.max(F.currentValueMaxLines,$)}),F.currentValueTotalHeight=F.currentValueHeight+A.currentvalue.offset,q.remove()}F.height=F.currentValueTotalHeight+r.tickOffset+A.ticklen+r.labelOffset+F.labelHeight+A.pad.t+A.pad.b;var ee="left";l.isRightAnchor(A)&&(F.lx-=F.outerLength,ee="right"),l.isCenterAnchor(A)&&(F.lx-=F.outerLength/2,ee="center");var B="top";l.isBottomAnchor(A)&&(F.ly-=F.height,B="bottom"),l.isMiddleAnchor(A)&&(F.ly-=F.height/2,B="middle"),F.outerLength=Math.ceil(F.outerLength),F.height=Math.ceil(F.height),F.lx=Math.round(F.lx),F.ly=Math.round(F.ly);var re={y:A.y,b:F.height*g[B],t:F.height*d[B]};A.lenmode==="fraction"?(re.l=0,re.xl=A.x-A.len*d[ee],re.r=0,re.xr=A.x+A.len*g[ee]):(re.x=A.x,re.l=F.outerLength*d[ee],re.r=F.outerLength*g[ee]),t.autoMargin(P,v(A),re)}function c(P,A,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),A.call(h,O).call(G,O).call(w,O).call(C,O).call(Z,P,O).call(b,P,O);var L=O._dims;n.setTranslate(A,L.lx+O.pad.l,L.ly+O.pad.t),A.call(z,O,!1),A.call(h,O)}function h(P,A,O){if(A.currentvalue.visible){var L=A._dims,S,F;switch(A.currentvalue.xanchor){case"right":S=L.inputAreaLength-r.currentValueInset-L.currentValueMaxWidth,F="left";break;case"center":S=L.inputAreaLength*.5,F="middle";break;default:S=r.currentValueInset,F="left"}var W=l.ensureSingle(P,"text",r.labelClass,function(B){B.attr({"text-anchor":F,"data-notex":1})}),ue=A.currentvalue.prefix?A.currentvalue.prefix:"";if(typeof O=="string")ue+=O;else{var ae=A.steps[A.active].label,se=A._gd._fullLayout._meta;se&&(ae=l.templateString(ae,se)),ue+=ae}A.currentvalue.suffix&&(ue+=A.currentvalue.suffix),W.call(n.font,A.currentvalue.font).text(ue).call(o.convertToTspans,A._gd);var q=o.lineCount(W),ee=(L.currentValueMaxLines+1-q)*A.currentvalue.font.size*u;return o.positionText(W,S,ee),W}}function b(P,A,O){var L=l.ensureSingle(P,"rect",r.gripRectClass,function(S){S.call(I,A,P,O).style("pointer-events","all")});L.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(e.stroke,O.bordercolor).call(e.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function _(P,A,O){var L=l.ensureSingle(P,"text",r.labelClass,function(W){W.attr({"text-anchor":"middle","data-notex":1})}),S=A.step.label,F=O._gd._fullLayout._meta;return F&&(S=l.templateString(S,F)),L.call(n.font,O.font).text(S).call(o.convertToTspans,O._gd),L}function w(P,A){var O=l.ensureSingle(P,"g",r.labelsClass),L=A._dims,S=O.selectAll("g."+r.labelGroupClass).data(L.labelSteps);S.enter().append("g").classed(r.labelGroupClass,!0),S.exit().remove(),S.each(function(F){var W=i.select(this);W.call(_,F,A),n.setTranslate(W,R(A,F.fraction),r.tickOffset+A.ticklen+A.font.size*u+r.labelOffset+L.currentValueTotalHeight)})}function K(P,A,O,L,S){var F=Math.round(L*(O._stepCount-1)),W=O._visibleSteps[F]._index;W!==O.active&&D(P,A,O,W,!0,S)}function D(P,A,O,L,S,F){var W=O.active;O.active=L,s(P.layout,r.name,O).applyUpdate("active",L);var ue=O.steps[O.active];A.call(z,O,F),A.call(h,O),P.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:S,previousActive:W}),ue&&ue.method&&S&&(A._nextMethod?(A._nextMethod.step=ue,A._nextMethod.doCallback=S,A._nextMethod.doTransition=F):(A._nextMethod={step:ue,doCallback:S,doTransition:F},A._nextMethodRaf=window.requestAnimationFrame(function(){var ae=A._nextMethod.step;ae.method&&(ae.execute&&t.executeAPICommand(P,ae.method,ae.args),A._nextMethod=null,A._nextMethodRaf=null)})))}function I(P,A,O){if(A._context.staticPlot)return;var L=O.node(),S=i.select(A);function F(){return O.data()[0]}function W(){var ue=F();A.emit("plotly_sliderstart",{slider:ue});var ae=O.select("."+r.gripRectClass);i.event.stopPropagation(),i.event.preventDefault(),ae.call(e.fill,ue.activebgcolor);var se=U(ue,i.mouse(L)[0]);K(A,O,ue,se,!0),ue._dragging=!0;function q(){var B=F(),re=U(B,i.mouse(L)[0]);K(A,O,B,re,!1)}S.on("mousemove",q),S.on("touchmove",q);function ee(){var B=F();B._dragging=!1,ae.call(e.fill,B.bgcolor),S.on("mouseup",null),S.on("mousemove",null),S.on("touchend",null),S.on("touchmove",null),A.emit("plotly_sliderend",{slider:B,step:B.steps[B.active]})}S.on("mouseup",ee),S.on("touchend",ee)}P.on("mousedown",W),P.on("touchstart",W)}function C(P,A){var O=P.selectAll("rect."+r.tickRectClass).data(A._visibleSteps),L=A._dims;O.enter().append("rect").classed(r.tickRectClass,!0),O.exit().remove(),O.attr({width:A.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(S,F){var W=F%L.labelStride===0,ue=i.select(this);ue.attr({height:W?A.ticklen:A.minorticklen}).call(e.fill,A.tickcolor),n.setTranslate(ue,R(A,F/(A._stepCount-1))-.5*A.tickwidth,(W?r.tickOffset:r.minorTickOffset)+L.currentValueTotalHeight)})}function H(P){var A=P._dims;A.labelSteps=[];for(var O=P._stepCount,L=0;L<O;L+=A.labelStride)A.labelSteps.push({fraction:L/(O-1),step:P._visibleSteps[L]})}function z(P,A,O){for(var L=P.select("rect."+r.gripRectClass),S=0,F=0;F<A._stepCount;F++)if(A._visibleSteps[F]._index===A.active){S=F;break}var W=R(A,S/(A._stepCount-1));if(!A._invokingCommand){var ue=L;O&&A.transition.duration>0&&(ue=ue.transition().duration(A.transition.duration).ease(A.transition.easing)),ue.attr("transform",a(W-r.gripWidth*.5,A._dims.currentValueTotalHeight))}}function R(P,A){var O=P._dims;return O.inputAreaStart+r.stepInset+(O.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,A))}function U(P,A){var O=P._dims;return Math.min(1,Math.max(0,(A-r.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*r.stepInset-2*O.inputAreaStart)))}function Z(P,A,O){var L=O._dims,S=l.ensureSingle(P,"rect",r.railTouchRectClass,function(F){F.call(I,A,P,O).style("pointer-events","all")});S.attr({width:L.inputAreaLength,height:Math.max(L.inputAreaWidth,r.tickOffset+O.ticklen+L.labelHeight)}).call(e.fill,O.bgcolor).attr("opacity",0),n.setTranslate(S,0,L.currentValueTotalHeight)}function G(P,A){var O=A._dims,L=O.inputAreaLength-r.railInset*2,S=l.ensureSingle(P,"rect",r.railRectClass);S.attr({width:L,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(e.stroke,A.bordercolor).call(e.fill,A.bgcolor).style("stroke-width",A.borderwidth+"px"),n.setTranslate(S,r.railInset,(O.inputAreaWidth-r.railWidth)*.5+O.currentValueTotalHeight)}}),ug=xe((E,k)=>{var i=Hs();k.exports={moduleType:"component",name:i.name,layoutAttributes:Fd(),supplyLayoutDefaults:lg(),draw:sg()}}),Ac=xe((E,k)=>{var i=Bi();k.exports={bgcolor:{valType:"color",dflt:i.background,editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}),Id=xe((E,k)=>{k.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}),Tc=xe((E,k)=>{k.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),cg=xe(E=>{var k=Da(),i=fi(),t=Tc(),e=ii().LINE_SPACING,n=t.name;function l(a){var o=a&&a[n];return o&&o.visible}E.isVisible=l,E.makeData=function(a){for(var o=k.list({_fullLayout:a},"x",!0),s=a.margin,r=[],p=0;p<o.length;p++){var u=o[p];if(l(u)){r.push(u);var d=u[n];d._id=n+u._id,d._height=(a.height-s.b-s.t)*d.thickness,d._offsetShift=Math.floor(d.borderwidth/2)}}a._rangeSliderData=r},E.autoMarginOpts=function(a,o){var s=a._fullLayout,r=o[n],p=o._id.charAt(0),u=0,d=0;if(o.side==="bottom"&&(u=o._depth,o.title.text!==s._dfltTitle[p])){d=1.5*o.title.font.size+10+r._offsetShift;var g=(o.title.text.match(i.BR_TAG_ALL)||[]).length;d+=g*o.title.font.size*e}return{x:0,y:o._counterDomainMin,l:0,r:0,t:0,b:r._height+u+Math.max(s.margin.b,d),pad:t.extraPad+r._offsetShift*2}}}),fg=xe((E,k)=>{var i=sr(),t=ca(),e=Da(),n=Ac(),l=Id();k.exports=function(a,o,s){var r=a[s],p=o[s];if(!(r.rangeslider||o._requestRangeslider[p._id]))return;i.isPlainObject(r.rangeslider)||(r.rangeslider={});var u=r.rangeslider,d=t.newContainer(p,"rangeslider");function g(C,H){return i.coerce(u,d,n,C,H)}var v,x;function y(C,H){return i.coerce(v,x,l,C,H)}var m=g("visible");if(m){g("bgcolor",o.plot_bgcolor),g("bordercolor"),g("borderwidth"),g("thickness"),g("autorange",!p.isValidRange(u.range)),g("range");var c=o._subplots;if(c)for(var h=c.cartesian.filter(function(C){return C.substr(0,C.indexOf("y"))===e.name2id(s)}).map(function(C){return C.substr(C.indexOf("y"),C.length)}),b=i.simpleMap(h,e.id2name),_=0;_<b.length;_++){var w=b[_];v=u[w]||{},x=t.newContainer(d,w,"yaxis");var K=o[w],D;v.range&&K.isValidRange(v.range)&&(D="fixed");var I=y("rangemode",D);I!=="match"&&y("range",K.range.slice())}d._input=u}}}),dg=xe((E,k)=>{var i=Da().list,t=Ol().getAutoRange,e=Tc();k.exports=function(n){for(var l=i(n,"x",!0),a=0;a<l.length;a++){var o=l[a],s=o[e.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=t(n,o))}}}),hg=xe((E,k)=>{var i=Jn(),t=mn(),e=Ba(),n=sr(),l=n.strTranslate,a=na(),o=Nn(),s=Ns(),r=xc(),p=Da(),u=Fi(),d=So(),g=Tc();k.exports=function(I){for(var C=I._fullLayout,H=C._rangeSliderData,z=0;z<H.length;z++){var R=H[z][g.name];R._clipId=R._id+"-"+C._uid}function U(G){return G._name}var Z=C._infolayer.selectAll("g."+g.containerClassName).data(H,U);Z.exit().each(function(G){var P=G[g.name];C._topdefs.select("#"+P._clipId).remove()}).remove(),H.length!==0&&(Z.enter().append("g").classed(g.containerClassName,!0).attr("pointer-events","all"),Z.each(function(G){var P=i.select(this),A=G[g.name],O=C[p.id2name(G.anchor)],L=A[p.id2name(G.anchor)];if(A.range){var S=n.simpleMap(A.range,G.r2l),F=n.simpleMap(G.range,G.r2l),W;F[0]<F[1]?W=[Math.min(S[0],F[0]),Math.max(S[1],F[1])]:W=[Math.max(S[0],F[0]),Math.min(S[1],F[1])],A.range=A._input.range=n.simpleMap(W,G.l2r)}G.cleanRange("rangeslider.range");var ue=C._size,ae=G.domain;A._width=ue.w*(ae[1]-ae[0]);var se=Math.round(ue.l+ue.w*ae[0]),q=Math.round(ue.t+ue.h*(1-G._counterDomainMin)+(G.side==="bottom"?G._depth:0)+A._offsetShift+g.extraPad);P.attr("transform",l(se,q)),A._rl=n.simpleMap(A.range,G.r2l);var ee=A._rl[0],B=A._rl[1],re=B-ee;if(A.p2d=function(Me){return Me/A._width*re+ee},A.d2p=function(Me){return(Me-ee)/re*A._width},G.rangebreaks){var J=G.locateBreaks(ee,B);if(J.length){var X,N,$=0;for(X=0;X<J.length;X++)N=J[X],$+=N.max-N.min;var te=A._width/(B-ee-$),le=[-te*ee];for(X=0;X<J.length;X++)N=J[X],le.push(le[le.length-1]-te*(N.max-N.min));for(A.d2p=function(Me){for(var He=le[0],Ne=0;Ne<J.length;Ne++){var ze=J[Ne];if(Me>=ze.max)He=le[Ne+1];else if(Me<ze.min)break}return He+te*Me},X=0;X<J.length;X++)N=J[X],N.pmin=A.d2p(N.min),N.pmax=A.d2p(N.max);A.p2d=function(Me){for(var He=le[0],Ne=0;Ne<J.length;Ne++){var ze=J[Ne];if(Me>=ze.pmax)He=le[Ne+1];else if(Me<ze.pmin)break}return(Me-He)/te}}}if(L.rangemode!=="match"){var pe=O.r2l(L.range[0]),fe=O.r2l(L.range[1]),ye=fe-pe;A.d2pOppAxis=function(Me){return(Me-pe)/ye*A._height}}P.call(c,I,G,A).call(h,I,G,A).call(b,I,G,A).call(w,I,G,A,L).call(K,I,G,A).call(D,I,G,A),x(P,I,G,A),m(P,I,G,A,O,L),G.side==="bottom"&&s.draw(I,G._id+"title",{propContainer:G,propName:G._name+".title",placeholder:C._dfltTitle.x,attributes:{x:G._offset+G._length/2,y:q+A._height+A._offsetShift+10+1.5*G.title.font.size,"text-anchor":"middle"}})}))};function v(I){return typeof I.clientX=="number"?I.clientX:I.touches&&I.touches.length>0?I.touches[0].clientX:0}function x(I,C,H,z){if(C._context.staticPlot)return;var R=I.select("rect."+g.slideBoxClassName).node(),U=I.select("rect."+g.grabAreaMinClassName).node(),Z=I.select("rect."+g.grabAreaMaxClassName).node();function G(){var P=i.event,A=P.target,O=v(P),L=O-I.node().getBoundingClientRect().left,S=z.d2p(H._rl[0]),F=z.d2p(H._rl[1]),W=u.coverSlip();this.addEventListener("touchmove",ue),this.addEventListener("touchend",ae),W.addEventListener("mousemove",ue),W.addEventListener("mouseup",ae);function ue(se){var q=v(se),ee=+q-O,B,re,J;switch(A){case R:if(J="ew-resize",S+ee>H._length||F+ee<0)return;B=S+ee,re=F+ee;break;case U:if(J="col-resize",S+ee>H._length)return;B=S+ee,re=F;break;case Z:if(J="col-resize",F+ee<0)return;B=S,re=F+ee;break;default:J="ew-resize",B=L,re=L+ee;break}if(re<B){var X=re;re=B,B=X}z._pixelMin=B,z._pixelMax=re,d(i.select(W),J),y(I,C,H,z)}function ae(){W.removeEventListener("mousemove",ue),W.removeEventListener("mouseup",ae),this.removeEventListener("touchmove",ue),this.removeEventListener("touchend",ae),n.removeElement(W)}}I.on("mousedown",G),I.on("touchstart",G)}function y(I,C,H,z){function R(G){return H.l2r(n.constrain(G,z._rl[0],z._rl[1]))}var U=R(z.p2d(z._pixelMin)),Z=R(z.p2d(z._pixelMax));window.requestAnimationFrame(function(){t.call("_guiRelayout",C,H._name+".range",[U,Z])})}function m(I,C,H,z,R,U){var Z=g.handleWidth/2;function G(se){return n.constrain(se,0,z._width)}function P(se){return n.constrain(se,0,z._height)}function A(se){return n.constrain(se,-Z,z._width+Z)}var O=G(z.d2p(H._rl[0])),L=G(z.d2p(H._rl[1]));if(I.select("rect."+g.slideBoxClassName).attr("x",O).attr("width",L-O),I.select("rect."+g.maskMinClassName).attr("width",O),I.select("rect."+g.maskMaxClassName).attr("x",L).attr("width",z._width-L),U.rangemode!=="match"){var S=z._height-P(z.d2pOppAxis(R._rl[1])),F=z._height-P(z.d2pOppAxis(R._rl[0]));I.select("rect."+g.maskMinOppAxisClassName).attr("x",O).attr("height",S).attr("width",L-O),I.select("rect."+g.maskMaxOppAxisClassName).attr("x",O).attr("y",F).attr("height",z._height-F).attr("width",L-O),I.select("rect."+g.slideBoxClassName).attr("y",S).attr("height",F-S)}var W=.5,ue=Math.round(A(O-Z))-W,ae=Math.round(A(L-Z))+W;I.select("g."+g.grabberMinClassName).attr("transform",l(ue,W)),I.select("g."+g.grabberMaxClassName).attr("transform",l(ae,W))}function c(I,C,H,z){var R=n.ensureSingle(I,"rect",g.bgClassName,function(P){P.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),U=z.borderwidth%2===0?z.borderwidth:z.borderwidth-1,Z=-z._offsetShift,G=a.crispRound(C,z.borderwidth);R.attr({width:z._width+U,height:z._height+U,transform:l(Z,Z),"stroke-width":G}).call(o.stroke,z.bordercolor).call(o.fill,z.bgcolor)}function h(I,C,H,z){var R=C._fullLayout,U=n.ensureSingleById(R._topdefs,"clipPath",z._clipId,function(Z){Z.append("rect").attr({x:0,y:0})});U.select("rect").attr({width:z._width,height:z._height})}function b(I,C,H,z){var R=C.calcdata,U=I.selectAll("g."+g.rangePlotClassName).data(H._subplotsWith,n.identity);U.enter().append("g").attr("class",function(G){return g.rangePlotClassName+" "+G}).call(a.setClipUrl,z._clipId,C),U.order(),U.exit().remove();var Z;U.each(function(G,P){var A=i.select(this),O=P===0,L=p.getFromId(C,G,"y"),S=L._name,F=z[S],W={data:[],layout:{xaxis:{type:H.type,domain:[0,1],range:z.range.slice(),calendar:H.calendar},width:z._width,height:z._height,margin:{t:0,b:0,l:0,r:0}},_context:C._context};H.rangebreaks&&(W.layout.xaxis.rangebreaks=H.rangebreaks),W.layout[S]={type:L.type,domain:[0,1],range:F.rangemode!=="match"?F.range.slice():L.range.slice(),calendar:L.calendar},L.rangebreaks&&(W.layout[S].rangebreaks=L.rangebreaks),e.supplyDefaults(W);var ue=W._fullLayout.xaxis,ae=W._fullLayout[S];ue.clearCalc(),ue.setScale(),ae.clearCalc(),ae.setScale();var se={id:G,plotgroup:A,xaxis:ue,yaxis:ae,isRangePlot:!0};O?Z=se:(se.mainplot="xy",se.mainplotinfo=Z),r.rangePlot(C,se,_(R,G))})}function _(I,C){for(var H=[],z=0;z<I.length;z++){var R=I[z],U=R[0].trace;U.xaxis+U.yaxis===C&&H.push(R)}return H}function w(I,C,H,z,R){var U=n.ensureSingle(I,"rect",g.maskMinClassName,function(A){A.attr({x:0,y:0,"shape-rendering":"crispEdges"})});U.attr("height",z._height).call(o.fill,g.maskColor);var Z=n.ensureSingle(I,"rect",g.maskMaxClassName,function(A){A.attr({y:0,"shape-rendering":"crispEdges"})});if(Z.attr("height",z._height).call(o.fill,g.maskColor),R.rangemode!=="match"){var G=n.ensureSingle(I,"rect",g.maskMinOppAxisClassName,function(A){A.attr({y:0,"shape-rendering":"crispEdges"})});G.attr("width",z._width).call(o.fill,g.maskOppAxisColor);var P=n.ensureSingle(I,"rect",g.maskMaxOppAxisClassName,function(A){A.attr({y:0,"shape-rendering":"crispEdges"})});P.attr("width",z._width).style("border-top",g.maskOppBorder).call(o.fill,g.maskOppAxisColor)}}function K(I,C,H,z){if(!C._context.staticPlot){var R=n.ensureSingle(I,"rect",g.slideBoxClassName,function(U){U.attr({y:0,cursor:g.slideBoxCursor,"shape-rendering":"crispEdges"})});R.attr({height:z._height,fill:g.slideBoxFill})}}function D(I,C,H,z){var R=n.ensureSingle(I,"g",g.grabberMinClassName),U=n.ensureSingle(I,"g",g.grabberMaxClassName),Z={x:0,width:g.handleWidth,rx:g.handleRadius,fill:o.background,stroke:o.defaultLine,"stroke-width":g.handleStrokeWidth,"shape-rendering":"crispEdges"},G={y:Math.round(z._height/4),height:Math.round(z._height/2)},P=n.ensureSingle(R,"rect",g.handleMinClassName,function(F){F.attr(Z)});P.attr(G);var A=n.ensureSingle(U,"rect",g.handleMaxClassName,function(F){F.attr(Z)});A.attr(G);var O={width:g.grabAreaWidth,x:0,y:0,fill:g.grabAreaFill,cursor:C._context.staticPlot?void 0:g.grabAreaCursor},L=n.ensureSingle(R,"rect",g.grabAreaMinClassName,function(F){F.attr(O)});L.attr("height",z._height);var S=n.ensureSingle(U,"rect",g.grabAreaMaxClassName,function(F){F.attr(O)});S.attr("height",z._height)}}),pg=xe((E,k)=>{var i=sr(),t=Ac(),e=Id(),n=cg();k.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:i.extendFlat({},t,{yaxis:e})}}},layoutAttributes:Ac(),handleDefaults:fg(),calcAutorange:dg(),draw:hg(),isVisible:n.isVisible,makeData:n.makeData,autoMarginOpts:n.autoMarginOpts}}),kc=xe((E,k)=>{var i=ei(),t=Bi(),e=ca().templatedArray,n=e("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});k.exports={visible:{valType:"boolean",editType:"plot"},buttons:n,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:i({editType:"plot"}),bgcolor:{valType:"color",dflt:t.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}),Nd=xe((E,k)=>{k.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),gg=xe((E,k)=>{var i=sr(),t=Nn(),e=ca(),n=Pi(),l=kc(),a=Nd();k.exports=function(r,p,u,d,g){var v=r.rangeselector||{},x=e.newContainer(p,"rangeselector");function y(_,w){return i.coerce(v,x,l,_,w)}var m=n(v,x,{name:"buttons",handleItemDefaults:o,calendar:g}),c=y("visible",m.length>0);if(c){var h=s(p,u,d);y("x",h[0]),y("y",h[1]),i.noneOrAll(r,p,["x","y"]),y("xanchor"),y("yanchor"),i.coerceFont(y,"font",u.font);var b=y("bgcolor");y("activecolor",t.contrast(b,a.lightAmount,a.darkAmount)),y("bordercolor"),y("borderwidth")}};function o(r,p,u,d){var g=d.calendar;function v(m,c){return i.coerce(r,p,l.buttons,m,c)}var x=v("visible");if(x){var y=v("step");y!=="all"&&(g&&g!=="gregorian"&&(y==="month"||y==="year")?p.stepmode="backward":v("stepmode"),v("count")),v("label")}}function s(r,p,u){for(var d=u.filter(function(y){return p[y].anchor===r._id}),g=0,v=0;v<d.length;v++){var x=p[d[v]].domain;x&&(g=Math.max(x[1],g))}return[r.domain[0],g+a.yPad]}}),yg=xe((E,k)=>{var i=pf(),t=sr().titleCase;k.exports=function(n,l){var a=n._name,o={};if(l.step==="all")o[a+".autorange"]=!0;else{var s=e(n,l);o[a+".range[0]"]=s[0],o[a+".range[1]"]=s[1]}return o};function e(n,l){var a=n.range,o=new Date(n.r2l(a[1])),s=l.step,r=i["utc"+t(s)],p=l.count,u;switch(l.stepmode){case"backward":u=n.l2r(+r.offset(o,-p));break;case"todate":var d=r.offset(o,-p);u=n.l2r(+r.ceil(d));break}var g=a[1];return[u,g]}}),vg=xe((E,k)=>{var i=Jn(),t=mn(),e=Ba(),n=Nn(),l=na(),a=sr(),o=a.strTranslate,s=fi(),r=Da(),p=ii(),u=p.LINE_SPACING,d=p.FROM_TL,g=p.FROM_BR,v=Nd(),x=yg();k.exports=function(D){var I=D._fullLayout,C=I._infolayer.selectAll(".rangeselector").data(y(D),m);C.enter().append("g").classed("rangeselector",!0),C.exit().remove(),C.style({cursor:"pointer","pointer-events":"all"}),C.each(function(H){var z=i.select(this),R=H,U=R.rangeselector,Z=z.selectAll("g.button").data(a.filterVisible(U.buttons));Z.enter().append("g").classed("button",!0),Z.exit().remove(),Z.each(function(G){var P=i.select(this),A=x(R,G);G._isActive=c(R,G,A),P.call(h,U,G),P.call(_,U,G,D),P.on("click",function(){D._dragged||t.call("_guiRelayout",D,A)}),P.on("mouseover",function(){G._isHovered=!0,P.call(h,U,G)}),P.on("mouseout",function(){G._isHovered=!1,P.call(h,U,G)})}),K(D,Z,U,R._name,z)})};function y(D){for(var I=r.list(D,"x",!0),C=[],H=0;H<I.length;H++){var z=I[H];z.rangeselector&&z.rangeselector.visible&&C.push(z)}return C}function m(D){return D._id}function c(D,I,C){if(I.step==="all")return D.autorange===!0;var H=Object.keys(C);return D.range[0]===C[H[0]]&&D.range[1]===C[H[1]]}function h(D,I,C){var H=a.ensureSingle(D,"rect","selector-rect",function(z){z.attr("shape-rendering","crispEdges")});H.attr({rx:v.rx,ry:v.ry}),H.call(n.stroke,I.bordercolor).call(n.fill,b(I,C)).style("stroke-width",I.borderwidth+"px")}function b(D,I){return I._isActive||I._isHovered?D.activecolor:D.bgcolor}function _(D,I,C,H){function z(U){s.convertToTspans(U,H)}var R=a.ensureSingle(D,"text","selector-text",function(U){U.attr("text-anchor","middle")});R.call(l.font,I.font).text(w(C,H._fullLayout._meta)).call(z)}function w(D,I){return D.label?I?a.templateString(D.label,I):D.label:D.step==="all"?"all":D.count+D.step.charAt(0)}function K(D,I,C,H,z){var R=0,U=0,Z=C.borderwidth;I.each(function(){var S=i.select(this),F=S.select(".selector-text"),W=C.font.size*u,ue=Math.max(W*s.lineCount(F),16)+3;U=Math.max(U,ue)}),I.each(function(){var S=i.select(this),F=S.select(".selector-rect"),W=S.select(".selector-text"),ue=W.node()&&l.bBox(W.node()).width,ae=C.font.size*u,se=s.lineCount(W),q=Math.max(ue+10,v.minButtonWidth);S.attr("transform",o(Z+R,Z)),F.attr({x:0,y:0,width:q,height:U}),s.positionText(W,q/2,U/2-(se-1)*ae/2+3),R+=q+5});var G=D._fullLayout._size,P=G.l+G.w*C.x,A=G.t+G.h*(1-C.y),O="left";a.isRightAnchor(C)&&(P-=R,O="right"),a.isCenterAnchor(C)&&(P-=R/2,O="center");var L="top";a.isBottomAnchor(C)&&(A-=U,L="bottom"),a.isMiddleAnchor(C)&&(A-=U/2,L="middle"),R=Math.ceil(R),U=Math.ceil(U),P=Math.round(P),A=Math.round(A),e.autoMargin(D,H+"-range-selector",{x:C.x,y:C.y,l:R*d[O],r:R*g[O],b:U*g[L],t:U*d[L]}),z.attr("transform",o(P,A))}}),mg=xe((E,k)=>{k.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:kc()}}},layoutAttributes:kc(),handleDefaults:gg(),draw:vg()}}),xg=xe(E=>{var k=za().extendFlat;E.attributes=function(i,t){i=i||{},t=t||{};var e={valType:"info_array",editType:i.editType,items:[{valType:"number",min:0,max:1,editType:i.editType},{valType:"number",min:0,max:1,editType:i.editType}],dflt:[0,1]};i.name&&i.name+"",i.trace,t.description&&""+t.description;var n={x:k({},e,{}),y:k({},e,{}),editType:i.editType};return i.noGridCell||(n.row={valType:"integer",min:0,dflt:0,editType:i.editType},n.column={valType:"integer",min:0,dflt:0,editType:i.editType}),n},E.defaults=function(i,t,e,n){var l=n&&n.x||[0,1],a=n&&n.y||[0,1],o=t.grid;if(o){var s=e("domain.column");s!==void 0&&(s<o.columns?l=o._domains.x[s]:delete i.domain.column);var r=e("domain.row");r!==void 0&&(r<o.rows?a=o._domains.y[r]:delete i.domain.row)}var p=e("domain.x",l),u=e("domain.y",a);p[0]<p[1]||(i.domain.x=l.slice()),u[0]<u[1]||(i.domain.y=a.slice())}}),bg=xe((E,k)=>{var i=sr(),t=kl().counter,e=xg().attributes,n=Za().idRegex,l=ca(),a={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[t("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[n.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[n.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:e({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function o(d,g,v){var x=g[v+"axes"],y=Object.keys((d._splomAxes||{})[v]||{});if(Array.isArray(x))return x;if(y.length)return y}function s(d,g){var v=d.grid||{},x=o(g,v,"x"),y=o(g,v,"y");if(!d.grid&&!x&&!y)return;var m=Array.isArray(v.subplots)&&Array.isArray(v.subplots[0]),c=Array.isArray(x),h=Array.isArray(y),b=c&&x!==v.xaxes&&h&&y!==v.yaxes,_,w;m?(_=v.subplots.length,w=v.subplots[0].length):(h&&(_=y.length),c&&(w=x.length));var K=l.newContainer(g,"grid");function D(A,O){return i.coerce(v,K,a,A,O)}var I=D("rows",_),C=D("columns",w);if(!(I*C>1)){delete g.grid;return}if(!m&&!c&&!h){var H=D("pattern")==="independent";H&&(m=!0)}K._hasSubplotGrid=m;var z=D("roworder"),R=z==="top to bottom",U=m?.2:.1,Z=m?.3:.1,G,P;b&&g._splomGridDflt&&(G=g._splomGridDflt.xside,P=g._splomGridDflt.yside),K._domains={x:r("x",D,U,G,C),y:r("y",D,Z,P,I,R)}}function r(d,g,v,x,y,m){var c=g(d+"gap",v),h=g("domain."+d);g(d+"side",x);for(var b=new Array(y),_=h[0],w=(h[1]-_)/(y-c),K=w*(1-c),D=0;D<y;D++){var I=_+w*D;b[m?y-1-D:D]=[I,I+K]}return b}function p(d,g){var v=g.grid;if(!(!v||!v._domains)){var x=d.grid||{},y=g._subplots,m=v._hasSubplotGrid,c=v.rows,h=v.columns,b=v.pattern==="independent",_,w,K,D,I,C,H,z=v._axisMap={};if(m){var R=x.subplots||[];C=v.subplots=new Array(c);var U=1;for(_=0;_<c;_++){var Z=C[_]=new Array(h),G=R[_]||[];for(w=0;w<h;w++)if(b?(I=U===1?"xy":"x"+U+"y"+U,U++):I=G[w],Z[w]="",y.cartesian.indexOf(I)!==-1){if(H=I.indexOf("y"),K=I.slice(0,H),D=I.slice(H),z[K]!==void 0&&z[K]!==w||z[D]!==void 0&&z[D]!==_)continue;Z[w]=I,z[K]=w,z[D]=_}}}else{var P=o(g,x,"x"),A=o(g,x,"y");v.xaxes=u(P,y.xaxis,h,z,"x"),v.yaxes=u(A,y.yaxis,c,z,"y")}var O=v._anchors={},L=v.roworder==="top to bottom";for(var S in z){var F=S.charAt(0),W=v[F+"side"],ue,ae,se;if(W.length<8)O[S]="free";else if(F==="x"){if(W.charAt(0)==="t"===L?(ue=0,ae=1,se=c):(ue=c-1,ae=-1,se=-1),m){var q=z[S];for(_=ue;_!==se;_+=ae)if(I=C[_][q],!!I&&(H=I.indexOf("y"),I.slice(0,H)===S)){O[S]=I.slice(H);break}}else for(_=ue;_!==se;_+=ae)if(D=v.yaxes[_],y.cartesian.indexOf(S+D)!==-1){O[S]=D;break}}else if(W.charAt(0)==="l"?(ue=0,ae=1,se=h):(ue=h-1,ae=-1,se=-1),m){var ee=z[S];for(_=ue;_!==se;_+=ae)if(I=C[ee][_],!!I&&(H=I.indexOf("y"),I.slice(H)===S)){O[S]=I.slice(0,H);break}}else for(_=ue;_!==se;_+=ae)if(K=v.xaxes[_],y.cartesian.indexOf(K+S)!==-1){O[S]=K;break}}}}function u(d,g,v,x,y){var m=new Array(v),c;function h(b,_){g.indexOf(_)!==-1&&x[_]===void 0?(m[b]=_,x[_]=b):m[b]=""}if(Array.isArray(d))for(c=0;c<v;c++)h(c,d[c]);else for(h(0,y),c=1;c<v;c++)h(c,y+(c+1));return m}k.exports={moduleType:"component",name:"grid",schema:{layout:{grid:a}},layoutAttributes:a,sizeDefaults:s,contentDefaults:p}}),Rd=xe((E,k)=>{k.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}),_g=xe((E,k)=>{var i=Bn(),t=mn(),e=sr(),n=ca(),l=Rd();k.exports=function(a,o,s,r){var p="error_"+r.axis,u=n.newContainer(o,p),d=a[p]||{};function g(b,_){return e.coerce(d,u,l,b,_)}var v=d.array!==void 0||d.value!==void 0||d.type==="sqrt",x=g("visible",v);if(x!==!1){var y=g("type","array"in d?"data":"percent"),m=!0;y!=="sqrt"&&(m=g("symmetric",!((y==="data"?"arrayminus":"valueminus")in d))),y==="data"?(g("array"),g("traceref"),m||(g("arrayminus"),g("tracerefminus"))):(y==="percent"||y==="constant")&&(g("value"),m||g("valueminus"));var c="copy_"+r.inherit+"style";if(r.inherit){var h=o["error_"+r.inherit];(h||{}).visible&&g(c,!(d.color||i(d.thickness)||i(d.width)))}(!r.inherit||!u[c])&&(g("color",s),g("thickness"),g("width",t.traceIs(o,"gl3d")?0:4))}}}),jd=xe((E,k)=>{k.exports=function(t){var e=t.type,n=t.symmetric;if(e==="data"){var l=t.array||[];if(n)return function(r,p){var u=+l[p];return[u,u]};var a=t.arrayminus||[];return function(r,p){var u=+l[p],d=+a[p];return!isNaN(u)||!isNaN(d)?[d||0,u||0]:[NaN,NaN]}}else{var o=i(e,t.value),s=i(e,t.valueminus);return n||t.valueminus===void 0?function(r){var p=o(r);return[p,p]}:function(r){return[s(r),o(r)]}}};function i(t,e){if(t==="percent")return function(n){return Math.abs(n*e/100)};if(t==="constant")return function(){return Math.abs(e)};if(t==="sqrt")return function(n){return Math.sqrt(Math.abs(n))}}}),wg=xe((E,k)=>{var i=Bn(),t=mn(),e=Ma(),n=sr(),l=jd();k.exports=function(o){for(var s=o.calcdata,r=0;r<s.length;r++){var p=s[r],u=p[0].trace;if(u.visible===!0&&t.traceIs(u,"errorBarsOK")){var d=e.getFromId(o,u.xaxis),g=e.getFromId(o,u.yaxis);a(p,u,d,"x"),a(p,u,g,"y")}}};function a(o,s,r,p){var u=s["error_"+p]||{},d=u.visible&&["linear","log"].indexOf(r.type)!==-1,g=[];if(d){for(var v=l(u),x=0;x<o.length;x++){var y=o[x],m=y.i;if(m===void 0)m=x;else if(m===null)continue;var c=y[p];if(i(r.c2l(c))){var h=v(c,m);if(i(h[0])&&i(h[1])){var b=y[p+"s"]=c-h[0],_=y[p+"h"]=c+h[1];g.push(b,_)}}}var w=r._id,K=s._extremes[w],D=e.findExtremes(r,g,n.extendFlat({tozero:K.opts.tozero},{padded:!0}));K.min=K.min.concat(D.min),K.max=K.max.concat(D.max)}}}),Ag=xe((E,k)=>{var i=Jn(),t=Bn(),e=na(),n=ti();k.exports=function(a,o,s,r){var p,u=s.xaxis,d=s.yaxis,g=r&&r.duration>0,v=a._context.staticPlot;o.each(function(x){var y=x[0].trace,m=y.error_x||{},c=y.error_y||{},h;y.ids&&(h=function(K){return K.id});var b=n.hasMarkers(y)&&y.marker.maxdisplayed>0;!c.visible&&!m.visible&&(x=[]);var _=i.select(this).selectAll("g.errorbar").data(x,h);if(_.exit().remove(),!!x.length){m.visible||_.selectAll("path.xerror").remove(),c.visible||_.selectAll("path.yerror").remove(),_.style("opacity",1);var w=_.enter().append("g").classed("errorbar",!0);g&&w.style("opacity",0).transition().duration(r.duration).style("opacity",1),e.setClipUrl(_,s.layerClipId,a),_.each(function(K){var D=i.select(this),I=l(K,u,d);if(!(b&&!K.vis)){var C,H=D.select("path.yerror");if(c.visible&&t(I.x)&&t(I.yh)&&t(I.ys)){var z=c.width;C="M"+(I.x-z)+","+I.yh+"h"+2*z+"m-"+z+",0V"+I.ys,I.noYS||(C+="m-"+z+",0h"+2*z),p=!H.size(),p?H=D.append("path").style("vector-effect",v?"none":"non-scaling-stroke").classed("yerror",!0):g&&(H=H.transition().duration(r.duration).ease(r.easing)),H.attr("d",C)}else H.remove();var R=D.select("path.xerror");if(m.visible&&t(I.y)&&t(I.xh)&&t(I.xs)){var U=(m.copy_ystyle?c:m).width;C="M"+I.xh+","+(I.y-U)+"v"+2*U+"m0,-"+U+"H"+I.xs,I.noXS||(C+="m0,-"+U+"v"+2*U),p=!R.size(),p?R=D.append("path").style("vector-effect",v?"none":"non-scaling-stroke").classed("xerror",!0):g&&(R=R.transition().duration(r.duration).ease(r.easing)),R.attr("d",C)}else R.remove()}})}})};function l(a,o,s){var r={x:o.c2p(a.x),y:s.c2p(a.y)};return a.yh!==void 0&&(r.yh=s.c2p(a.yh),r.ys=s.c2p(a.ys),t(r.ys)||(r.noYS=!0,r.ys=s.c2p(a.ys,!0))),a.xh!==void 0&&(r.xh=o.c2p(a.xh),r.xs=o.c2p(a.xs),t(r.xs)||(r.noXS=!0,r.xs=o.c2p(a.xs,!0))),r}}),Tg=xe((E,k)=>{var i=Jn(),t=Nn();k.exports=function(e){e.each(function(n){var l=n[0].trace,a=l.error_y||{},o=l.error_x||{},s=i.select(this);s.selectAll("path.yerror").style("stroke-width",a.thickness+"px").call(t.stroke,a.color),o.copy_ystyle&&(o=a),s.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(t.stroke,o.color)})}}),kg=xe((E,k)=>{var i=sr(),t=Di().overrideAll,e=Rd(),n={error_x:i.extendFlat({},e),error_y:i.extendFlat({},e)};delete n.error_x.copy_zstyle,delete n.error_y.copy_zstyle,delete n.error_y.copy_ystyle;var l={error_x:i.extendFlat({},e),error_y:i.extendFlat({},e),error_z:i.extendFlat({},e)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,k.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:n,bar:n,histogram:n,scatter3d:t(l,"calc","nested"),scattergl:t(n,"calc","nested")}},supplyDefaults:_g(),calc:wg(),makeComputeError:jd(),plot:Ag(),style:Tg(),hoverInfo:a};function a(o,s,r){(s.error_y||{}).visible&&(r.yerr=o.yh-o.y,s.error_y.symmetric||(r.yerrneg=o.y-o.ys)),(s.error_x||{}).visible&&(r.xerr=o.xh-o.x,s.error_x.symmetric||(r.xerrneg=o.x-o.xs))}}),Mg=xe((E,k)=>{k.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}),Sg=xe((E,k)=>{var i=Jn(),t=Li(),e=Ba(),n=mn(),l=Ma(),a=Fi(),o=sr(),s=o.strTranslate,r=za().extendFlat,p=So(),u=na(),d=Nn(),g=Ns(),v=fi(),x=Ui().flipScale,y=Od(),m=Ld(),c=Ei(),h=ii(),b=h.LINE_SPACING,_=h.FROM_TL,w=h.FROM_BR,K=Mg().cn;function D(U){var Z=U._fullLayout,G=Z._infolayer.selectAll("g."+K.colorbar).data(I(U),function(P){return P._id});G.enter().append("g").attr("class",function(P){return P._id}).classed(K.colorbar,!0),G.each(function(P){var A=i.select(this);o.ensureSingle(A,"rect",K.cbbg),o.ensureSingle(A,"g",K.cbfills),o.ensureSingle(A,"g",K.cblines),o.ensureSingle(A,"g",K.cbaxis,function(L){L.classed(K.crisp,!0)}),o.ensureSingle(A,"g",K.cbtitleunshift,function(L){L.append("g").classed(K.cbtitle,!0)}),o.ensureSingle(A,"rect",K.cboutline);var O=C(A,P,U);O&&O.then&&(U._promises||[]).push(O),U._context.edits.colorbarPosition&&H(A,P,U)}),G.exit().each(function(P){e.autoMargin(U,P._id)}).remove(),G.order()}function I(U){var Z=U._fullLayout,G=U.calcdata,P=[],A,O,L,S;function F(N){return r(N,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function W(){typeof S.calc=="function"?S.calc(U,L,A):(A._fillgradient=O.reversescale?x(O.colorscale):O.colorscale,A._zrange=[O[S.min],O[S.max]])}for(var ue=0;ue<G.length;ue++){var ae=G[ue];if(L=ae[0].trace,!!L._module){var se=L._module.colorbar;if(L.visible===!0&&se)for(var q=Array.isArray(se),ee=q?se:[se],B=0;B<ee.length;B++){S=ee[B];var re=S.container;O=re?L[re]:L,O&&O.showscale&&(A=F(O.colorbar),A._id="cb"+L.uid+(q&&re?"-"+re:""),A._traceIndex=L.index,A._propPrefix=(re?re+".":"")+"colorbar.",A._meta=L._meta,W(),P.push(A))}}}for(var J in Z._colorAxes)if(O=Z[J],O.showscale){var X=Z._colorAxes[J];A=F(O.colorbar),A._id="cb"+J,A._propPrefix=J+".colorbar.",A._meta=Z._meta,S={min:"cmin",max:"cmax"},X[0]!=="heatmap"&&(L=X[1],S.calc=L._module.colorbar.calc),W(),P.push(A)}return P}function C(U,Z,G){var P=Z.orientation==="v",A=Z.len,O=Z.lenmode,L=Z.thickness,S=Z.thicknessmode,F=Z.outlinewidth,W=Z.borderwidth,ue=Z.bgcolor,ae=Z.xanchor,se=Z.yanchor,q=Z.xpad,ee=Z.ypad,B=Z.x,re=P?Z.y:1-Z.y,J=Z.yref==="paper",X=Z.xref==="paper",N=G._fullLayout,$=N._size,te=Z._fillcolor,le=Z._line,pe=Z.title,fe=pe.side,ye=Z._zrange||i.extent((typeof te=="function"?te:le.color).domain()),Me=typeof le.color=="function"?le.color:function(){return le.color},He=typeof te=="function"?te:function(){return te},Ne=Z._levels,ze=z(G,Z,ye),Re=ze.fill,Ae=ze.line,T=Math.round(L*(S==="fraction"?P?$.w:$.h:1)),V=T/(P?$.w:$.h),j=Math.round(A*(O==="fraction"?P?$.h:$.w:1)),he=j/(P?$.h:$.w),be=X?$.w:G._fullLayout.width,ke=J?$.h:G._fullLayout.height,Ce=Math.round(P?B*be+q:re*ke+ee),qe={center:.5,right:1}[ae]||0,at={top:1,middle:.5}[se]||0,ct=P?B-qe*V:re-at*V,vt=P?re-at*he:B-qe*he,St=Math.round(P?ke*(1-vt):be*vt);Z._lenFrac=he,Z._thickFrac=V,Z._uFrac=ct,Z._vFrac=vt;var ot=Z._axis=R(G,Z,ye);ot.position=V+(P?B+q/$.w:re+ee/$.h);var Ct=["top","bottom"].indexOf(fe)!==-1;if(P&&Ct&&(ot.title.side=fe,ot.titlex=B+q/$.w,ot.titley=vt+(pe.side==="top"?he-ee/$.h:ee/$.h)),!P&&!Ct&&(ot.title.side=fe,ot.titley=re+ee/$.h,ot.titlex=vt+q/$.w),le.color&&Z.tickmode==="auto"){ot.tickmode="linear",ot.tick0=Ne.start;var It=Ne.size,At=o.constrain(j/50,4,15)+1,Nt=(ye[1]-ye[0])/((Z.nticks||At)*It);if(Nt>1){var _e=Math.pow(10,Math.floor(Math.log(Nt)/Math.LN10));It*=_e*o.roundUp(Nt/_e,[2,5,10]),(Math.abs(Ne.start)/Ne.size+1e-6)%1<2e-6&&(ot.tick0=0)}ot.dtick=It}ot.domain=P?[vt+ee/$.h,vt+he-ee/$.h]:[vt+q/$.w,vt+he-q/$.w],ot.setScale(),U.attr("transform",s(Math.round($.l),Math.round($.t)));var De=U.select("."+K.cbtitleunshift).attr("transform",s(-Math.round($.l),-Math.round($.t))),je=ot.ticklabelposition,ie=ot.title.font.size,ve=U.select("."+K.cbaxis),we,Se=0,Ue=0;function Le(st,xt){var Tt={propContainer:ot,propName:Z._propPrefix+"title",traceIndex:Z._traceIndex,_meta:Z._meta,placeholder:N._dfltTitle.colorbar,containerGroup:U.select("."+K.cbtitle)},tr=st.charAt(0)==="h"?st.substr(1):"h"+st;U.selectAll("."+tr+",."+tr+"-math-group").remove(),g.draw(G,st,r(Tt,xt||{}))}function tt(){if(P&&Ct||!P&&!Ct){var st,xt;fe==="top"&&(st=q+$.l+be*B,xt=ee+$.t+ke*(1-vt-he)+3+ie*.75),fe==="bottom"&&(st=q+$.l+be*B,xt=ee+$.t+ke*(1-vt)-3-ie*.25),fe==="right"&&(xt=ee+$.t+ke*re+3+ie*.75,st=q+$.l+be*vt),Le(ot._id+"title",{attributes:{x:st,y:xt,"text-anchor":P?"start":"middle"}})}}function nt(){if(P&&!Ct||!P&&Ct){var st=ot.position||0,xt=ot._offset+ot._length/2,Tt,tr;if(fe==="right")tr=xt,Tt=$.l+be*st+10+ie*(ot.showticklabels?1:.5);else if(Tt=xt,fe==="bottom"&&(tr=$.t+ke*st+10+(je.indexOf("inside")===-1?ot.tickfont.size:0)+(ot.ticks!=="intside"&&Z.ticklen||0)),fe==="top"){var cr=pe.text.split("<br>").length;tr=$.t+ke*st+10-T-b*ie*cr}Le((P?"h":"v")+ot._id+"title",{avoid:{selection:i.select(G).selectAll("g."+ot._id+"tick"),side:fe,offsetTop:P?0:$.t,offsetLeft:P?$.l:0,maxShift:P?N.width:N.height},attributes:{x:Tt,y:tr,"text-anchor":"middle"},transform:{rotate:P?-90:0,offset:0}})}}function ut(){if(!P&&!Ct||P&&Ct){var st=U.select("."+K.cbtitle),xt=st.select("text"),Tt=[-F/2,F/2],tr=st.select(".h"+ot._id+"title-math-group").node(),cr=15.6;xt.node()&&(cr=parseInt(xt.node().style.fontSize,10)*b);var Er;if(tr?(Er=u.bBox(tr),Ue=Er.width,Se=Er.height,Se>cr&&(Tt[1]-=(Se-cr)/2)):xt.node()&&!xt.classed(K.jsPlaceholder)&&(Er=u.bBox(xt.node()),Ue=Er.width,Se=Er.height),P){if(Se){if(Se+=5,fe==="top")ot.domain[1]-=Se/$.h,Tt[1]*=-1;else{ot.domain[0]+=Se/$.h;var nr=v.lineCount(xt);Tt[1]+=(1-nr)*cr}st.attr("transform",s(Tt[0],Tt[1])),ot.setScale()}}else Ue&&(fe==="right"&&(ot.domain[0]+=(Ue+ie/2)/$.w),st.attr("transform",s(Tt[0],Tt[1])),ot.setScale())}U.selectAll("."+K.cbfills+",."+K.cblines).attr("transform",P?s(0,Math.round($.h*(1-ot.domain[1]))):s(Math.round($.w*ot.domain[0]),0)),ve.attr("transform",P?s(0,Math.round(-$.t)):s(Math.round(-$.l),0));var yr=U.select("."+K.cbfills).selectAll("rect."+K.cbfill).attr("style","").data(Re);yr.enter().append("rect").classed(K.cbfill,!0).attr("style",""),yr.exit().remove();var qt=ye.map(ot.c2p).map(Math.round).sort(function(rr,zt){return rr-zt});yr.each(function(rr,zt){var xr=[zt===0?ye[0]:(Re[zt]+Re[zt-1])/2,zt===Re.length-1?ye[1]:(Re[zt]+Re[zt+1])/2].map(ot.c2p).map(Math.round);P&&(xr[1]=o.constrain(xr[1]+(xr[1]>xr[0])?1:-1,qt[0],qt[1]));var Gr=i.select(this).attr(P?"x":"y",Ce).attr(P?"y":"x",i.min(xr)).attr(P?"width":"height",Math.max(T,2)).attr(P?"height":"width",Math.max(i.max(xr)-i.min(xr),2));if(Z._fillgradient)u.gradient(Gr,G,Z._id,P?"vertical":"horizontalreversed",Z._fillgradient,"fill");else{var fn=He(rr).replace("e-","");Gr.attr("fill",t(fn).toHexString())}});var Zt=U.select("."+K.cblines).selectAll("path."+K.cbline).data(le.color&&le.width?Ae:[]);Zt.enter().append("path").classed(K.cbline,!0),Zt.exit().remove(),Zt.each(function(rr){var zt=Ce,xr=Math.round(ot.c2p(rr))+le.width/2%1;i.select(this).attr("d","M"+(P?zt+","+xr:xr+","+zt)+(P?"h":"v")+T).call(u.lineGroupStyle,le.width,Me(rr),le.dash)}),ve.selectAll("g."+ot._id+"tick,path").remove();var jr=Ce+T+(F||0)/2-(Z.ticks==="outside"?1:0),Ar=l.calcTicks(ot),kr=l.getTickSigns(ot)[2];return l.drawTicks(G,ot,{vals:ot.ticks==="inside"?l.clipEnds(ot,Ar):Ar,layer:ve,path:l.makeTickPath(ot,jr,kr),transFn:l.makeTransTickFn(ot)}),l.drawLabels(G,ot,{vals:Ar,layer:ve,transFn:l.makeTransTickLabelFn(ot),labelFns:l.makeLabelFns(ot,jr)})}function Ye(){var st,xt=T+F/2;je.indexOf("inside")===-1&&(st=u.bBox(ve.node()),xt+=P?st.width:st.height),we=De.select("text");var Tt=0,tr=P&&fe==="top",cr=!P&&fe==="right",Er=0;if(we.node()&&!we.classed(K.jsPlaceholder)){var nr,yr=De.select(".h"+ot._id+"title-math-group").node();yr&&(P&&Ct||!P&&!Ct)?(st=u.bBox(yr),Tt=st.width,nr=st.height):(st=u.bBox(De.node()),Tt=st.right-$.l-(P?Ce:St),nr=st.bottom-$.t-(P?St:Ce),!P&&fe==="top"&&(xt+=st.height,Er=st.height)),cr&&(we.attr("transform",s(Tt/2+ie/2,0)),Tt*=2),xt=Math.max(xt,P?Tt:nr)}var qt=(P?q:ee)*2+xt+W+F/2,Zt=0;!P&&pe.text&&se==="bottom"&&re<=0&&(Zt=qt/2,qt+=Zt,Er+=Zt),N._hColorbarMoveTitle=Zt,N._hColorbarMoveCBTitle=Er;var jr=W+F,Ar=(P?Ce:St)-jr/2-(P?q:0),kr=(P?St:Ce)-(P?j:ee+Er-Zt);U.select("."+K.cbbg).attr("x",Ar).attr("y",kr).attr(P?"width":"height",Math.max(qt-Zt,2)).attr(P?"height":"width",Math.max(j+jr,2)).call(d.fill,ue).call(d.stroke,Z.bordercolor).style("stroke-width",W);var rr=cr?Math.max(Tt-10,0):0;U.selectAll("."+K.cboutline).attr("x",(P?Ce:St+q)+rr).attr("y",(P?St+ee-j:Ce)+(tr?Se:0)).attr(P?"width":"height",Math.max(T,2)).attr(P?"height":"width",Math.max(j-(P?2*ee+Se:2*q+rr),2)).call(d.stroke,Z.outlinecolor).style({fill:"none","stroke-width":F});var zt=P?qe*qt:0,xr=P?0:(1-at)*qt-Er;if(zt=X?$.l-zt:-zt,xr=J?$.t-xr:-xr,U.attr("transform",s(zt,xr)),!P&&(W||t(ue).getAlpha()&&!t.equals(N.paper_bgcolor,ue))){var Gr=ve.selectAll("text"),fn=Gr[0].length,br=U.select("."+K.cbbg).node(),Jr=u.bBox(br),$r=u.getTranslate(U),Sn=2;Gr.each(function(Ze,Be){var Je=0,Xe=fn-1;if(Be===Je||Be===Xe){var rt=u.bBox(this),kt=u.getTranslate(this),Dt;if(Be===Xe){var Rt=rt.right+kt.x,Kt=Jr.right+$r.x+St-W-Sn+B;Dt=Kt-Rt,Dt>0&&(Dt=0)}else if(Be===Je){var ir=rt.left+kt.x,Fr=Jr.left+$r.x+St+W+Sn;Dt=Fr-ir,Dt<0&&(Dt=0)}Dt&&(fn<3?this.setAttribute("transform","translate("+Dt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Bt={},gn=_[ae],oe=w[ae],de=_[se],Ge=w[se],We=qt-T;P?(O==="pixels"?(Bt.y=re,Bt.t=j*de,Bt.b=j*Ge):(Bt.t=Bt.b=0,Bt.yt=re+A*de,Bt.yb=re-A*Ge),S==="pixels"?(Bt.x=B,Bt.l=qt*gn,Bt.r=qt*oe):(Bt.l=We*gn,Bt.r=We*oe,Bt.xl=B-L*gn,Bt.xr=B+L*oe)):(O==="pixels"?(Bt.x=B,Bt.l=j*gn,Bt.r=j*oe):(Bt.l=Bt.r=0,Bt.xl=B+A*gn,Bt.xr=B-A*oe),S==="pixels"?(Bt.y=1-re,Bt.t=qt*de,Bt.b=qt*Ge):(Bt.t=We*de,Bt.b=We*Ge,Bt.yt=re-L*de,Bt.yb=re+L*Ge));var Pe=Z.y<.5?"b":"t",Ie=Z.x<.5?"l":"r";G._fullLayout._reservedMargin[Z._id]={};var Ve={r:N.width-Ar-zt,l:Ar+Bt.r,b:N.height-kr-xr,t:kr+Bt.b};X&&J?e.autoMargin(G,Z._id,Bt):X?G._fullLayout._reservedMargin[Z._id][Pe]=Ve[Pe]:J||P?G._fullLayout._reservedMargin[Z._id][Ie]=Ve[Ie]:G._fullLayout._reservedMargin[Z._id][Pe]=Ve[Pe]}return o.syncOrAsync([e.previousPromises,tt,ut,nt,e.previousPromises,Ye],G)}function H(U,Z,G){var P=Z.orientation==="v",A=G._fullLayout,O=A._size,L,S,F;a.init({element:U.node(),gd:G,prepFn:function(){L=U.attr("transform"),p(U)},moveFn:function(W,ue){U.attr("transform",L+s(W,ue)),S=a.align((P?Z._uFrac:Z._vFrac)+W/O.w,P?Z._thickFrac:Z._lenFrac,0,1,Z.xanchor),F=a.align((P?Z._vFrac:1-Z._uFrac)-ue/O.h,P?Z._lenFrac:Z._thickFrac,0,1,Z.yanchor);var ae=a.getCursor(S,F,Z.xanchor,Z.yanchor);p(U,ae)},doneFn:function(){if(p(U),S!==void 0&&F!==void 0){var W={};W[Z._propPrefix+"x"]=S,W[Z._propPrefix+"y"]=F,Z._traceIndex!==void 0?n.call("_guiRestyle",G,W,Z._traceIndex):n.call("_guiRelayout",G,W)}}})}function z(U,Z,G){var P=Z._levels,A=[],O=[],L,S,F=P.end+P.size/100,W=P.size,ue=1.001*G[0]-.001*G[1],ae=1.001*G[1]-.001*G[0];for(S=0;S<1e5&&(L=P.start+S*W,!(W>0?L>=F:L<=F));S++)L>ue&&L<ae&&A.push(L);if(Z._fillgradient)O=[0];else if(typeof Z._fillcolor=="function"){var se=Z._filllevels;if(se)for(F=se.end+se.size/100,W=se.size,S=0;S<1e5&&(L=se.start+S*W,!(W>0?L>=F:L<=F));S++)L>G[0]&&L<G[1]&&O.push(L);else O=A.map(function(q){return q-P.size/2}),O.push(O[O.length-1]+P.size)}else Z._fillcolor&&typeof Z._fillcolor=="string"&&(O=[0]);return P.size<0&&(A.reverse(),O.reverse()),{line:A,fill:O}}function R(U,Z,G){var P=U._fullLayout,A=Z.orientation==="v",O={type:"linear",range:G,tickmode:Z.tickmode,nticks:Z.nticks,tick0:Z.tick0,dtick:Z.dtick,tickvals:Z.tickvals,ticktext:Z.ticktext,ticks:Z.ticks,ticklen:Z.ticklen,tickwidth:Z.tickwidth,tickcolor:Z.tickcolor,showticklabels:Z.showticklabels,labelalias:Z.labelalias,ticklabelposition:Z.ticklabelposition,ticklabeloverflow:Z.ticklabeloverflow,ticklabelstep:Z.ticklabelstep,tickfont:Z.tickfont,tickangle:Z.tickangle,tickformat:Z.tickformat,exponentformat:Z.exponentformat,minexponent:Z.minexponent,separatethousands:Z.separatethousands,showexponent:Z.showexponent,showtickprefix:Z.showtickprefix,tickprefix:Z.tickprefix,showticksuffix:Z.showticksuffix,ticksuffix:Z.ticksuffix,title:Z.title,showline:!0,anchor:"free",side:A?"right":"bottom",position:1},L=A?"y":"x",S={type:"linear",_id:L+Z._id},F={letter:L,font:P.font,noAutotickangles:L==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:P.calendar};function W(ue,ae){return o.coerce(O,S,c,ue,ae)}return y(O,S,W,F,P),m(O,S,W,F),S}k.exports={draw:D}}),Og=xe((E,k)=>{k.exports={moduleType:"component",name:"colorbar",attributes:nc(),supplyDefaults:Rf(),draw:Sg().draw,hasColorbar:Cf()}}),Lg=xe((E,k)=>{k.exports={moduleType:"component",name:"legend",layoutAttributes:Vf(),supplyLayoutDefaults:qf(),draw:Jf(),style:Gf()}}),Cg=xe((E,k)=>{k.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}),Dg=xe((E,k)=>{k.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}),zd=xe((E,k)=>{var i=mn(),t=sr(),e=t.extendFlat,n=t.extendDeep;function l(o){var s;switch(o){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}function a(o){var s=["xaxis","yaxis","zaxis"];return s.indexOf(o.slice(0,5))>-1}k.exports=function(o,s){var r,p=o.data,u=o.layout,d=n([],p),g=n({},u,l(s.tileClass)),v=o._context||{};if(s.width&&(g.width=s.width),s.height&&(g.height=s.height),s.tileClass==="thumbnail"||s.tileClass==="themes__thumb"){g.annotations=[];var x=Object.keys(g);for(r=0;r<x.length;r++)a(x[r])&&(g[x[r]].title={text:""});for(r=0;r<d.length;r++){var y=d[r];y.showscale=!1,y.marker&&(y.marker.showscale=!1),i.traceIs(y,"pie-like")&&(y.textposition="none")}}if(Array.isArray(s.annotations))for(r=0;r<s.annotations.length;r++)g.annotations.push(s.annotations[r]);var m=Object.keys(g).filter(function(w){return w.match(/^scene\d*$/)});if(m.length){var c={};for(s.tileClass==="thumbnail"&&(c={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<m.length;r++){var h=g[m[r]];h.xaxis||(h.xaxis={}),h.yaxis||(h.yaxis={}),h.zaxis||(h.zaxis={}),e(h.xaxis,c),e(h.yaxis,c),e(h.zaxis,c),h._scene=null}}var b=document.createElement("div");s.tileClass&&(b.className=s.tileClass);var _={gd:b,td:b,layout:g,data:d,config:{staticPlot:s.staticPlot===void 0?!0:s.staticPlot,plotGlPixelRatio:s.plotGlPixelRatio===void 0?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:v.mapboxAccessToken}};return s.setBackground!=="transparent"&&(_.config.setBackground=s.setBackground||"opaque"),_.gd.defaultLayout=l(s.tileClass),_}}),Eg=xe((E,k)=>{var i=ec().EventEmitter,t=mn(),e=sr(),n=$o(),l=zd(),a=yc(),o=vc();function s(r,p){var u=new i,d=l(r,{format:"png"}),g=d.gd;g.style.position="absolute",g.style.left="-5000px",document.body.appendChild(g);function v(){var y=n.getDelay(g._fullLayout);setTimeout(function(){var m=a(g),c=document.createElement("canvas");c.id=e.randstr(),u=o({format:p.format,width:g._fullLayout.width,height:g._fullLayout.height,canvas:c,emitter:u,svg:m}),u.clean=function(){g&&document.body.removeChild(g)}},y)}var x=n.getRedrawFunc(g);return t.call("_doPlot",g,d.data,d.layout,d.config).then(x).then(v).catch(function(y){u.emit("error",y)}),u}k.exports=s}),Pg=xe((E,k)=>{var i=$o(),t={getDelay:i.getDelay,getRedrawFunc:i.getRedrawFunc,clone:zd(),toSVG:yc(),svgToImg:vc(),toImage:Eg(),downloadImage:dd()};k.exports=t}),Fg=xe(E=>{E.version=qu().version,Lh(),Sp();var k=mn(),i=E.register=k.register,t=v0(),e=Object.keys(t);for(l=0;l<e.length;l++)n=e[l],n.charAt(0)!=="_"&&(E[n]=t[n]),i({moduleType:"apiMethod",name:n,fn:t[n]});var n,l;i(R0()),i([V0(),J0(),Cl(),X0(),rg(),og(),ug(),pg(),mg(),bg(),kg(),ac(),Og(),Lg(),Oo(),rd()]),i([Cg(),Dg()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),E.Icons=uc();var a=Oo(),o=Ba();E.Plots={resize:o.resize,graphJson:o.graphJson,sendDataToCloud:o.sendDataToCloud},E.Fx={hover:a.hover,unhover:a.unhover,loneHover:a.loneHover,loneUnhover:a.loneUnhover},E.Snapshot=Pg(),E.PlotSchema=Sl()}),Ig=xe((E,k)=>{k.exports=Fg()}),Ng=xe((E,k)=>{var i=mn(),t=sr(),e=Sd();function n(a,o,s,r){var p=a.cd,u=p[0].t,d=p[0].trace,g=a.xa,v=a.ya,x=u.x,y=u.y,m=g.c2p(o),c=v.c2p(s),h=a.distance,b;if(u.tree){var _=g.p2c(m-h),w=g.p2c(m+h),K=v.p2c(c-h),D=v.p2c(c+h);r==="x"?b=u.tree.range(Math.min(_,w),Math.min(v._rl[0],v._rl[1]),Math.max(_,w),Math.max(v._rl[0],v._rl[1])):b=u.tree.range(Math.min(_,w),Math.min(K,D),Math.max(_,w),Math.max(K,D))}else b=u.ids;var I,C,H,z,R,U,Z,G,P,A=h;if(r==="x"){var O=!!d.xperiodalignment,L=!!d.yperiodalignment;for(R=0;R<b.length;R++){if(I=b[R],H=x[I],U=Math.abs(g.c2p(H)-m),O){var S=g.c2p(d._xStarts[I]),F=g.c2p(d._xEnds[I]);U=m>=Math.min(S,F)&&m<=Math.max(S,F)?0:1/0}if(U<A){if(A=U,z=y[I],Z=v.c2p(z)-c,L){var W=v.c2p(d._yStarts[I]),ue=v.c2p(d._yEnds[I]);Z=c>=Math.min(W,ue)&&c<=Math.max(W,ue)?0:1/0}P=Math.sqrt(U*U+Z*Z),C=b[R]}}}else for(R=b.length-1;R>-1;R--)I=b[R],H=x[I],z=y[I],U=g.c2p(H)-m,Z=v.c2p(z)-c,G=Math.sqrt(U*U+Z*Z),G<A&&(A=P=G,C=I);return a.index=C,a.distance=A,a.dxy=P,C===void 0?[a]:[l(a,x,y,d)]}function l(a,o,s,r){var p=a.xa,u=a.ya,d=a.distance,g=a.dxy,v=a.index,x={pointNumber:v,x:o[v],y:s[v]};x.tx=t.isArrayOrTypedArray(r.text)?r.text[v]:r.text,x.htx=Array.isArray(r.hovertext)?r.hovertext[v]:r.hovertext,x.data=Array.isArray(r.customdata)?r.customdata[v]:r.customdata,x.tp=Array.isArray(r.textposition)?r.textposition[v]:r.textposition;var y=r.textfont;y&&(x.ts=t.isArrayOrTypedArray(y.size)?y.size[v]:y.size,x.tc=t.isArrayOrTypedArray(y.color)?y.color[v]:y.color,x.tf=Array.isArray(y.family)?y.family[v]:y.family,x.tw=Array.isArray(y.weight)?y.weight[v]:y.weight,x.ty=Array.isArray(y.style)?y.style[v]:y.style,x.tv=Array.isArray(y.variant)?y.variant[v]:y.variant);var m=r.marker;m&&(x.ms=t.isArrayOrTypedArray(m.size)?m.size[v]:m.size,x.mo=t.isArrayOrTypedArray(m.opacity)?m.opacity[v]:m.opacity,x.mx=t.isArrayOrTypedArray(m.symbol)?m.symbol[v]:m.symbol,x.ma=t.isArrayOrTypedArray(m.angle)?m.angle[v]:m.angle,x.mc=t.isArrayOrTypedArray(m.color)?m.color[v]:m.color);var c=m&&m.line;c&&(x.mlc=Array.isArray(c.color)?c.color[v]:c.color,x.mlw=t.isArrayOrTypedArray(c.width)?c.width[v]:c.width);var h=m&&m.gradient;h&&h.type!=="none"&&(x.mgt=Array.isArray(h.type)?h.type[v]:h.type,x.mgc=Array.isArray(h.color)?h.color[v]:h.color);var b=p.c2p(x.x,!0),_=u.c2p(x.y,!0),w=x.mrc||1,K=r.hoverlabel;K&&(x.hbg=Array.isArray(K.bgcolor)?K.bgcolor[v]:K.bgcolor,x.hbc=Array.isArray(K.bordercolor)?K.bordercolor[v]:K.bordercolor,x.hts=t.isArrayOrTypedArray(K.font.size)?K.font.size[v]:K.font.size,x.htc=Array.isArray(K.font.color)?K.font.color[v]:K.font.color,x.htf=Array.isArray(K.font.family)?K.font.family[v]:K.font.family,x.hnl=t.isArrayOrTypedArray(K.namelength)?K.namelength[v]:K.namelength);var D=r.hoverinfo;D&&(x.hi=Array.isArray(D)?D[v]:D);var I=r.hovertemplate;I&&(x.ht=Array.isArray(I)?I[v]:I);var C={};C[a.index]=x;var H=r._origX,z=r._origY,R=t.extendFlat({},a,{color:e(r,x),x0:b-w,x1:b+w,xLabelVal:H?H[v]:x.x,y0:_-w,y1:_+w,yLabelVal:z?z[v]:x.y,cd:C,distance:d,spikeDistance:g,hovertemplate:x.ht});return x.htx?R.text=x.htx:x.tx?R.text=x.tx:r.text&&(R.text=r.text),t.fillText(x,r,R),i.getComponentMethod("errorbars","hoverInfo")(x,r,R),R}k.exports={hoverPoints:n,calcHover:l}}),Vs=xe((E,k)=>{var i=20;k.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:i,SYMBOL_STROKE:i/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}}),Bd=xe((E,k)=>{var i=Ci(),t=ei(),e=ld(),n=Ko(),l=rc().axisHoverFormat,a=Ps(),o=Xu(),s=za().extendFlat,r=Di().overrideAll,p=Vs().DASHES,u=n.line,d=n.marker,g=d.line,v=k.exports=r({x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,xperiod:n.xperiod,yperiod:n.yperiod,xperiod0:n.xperiod0,yperiod0:n.yperiod0,xperiodalignment:n.xperiodalignment,yperiodalignment:n.yperiodalignment,xhoverformat:l("x"),yhoverformat:l("y"),text:n.text,hovertext:n.hovertext,textposition:n.textposition,textfont:t({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:u.color,width:u.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:o(p),dflt:"solid"}},marker:s({},a("marker"),{symbol:d.symbol,angle:d.angle,size:d.size,sizeref:d.sizeref,sizemin:d.sizemin,sizemode:d.sizemode,opacity:d.opacity,colorbar:d.colorbar,line:s({},a("marker.line"),{width:g.width})}),connectgaps:n.connectgaps,fill:s({},n.fill,{dflt:"none"}),fillcolor:e(),selected:{marker:n.selected.marker,textfont:n.selected.textfont},unselected:{marker:n.unselected.marker,textfont:n.unselected.textfont},opacity:i.opacity},"calc","nested");v.x.editType=v.y.editType=v.x0.editType=v.y0.editType="calc+clearAxisTypes",v.hovertemplate=n.hovertemplate,v.texttemplate=n.texttemplate}),Ud=xe(E=>{var k=Vs();E.isOpenSymbol=function(i){return typeof i=="string"?k.OPEN_RE.test(i):i%200>100},E.isDotSymbol=function(i){return typeof i=="string"?k.DOT_RE.test(i):i>200}}),Rg=xe((E,k)=>{var i=sr(),t=mn(),e=Ud(),n=Bd(),l=Bs(),a=ti(),o=hd(),s=pd(),r=gd(),p=yd(),u=md(),d=vd();k.exports=function(g,v,x,y){function m(I,C){return i.coerce(g,v,n,I,C)}var c=g.marker?e.isOpenSymbol(g.marker.symbol):!1,h=a.isBubble(g),b=o(g,v,y,m);if(!b){v.visible=!1;return}s(g,v,y,m),m("xhoverformat"),m("yhoverformat");var _=b<l.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("hovertemplate"),m("mode",_),a.hasMarkers(v)&&(r(g,v,x,y,m,{noAngleRef:!0,noStandOff:!0}),m("marker.line.width",c||h?1:0)),a.hasLines(v)&&(m("connectgaps"),p(g,v,x,y,m),m("line.shape")),a.hasText(v)&&(m("texttemplate"),d(g,v,y,m,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var w=(v.line||{}).color,K=(v.marker||{}).color;m("fill"),v.fill!=="none"&&u(g,v,x,m);var D=t.getComponentMethod("errorbars","supplyDefaults");D(g,v,w||K||x,{axis:"y"}),D(g,v,w||K||x,{axis:"x",inherit:"y"}),i.coerceSelectionMarkerOpacity(v,m)}}),jg=xe((E,k)=>{var i=kd();k.exports=function(t,e,n){var l=t.i;return"x"in t||(t.x=e._x[l]),"y"in t||(t.y=e._y[l]),i(t,e,n)}}),zg=xe((E,k)=>{function i(o,s,r,p,u){for(var d=u+1;p<=u;){var g=p+u>>>1,v=o[g],x=r!==void 0?r(v,s):v-s;x>=0?(d=g,u=g-1):p=g+1}return d}function t(o,s,r,p,u){for(var d=u+1;p<=u;){var g=p+u>>>1,v=o[g],x=r!==void 0?r(v,s):v-s;x>0?(d=g,u=g-1):p=g+1}return d}function e(o,s,r,p,u){for(var d=p-1;p<=u;){var g=p+u>>>1,v=o[g],x=r!==void 0?r(v,s):v-s;x<0?(d=g,p=g+1):u=g-1}return d}function n(o,s,r,p,u){for(var d=p-1;p<=u;){var g=p+u>>>1,v=o[g],x=r!==void 0?r(v,s):v-s;x<=0?(d=g,p=g+1):u=g-1}return d}function l(o,s,r,p,u){for(;p<=u;){var d=p+u>>>1,g=o[d],v=r!==void 0?r(g,s):g-s;if(v===0)return d;v<=0?p=d+1:u=d-1}return-1}function a(o,s,r,p,u,d){return typeof r=="function"?d(o,s,r,p===void 0?0:p|0,u===void 0?o.length-1:u|0):d(o,s,void 0,r===void 0?0:r|0,p===void 0?o.length-1:p|0)}k.exports={ge:function(o,s,r,p,u){return a(o,s,r,p,u,i)},gt:function(o,s,r,p,u){return a(o,s,r,p,u,t)},lt:function(o,s,r,p,u){return a(o,s,r,p,u,e)},le:function(o,s,r,p,u){return a(o,s,r,p,u,n)},eq:function(o,s,r,p,u){return a(o,s,r,p,u,l)}}}),qs=xe((E,k)=>{k.exports=i;function i(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}}),Qi=xe((E,k)=>{k.exports=function(e,n,l){var a={},o,s;if(typeof n=="string"&&(n=t(n)),Array.isArray(n)){var r={};for(s=0;s<n.length;s++)r[n[s]]=!0;n=r}for(o in n)n[o]=t(n[o]);var p={};for(o in n){var u=n[o];if(Array.isArray(u))for(s=0;s<u.length;s++){var d=u[s];if(l&&(p[d]=!0),d in e){if(a[o]=e[d],l)for(var g=s;g<u.length;g++)p[u[g]]=!0;break}}else o in e&&(n[o]&&(a[o]=e[o]),l&&(p[o]=!0))}if(l)for(o in e)p[o]||(a[o]=e[o]);return a};var i={};function t(e){return i[e]?i[e]:(typeof e=="string"&&(e=i[e]=e.split(/\s*,\s*|\s+/)),e)}}),Ws=xe((E,k)=>{var i=Qi();k.exports=t;function t(e){var n;return arguments.length>1&&(e=arguments),typeof e=="string"?e=e.split(/\s/).map(parseFloat):typeof e=="number"&&(e=[e]),e.length&&typeof e[0]=="number"?e.length===1?n={width:e[0],height:e[0],x:0,y:0}:e.length===2?n={width:e[0],height:e[1],x:0,y:0}:n={x:e[0],y:e[1],width:e[2]-e[0]||0,height:e[3]-e[1]||0}:e&&(e=i(e,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),n={x:e.left||0,y:e.top||0},e.width==null?e.right?n.width=e.right-n.x:n.width=0:n.width=e.width,e.height==null?e.bottom?n.height=e.bottom-n.y:n.height=0:n.height=e.height),n}}),Dl=xe((E,k)=>{k.exports=i;function i(t,e){if(!t||t.length==null)throw Error("Argument should be an array");e==null?e=1:e=Math.floor(e);for(var n=Array(e*2),l=0;l<e;l++){for(var a=-1/0,o=1/0,s=l,r=t.length;s<r;s+=e)t[s]>a&&(a=t[s]),t[s]<o&&(o=t[s]);n[l]=o,n[e+l]=a}return n}}),Bg=xe((E,k)=>{k.exports=function(){for(var i=0;i<arguments.length;i++)if(arguments[i]!==void 0)return arguments[i]}}),Mc=xe((E,k)=>{k.exports=function(i){switch(i){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}}),El=xe((E,k)=>{var i=Mc();k.exports=t;function t(e,n,l){if(!e)throw new TypeError("must specify data as first parameter");if(l=+(l||0)|0,Array.isArray(e)&&e[0]&&typeof e[0][0]=="number"){var a=e[0].length,o=e.length*a,s,r,p,u;(!n||typeof n=="string")&&(n=new(i(n||"float32"))(o+l));var d=n.length-l;if(o!==d)throw new Error("source length "+o+" ("+a+"x"+e.length+") does not match destination length "+d);for(s=0,p=l;s<e.length;s++)for(r=0;r<a;r++)n[p++]=e[s][r]===null?NaN:e[s][r]}else if(!n||typeof n=="string"){var g=i(n||"float32");if(Array.isArray(e)||n==="array")for(n=new g(e.length+l),s=0,p=l,u=n.length;p<u;p++,s++)n[p]=e[s]===null?NaN:e[s];else l===0?n=new g(e):(n=new g(e.length+l),n.set(e,l))}else n.set(e,l);return n}}),Ug=xe((E,k)=>{k.exports=function(i){var t=typeof i;return i!==null&&(t==="object"||t==="function")}}),Hg=xe((E,k)=>{k.exports=Math.log2||function(i){return Math.log(i)*Math.LOG2E}}),Vg=xe((E,k)=>{var i=zg(),t=qs(),e=Ws(),n=Dl(),l=Qi(),a=Bg(),o=El(),s=Ug(),r=Mc(),p=Hg(),u=1073741824;k.exports=function(g,v){v||(v={}),g=o(g,"float64"),v=l(v,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});let x=a(v.maxDepth,255),y=a(v.bounds,n(g,2));y[0]===y[2]&&y[2]++,y[1]===y[3]&&y[3]++;let m=d(g,y),c=g.length>>>1,h;v.dtype||(v.dtype="array"),typeof v.dtype=="string"?h=new(r(v.dtype))(c):v.dtype&&(h=v.dtype,Array.isArray(h)&&(h.length=c));for(let R=0;R<c;++R)h[R]=R;let b=[],_=[],w=[],K=[];I(0,0,1,h,0,1);let D=0;for(let R=0;R<b.length;R++){let U=b[R];if(h.set)h.set(U,D);else for(let G=0,P=U.length;G<P;G++)h[G+D]=U[G];let Z=D+b[R].length;K[R]=[D,Z],D=Z}return h.range=C,h;function I(R,U,Z,G,P,A){if(!G.length)return null;let O=b[P]||(b[P]=[]),L=w[P]||(w[P]=[]),S=_[P]||(_[P]=[]),F=O.length;if(P++,P>x||A>u){for(let re=0;re<G.length;re++)O.push(G[re]),L.push(A),S.push(null,null,null,null);return F}if(O.push(G[0]),L.push(A),G.length<=1)return S.push(null,null,null,null),F;let W=Z*.5,ue=R+W,ae=U+W,se=[],q=[],ee=[],B=[];for(let re=1,J=G.length;re<J;re++){let X=G[re],N=m[X*2],$=m[X*2+1];N<ue?$<ae?se.push(X):q.push(X):$<ae?ee.push(X):B.push(X)}return A<<=2,S.push(I(R,U,W,se,P,A),I(R,ae,W,q,P,A+1),I(ue,U,W,ee,P,A+2),I(ue,ae,W,B,P,A+3)),F}function C(...R){let U;if(s(R[R.length-1])){let ee=R.pop();!R.length&&(ee.x!=null||ee.l!=null||ee.left!=null)&&(R=[ee],U={}),U=l(ee,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else U={};R.length||(R=y);let Z=e(...R),[G,P,A,O]=[Math.min(Z.x,Z.x+Z.width),Math.min(Z.y,Z.y+Z.height),Math.max(Z.x,Z.x+Z.width),Math.max(Z.y,Z.y+Z.height)],[L,S,F,W]=d([G,P,A,O],y),ue=a(U.level,b.length);if(U.d!=null){let ee;typeof U.d=="number"?ee=[U.d,U.d]:U.d.length&&(ee=U.d),ue=Math.min(Math.max(Math.ceil(-p(Math.abs(ee[0])/(y[2]-y[0]))),Math.ceil(-p(Math.abs(ee[1])/(y[3]-y[1])))),ue)}if(ue=Math.min(ue,b.length),U.lod)return H(L,S,F,W,ue);let ae=[];se(0,0,1,0,0,1);function se(ee,B,re,J,X,N){if(X===null||N===null)return;let $=ee+re,te=B+re;if(L>$||S>te||F<ee||W<B||J>=ue||X===N)return;let le=b[J];N===void 0&&(N=le.length);for(let Ae=X;Ae<N;Ae++){let T=le[Ae],V=g[T*2],j=g[T*2+1];V>=G&&V<=A&&j>=P&&j<=O&&ae.push(T)}let pe=_[J],fe=pe[X*4+0],ye=pe[X*4+1],Me=pe[X*4+2],He=pe[X*4+3],Ne=q(pe,X+1),ze=re*.5,Re=J+1;se(ee,B,ze,Re,fe,ye||Me||He||Ne),se(ee,B+ze,ze,Re,ye,Me||He||Ne),se(ee+ze,B,ze,Re,Me,He||Ne),se(ee+ze,B+ze,ze,Re,He,Ne)}function q(ee,B){let re=null,J=0;for(;re===null;)if(re=ee[B*4+J],J++,J>ee.length)return null;return re}return ae}function H(R,U,Z,G,P){let A=[];for(let O=0;O<P;O++){let L=w[O],S=K[O][0],F=z(R,U,O),W=z(Z,G,O),ue=i.ge(L,F),ae=i.gt(L,W,ue,L.length-1);A[O]=[ue+S,ae+S]}return A}function z(R,U,Z){let G=1,P=.5,A=.5,O=.5;for(let L=0;L<Z;L++)G<<=2,G+=R<P?U<A?0:1:U<A?2:3,O*=.5,P+=R<P?-O:O,A+=U<A?-O:O;return G}};function d(g,v){let[x,y,m,c]=v,h=1/(m-x),b=1/(c-y),_=new Array(g.length);for(let w=0,K=g.length/2;w<K;w++)_[2*w]=t((g[2*w]-x)*h,0,1),_[2*w+1]=t((g[2*w+1]-y)*b,0,1);return _}}),Hd=xe((E,k)=>{k.exports=Vg()}),Vd=xe((E,k)=>{k.exports=i;function i(t){var e=0,n=0,l=0,a=0;return t.map(function(o){o=o.slice();var s=o[0],r=s.toUpperCase();if(s!=r)switch(o[0]=r,s){case"a":o[6]+=l,o[7]+=a;break;case"v":o[1]+=a;break;case"h":o[1]+=l;break;default:for(var p=1;p<o.length;)o[p++]+=l,o[p++]+=a}switch(r){case"Z":l=e,a=n;break;case"H":l=o[1];break;case"V":a=o[1];break;case"M":l=e=o[1],a=n=o[2];break;default:l=o[o.length-2],a=o[o.length-1]}return o})}}),qg=xe((E,k)=>{Object.defineProperty(E,"__esModule",{value:!0});var i=function(){function s(r,p){var u=[],d=!0,g=!1,v=void 0;try{for(var x=r[Symbol.iterator](),y;!(d=(y=x.next()).done)&&(u.push(y.value),!(p&&u.length===p));d=!0);}catch(m){g=!0,v=m}finally{try{!d&&x.return&&x.return()}finally{if(g)throw v}}return u}return function(r,p){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return s(r,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=Math.PI*2,e=function(s,r,p,u,d,g,v){var x=s.x,y=s.y;x*=r,y*=p;var m=u*x-d*y,c=d*x+u*y;return{x:m+g,y:c+v}},n=function(s,r){var p=r===1.5707963267948966?.551915024494:r===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(r/4),u=Math.cos(s),d=Math.sin(s),g=Math.cos(s+r),v=Math.sin(s+r);return[{x:u-d*p,y:d+u*p},{x:g+v*p,y:v-g*p},{x:g,y:v}]},l=function(s,r,p,u){var d=s*u-r*p<0?-1:1,g=s*p+r*u;return g>1&&(g=1),g<-1&&(g=-1),d*Math.acos(g)},a=function(s,r,p,u,d,g,v,x,y,m,c,h){var b=Math.pow(d,2),_=Math.pow(g,2),w=Math.pow(c,2),K=Math.pow(h,2),D=b*_-b*K-_*w;D<0&&(D=0),D/=b*K+_*w,D=Math.sqrt(D)*(v===x?-1:1);var I=D*d/g*h,C=D*-g/d*c,H=m*I-y*C+(s+p)/2,z=y*I+m*C+(r+u)/2,R=(c-I)/d,U=(h-C)/g,Z=(-c-I)/d,G=(-h-C)/g,P=l(1,0,R,U),A=l(R,U,Z,G);return x===0&&A>0&&(A-=t),x===1&&A<0&&(A+=t),[H,z,P,A]},o=function(s){var r=s.px,p=s.py,u=s.cx,d=s.cy,g=s.rx,v=s.ry,x=s.xAxisRotation,y=x===void 0?0:x,m=s.largeArcFlag,c=m===void 0?0:m,h=s.sweepFlag,b=h===void 0?0:h,_=[];if(g===0||v===0)return[];var w=Math.sin(y*t/360),K=Math.cos(y*t/360),D=K*(r-u)/2+w*(p-d)/2,I=-w*(r-u)/2+K*(p-d)/2;if(D===0&&I===0)return[];g=Math.abs(g),v=Math.abs(v);var C=Math.pow(D,2)/Math.pow(g,2)+Math.pow(I,2)/Math.pow(v,2);C>1&&(g*=Math.sqrt(C),v*=Math.sqrt(C));var H=a(r,p,u,d,g,v,c,b,w,K,D,I),z=i(H,4),R=z[0],U=z[1],Z=z[2],G=z[3],P=Math.abs(G)/(t/4);Math.abs(1-P)<1e-7&&(P=1);var A=Math.max(Math.ceil(P),1);G/=A;for(var O=0;O<A;O++)_.push(n(Z,G)),Z+=G;return _.map(function(L){var S=e(L[0],g,v,K,w,R,U),F=S.x,W=S.y,ue=e(L[1],g,v,K,w,R,U),ae=ue.x,se=ue.y,q=e(L[2],g,v,K,w,R,U),ee=q.x,B=q.y;return{x1:F,y1:W,x2:ae,y2:se,x:ee,y:B}})};E.default=o,k.exports=E.default}),Wg=xe((E,k)=>{k.exports=t;var i=qg();function t(l){for(var a,o=[],s=0,r=0,p=0,u=0,d=null,g=null,v=0,x=0,y=0,m=l.length;y<m;y++){var c=l[y],h=c[0];switch(h){case"M":p=c[1],u=c[2];break;case"A":var b=i({px:v,py:x,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!b.length)continue;for(var _=0,w;_<b.length;_++)w=b[_],c=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],_<b.length-1&&o.push(c);break;case"S":var K=v,D=x;(a=="C"||a=="S")&&(K+=K-s,D+=D-r),c=["C",K,D,c[1],c[2],c[3],c[4]];break;case"T":a=="Q"||a=="T"?(d=v*2-d,g=x*2-g):(d=v,g=x),c=n(v,x,d,g,c[1],c[2]);break;case"Q":d=c[1],g=c[2],c=n(v,x,c[1],c[2],c[3],c[4]);break;case"L":c=e(v,x,c[1],c[2]);break;case"H":c=e(v,x,c[1],x);break;case"V":c=e(v,x,v,c[1]);break;case"Z":c=e(v,x,p,u);break}a=h,v=c[c.length-2],x=c[c.length-1],c.length>4?(s=c[c.length-4],r=c[c.length-3]):(s=v,r=x),o.push(c)}return o}function e(l,a,o,s){return["C",l,a,o,s,o,s]}function n(l,a,o,s,r,p){return["C",l/3+2/3*o,a/3+2/3*s,r/3+2/3*o,p/3+2/3*s,r,p]}}),qd=xe((E,k)=>{k.exports=function(i){return typeof i!="string"?!1:(i=i.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(i)&&/[\dz]$/i.test(i)&&i.length>4))}}),Sc=xe((E,k)=>{k.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var i={},t=Symbol("test"),e=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(e)!=="[object Symbol]")return!1;var n=42;i[t]=n;for(t in i)return!1;if(typeof Object.keys=="function"&&Object.keys(i).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(i).length!==0)return!1;var l=Object.getOwnPropertySymbols(i);if(l.length!==1||l[0]!==t||!Object.prototype.propertyIsEnumerable.call(i,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(i,t);if(a.value!==n||a.enumerable!==!0)return!1}return!0}}),Ys=xe((E,k)=>{var i=Sc();k.exports=function(){return i()&&!!Symbol.toStringTag}}),Yg=xe((E,k)=>{k.exports=Error}),Gg=xe((E,k)=>{k.exports=EvalError}),Jg=xe((E,k)=>{k.exports=RangeError}),Zg=xe((E,k)=>{k.exports=ReferenceError}),Wd=xe((E,k)=>{k.exports=SyntaxError}),Gs=xe((E,k)=>{k.exports=TypeError}),Kg=xe((E,k)=>{k.exports=URIError}),$g=xe((E,k)=>{var i=typeof Symbol<"u"&&Symbol,t=Sc();k.exports=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()}}),Xg=xe((E,k)=>{var i={foo:{}},t=Object;k.exports=function(){return{__proto__:i}.foo===i.foo&&!({__proto__:null}instanceof t)}}),Qg=xe((E,k)=>{var i="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,n="[object Function]",l=function(s,r){for(var p=[],u=0;u<s.length;u+=1)p[u]=s[u];for(var d=0;d<r.length;d+=1)p[d+s.length]=r[d];return p},a=function(s,r){for(var p=[],u=r,d=0;u<s.length;u+=1,d+=1)p[d]=s[u];return p},o=function(s,r){for(var p="",u=0;u<s.length;u+=1)p+=s[u],u+1<s.length&&(p+=r);return p};k.exports=function(s){var r=this;if(typeof r!="function"||t.apply(r)!==n)throw new TypeError(i+r);for(var p=a(arguments,1),u,d=function(){if(this instanceof u){var m=r.apply(this,l(p,arguments));return Object(m)===m?m:this}return r.apply(s,l(p,arguments))},g=e(0,r.length-p.length),v=[],x=0;x<g;x++)v[x]="$"+x;if(u=Function("binder","return function ("+o(v,",")+"){ return binder.apply(this,arguments); }")(d),r.prototype){var y=function(){};y.prototype=r.prototype,u.prototype=new y,y.prototype=null}return u}}),Oc=xe((E,k)=>{var i=Qg();k.exports=Function.prototype.bind||i}),ey=xe((E,k)=>{var i=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=Oc();k.exports=e.call(i,t)}),Pl=xe((E,k)=>{var i,t=Yg(),e=Gg(),n=Jg(),l=Zg(),a=Wd(),o=Gs(),s=Kg(),r=Function,p=function(A){try{return r('"use strict"; return ('+A+").constructor;")()}catch{}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch{u=null}var d=function(){throw new o},g=u?function(){try{return arguments.callee,d}catch{try{return u(arguments,"callee").get}catch{return d}}}():d,v=$g()(),x=Xg()(),y=Object.getPrototypeOf||(x?function(A){return A.__proto__}:null),m={},c=typeof Uint8Array>"u"||!y?i:y(Uint8Array),h={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":v&&y?y([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":e,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":m,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v&&y?y(y([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!v||!y?i:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":n,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!v||!y?i:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":v&&y?y(""[Symbol.iterator]()):i,"%Symbol%":v?Symbol:i,"%SyntaxError%":a,"%ThrowTypeError%":g,"%TypedArray%":c,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":s,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet};if(y)try{null.error}catch(A){b=y(y(A)),h["%Error.prototype%"]=b}var b,_=function A(O){var L;if(O==="%AsyncFunction%")L=p("async function () {}");else if(O==="%GeneratorFunction%")L=p("function* () {}");else if(O==="%AsyncGeneratorFunction%")L=p("async function* () {}");else if(O==="%AsyncGenerator%"){var S=A("%AsyncGeneratorFunction%");S&&(L=S.prototype)}else if(O==="%AsyncIteratorPrototype%"){var F=A("%AsyncGenerator%");F&&y&&(L=y(F.prototype))}return h[O]=L,L},w={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K=Oc(),D=ey(),I=K.call(Function.call,Array.prototype.concat),C=K.call(Function.apply,Array.prototype.splice),H=K.call(Function.call,String.prototype.replace),z=K.call(Function.call,String.prototype.slice),R=K.call(Function.call,RegExp.prototype.exec),U=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,G=function(A){var O=z(A,0,1),L=z(A,-1);if(O==="%"&&L!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(L==="%"&&O!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var S=[];return H(A,U,function(F,W,ue,ae){S[S.length]=ue?H(ae,Z,"$1"):W||F}),S},P=function(A,O){var L=A,S;if(D(w,L)&&(S=w[L],L="%"+S[0]+"%"),D(h,L)){var F=h[L];if(F===m&&(F=_(L)),typeof F>"u"&&!O)throw new o("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:S,name:L,value:F}}throw new a("intrinsic "+A+" does not exist!")};k.exports=function(A,O){if(typeof A!="string"||A.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof O!="boolean")throw new o('"allowMissing" argument must be a boolean');if(R(/^%?[^%]*%?$/,A)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=G(A),S=L.length>0?L[0]:"",F=P("%"+S+"%",O),W=F.name,ue=F.value,ae=!1,se=F.alias;se&&(S=se[0],C(L,I([0,1],se)));for(var q=1,ee=!0;q<L.length;q+=1){var B=L[q],re=z(B,0,1),J=z(B,-1);if((re==='"'||re==="'"||re==="`"||J==='"'||J==="'"||J==="`")&&re!==J)throw new a("property names with quotes must have matching quotes");if((B==="constructor"||!ee)&&(ae=!0),S+="."+B,W="%"+S+"%",D(h,W))ue=h[W];else if(ue!=null){if(!(B in ue)){if(!O)throw new o("base intrinsic for "+A+" exists, but the property is not available.");return}if(u&&q+1>=L.length){var X=u(ue,B);ee=!!X,ee&&"get"in X&&!("originalValue"in X.get)?ue=X.get:ue=ue[B]}else ee=D(ue,B),ue=ue[B];ee&&!ae&&(h[W]=ue)}}return ue}}),Lc=xe((E,k)=>{var i=Pl(),t=i("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}k.exports=t}),Js=xe((E,k)=>{var i=Pl(),t=i("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}k.exports=t}),ty=xe((E,k)=>{var i=Lc(),t=Wd(),e=Gs(),n=Js();k.exports=function(l,a,o){if(!l||typeof l!="object"&&typeof l!="function")throw new e("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new e("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new e("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new e("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new e("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new e("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,d=!!n&&n(l,a);if(i)i(l,a,{configurable:p===null&&d?d.configurable:!p,enumerable:s===null&&d?d.enumerable:!s,value:o,writable:r===null&&d?d.writable:!r});else if(u||!s&&!r&&!p)l[a]=o;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}),Yd=xe((E,k)=>{var i=Lc(),t=function(){return!!i};t.hasArrayLengthDefineBug=function(){if(!i)return null;try{return i([],"length",{value:1}).length!==1}catch{return!0}},k.exports=t}),ry=xe((E,k)=>{var i=Pl(),t=ty(),e=Yd()(),n=Js(),l=Gs(),a=i("%Math.floor%");k.exports=function(o,s){if(typeof o!="function")throw new l("`fn` is not a function");if(typeof s!="number"||s<0||s>4294967295||a(s)!==s)throw new l("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],p=!0,u=!0;if("length"in o&&n){var d=n(o,"length");d&&!d.configurable&&(p=!1),d&&!d.writable&&(u=!1)}return(p||u||!r)&&(e?t(o,"length",s,!0,!0):t(o,"length",s)),o}}),Zs=xe((E,k)=>{var i=Oc(),t=Pl(),e=ry(),n=Gs(),l=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),o=t("%Reflect.apply%",!0)||i.call(a,l),s=Lc(),r=t("%Math.max%");k.exports=function(u){if(typeof u!="function")throw new n("a function is required");var d=o(i,a,arguments);return e(d,1+r(0,u.length-(arguments.length-1)),!0)};var p=function(){return o(i,l,arguments)};s?s(k.exports,"apply",{value:p}):k.exports.apply=p}),Fl=xe((E,k)=>{var i=Pl(),t=Zs(),e=t(i("String.prototype.indexOf"));k.exports=function(n,l){var a=i(n,!!l);return typeof a=="function"&&e(n,".prototype.")>-1?t(a):a}}),ny=xe((E,k)=>{var i=Ys()(),t=Fl(),e=t("Object.prototype.toString"),n=function(o){return i&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:e(o)==="[object Arguments]"},l=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&e(o)!=="[object Array]"&&e(o.callee)==="[object Function]"},a=function(){return n(arguments)}();n.isLegacyArguments=l,k.exports=a?n:l}),ay=xe((E,k)=>{var i=Object.prototype.toString,t=Function.prototype.toString,e=/^\s*(?:function)?\*/,n=Ys()(),l=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;k.exports=function(s){if(typeof s!="function")return!1;if(e.test(t.call(s)))return!0;if(!n){var r=i.call(s);return r==="[object GeneratorFunction]"}if(!l)return!1;if(typeof o>"u"){var p=a();o=p?l(p):!1}return l(s)===o}}),iy=xe((E,k)=>{var i=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,e,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,e)}catch(h){h!==n&&(t=null)}else t=null;var l=/^\s*class\b/,a=function(h){try{var b=i.call(h);return l.test(b)}catch{return!1}},o=function(h){try{return a(h)?!1:(i.call(h),!0)}catch{return!1}},s=Object.prototype.toString,r="[object Object]",p="[object Function]",u="[object GeneratorFunction]",d="[object HTMLAllCollection]",g="[object HTML document.all class]",v="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),m=function(){return!1};typeof document=="object"&&(c=document.all,s.call(c)===s.call(document.all)&&(m=function(h){if((y||!h)&&(typeof h>"u"||typeof h=="object"))try{var b=s.call(h);return(b===d||b===g||b===v||b===r)&&h("")==null}catch{}return!1}));var c;k.exports=t?function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{t(h,null,e)}catch(b){if(b!==n)return!1}return!a(h)&&o(h)}:function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(x)return o(h);if(a(h))return!1;var b=s.call(h);return b!==p&&b!==u&&!/^\[object HTML/.test(b)?!1:o(h)}}),Gd=xe((E,k)=>{var i=iy(),t=Object.prototype.toString,e=Object.prototype.hasOwnProperty,n=function(s,r,p){for(var u=0,d=s.length;u<d;u++)e.call(s,u)&&(p==null?r(s[u],u,s):r.call(p,s[u],u,s))},l=function(s,r,p){for(var u=0,d=s.length;u<d;u++)p==null?r(s.charAt(u),u,s):r.call(p,s.charAt(u),u,s)},a=function(s,r,p){for(var u in s)e.call(s,u)&&(p==null?r(s[u],u,s):r.call(p,s[u],u,s))},o=function(s,r,p){if(!i(r))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=p),t.call(s)==="[object Array]"?n(s,r,u):typeof s=="string"?l(s,r,u):a(s,r,u)};k.exports=o}),Jd=xe((E,k)=>{var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t=typeof globalThis>"u"?window:globalThis;k.exports=function(){for(var e=[],n=0;n<i.length;n++)typeof t[i[n]]=="function"&&(e[e.length]=i[n]);return e}}),oy=xe((E,k)=>{var i=Gd(),t=Jd(),e=Zs(),n=Fl(),l=Js(),a=n("Object.prototype.toString"),o=Ys()(),s=typeof globalThis>"u"?window:globalThis,r=t(),p=n("String.prototype.slice"),u=Object.getPrototypeOf,d=n("Array.prototype.indexOf",!0)||function(y,m){for(var c=0;c<y.length;c+=1)if(y[c]===m)return c;return-1},g={__proto__:null};o&&l&&u?i(r,function(y){var m=new s[y];if(Symbol.toStringTag in m){var c=u(m),h=l(c,Symbol.toStringTag);if(!h){var b=u(c);h=l(b,Symbol.toStringTag)}g["$"+y]=e(h.get)}}):i(r,function(y){var m=new s[y],c=m.slice||m.set;c&&(g["$"+y]=e(c))});var v=function(y){var m=!1;return i(g,function(c,h){if(!m)try{"$"+c(y)===h&&(m=p(h,1))}catch{}}),m},x=function(y){var m=!1;return i(g,function(c,h){if(!m)try{c(y),m=p(h,1)}catch{}}),m};k.exports=function(y){if(!y||typeof y!="object")return!1;if(!o){var m=p(a(y),8,-1);return d(r,m)>-1?m:m!=="Object"?!1:x(y)}return l?v(y):null}}),ly=xe((E,k)=>{var i=Gd(),t=Jd(),e=Fl(),n=e("Object.prototype.toString"),l=Ys()(),a=Js(),o=typeof globalThis>"u"?window:globalThis,s=t(),r=e("Array.prototype.indexOf",!0)||function(v,x){for(var y=0;y<v.length;y+=1)if(v[y]===x)return y;return-1},p=e("String.prototype.slice"),u={},d=Object.getPrototypeOf;l&&a&&d&&i(s,function(v){var x=new o[v];if(Symbol.toStringTag in x){var y=d(x),m=a(y,Symbol.toStringTag);if(!m){var c=d(y);m=a(c,Symbol.toStringTag)}u[v]=m.get}});var g=function(v){var x=!1;return i(u,function(y,m){if(!x)try{x=y.call(v)===m}catch{}}),x};k.exports=function(v){if(!v||typeof v!="object")return!1;if(!l||!(Symbol.toStringTag in v)){var x=p(n(v),8,-1);return r(s,x)>-1}return a?g(v):!1}}),sy=xe(E=>{var k=ny(),i=ay(),t=oy(),e=ly();function n(fe){return fe.call.bind(fe)}var l=typeof BigInt<"u",a=typeof Symbol<"u",o=n(Object.prototype.toString),s=n(Number.prototype.valueOf),r=n(String.prototype.valueOf),p=n(Boolean.prototype.valueOf);l&&(u=n(BigInt.prototype.valueOf));var u;a&&(d=n(Symbol.prototype.valueOf));var d;function g(fe,ye){if(typeof fe!="object")return!1;try{return ye(fe),!0}catch{return!1}}E.isArgumentsObject=k,E.isGeneratorFunction=i,E.isTypedArray=e;function v(fe){return typeof Promise<"u"&&fe instanceof Promise||fe!==null&&typeof fe=="object"&&typeof fe.then=="function"&&typeof fe.catch=="function"}E.isPromise=v;function x(fe){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(fe):e(fe)||F(fe)}E.isArrayBufferView=x;function y(fe){return t(fe)==="Uint8Array"}E.isUint8Array=y;function m(fe){return t(fe)==="Uint8ClampedArray"}E.isUint8ClampedArray=m;function c(fe){return t(fe)==="Uint16Array"}E.isUint16Array=c;function h(fe){return t(fe)==="Uint32Array"}E.isUint32Array=h;function b(fe){return t(fe)==="Int8Array"}E.isInt8Array=b;function _(fe){return t(fe)==="Int16Array"}E.isInt16Array=_;function w(fe){return t(fe)==="Int32Array"}E.isInt32Array=w;function K(fe){return t(fe)==="Float32Array"}E.isFloat32Array=K;function D(fe){return t(fe)==="Float64Array"}E.isFloat64Array=D;function I(fe){return t(fe)==="BigInt64Array"}E.isBigInt64Array=I;function C(fe){return t(fe)==="BigUint64Array"}E.isBigUint64Array=C;function H(fe){return o(fe)==="[object Map]"}H.working=typeof Map<"u"&&H(new Map);function z(fe){return typeof Map>"u"?!1:H.working?H(fe):fe instanceof Map}E.isMap=z;function R(fe){return o(fe)==="[object Set]"}R.working=typeof Set<"u"&&R(new Set);function U(fe){return typeof Set>"u"?!1:R.working?R(fe):fe instanceof Set}E.isSet=U;function Z(fe){return o(fe)==="[object WeakMap]"}Z.working=typeof WeakMap<"u"&&Z(new WeakMap);function G(fe){return typeof WeakMap>"u"?!1:Z.working?Z(fe):fe instanceof WeakMap}E.isWeakMap=G;function P(fe){return o(fe)==="[object WeakSet]"}P.working=typeof WeakSet<"u"&&P(new WeakSet);function A(fe){return P(fe)}E.isWeakSet=A;function O(fe){return o(fe)==="[object ArrayBuffer]"}O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer);function L(fe){return typeof ArrayBuffer>"u"?!1:O.working?O(fe):fe instanceof ArrayBuffer}E.isArrayBuffer=L;function S(fe){return o(fe)==="[object DataView]"}S.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&S(new DataView(new ArrayBuffer(1),0,1));function F(fe){return typeof DataView>"u"?!1:S.working?S(fe):fe instanceof DataView}E.isDataView=F;var W=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ue(fe){return o(fe)==="[object SharedArrayBuffer]"}function ae(fe){return typeof W>"u"?!1:(typeof ue.working>"u"&&(ue.working=ue(new W)),ue.working?ue(fe):fe instanceof W)}E.isSharedArrayBuffer=ae;function se(fe){return o(fe)==="[object AsyncFunction]"}E.isAsyncFunction=se;function q(fe){return o(fe)==="[object Map Iterator]"}E.isMapIterator=q;function ee(fe){return o(fe)==="[object Set Iterator]"}E.isSetIterator=ee;function B(fe){return o(fe)==="[object Generator]"}E.isGeneratorObject=B;function re(fe){return o(fe)==="[object WebAssembly.Module]"}E.isWebAssemblyCompiledModule=re;function J(fe){return g(fe,s)}E.isNumberObject=J;function X(fe){return g(fe,r)}E.isStringObject=X;function N(fe){return g(fe,p)}E.isBooleanObject=N;function $(fe){return l&&g(fe,u)}E.isBigIntObject=$;function te(fe){return a&&g(fe,d)}E.isSymbolObject=te;function le(fe){return J(fe)||X(fe)||N(fe)||$(fe)||te(fe)}E.isBoxedPrimitive=le;function pe(fe){return typeof Uint8Array<"u"&&(L(fe)||ae(fe))}E.isAnyArrayBuffer=pe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(fe){Object.defineProperty(E,fe,{enumerable:!1,value:function(){throw new Error(fe+" is not supported in userland")}})})}),uy=xe((E,k)=>{k.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}}),cy=xe((E,k)=>{typeof Object.create=="function"?k.exports=function(i,t){t&&(i.super_=t,i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:k.exports=function(i,t){if(t){i.super_=t;var e=function(){};e.prototype=t.prototype,i.prototype=new e,i.prototype.constructor=i}}}),Il=xe(E=>{var k=Object.getOwnPropertyDescriptors||function(S){for(var F=Object.keys(S),W={},ue=0;ue<F.length;ue++)W[F[ue]]=Object.getOwnPropertyDescriptor(S,F[ue]);return W},i=/%[sdj%]/g;E.format=function(S){if(!b(S)){for(var F=[],W=0;W<arguments.length;W++)F.push(l(arguments[W]));return F.join(" ")}for(var W=1,ue=arguments,ae=ue.length,se=String(S).replace(i,function(B){if(B==="%%")return"%";if(W>=ae)return B;switch(B){case"%s":return String(ue[W++]);case"%d":return Number(ue[W++]);case"%j":try{return JSON.stringify(ue[W++])}catch{return"[Circular]"}default:return B}}),q=ue[W];W<ae;q=ue[++W])m(q)||!D(q)?se+=" "+q:se+=" "+l(q);return se},E.deprecate=function(S,F){if(typeof process<"u"&&process.noDeprecation===!0)return S;if(typeof process>"u")return function(){return E.deprecate(S,F).apply(this,arguments)};var W=!1;function ue(){if(!W){if(process.throwDeprecation)throw new Error(F);process.traceDeprecation?console.trace(F):console.error(F),W=!0}return S.apply(this,arguments)}return ue};var t={},e=/^$/;n="false",n=n.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),e=new RegExp("^"+n+"$","i");var n;E.debuglog=function(S){if(S=S.toUpperCase(),!t[S])if(e.test(S)){var F=process.pid;t[S]=function(){var W=E.format.apply(E,arguments);console.error("%s %d: %s",S,F,W)}}else t[S]=function(){};return t[S]};function l(S,F){var W={seen:[],stylize:o};return arguments.length>=3&&(W.depth=arguments[2]),arguments.length>=4&&(W.colors=arguments[3]),y(F)?W.showHidden=F:F&&E._extend(W,F),w(W.showHidden)&&(W.showHidden=!1),w(W.depth)&&(W.depth=2),w(W.colors)&&(W.colors=!1),w(W.customInspect)&&(W.customInspect=!0),W.colors&&(W.stylize=a),r(W,S,W.depth)}E.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(S,F){var W=l.styles[F];return W?"\x1B["+l.colors[W][0]+"m"+S+"\x1B["+l.colors[W][1]+"m":S}function o(S,F){return S}function s(S){var F={};return S.forEach(function(W,ue){F[W]=!0}),F}function r(S,F,W){if(S.customInspect&&F&&H(F.inspect)&&F.inspect!==E.inspect&&!(F.constructor&&F.constructor.prototype===F)){var ue=F.inspect(W,S);return b(ue)||(ue=r(S,ue,W)),ue}var ae=p(S,F);if(ae)return ae;var se=Object.keys(F),q=s(se);if(S.showHidden&&(se=Object.getOwnPropertyNames(F)),C(F)&&(se.indexOf("message")>=0||se.indexOf("description")>=0))return u(F);if(se.length===0){if(H(F)){var ee=F.name?": "+F.name:"";return S.stylize("[Function"+ee+"]","special")}if(K(F))return S.stylize(RegExp.prototype.toString.call(F),"regexp");if(I(F))return S.stylize(Date.prototype.toString.call(F),"date");if(C(F))return u(F)}var B="",re=!1,J=["{","}"];if(x(F)&&(re=!0,J=["[","]"]),H(F)){var X=F.name?": "+F.name:"";B=" [Function"+X+"]"}if(K(F)&&(B=" "+RegExp.prototype.toString.call(F)),I(F)&&(B=" "+Date.prototype.toUTCString.call(F)),C(F)&&(B=" "+u(F)),se.length===0&&(!re||F.length==0))return J[0]+B+J[1];if(W<0)return K(F)?S.stylize(RegExp.prototype.toString.call(F),"regexp"):S.stylize("[Object]","special");S.seen.push(F);var N;return re?N=d(S,F,W,q,se):N=se.map(function($){return g(S,F,W,q,$,re)}),S.seen.pop(),v(N,B,J)}function p(S,F){if(w(F))return S.stylize("undefined","undefined");if(b(F)){var W="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return S.stylize(W,"string")}if(h(F))return S.stylize(""+F,"number");if(y(F))return S.stylize(""+F,"boolean");if(m(F))return S.stylize("null","null")}function u(S){return"["+Error.prototype.toString.call(S)+"]"}function d(S,F,W,ue,ae){for(var se=[],q=0,ee=F.length;q<ee;++q)P(F,String(q))?se.push(g(S,F,W,ue,String(q),!0)):se.push("");return ae.forEach(function(B){B.match(/^\d+$/)||se.push(g(S,F,W,ue,B,!0))}),se}function g(S,F,W,ue,ae,se){var q,ee,B;if(B=Object.getOwnPropertyDescriptor(F,ae)||{value:F[ae]},B.get?B.set?ee=S.stylize("[Getter/Setter]","special"):ee=S.stylize("[Getter]","special"):B.set&&(ee=S.stylize("[Setter]","special")),P(ue,ae)||(q="["+ae+"]"),ee||(S.seen.indexOf(B.value)<0?(m(W)?ee=r(S,B.value,null):ee=r(S,B.value,W-1),ee.indexOf(`
`)>-1&&(se?ee=ee.split(`
`).map(function(re){return"  "+re}).join(`
`).slice(2):ee=`
`+ee.split(`
`).map(function(re){return"   "+re}).join(`
`))):ee=S.stylize("[Circular]","special")),w(q)){if(se&&ae.match(/^\d+$/))return ee;q=JSON.stringify(""+ae),q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(q=q.slice(1,-1),q=S.stylize(q,"name")):(q=q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),q=S.stylize(q,"string"))}return q+": "+ee}function v(S,F,W){var ue=0,ae=S.reduce(function(se,q){return ue++,q.indexOf(`
`)>=0&&ue++,se+q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?W[0]+(F===""?"":F+`
 `)+" "+S.join(`,
  `)+" "+W[1]:W[0]+F+" "+S.join(", ")+" "+W[1]}E.types=sy();function x(S){return Array.isArray(S)}E.isArray=x;function y(S){return typeof S=="boolean"}E.isBoolean=y;function m(S){return S===null}E.isNull=m;function c(S){return S==null}E.isNullOrUndefined=c;function h(S){return typeof S=="number"}E.isNumber=h;function b(S){return typeof S=="string"}E.isString=b;function _(S){return typeof S=="symbol"}E.isSymbol=_;function w(S){return S===void 0}E.isUndefined=w;function K(S){return D(S)&&R(S)==="[object RegExp]"}E.isRegExp=K,E.types.isRegExp=K;function D(S){return typeof S=="object"&&S!==null}E.isObject=D;function I(S){return D(S)&&R(S)==="[object Date]"}E.isDate=I,E.types.isDate=I;function C(S){return D(S)&&(R(S)==="[object Error]"||S instanceof Error)}E.isError=C,E.types.isNativeError=C;function H(S){return typeof S=="function"}E.isFunction=H;function z(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||typeof S>"u"}E.isPrimitive=z,E.isBuffer=uy();function R(S){return Object.prototype.toString.call(S)}function U(S){return S<10?"0"+S.toString(10):S.toString(10)}var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var S=new Date,F=[U(S.getHours()),U(S.getMinutes()),U(S.getSeconds())].join(":");return[S.getDate(),Z[S.getMonth()],F].join(" ")}E.log=function(){console.log("%s - %s",G(),E.format.apply(E,arguments))},E.inherits=cy(),E._extend=function(S,F){if(!F||!D(F))return S;for(var W=Object.keys(F),ue=W.length;ue--;)S[W[ue]]=F[W[ue]];return S};function P(S,F){return Object.prototype.hasOwnProperty.call(S,F)}var A=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;E.promisify=function(S){if(typeof S!="function")throw new TypeError('The "original" argument must be of type Function');if(A&&S[A]){var F=S[A];if(typeof F!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(F,A,{value:F,enumerable:!1,writable:!1,configurable:!0}),F}function F(){for(var W,ue,ae=new Promise(function(ee,B){W=ee,ue=B}),se=[],q=0;q<arguments.length;q++)se.push(arguments[q]);se.push(function(ee,B){ee?ue(ee):W(B)});try{S.apply(this,se)}catch(ee){ue(ee)}return ae}return Object.setPrototypeOf(F,Object.getPrototypeOf(S)),A&&Object.defineProperty(F,A,{value:F,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(F,k(S))},E.promisify.custom=A;function O(S,F){if(!S){var W=new Error("Promise was rejected with a falsy value");W.reason=S,S=W}return F(S)}function L(S){if(typeof S!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var W=[],ue=0;ue<arguments.length;ue++)W.push(arguments[ue]);var ae=W.pop();if(typeof ae!="function")throw new TypeError("The last argument must be of type Function");var se=this,q=function(){return ae.apply(se,arguments)};S.apply(this,W).then(function(ee){process.nextTick(q.bind(null,null,ee))},function(ee){process.nextTick(O.bind(null,ee,q))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(S)),Object.defineProperties(F,k(S)),F}E.callbackify=L}),Zd=xe((E,k)=>{function i(h){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},i(h)}function t(h,b,_){return Object.defineProperty(h,"prototype",{writable:!1}),h}function e(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function n(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),b&&l(h,b)}function l(h,b){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},l(h,b)}function a(h){var b=r();return function(){var _=p(h),w;if(b){var K=p(this).constructor;w=Reflect.construct(_,arguments,K)}else w=_.apply(this,arguments);return o(this,w)}}function o(h,b){if(b&&(i(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(h)}function s(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(h){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},p(h)}var u={},d,g;function v(h,b,_){_||(_=Error);function w(D,I,C){return typeof b=="string"?b:b(D,I,C)}var K=function(D){n(C,D);var I=a(C);function C(H,z,R){var U;return e(this,C),U=I.call(this,w(H,z,R)),U.code=h,U}return t(C)}(_);u[h]=K}function x(h,b){if(Array.isArray(h)){var _=h.length;return h=h.map(function(w){return String(w)}),_>2?"one of ".concat(b," ").concat(h.slice(0,_-1).join(", "),", or ")+h[_-1]:_===2?"one of ".concat(b," ").concat(h[0]," or ").concat(h[1]):"of ".concat(b," ").concat(h[0])}else return"of ".concat(b," ").concat(String(h))}function y(h,b,_){return h.substr(0,b.length)===b}function m(h,b,_){return(_===void 0||_>h.length)&&(_=h.length),h.substring(_-b.length,_)===b}function c(h,b,_){return typeof _!="number"&&(_=0),_+b.length>h.length?!1:h.indexOf(b,_)!==-1}v("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),v("ERR_INVALID_ARG_TYPE",function(h,b,_){d===void 0&&(d=Dc()),d(typeof h=="string","'name' must be a string");var w;typeof b=="string"&&y(b,"not ")?(w="must not be",b=b.replace(/^not /,"")):w="must be";var K;if(m(h," argument"))K="The ".concat(h," ").concat(w," ").concat(x(b,"type"));else{var D=c(h,".")?"property":"argument";K='The "'.concat(h,'" ').concat(D," ").concat(w," ").concat(x(b,"type"))}return K+=". Received type ".concat(i(_)),K},TypeError),v("ERR_INVALID_ARG_VALUE",function(h,b){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";g===void 0&&(g=Il());var w=g.inspect(b);return w.length>128&&(w="".concat(w.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(_,". Received ").concat(w)},TypeError),v("ERR_INVALID_RETURN_VALUE",function(h,b,_){var w;return _&&_.constructor&&_.constructor.name?w="instance of ".concat(_.constructor.name):w="type ".concat(i(_)),"Expected ".concat(h,' to be returned from the "').concat(b,'"')+" function but got ".concat(w,".")},TypeError),v("ERR_MISSING_ARGS",function(){for(var h=arguments.length,b=new Array(h),_=0;_<h;_++)b[_]=arguments[_];d===void 0&&(d=Dc()),d(b.length>0,"At least one arg needs to be specified");var w="The ",K=b.length;switch(b=b.map(function(D){return'"'.concat(D,'"')}),K){case 1:w+="".concat(b[0]," argument");break;case 2:w+="".concat(b[0]," and ").concat(b[1]," arguments");break;default:w+=b.slice(0,K-1).join(", "),w+=", and ".concat(b[K-1]," arguments");break}return"".concat(w," must be specified")},TypeError),k.exports.codes=u}),fy=xe((E,k)=>{function i(L,S){var F=Object.keys(L);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(L);S&&(W=W.filter(function(ue){return Object.getOwnPropertyDescriptor(L,ue).enumerable})),F.push.apply(F,W)}return F}function t(L){for(var S=1;S<arguments.length;S++){var F=arguments[S]!=null?arguments[S]:{};S%2?i(Object(F),!0).forEach(function(W){e(L,W,F[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(F)):i(Object(F)).forEach(function(W){Object.defineProperty(L,W,Object.getOwnPropertyDescriptor(F,W))})}return L}function e(L,S,F){return S=o(S),S in L?Object.defineProperty(L,S,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[S]=F,L}function n(L,S){if(!(L instanceof S))throw new TypeError("Cannot call a class as a function")}function l(L,S){for(var F=0;F<S.length;F++){var W=S[F];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(L,o(W.key),W)}}function a(L,S,F){return S&&l(L.prototype,S),Object.defineProperty(L,"prototype",{writable:!1}),L}function o(L){var S=s(L,"string");return h(S)==="symbol"?S:String(S)}function s(L,S){if(h(L)!=="object"||L===null)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var W=F.call(L,S);if(h(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}function r(L,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(S&&S.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),S&&m(L,S)}function p(L){var S=x();return function(){var F=c(L),W;if(S){var ue=c(this).constructor;W=Reflect.construct(F,arguments,ue)}else W=F.apply(this,arguments);return u(this,W)}}function u(L,S){if(S&&(h(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(L)}function d(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function g(L){var S=typeof Map=="function"?new Map:void 0;return g=function(F){if(F===null||!y(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof S<"u"){if(S.has(F))return S.get(F);S.set(F,W)}function W(){return v(F,arguments,c(this).constructor)}return W.prototype=Object.create(F.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),m(W,F)},g(L)}function v(L,S,F){return x()?v=Reflect.construct.bind():v=function(W,ue,ae){var se=[null];se.push.apply(se,ue);var q=Function.bind.apply(W,se),ee=new q;return ae&&m(ee,ae.prototype),ee},v.apply(null,arguments)}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(L){return Function.toString.call(L).indexOf("[native code]")!==-1}function m(L,S){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,W){return F.__proto__=W,F},m(L,S)}function c(L){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},c(L)}function h(L){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(L)}var b=Il(),_=b.inspect,w=Zd(),K=w.codes.ERR_INVALID_ARG_TYPE;function D(L,S,F){return(F===void 0||F>L.length)&&(F=L.length),L.substring(F-S.length,F)===S}function I(L,S){if(S=Math.floor(S),L.length==0||S==0)return"";var F=L.length*S;for(S=Math.floor(Math.log(S)/Math.log(2));S;)L+=L,S--;return L+=L.substring(0,F-L.length),L}var C="",H="",z="",R="",U={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Z=10;function G(L){var S=Object.keys(L),F=Object.create(Object.getPrototypeOf(L));return S.forEach(function(W){F[W]=L[W]}),Object.defineProperty(F,"message",{value:L.message}),F}function P(L){return _(L,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function A(L,S,F){var W="",ue="",ae=0,se="",q=!1,ee=P(L),B=ee.split(`
`),re=P(S).split(`
`),J=0,X="";if(F==="strictEqual"&&h(L)==="object"&&h(S)==="object"&&L!==null&&S!==null&&(F="strictEqualObject"),B.length===1&&re.length===1&&B[0]!==re[0]){var N=B[0].length+re[0].length;if(N<=Z){if((h(L)!=="object"||L===null)&&(h(S)!=="object"||S===null)&&(L!==0||S!==0))return"".concat(U[F],`

`)+"".concat(B[0]," !== ").concat(re[0],`
`)}else if(F!=="strictEqualObject"){var $=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(N<$){for(;B[0][J]===re[0][J];)J++;J>2&&(X=`
  `.concat(I(" ",J),"^"),J=0)}}}for(var te=B[B.length-1],le=re[re.length-1];te===le&&(J++<2?se=`
  `.concat(te).concat(se):W=te,B.pop(),re.pop(),!(B.length===0||re.length===0));)te=B[B.length-1],le=re[re.length-1];var pe=Math.max(B.length,re.length);if(pe===0){var fe=ee.split(`
`);if(fe.length>30)for(fe[26]="".concat(C,"...").concat(R);fe.length>27;)fe.pop();return"".concat(U.notIdentical,`

`).concat(fe.join(`
`),`
`)}J>3&&(se=`
`.concat(C,"...").concat(R).concat(se),q=!0),W!==""&&(se=`
  `.concat(W).concat(se),W="");var ye=0,Me=U[F]+`
`.concat(H,"+ actual").concat(R," ").concat(z,"- expected").concat(R),He=" ".concat(C,"...").concat(R," Lines skipped");for(J=0;J<pe;J++){var Ne=J-ae;if(B.length<J+1)Ne>1&&J>2&&(Ne>4?(ue+=`
`.concat(C,"...").concat(R),q=!0):Ne>3&&(ue+=`
  `.concat(re[J-2]),ye++),ue+=`
  `.concat(re[J-1]),ye++),ae=J,W+=`
`.concat(z,"-").concat(R," ").concat(re[J]),ye++;else if(re.length<J+1)Ne>1&&J>2&&(Ne>4?(ue+=`
`.concat(C,"...").concat(R),q=!0):Ne>3&&(ue+=`
  `.concat(B[J-2]),ye++),ue+=`
  `.concat(B[J-1]),ye++),ae=J,ue+=`
`.concat(H,"+").concat(R," ").concat(B[J]),ye++;else{var ze=re[J],Re=B[J],Ae=Re!==ze&&(!D(Re,",")||Re.slice(0,-1)!==ze);Ae&&D(ze,",")&&ze.slice(0,-1)===Re&&(Ae=!1,Re+=","),Ae?(Ne>1&&J>2&&(Ne>4?(ue+=`
`.concat(C,"...").concat(R),q=!0):Ne>3&&(ue+=`
  `.concat(B[J-2]),ye++),ue+=`
  `.concat(B[J-1]),ye++),ae=J,ue+=`
`.concat(H,"+").concat(R," ").concat(Re),W+=`
`.concat(z,"-").concat(R," ").concat(ze),ye+=2):(ue+=W,W="",(Ne===1||J===0)&&(ue+=`
  `.concat(Re),ye++))}if(ye>20&&J<pe-2)return"".concat(Me).concat(He,`
`).concat(ue,`
`).concat(C,"...").concat(R).concat(W,`
`)+"".concat(C,"...").concat(R)}return"".concat(Me).concat(q?He:"",`
`).concat(ue).concat(W).concat(se).concat(X)}var O=function(L,S){r(W,L);var F=p(W);function W(ue){var ae;if(n(this,W),h(ue)!=="object"||ue===null)throw new K("options","Object",ue);var se=ue.message,q=ue.operator,ee=ue.stackStartFn,B=ue.actual,re=ue.expected,J=Error.stackTraceLimit;if(Error.stackTraceLimit=0,se!=null)ae=F.call(this,String(se));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(C="\x1B[34m",H="\x1B[32m",R="\x1B[39m",z="\x1B[31m"):(C="",H="",R="",z="")),h(B)==="object"&&B!==null&&h(re)==="object"&&re!==null&&"stack"in B&&B instanceof Error&&"stack"in re&&re instanceof Error&&(B=G(B),re=G(re)),q==="deepStrictEqual"||q==="strictEqual")ae=F.call(this,A(B,re,q));else if(q==="notDeepStrictEqual"||q==="notStrictEqual"){var X=U[q],N=P(B).split(`
`);if(q==="notStrictEqual"&&h(B)==="object"&&B!==null&&(X=U.notStrictEqualObject),N.length>30)for(N[26]="".concat(C,"...").concat(R);N.length>27;)N.pop();N.length===1?ae=F.call(this,"".concat(X," ").concat(N[0])):ae=F.call(this,"".concat(X,`

`).concat(N.join(`
`),`
`))}else{var $=P(B),te="",le=U[q];q==="notDeepEqual"||q==="notEqual"?($="".concat(U[q],`

`).concat($),$.length>1024&&($="".concat($.slice(0,1021),"..."))):(te="".concat(P(re)),$.length>512&&($="".concat($.slice(0,509),"...")),te.length>512&&(te="".concat(te.slice(0,509),"...")),q==="deepEqual"||q==="equal"?$="".concat(le,`

`).concat($,`

should equal

`):te=" ".concat(q," ").concat(te)),ae=F.call(this,"".concat($).concat(te))}return Error.stackTraceLimit=J,ae.generatedMessage=!se,Object.defineProperty(d(ae),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),ae.code="ERR_ASSERTION",ae.actual=B,ae.expected=re,ae.operator=q,Error.captureStackTrace&&Error.captureStackTrace(d(ae),ee),ae.stack,ae.name="AssertionError",u(ae)}return a(W,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:S,value:function(ue,ae){return _(this,t(t({},ae),{},{customInspect:!1,depth:0}))}}]),W}(g(Error),_.custom);k.exports=O}),Kd=xe((E,k)=>{var i=Object.prototype.toString;k.exports=function(t){var e=i.call(t),n=e==="[object Arguments]";return n||(n=e!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&i.call(t.callee)==="[object Function]"),n}}),dy=xe((E,k)=>{var i;Object.keys||(t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Kd(),l=Object.prototype.propertyIsEnumerable,a=!l.call({toString:null},"toString"),o=l.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(g){var v=g.constructor;return v&&v.prototype===g},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var g in window)try{if(!p["$"+g]&&t.call(window,g)&&window[g]!==null&&typeof window[g]=="object")try{r(window[g])}catch{return!0}}catch{return!0}return!1}(),d=function(g){if(typeof window>"u"||!u)return r(g);try{return r(g)}catch{return!1}},i=function(g){var v=g!==null&&typeof g=="object",x=e.call(g)==="[object Function]",y=n(g),m=v&&e.call(g)==="[object String]",c=[];if(!v&&!x&&!y)throw new TypeError("Object.keys called on a non-object");var h=o&&x;if(m&&g.length>0&&!t.call(g,0))for(var b=0;b<g.length;++b)c.push(String(b));if(y&&g.length>0)for(var _=0;_<g.length;++_)c.push(String(_));else for(var w in g)!(h&&w==="prototype")&&t.call(g,w)&&c.push(String(w));if(a)for(var K=d(g),D=0;D<s.length;++D)!(K&&s[D]==="constructor")&&t.call(g,s[D])&&c.push(s[D]);return c});var t,e,n,l,a,o,s,r,p,u,d;k.exports=i}),$d=xe((E,k)=>{var i=Array.prototype.slice,t=Kd(),e=Object.keys,n=e?function(a){return e(a)}:dy(),l=Object.keys;n.shim=function(){if(Object.keys){var a=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);a||(Object.keys=function(o){return t(o)?l(i.call(o)):l(o)})}else Object.keys=n;return Object.keys||n},k.exports=n}),hy=xe((E,k)=>{var i=$d(),t=Sc()(),e=Fl(),n=Object,l=e("Array.prototype.push"),a=e("Object.prototype.propertyIsEnumerable"),o=t?Object.getOwnPropertySymbols:null;k.exports=function(s,r){if(s==null)throw new TypeError("target must be an object");var p=n(s);if(arguments.length===1)return p;for(var u=1;u<arguments.length;++u){var d=n(arguments[u]),g=i(d),v=t&&(Object.getOwnPropertySymbols||o);if(v)for(var x=v(d),y=0;y<x.length;++y){var m=x[y];a(d,m)&&l(g,m)}for(var c=0;c<g.length;++c){var h=g[c];if(a(d,h)){var b=d[h];p[h]=b}}}return p}}),py=xe((E,k)=>{var i=hy(),t=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",l=n.split(""),a={},o=0;o<l.length;++o)a[l[o]]=l[o];var s=Object.assign({},a),r="";for(var p in s)r+=p;return n!==r},e=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};k.exports=function(){return!Object.assign||t()||e()?i:Object.assign}}),Xd=xe((E,k)=>{var i=function(t){return t!==t};k.exports=function(t,e){return t===0&&e===0?1/t===1/e:!!(t===e||i(t)&&i(e))}}),Cc=xe((E,k)=>{var i=Xd();k.exports=function(){return typeof Object.is=="function"?Object.is:i}}),Ks=xe((E,k)=>{var i=$d(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",e=Object.prototype.toString,n=Array.prototype.concat,l=Object.defineProperty,a=function(u){return typeof u=="function"&&e.call(u)==="[object Function]"},o=Yd()(),s=l&&o,r=function(u,d,g,v){if(d in u){if(v===!0){if(u[d]===g)return}else if(!a(v)||!v())return}s?l(u,d,{configurable:!0,enumerable:!1,value:g,writable:!0}):u[d]=g},p=function(u,d){var g=arguments.length>2?arguments[2]:{},v=i(d);t&&(v=n.call(v,Object.getOwnPropertySymbols(d)));for(var x=0;x<v.length;x+=1)r(u,v[x],d[v[x]],g[v[x]])};p.supportsDescriptors=!!s,k.exports=p}),gy=xe((E,k)=>{var i=Cc(),t=Ks();k.exports=function(){var e=i();return t(Object,{is:e},{is:function(){return Object.is!==e}}),e}}),yy=xe((E,k)=>{var i=Ks(),t=Zs(),e=Xd(),n=Cc(),l=gy(),a=t(n(),Object);i(a,{getPolyfill:n,implementation:e,shim:l}),k.exports=a}),Qd=xe((E,k)=>{k.exports=function(i){return i!==i}}),eh=xe((E,k)=>{var i=Qd();k.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:i}}),vy=xe((E,k)=>{var i=Ks(),t=eh();k.exports=function(){var e=t();return i(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}}),my=xe((E,k)=>{var i=Zs(),t=Ks(),e=Qd(),n=eh(),l=vy(),a=i(n(),Number);t(a,{getPolyfill:n,implementation:e,shim:l}),k.exports=a}),xy=xe((E,k)=>{function i(Ae,T){return a(Ae)||l(Ae,T)||e(Ae,T)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(Ae,T){if(Ae){if(typeof Ae=="string")return n(Ae,T);var V=Object.prototype.toString.call(Ae).slice(8,-1);if(V==="Object"&&Ae.constructor&&(V=Ae.constructor.name),V==="Map"||V==="Set")return Array.from(Ae);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return n(Ae,T)}}function n(Ae,T){(T==null||T>Ae.length)&&(T=Ae.length);for(var V=0,j=new Array(T);V<T;V++)j[V]=Ae[V];return j}function l(Ae,T){var V=Ae==null?null:typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(V!=null){var j,he,be,ke,Ce=[],qe=!0,at=!1;try{if(be=(V=V.call(Ae)).next,T!==0)for(;!(qe=(j=be.call(V)).done)&&(Ce.push(j.value),Ce.length!==T);qe=!0);}catch(ct){at=!0,he=ct}finally{try{if(!qe&&V.return!=null&&(ke=V.return(),Object(ke)!==ke))return}finally{if(at)throw he}}return Ce}}function a(Ae){if(Array.isArray(Ae))return Ae}function o(Ae){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},o(Ae)}var s=/a/g.flags!==void 0,r=function(Ae){var T=[];return Ae.forEach(function(V){return T.push(V)}),T},p=function(Ae){var T=[];return Ae.forEach(function(V,j){return T.push([j,V])}),T},u=Object.is?Object.is:yy(),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},g=Number.isNaN?Number.isNaN:my();function v(Ae){return Ae.call.bind(Ae)}var x=v(Object.prototype.hasOwnProperty),y=v(Object.prototype.propertyIsEnumerable),m=v(Object.prototype.toString),c=Il().types,h=c.isAnyArrayBuffer,b=c.isArrayBufferView,_=c.isDate,w=c.isMap,K=c.isRegExp,D=c.isSet,I=c.isNativeError,C=c.isBoxedPrimitive,H=c.isNumberObject,z=c.isStringObject,R=c.isBooleanObject,U=c.isBigIntObject,Z=c.isSymbolObject,G=c.isFloat32Array,P=c.isFloat64Array;function A(Ae){if(Ae.length===0||Ae.length>10)return!0;for(var T=0;T<Ae.length;T++){var V=Ae.charCodeAt(T);if(V<48||V>57)return!0}return Ae.length===10&&Ae>=Math.pow(2,32)}function O(Ae){return Object.keys(Ae).filter(A).concat(d(Ae).filter(Object.prototype.propertyIsEnumerable.bind(Ae)))}function L(Ae,T){if(Ae===T)return 0;for(var V=Ae.length,j=T.length,he=0,be=Math.min(V,j);he<be;++he)if(Ae[he]!==T[he]){V=Ae[he],j=T[he];break}return V<j?-1:j<V?1:0}var S=!0,F=!1,W=0,ue=1,ae=2,se=3;function q(Ae,T){return s?Ae.source===T.source&&Ae.flags===T.flags:RegExp.prototype.toString.call(Ae)===RegExp.prototype.toString.call(T)}function ee(Ae,T){if(Ae.byteLength!==T.byteLength)return!1;for(var V=0;V<Ae.byteLength;V++)if(Ae[V]!==T[V])return!1;return!0}function B(Ae,T){return Ae.byteLength!==T.byteLength?!1:L(new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength),new Uint8Array(T.buffer,T.byteOffset,T.byteLength))===0}function re(Ae,T){return Ae.byteLength===T.byteLength&&L(new Uint8Array(Ae),new Uint8Array(T))===0}function J(Ae,T){return H(Ae)?H(T)&&u(Number.prototype.valueOf.call(Ae),Number.prototype.valueOf.call(T)):z(Ae)?z(T)&&String.prototype.valueOf.call(Ae)===String.prototype.valueOf.call(T):R(Ae)?R(T)&&Boolean.prototype.valueOf.call(Ae)===Boolean.prototype.valueOf.call(T):U(Ae)?U(T)&&BigInt.prototype.valueOf.call(Ae)===BigInt.prototype.valueOf.call(T):Z(T)&&Symbol.prototype.valueOf.call(Ae)===Symbol.prototype.valueOf.call(T)}function X(Ae,T,V,j){if(Ae===T)return Ae!==0?!0:V?u(Ae,T):!0;if(V){if(o(Ae)!=="object")return typeof Ae=="number"&&g(Ae)&&g(T);if(o(T)!=="object"||Ae===null||T===null||Object.getPrototypeOf(Ae)!==Object.getPrototypeOf(T))return!1}else{if(Ae===null||o(Ae)!=="object")return T===null||o(T)!=="object"?Ae==T:!1;if(T===null||o(T)!=="object")return!1}var he=m(Ae),be=m(T);if(he!==be)return!1;if(Array.isArray(Ae)){if(Ae.length!==T.length)return!1;var ke=O(Ae),Ce=O(T);return ke.length!==Ce.length?!1:$(Ae,T,V,j,ue,ke)}if(he==="[object Object]"&&(!w(Ae)&&w(T)||!D(Ae)&&D(T)))return!1;if(_(Ae)){if(!_(T)||Date.prototype.getTime.call(Ae)!==Date.prototype.getTime.call(T))return!1}else if(K(Ae)){if(!K(T)||!q(Ae,T))return!1}else if(I(Ae)||Ae instanceof Error){if(Ae.message!==T.message||Ae.name!==T.name)return!1}else if(b(Ae)){if(!V&&(G(Ae)||P(Ae))){if(!ee(Ae,T))return!1}else if(!B(Ae,T))return!1;var qe=O(Ae),at=O(T);return qe.length!==at.length?!1:$(Ae,T,V,j,W,qe)}else{if(D(Ae))return!D(T)||Ae.size!==T.size?!1:$(Ae,T,V,j,ae);if(w(Ae))return!w(T)||Ae.size!==T.size?!1:$(Ae,T,V,j,se);if(h(Ae)){if(!re(Ae,T))return!1}else if(C(Ae)&&!J(Ae,T))return!1}return $(Ae,T,V,j,W)}function N(Ae,T){return T.filter(function(V){return y(Ae,V)})}function $(Ae,T,V,j,he,be){if(arguments.length===5){be=Object.keys(Ae);var ke=Object.keys(T);if(be.length!==ke.length)return!1}for(var Ce=0;Ce<be.length;Ce++)if(!x(T,be[Ce]))return!1;if(V&&arguments.length===5){var qe=d(Ae);if(qe.length!==0){var at=0;for(Ce=0;Ce<qe.length;Ce++){var ct=qe[Ce];if(y(Ae,ct)){if(!y(T,ct))return!1;be.push(ct),at++}else if(y(T,ct))return!1}var vt=d(T);if(qe.length!==vt.length&&N(T,vt).length!==at)return!1}else{var St=d(T);if(St.length!==0&&N(T,St).length!==0)return!1}}if(be.length===0&&(he===W||he===ue&&Ae.length===0||Ae.size===0))return!0;if(j===void 0)j={val1:new Map,val2:new Map,position:0};else{var ot=j.val1.get(Ae);if(ot!==void 0){var Ct=j.val2.get(T);if(Ct!==void 0)return ot===Ct}j.position++}j.val1.set(Ae,j.position),j.val2.set(T,j.position);var It=Ne(Ae,T,V,be,j,he);return j.val1.delete(Ae),j.val2.delete(T),It}function te(Ae,T,V,j){for(var he=r(Ae),be=0;be<he.length;be++){var ke=he[be];if(X(T,ke,V,j))return Ae.delete(ke),!0}return!1}function le(Ae){switch(o(Ae)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ae=+Ae;case"number":if(g(Ae))return!1}return!0}function pe(Ae,T,V){var j=le(V);return j??(T.has(j)&&!Ae.has(j))}function fe(Ae,T,V,j,he){var be=le(V);if(be!=null)return be;var ke=T.get(be);return ke===void 0&&!T.has(be)||!X(j,ke,!1,he)?!1:!Ae.has(be)&&X(j,ke,!1,he)}function ye(Ae,T,V,j){for(var he=null,be=r(Ae),ke=0;ke<be.length;ke++){var Ce=be[ke];if(o(Ce)==="object"&&Ce!==null)he===null&&(he=new Set),he.add(Ce);else if(!T.has(Ce)){if(V||!pe(Ae,T,Ce))return!1;he===null&&(he=new Set),he.add(Ce)}}if(he!==null){for(var qe=r(T),at=0;at<qe.length;at++){var ct=qe[at];if(o(ct)==="object"&&ct!==null){if(!te(he,ct,V,j))return!1}else if(!V&&!Ae.has(ct)&&!te(he,ct,V,j))return!1}return he.size===0}return!0}function Me(Ae,T,V,j,he,be){for(var ke=r(Ae),Ce=0;Ce<ke.length;Ce++){var qe=ke[Ce];if(X(V,qe,he,be)&&X(j,T.get(qe),he,be))return Ae.delete(qe),!0}return!1}function He(Ae,T,V,j){for(var he=null,be=p(Ae),ke=0;ke<be.length;ke++){var Ce=i(be[ke],2),qe=Ce[0],at=Ce[1];if(o(qe)==="object"&&qe!==null)he===null&&(he=new Set),he.add(qe);else{var ct=T.get(qe);if(ct===void 0&&!T.has(qe)||!X(at,ct,V,j)){if(V||!fe(Ae,T,qe,at,j))return!1;he===null&&(he=new Set),he.add(qe)}}}if(he!==null){for(var vt=p(T),St=0;St<vt.length;St++){var ot=i(vt[St],2),Ct=ot[0],It=ot[1];if(o(Ct)==="object"&&Ct!==null){if(!Me(he,Ae,Ct,It,V,j))return!1}else if(!V&&(!Ae.has(Ct)||!X(Ae.get(Ct),It,!1,j))&&!Me(he,Ae,Ct,It,!1,j))return!1}return he.size===0}return!0}function Ne(Ae,T,V,j,he,be){var ke=0;if(be===ae){if(!ye(Ae,T,V,he))return!1}else if(be===se){if(!He(Ae,T,V,he))return!1}else if(be===ue)for(;ke<Ae.length;ke++)if(x(Ae,ke)){if(!x(T,ke)||!X(Ae[ke],T[ke],V,he))return!1}else{if(x(T,ke))return!1;for(var Ce=Object.keys(Ae);ke<Ce.length;ke++){var qe=Ce[ke];if(!x(T,qe)||!X(Ae[qe],T[qe],V,he))return!1}return Ce.length===Object.keys(T).length}for(ke=0;ke<j.length;ke++){var at=j[ke];if(!X(Ae[at],T[at],V,he))return!1}return!0}function ze(Ae,T){return X(Ae,T,F)}function Re(Ae,T){return X(Ae,T,S)}k.exports={isDeepEqual:ze,isDeepStrictEqual:Re}}),Dc=xe((E,k)=>{function i(ae){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},i(ae)}function t(ae,se,q){return Object.defineProperty(ae,"prototype",{writable:!1}),ae}function e(ae,se){if(!(ae instanceof se))throw new TypeError("Cannot call a class as a function")}var n=Zd(),l=n.codes,a=l.ERR_AMBIGUOUS_ARGUMENT,o=l.ERR_INVALID_ARG_TYPE,s=l.ERR_INVALID_ARG_VALUE,r=l.ERR_INVALID_RETURN_VALUE,p=l.ERR_MISSING_ARGS,u=fy(),d=Il(),g=d.inspect,v=Il().types,x=v.isPromise,y=v.isRegExp,m=py()(),c=Cc()(),h=Fl()("RegExp.prototype.test"),b,_;function w(){var ae=xy();b=ae.isDeepEqual,_=ae.isDeepStrictEqual}var K=!1,D=k.exports=R,I={};function C(ae){throw ae.message instanceof Error?ae.message:new u(ae)}function H(ae,se,q,ee,B){var re=arguments.length,J;if(re===0)J="Failed";else if(re===1)q=ae,ae=void 0;else{if(K===!1){K=!0;var X=process.emitWarning?process.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}re===2&&(ee="!=")}if(q instanceof Error)throw q;var N={actual:ae,expected:se,operator:ee===void 0?"fail":ee,stackStartFn:B||H};q!==void 0&&(N.message=q);var $=new u(N);throw J&&($.message=J,$.generatedMessage=!0),$}D.fail=H,D.AssertionError=u;function z(ae,se,q,ee){if(!q){var B=!1;if(se===0)B=!0,ee="No value argument passed to `assert.ok()`";else if(ee instanceof Error)throw ee;var re=new u({actual:q,expected:!0,message:ee,operator:"==",stackStartFn:ae});throw re.generatedMessage=B,re}}function R(){for(var ae=arguments.length,se=new Array(ae),q=0;q<ae;q++)se[q]=arguments[q];z.apply(void 0,[R,se.length].concat(se))}D.ok=R,D.equal=function ae(se,q,ee){if(arguments.length<2)throw new p("actual","expected");se!=q&&C({actual:se,expected:q,message:ee,operator:"==",stackStartFn:ae})},D.notEqual=function ae(se,q,ee){if(arguments.length<2)throw new p("actual","expected");se==q&&C({actual:se,expected:q,message:ee,operator:"!=",stackStartFn:ae})},D.deepEqual=function ae(se,q,ee){if(arguments.length<2)throw new p("actual","expected");b===void 0&&w(),b(se,q)||C({actual:se,expected:q,message:ee,operator:"deepEqual",stackStartFn:ae})},D.notDeepEqual=function ae(se,q,ee){if(arguments.length<2)throw new p("actual","expected");b===void 0&&w(),b(se,q)&&C({actual:se,expected:q,message:ee,operator:"notDeepEqual",stackStartFn:ae})},D.deepStrictEqual=function ae(se,q,ee){if(arguments.length<2)throw new p("actual","expected");b===void 0&&w(),_(se,q)||C({actual:se,expected:q,message:ee,operator:"deepStrictEqual",stackStartFn:ae})},D.notDeepStrictEqual=U;function U(ae,se,q){if(arguments.length<2)throw new p("actual","expected");b===void 0&&w(),_(ae,se)&&C({actual:ae,expected:se,message:q,operator:"notDeepStrictEqual",stackStartFn:U})}D.strictEqual=function ae(se,q,ee){if(arguments.length<2)throw new p("actual","expected");c(se,q)||C({actual:se,expected:q,message:ee,operator:"strictEqual",stackStartFn:ae})},D.notStrictEqual=function ae(se,q,ee){if(arguments.length<2)throw new p("actual","expected");c(se,q)&&C({actual:se,expected:q,message:ee,operator:"notStrictEqual",stackStartFn:ae})};var Z=t(function ae(se,q,ee){var B=this;e(this,ae),q.forEach(function(re){re in se&&(ee!==void 0&&typeof ee[re]=="string"&&y(se[re])&&h(se[re],ee[re])?B[re]=ee[re]:B[re]=se[re])})});function G(ae,se,q,ee,B,re){if(!(q in ae)||!_(ae[q],se[q])){if(!ee){var J=new Z(ae,B),X=new Z(se,B,ae),N=new u({actual:J,expected:X,operator:"deepStrictEqual",stackStartFn:re});throw N.actual=ae,N.expected=se,N.operator=re.name,N}C({actual:ae,expected:se,message:ee,operator:re.name,stackStartFn:re})}}function P(ae,se,q,ee){if(typeof se!="function"){if(y(se))return h(se,ae);if(arguments.length===2)throw new o("expected",["Function","RegExp"],se);if(i(ae)!=="object"||ae===null){var B=new u({actual:ae,expected:se,message:q,operator:"deepStrictEqual",stackStartFn:ee});throw B.operator=ee.name,B}var re=Object.keys(se);if(se instanceof Error)re.push("name","message");else if(re.length===0)throw new s("error",se,"may not be an empty object");return b===void 0&&w(),re.forEach(function(J){typeof ae[J]=="string"&&y(se[J])&&h(se[J],ae[J])||G(ae,se,J,q,re,ee)}),!0}return se.prototype!==void 0&&ae instanceof se?!0:Error.isPrototypeOf(se)?!1:se.call({},ae)===!0}function A(ae){if(typeof ae!="function")throw new o("fn","Function",ae);try{ae()}catch(se){return se}return I}function O(ae){return x(ae)||ae!==null&&i(ae)==="object"&&typeof ae.then=="function"&&typeof ae.catch=="function"}function L(ae){return Promise.resolve().then(function(){var se;if(typeof ae=="function"){if(se=ae(),!O(se))throw new r("instance of Promise","promiseFn",se)}else if(O(ae))se=ae;else throw new o("promiseFn",["Function","Promise"],ae);return Promise.resolve().then(function(){return se}).then(function(){return I}).catch(function(q){return q})})}function S(ae,se,q,ee){if(typeof q=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],q);if(i(se)==="object"&&se!==null){if(se.message===q)throw new a("error/message",'The error message "'.concat(se.message,'" is identical to the message.'))}else if(se===q)throw new a("error/message",'The error "'.concat(se,'" is identical to the message.'));ee=q,q=void 0}else if(q!=null&&i(q)!=="object"&&typeof q!="function")throw new o("error",["Object","Error","Function","RegExp"],q);if(se===I){var B="";q&&q.name&&(B+=" (".concat(q.name,")")),B+=ee?": ".concat(ee):".";var re=ae.name==="rejects"?"rejection":"exception";C({actual:void 0,expected:q,operator:ae.name,message:"Missing expected ".concat(re).concat(B),stackStartFn:ae})}if(q&&!P(se,q,ee,ae))throw se}function F(ae,se,q,ee){if(se!==I){if(typeof q=="string"&&(ee=q,q=void 0),!q||P(se,q)){var B=ee?": ".concat(ee):".",re=ae.name==="doesNotReject"?"rejection":"exception";C({actual:se,expected:q,operator:ae.name,message:"Got unwanted ".concat(re).concat(B,`
`)+'Actual message: "'.concat(se&&se.message,'"'),stackStartFn:ae})}throw se}}D.throws=function ae(se){for(var q=arguments.length,ee=new Array(q>1?q-1:0),B=1;B<q;B++)ee[B-1]=arguments[B];S.apply(void 0,[ae,A(se)].concat(ee))},D.rejects=function ae(se){for(var q=arguments.length,ee=new Array(q>1?q-1:0),B=1;B<q;B++)ee[B-1]=arguments[B];return L(se).then(function(re){return S.apply(void 0,[ae,re].concat(ee))})},D.doesNotThrow=function ae(se){for(var q=arguments.length,ee=new Array(q>1?q-1:0),B=1;B<q;B++)ee[B-1]=arguments[B];F.apply(void 0,[ae,A(se)].concat(ee))},D.doesNotReject=function ae(se){for(var q=arguments.length,ee=new Array(q>1?q-1:0),B=1;B<q;B++)ee[B-1]=arguments[B];return L(se).then(function(re){return F.apply(void 0,[ae,re].concat(ee))})},D.ifError=function ae(se){if(se!=null){var q="ifError got unwanted exception: ";i(se)==="object"&&typeof se.message=="string"?se.message.length===0&&se.constructor?q+=se.constructor.name:q+=se.message:q+=g(se);var ee=new u({actual:se,expected:null,operator:"ifError",message:q,stackStartFn:ae}),B=se.stack;if(typeof B=="string"){var re=B.split(`
`);re.shift();for(var J=ee.stack.split(`
`),X=0;X<re.length;X++){var N=J.indexOf(re[X]);if(N!==-1){J=J.slice(0,N);break}}ee.stack="".concat(J.join(`
`),`
`).concat(re.join(`
`))}throw ee}};function W(ae,se,q,ee,B){if(!y(se))throw new o("regexp","RegExp",se);var re=B==="match";if(typeof ae!="string"||h(se,ae)!==re){if(q instanceof Error)throw q;var J=!q;q=q||(typeof ae!="string"?'The "string" argument must be of type string. Received type '+"".concat(i(ae)," (").concat(g(ae),")"):(re?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(g(se),`. Input:

`).concat(g(ae),`
`));var X=new u({actual:ae,expected:se,message:q,operator:B,stackStartFn:ee});throw X.generatedMessage=J,X}}D.match=function ae(se,q,ee){W(se,q,ee,ae,"match")},D.doesNotMatch=function ae(se,q,ee){W(se,q,ee,ae,"doesNotMatch")};function ue(){for(var ae=arguments.length,se=new Array(ae),q=0;q<ae;q++)se[q]=arguments[q];z.apply(void 0,[ue,se.length].concat(se))}D.strict=m(ue,D,{equal:D.strictEqual,deepEqual:D.deepStrictEqual,notEqual:D.notStrictEqual,notDeepEqual:D.notDeepStrictEqual}),D.strict.strict=D.strict}),by=xe((E,k)=>{var i=Is(),t=Vd(),e=Wg(),n=qd(),l=Dc();k.exports=a;function a(o){if(Array.isArray(o)&&o.length===1&&typeof o[0]=="string"&&(o=o[0]),typeof o=="string"&&(l(n(o),"String is not an SVG path."),o=i(o)),l(Array.isArray(o),"Argument should be a string or an array of path segments."),o=t(o),o=e(o),!o.length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],r=0,p=o.length;r<p;r++)for(var u=o[r].slice(1),d=0;d<u.length;d+=2)u[d+0]<s[0]&&(s[0]=u[d+0]),u[d+1]<s[1]&&(s[1]=u[d+1]),u[d+0]>s[2]&&(s[2]=u[d+0]),u[d+1]>s[3]&&(s[3]=u[d+1]);return s}}),_y=xe((E,k)=>{var i=Math.PI,t=s(120);k.exports=e;function e(r){for(var p,u=[],d=0,g=0,v=0,x=0,y=null,m=null,c=0,h=0,b=0,_=r.length;b<_;b++){var w=r[b],K=w[0];switch(K){case"M":v=w[1],x=w[2];break;case"A":w=a(c,h,w[1],w[2],s(w[3]),w[4],w[5],w[6],w[7]),w.unshift("C"),w.length>7&&(u.push(w.splice(0,7)),w.unshift("C"));break;case"S":var D=c,I=h;(p=="C"||p=="S")&&(D+=D-d,I+=I-g),w=["C",D,I,w[1],w[2],w[3],w[4]];break;case"T":p=="Q"||p=="T"?(y=c*2-y,m=h*2-m):(y=c,m=h),w=l(c,h,y,m,w[1],w[2]);break;case"Q":y=w[1],m=w[2],w=l(c,h,w[1],w[2],w[3],w[4]);break;case"L":w=n(c,h,w[1],w[2]);break;case"H":w=n(c,h,w[1],h);break;case"V":w=n(c,h,c,w[1]);break;case"Z":w=n(c,h,v,x);break}p=K,c=w[w.length-2],h=w[w.length-1],w.length>4?(d=w[w.length-4],g=w[w.length-3]):(d=c,g=h),u.push(w)}return u}function n(r,p,u,d){return["C",r,p,u,d,u,d]}function l(r,p,u,d,g,v){return["C",r/3+2/3*u,p/3+2/3*d,g/3+2/3*u,v/3+2/3*d,g,v]}function a(r,p,u,d,g,v,x,y,m,c){if(c)z=c[0],R=c[1],C=c[2],H=c[3];else{var h=o(r,p,-g);r=h.x,p=h.y,h=o(y,m,-g),y=h.x,m=h.y;var b=(r-y)/2,_=(p-m)/2,w=b*b/(u*u)+_*_/(d*d);w>1&&(w=Math.sqrt(w),u=w*u,d=w*d);var K=u*u,D=d*d,I=(v==x?-1:1)*Math.sqrt(Math.abs((K*D-K*_*_-D*b*b)/(K*_*_+D*b*b)));I==1/0&&(I=1);var C=I*u*_/d+(r+y)/2,H=I*-d*b/u+(p+m)/2,z=Math.asin(((p-H)/d).toFixed(9)),R=Math.asin(((m-H)/d).toFixed(9));z=r<C?i-z:z,R=y<C?i-R:R,z<0&&(z=i*2+z),R<0&&(R=i*2+R),x&&z>R&&(z=z-i*2),!x&&R>z&&(R=R-i*2)}if(Math.abs(R-z)>t){var U=R,Z=y,G=m;R=z+t*(x&&R>z?1:-1),y=C+u*Math.cos(R),m=H+d*Math.sin(R);var P=a(y,m,u,d,g,0,x,Z,G,[R,U,C,H])}var A=Math.tan((R-z)/4),O=4/3*u*A,L=4/3*d*A,S=[2*r-(r+O*Math.sin(z)),2*p-(p-L*Math.cos(z)),y+O*Math.sin(R),m-L*Math.cos(R),y,m];if(c)return S;P&&(S=S.concat(P));for(var F=0;F<S.length;){var W=o(S[F],S[F+1],g);S[F++]=W.x,S[F++]=W.y}return S}function o(r,p,u){return{x:r*Math.cos(u)-p*Math.sin(u),y:r*Math.sin(u)+p*Math.cos(u)}}function s(r){return r*(i/180)}}),wy=xe((E,k)=>{var i=Vd(),t=_y(),e={M:"moveTo",C:"bezierCurveTo"};k.exports=function(n,l){n.beginPath(),t(i(l)).forEach(function(a){var o=a[0],s=a.slice(1);n[e[o]].apply(n,s)}),n.closePath()}}),Ay=xe((E,k)=>{var i=qs();k.exports=e;var t=1e20;function e(a,o){o||(o={});var s=o.cutoff==null?.25:o.cutoff,r=o.radius==null?8:o.radius,p=o.channel||0,u,d,g,v,x,y,m,c,h,b,_;if(ArrayBuffer.isView(a)||Array.isArray(a)){if(!o.width||!o.height)throw Error("For raw data width and height should be provided by options");u=o.width,d=o.height,v=a,o.stride?y=o.stride:y=Math.floor(a.length/u/d)}else window.HTMLCanvasElement&&a instanceof window.HTMLCanvasElement?(c=a,m=c.getContext("2d"),u=c.width,d=c.height,h=m.getImageData(0,0,u,d),v=h.data,y=4):window.CanvasRenderingContext2D&&a instanceof window.CanvasRenderingContext2D?(c=a.canvas,m=a,u=c.width,d=c.height,h=m.getImageData(0,0,u,d),v=h.data,y=4):window.ImageData&&a instanceof window.ImageData&&(h=a,u=a.width,d=a.height,v=h.data,y=4);if(g=Math.max(u,d),window.Uint8ClampedArray&&v instanceof window.Uint8ClampedArray||window.Uint8Array&&v instanceof window.Uint8Array)for(x=v,v=Array(u*d),b=0,_=x.length;b<_;b++)v[b]=x[b*y+p]/255;else if(y!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(u*d),K=Array(u*d),D=Array(g),I=Array(g),C=Array(g+1),H=Array(g);for(b=0,_=u*d;b<_;b++){var z=v[b];w[b]=z===1?0:z===0?t:Math.pow(Math.max(0,.5-z),2),K[b]=z===1?t:z===0?0:Math.pow(Math.max(0,z-.5),2)}n(w,u,d,D,I,H,C),n(K,u,d,D,I,H,C);var R=window.Float32Array?new Float32Array(u*d):new Array(u*d);for(b=0,_=u*d;b<_;b++)R[b]=i(1-((w[b]-K[b])/r+s),0,1);return R}function n(a,o,s,r,p,u,d){for(var g=0;g<o;g++){for(var v=0;v<s;v++)r[v]=a[v*o+g];for(l(r,p,u,d,s),v=0;v<s;v++)a[v*o+g]=p[v]}for(v=0;v<s;v++){for(g=0;g<o;g++)r[g]=a[v*o+g];for(l(r,p,u,d,o),g=0;g<o;g++)a[v*o+g]=Math.sqrt(p[g])}}function l(a,o,s,r,p){s[0]=0,r[0]=-1e20,r[1]=1e20;for(var u=1,d=0;u<p;u++){for(var g=(a[u]+u*u-(a[s[d]]+s[d]*s[d]))/(2*u-2*s[d]);g<=r[d];)d--,g=(a[u]+u*u-(a[s[d]]+s[d]*s[d]))/(2*u-2*s[d]);d++,s[d]=u,r[d]=g,r[d+1]=1e20}for(u=0,d=0;u<p;u++){for(;r[d+1]<u;)d++;o[u]=(u-s[d])*(u-s[d])+a[s[d]]}}}),Ty=xe((E,k)=>{var i=by(),t=Is(),e=wy(),n=qd(),l=Ay(),a=document.createElement("canvas"),o=a.getContext("2d");k.exports=s;function s(u,d){if(!n(u))throw Error("Argument should be valid svg path string");d||(d={});var g,v;d.shape?(g=d.shape[0],v=d.shape[1]):(g=a.width=d.w||d.width||200,v=a.height=d.h||d.height||200);var x=Math.min(g,v),y=d.stroke||0,m=d.viewbox||d.viewBox||i(u),c=[g/(m[2]-m[0]),v/(m[3]-m[1])],h=Math.min(c[0]||0,c[1]||0)/2;if(o.fillStyle="black",o.fillRect(0,0,g,v),o.fillStyle="white",y&&(typeof y!="number"&&(y=1),y>0?o.strokeStyle="white":o.strokeStyle="black",o.lineWidth=Math.abs(y)),o.translate(g*.5,v*.5),o.scale(h,h),p()){var b=new Path2D(u);o.fill(b),y&&o.stroke(b)}else{var _=t(u);e(o,_),o.fill(),y&&o.stroke()}o.setTransform(1,0,0,1,0,0);var w=l(o,{cutoff:d.cutoff!=null?d.cutoff:.5,radius:d.radius!=null?d.radius:x*.5});return w}var r;function p(){if(r!=null)return r;var u=document.createElement("canvas").getContext("2d");if(u.canvas.width=u.canvas.height=1,!window.Path2D)return r=!1;var d=new Path2D("M0,0h1v1h-1v-1Z");u.fillStyle="black",u.fill(d);var g=u.getImageData(0,0,1,1);return r=g&&g.data&&g.data[3]===255}}),ky=xe((E,k)=>{k.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),My=xe((E,k)=>{var i=ky();k.exports=e;var t={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function e(n){var l,a=[],o=1,s;if(typeof n=="string")if(n=n.toLowerCase(),i[n])a=i[n].slice(),s="rgb";else if(n==="transparent")o=0,s="rgb",a=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(n)){var r=n.slice(1),p=r.length,u=p<=4;o=1,u?(a=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],p===4&&(o=parseInt(r[3]+r[3],16)/255)):(a=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],p===8&&(o=parseInt(r[6]+r[7],16)/255)),a[0]||(a[0]=0),a[1]||(a[1]=0),a[2]||(a[2]=0),s="rgb"}else if(l=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(n)){var d=l[1],g=d==="rgb",r=d.replace(/a$/,"");s=r;var p=r==="cmyk"?4:r==="gray"?1:3;a=l[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(y,m){if(/%$/.test(y))return m===p?parseFloat(y)/100:r==="rgb"?parseFloat(y)*255/100:parseFloat(y);if(r[m]==="h"){if(/deg$/.test(y))return parseFloat(y);if(t[y]!==void 0)return t[y]}return parseFloat(y)}),d===r&&a.push(1),o=g||a[p]===void 0?1:a[p],a=a.slice(0,p)}else n.length>10&&/[0-9](?:\s|\/)/.test(n)&&(a=n.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),s=n.match(/([a-z])/ig).join("").toLowerCase());else isNaN(n)?Array.isArray(n)||n.length?(a=[n[0],n[1],n[2]],s="rgb",o=n.length===4?n[3]:1):n instanceof Object&&(n.r!=null||n.red!=null||n.R!=null?(s="rgb",a=[n.r||n.red||n.R||0,n.g||n.green||n.G||0,n.b||n.blue||n.B||0]):(s="hsl",a=[n.h||n.hue||n.H||0,n.s||n.saturation||n.S||0,n.l||n.lightness||n.L||n.b||n.brightness]),o=n.a||n.alpha||n.opacity||1,n.opacity!=null&&(o/=100)):(s="rgb",a=[n>>>16,(n&65280)>>>8,n&255]);return{space:s,values:a,alpha:o}}}),Sy=xe((E,k)=>{var i=My();k.exports=function(e){Array.isArray(e)&&e.raw&&(e=String.raw.apply(null,arguments));var n,l=i(e);if(!l.space)return[];var a=[0,0,0],o=l.space[0]==="h"?[360,100,100]:[255,255,255];return n=Array(3),n[0]=Math.min(Math.max(l.values[0],a[0]),o[0]),n[1]=Math.min(Math.max(l.values[1],a[1]),o[1]),n[2]=Math.min(Math.max(l.values[2],a[2]),o[2]),l.space[0]==="h"&&(n=t(n)),n.push(Math.min(Math.max(l.alpha,0),1)),n};function t(e){var n=e[0]/360,l=e[1]/100,a=e[2]/100,o,s,r,p,u,d=0;if(l===0)return u=a*255,[u,u,u];for(s=a<.5?a*(1+l):a+l-a*l,o=2*a-s,p=[0,0,0];d<3;)r=n+1/3*-(d-1),r<0?r++:r>1&&r--,u=6*r<1?o+(s-o)*6*r:2*r<1?s:3*r<2?o+(s-o)*(2/3-r)*6:o,p[d++]=u*255;return p}}),Xo=xe((E,k)=>{var i=Sy(),t=qs(),e=Mc();k.exports=function(l,a){(a==="float"||!a)&&(a="array"),a==="uint"&&(a="uint8"),a==="uint_clamped"&&(a="uint8_clamped");var o=e(a),s=new o(4),r=a!=="uint8"&&a!=="uint8_clamped";return(!l.length||typeof l=="string")&&(l=i(l),l[0]/=255,l[1]/=255,l[2]/=255),n(l)?(s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3]!=null?l[3]:255,r&&(s[0]/=255,s[1]/=255,s[2]/=255,s[3]/=255),s):(r?(s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3]!=null?l[3]:1):(s[0]=t(Math.floor(l[0]*255),0,255),s[1]=t(Math.floor(l[1]*255),0,255),s[2]=t(Math.floor(l[2]*255),0,255),s[3]=l[3]==null?255:t(Math.floor(l[3]*255),0,255)),s)};function n(l){return!!(l instanceof Uint8Array||l instanceof Uint8ClampedArray||Array.isArray(l)&&(l[0]>1||l[0]===0)&&(l[1]>1||l[1]===0)&&(l[2]>1||l[2]===0)&&(!l[3]||l[3]>1))}}),Oy=xe((E,k)=>{var i=Bn(),t=Li(),e=Xo(),n=ac(),l=Bi().defaultLine,a=hi().isArrayOrTypedArray,o=e(l),s=1;function r(v,x){var y=v;return y[3]*=x,y}function p(v){if(i(v))return o;var x=e(v);return x.length?x:o}function u(v){return i(v)?v:s}function d(v,x,y){var m=v.color;m&&m._inputArray&&(m=m._inputArray);var c=a(m),h=a(x),b=n.extractOpts(v),_=[],w,K,D,I,C;if(b.colorscale!==void 0?w=n.makeColorScaleFuncFromTrace(v):w=p,c?K=function(z,R){return z[R]===void 0?o:e(w(z[R]))}:K=p,h?D=function(z,R){return z[R]===void 0?s:u(z[R])}:D=u,c||h)for(var H=0;H<y;H++)I=K(m,H),C=D(x,H),_[H]=r(I,C);else _=r(e(m),x);return _}function g(v){var x=n.extractOpts(v),y=x.colorscale;return x.reversescale&&(y=n.flipScale(x.colorscale)),y.map(function(m){var c=m[0],h=t(m[1]),b=h.toRgb();return{index:c,rgb:[b.r,b.g,b.b,b.a]}})}k.exports={formatColor:d,parseColorScale:g}}),Ly=xe((E,k)=>{var i=Bn(),t=Ty(),e=Xo(),n=mn(),l=sr(),a=l.isArrayOrTypedArray,o=na(),s=Da(),r=Oy().formatColor,p=ti(),u=zf(),d=Ud(),g=Vs(),v=Tl().DESELECTDIM,x={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},y=Xi().appendArrayPointValue;function m(P,A){var O,L={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},S=P._context.plotGlPixelRatio;if(A.visible!==!0)return L;if(p.hasText(A)&&(L.text=c(P,A),L.textSel=w(P,A,A.selected),L.textUnsel=w(P,A,A.unselected)),p.hasMarkers(A)&&(L.marker=b(P,A),L.markerSel=_(P,A,A.selected),L.markerUnsel=_(P,A,A.unselected),!A.unselected&&a(A.marker.opacity))){var F=A.marker.opacity;for(L.markerUnsel.opacity=new Array(F.length),O=0;O<F.length;O++)L.markerUnsel.opacity[O]=v*F[O]}if(p.hasLines(A)){L.line={overlay:!0,thickness:A.line.width*S,color:A.line.color,opacity:A.opacity};var W=(g.DASHES[A.line.dash]||[1]).slice();for(O=0;O<W.length;++O)W[O]*=A.line.width*S;L.line.dashes=W}return A.error_x&&A.error_x.visible&&(L.errorX=K(A,A.error_x,S)),A.error_y&&A.error_y.visible&&(L.errorY=K(A,A.error_y,S)),A.fill&&A.fill!=="none"&&(L.fill={closed:!0,fill:A.fillcolor,thickness:0}),L}function c(P,A){var O=P._fullLayout,L=A._length,S=A.textfont,F=A.textposition,W=a(F)?F:[F],ue=S.color,ae=S.size,se=S.family,q=S.weight,ee=S.style,B=S.variant,re={},J,X=P._context.plotGlPixelRatio,N=A.texttemplate;if(N){re.text=[];var $=O._d3locale,te=Array.isArray(N),le=te?Math.min(N.length,L):L,pe=te?function(Re){return N[Re]}:function(){return N};for(J=0;J<le;J++){var fe={i:J},ye=A._module.formatLabels(fe,A,O),Me={};y(Me,A,J);var He=A._meta||{};re.text.push(l.texttemplateString(pe(J),ye,$,Me,fe,He))}}else a(A.text)&&A.text.length<L?re.text=A.text.slice():re.text=A.text;if(a(re.text))for(J=re.text.length;J<L;J++)re.text[J]="";for(re.opacity=A.opacity,re.font={},re.align=[],re.baseline=[],J=0;J<W.length;J++){var Ne=W[J].split(/\s+/);switch(Ne[1]){case"left":re.align.push("right");break;case"right":re.align.push("left");break;default:re.align.push(Ne[1])}switch(Ne[0]){case"top":re.baseline.push("bottom");break;case"bottom":re.baseline.push("top");break;default:re.baseline.push(Ne[0])}}if(a(ue))for(re.color=new Array(L),J=0;J<L;J++)re.color[J]=ue[J];else re.color=ue;if(a(ae)||Array.isArray(se)||a(q)||Array.isArray(ee)||Array.isArray(B))for(re.font=new Array(L),J=0;J<L;J++){var ze=re.font[J]={};ze.size=(l.isTypedArray(ae)?ae[J]:a(ae)?i(ae[J])?ae[J]:0:ae)*X,ze.family=Array.isArray(se)?se[J]:se,ze.weight=h(a(q)?q[J]:q),ze.style=Array.isArray(ee)?ee[J]:ee,ze.variant=Array.isArray(B)?B[J]:B}else re.font={size:ae*X,family:se,weight:h(q),style:ee,variant:B};return re}function h(P){return P<=1e3?P>500?"bold":"normal":P}function b(P,A){var O=A._length,L=A.marker,S={},F,W=a(L.symbol),ue=a(L.angle),ae=a(L.color),se=a(L.line.color),q=a(L.opacity),ee=a(L.size),B=a(L.line.width),re;if(W||(re=d.isOpenSymbol(L.symbol)),W||ae||se||q||ue){S.symbols=new Array(O),S.angles=new Array(O),S.colors=new Array(O),S.borderColors=new Array(O);var J=L.symbol,X=L.angle,N=r(L,L.opacity,O),$=r(L.line,L.opacity,O);if(!a($[0])){var te=$;for($=Array(O),F=0;F<O;F++)$[F]=te}if(!a(N[0])){var le=N;for(N=Array(O),F=0;F<O;F++)N[F]=le}if(!a(J)){var pe=J;for(J=Array(O),F=0;F<O;F++)J[F]=pe}if(!a(X)){var fe=X;for(X=Array(O),F=0;F<O;F++)X[F]=fe}for(S.symbols=J,S.angles=X,S.colors=N,S.borderColors=$,F=0;F<O;F++)W&&(re=d.isOpenSymbol(L.symbol[F])),re&&($[F]=N[F].slice(),N[F]=N[F].slice(),N[F][3]=0);for(S.opacity=A.opacity,S.markers=new Array(O),F=0;F<O;F++)S.markers[F]=R({mx:S.symbols[F],ma:S.angles[F]},A)}else re?(S.color=e(L.color,"uint8"),S.color[3]=0,S.borderColor=e(L.color,"uint8")):(S.color=e(L.color,"uint8"),S.borderColor=e(L.line.color,"uint8")),S.opacity=A.opacity*L.opacity,S.marker=R({mx:L.symbol,ma:L.angle},A);var ye=1,Me=u(A,ye),He;if(ee||B){var Ne=S.sizes=new Array(O),ze=S.borderSizes=new Array(O),Re=0,Ae;if(ee){for(F=0;F<O;F++)Ne[F]=Me(L.size[F]),Re+=Ne[F];Ae=Re/O}else for(He=Me(L.size),F=0;F<O;F++)Ne[F]=He;if(B)for(F=0;F<O;F++)ze[F]=L.line.width[F];else for(He=L.line.width,F=0;F<O;F++)ze[F]=He;S.sizeAvg=Ae}else S.size=Me(L&&L.size||10),S.borderSizes=Me(L.line.width);return S}function _(P,A,O){var L=A.marker,S={};return O&&(O.marker&&O.marker.symbol?S=b(P,l.extendFlat({},L,O.marker)):O.marker&&(O.marker.size&&(S.size=O.marker.size),O.marker.color&&(S.colors=O.marker.color),O.marker.opacity!==void 0&&(S.opacity=O.marker.opacity))),S}function w(P,A,O){var L={};if(!O)return L;if(O.textfont){var S={opacity:1,text:A.text,texttemplate:A.texttemplate,textposition:A.textposition,textfont:l.extendFlat({},A.textfont)};O.textfont&&l.extendFlat(S.textfont,O.textfont),L=c(P,S)}return L}function K(P,A,O){var L={capSize:A.width*2*O,lineWidth:A.thickness*O,color:A.color};return A.copy_ystyle&&(L=P.error_y),L}var D=g.SYMBOL_SDF_SIZE,I=g.SYMBOL_SIZE,C=g.SYMBOL_STROKE,H={},z=o.symbolFuncs[0](I*.05);function R(P,A){var O=P.mx;if(O==="circle")return null;var L,S,F=o.symbolNumber(O),W=o.symbolFuncs[F%100],ue=!!o.symbolNoDot[F%100],ae=!!o.symbolNoFill[F%100],se=d.isDotSymbol(O);if(P.ma&&(O+="_"+P.ma),H[O])return H[O];var q=o.getMarkerAngle(P,A);return se&&!ue?L=W(I*1.1,q)+z:L=W(I,q),S=t(L,{w:D,h:D,viewBox:[-I,-I,I,I],stroke:ae?C:-C}),H[O]=S,S||null}function U(P,A,O){var L=O.length,S=L/2,F,W;if(p.hasLines(A)&&S)if(A.line.shape==="hv"){for(F=[],W=0;W<S-1;W++)isNaN(O[W*2])||isNaN(O[W*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(O[W*2],O[W*2+1]),!isNaN(O[W*2+2])&&!isNaN(O[W*2+3])?F.push(O[W*2+2],O[W*2+1]):F.push(NaN,NaN));F.push(O[L-2],O[L-1])}else if(A.line.shape==="hvh"){for(F=[],W=0;W<S-1;W++)if(isNaN(O[W*2])||isNaN(O[W*2+1])||isNaN(O[W*2+2])||isNaN(O[W*2+3]))!isNaN(O[W*2])&&!isNaN(O[W*2+1])?F.push(O[W*2],O[W*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var ue=(O[W*2]+O[W*2+2])/2;F.push(O[W*2],O[W*2+1],ue,O[W*2+1],ue,O[W*2+3])}F.push(O[L-2],O[L-1])}else if(A.line.shape==="vhv"){for(F=[],W=0;W<S-1;W++)if(isNaN(O[W*2])||isNaN(O[W*2+1])||isNaN(O[W*2+2])||isNaN(O[W*2+3]))!isNaN(O[W*2])&&!isNaN(O[W*2+1])?F.push(O[W*2],O[W*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var ae=(O[W*2+1]+O[W*2+3])/2;F.push(O[W*2],O[W*2+1],O[W*2],ae,O[W*2+2],ae)}F.push(O[L-2],O[L-1])}else if(A.line.shape==="vh"){for(F=[],W=0;W<S-1;W++)isNaN(O[W*2])||isNaN(O[W*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(O[W*2],O[W*2+1]),!isNaN(O[W*2+2])&&!isNaN(O[W*2+3])?F.push(O[W*2],O[W*2+3]):F.push(NaN,NaN));F.push(O[L-2],O[L-1])}else F=O;var se=!1;for(W=0;W<F.length;W++)if(isNaN(F[W])){se=!0;break}var q=se||F.length>g.TOO_MANY_POINTS||p.hasMarkers(A)?"rect":"round";if(se&&A.connectgaps){var ee=F[0],B=F[1];for(W=0;W<F.length;W+=2)isNaN(F[W])||isNaN(F[W+1])?(F[W]=ee,F[W+1]=B):(ee=F[W],B=F[W+1])}return{join:q,positions:F}}function Z(P,A,O,L,S){var F=n.getComponentMethod("errorbars","makeComputeError"),W=s.getFromId(P,A.xaxis,"x"),ue=s.getFromId(P,A.yaxis,"y"),ae=O.length/2,se={};function q(ee,B){var re=B._id.charAt(0),J=A["error_"+re];if(J&&J.visible&&(B.type==="linear"||B.type==="log")){for(var X=F(J),N={x:0,y:1}[re],$={x:[0,1,2,3],y:[2,3,0,1]}[re],te=new Float64Array(4*ae),le=1/0,pe=-1/0,fe=0,ye=0;fe<ae;fe++,ye+=4){var Me=ee[fe];if(i(Me)){var He=O[fe*2+N],Ne=X(Me,fe),ze=Ne[0],Re=Ne[1];if(i(ze)&&i(Re)){var Ae=Me-ze,T=Me+Re;te[ye+$[0]]=He-B.c2l(Ae),te[ye+$[1]]=B.c2l(T)-He,te[ye+$[2]]=0,te[ye+$[3]]=0,le=Math.min(le,Me-ze),pe=Math.max(pe,Me+Re)}}}se[re]={positions:O,errors:te,_bnds:[le,pe]}}}return q(L,W),q(S,ue),se}function G(P,A,O,L){var S=A._length,F={},W;if(p.hasMarkers(A)){var ue=O.font,ae=O.align,se=O.baseline;for(F.offset=new Array(S),W=0;W<S;W++){var q=L.sizes?L.sizes[W]:L.size,ee=a(ue)?ue[W].size:ue.size,B=a(ae)?ae.length>1?ae[W]:ae[0]:ae,re=a(se)?se.length>1?se[W]:se[0]:se,J=x[B],X=x[re],N=q?q/.8+1:0,$=-X*N-X*.5;F.offset[W]=[J*N/ee,$/ee]}}return F}k.exports={style:m,markerStyle:b,markerSelection:_,linePositions:U,errorBarPositions:Z,textPosition:G}}),Cy=xe((E,k)=>{var i=sr();k.exports=function(t,e){var n=e._scene,l={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},a={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return e._scene||(n=e._scene={},n.init=function(){i.extendFlat(n,a,l)},n.init(),n.update=function(o){var s=i.repeat(o,n.count);if(n.fill2d&&n.fill2d.update(s),n.scatter2d&&n.scatter2d.update(s),n.line2d&&n.line2d.update(s),n.error2d&&n.error2d.update(s.concat(s)),n.select2d&&n.select2d.update(s),n.glText)for(var r=0;r<n.count;r++)n.glText[r].update(o)},n.draw=function(){for(var o=n.count,s=n.fill2d,r=n.error2d,p=n.line2d,u=n.scatter2d,d=n.glText,g=n.select2d,v=n.selectBatch,x=n.unselectBatch,y=0;y<o;y++){if(s&&n.fillOrder[y]&&s.draw(n.fillOrder[y]),p&&n.lineOptions[y]&&p.draw(y),r&&(n.errorXOptions[y]&&r.draw(y),n.errorYOptions[y]&&r.draw(y+o)),u&&n.markerOptions[y])if(x[y].length){var m=i.repeat([],n.count);m[y]=x[y],u.draw(m)}else v[y].length||u.draw(y);d[y]&&n.textOptions[y]&&d[y].render()}g&&g.draw(v),n.dirty=!1},n.destroy=function(){n.fill2d&&n.fill2d.destroy&&n.fill2d.destroy(),n.scatter2d&&n.scatter2d.destroy&&n.scatter2d.destroy(),n.error2d&&n.error2d.destroy&&n.error2d.destroy(),n.line2d&&n.line2d.destroy&&n.line2d.destroy(),n.select2d&&n.select2d.destroy&&n.select2d.destroy(),n.glText&&n.glText.forEach(function(o){o.destroy&&o.destroy()}),n.lineOptions=null,n.fillOptions=null,n.markerOptions=null,n.markerSelectedOptions=null,n.markerUnselectedOptions=null,n.errorXOptions=null,n.errorYOptions=null,n.textOptions=null,n.textSelectedOptions=null,n.textUnselectedOptions=null,n.selectBatch=null,n.unselectBatch=null,e._scene=null}),n.dirty||i.extendFlat(n,l),n}}),Dy=xe((E,k)=>{var i=Hd(),t=sr(),e=Da(),n=Ol().findExtremes,l=bd(),a=mc(),o=a.calcMarkerSize,s=a.calcAxisExpansion,r=a.setFirstScatter,p=_d(),u=Ly(),d=Cy(),g=Pa().BADNUM,v=Vs().TOO_MANY_POINTS;k.exports=function(m,c){var h=m._fullLayout,b=c._xA=e.getFromId(m,c.xaxis,"x"),_=c._yA=e.getFromId(m,c.yaxis,"y"),w=h._plots[c.xaxis+c.yaxis],K=c._length,D=K>=v,I=K*2,C={},H,z=b.makeCalcdata(c,"x"),R=_.makeCalcdata(c,"y"),U=l(c,b,"x",z),Z=l(c,_,"y",R),G=U.vals,P=Z.vals;c._x=G,c._y=P,c.xperiodalignment&&(c._origX=z,c._xStarts=U.starts,c._xEnds=U.ends),c.yperiodalignment&&(c._origY=R,c._yStarts=Z.starts,c._yEnds=Z.ends);var A=new Array(I),O=new Array(K);for(H=0;H<K;H++)A[H*2]=G[H]===g?NaN:G[H],A[H*2+1]=P[H]===g?NaN:P[H],O[H]=H;if(b.type==="log")for(H=0;H<I;H+=2)A[H]=b.c2l(A[H]);if(_.type==="log")for(H=1;H<I;H+=2)A[H]=_.c2l(A[H]);D&&b.type!=="log"&&_.type!=="log"?C.tree=i(A):C.ids=O,p(m,c);var L=y(m,w,c,A,G,P),S=d(m,w);r(h,c);var F;return D?L.marker&&(F=L.marker.sizeAvg||Math.max(L.marker.size,3)):F=o(c,K),s(m,c,b,_,G,P,F),L.errorX&&x(c,b,L.errorX),L.errorY&&x(c,_,L.errorY),L.fill&&!S.fill2d&&(S.fill2d=!0),L.marker&&!S.scatter2d&&(S.scatter2d=!0),L.line&&!S.line2d&&(S.line2d=!0),(L.errorX||L.errorY)&&!S.error2d&&(S.error2d=!0),L.text&&!S.glText&&(S.glText=!0),L.marker&&(L.marker.snap=K),S.lineOptions.push(L.line),S.errorXOptions.push(L.errorX),S.errorYOptions.push(L.errorY),S.fillOptions.push(L.fill),S.markerOptions.push(L.marker),S.markerSelectedOptions.push(L.markerSel),S.markerUnselectedOptions.push(L.markerUnsel),S.textOptions.push(L.text),S.textSelectedOptions.push(L.textSel),S.textUnselectedOptions.push(L.textUnsel),S.selectBatch.push([]),S.unselectBatch.push([]),C._scene=S,C.index=S.count,C.x=G,C.y=P,C.positions=A,S.count++,[{x:!1,y:!1,t:C,trace:c}]};function x(m,c,h){var b=m._extremes[c._id],_=n(c,h._bnds,{padded:!0});b.min=b.min.concat(_.min),b.max=b.max.concat(_.max)}function y(m,c,h,b,_,w){var K=u.style(m,h);if(K.marker&&(K.marker.positions=b),K.line&&b.length>1&&t.extendFlat(K.line,u.linePositions(m,h,b)),K.errorX||K.errorY){var D=u.errorBarPositions(m,h,b,_,w);K.errorX&&t.extendFlat(K.errorX,D.x),K.errorY&&t.extendFlat(K.errorY,D.y)}return K.text&&(t.extendFlat(K.text,{positions:b},u.textPosition(m,h,K.text,K.marker)),t.extendFlat(K.textSel,{positions:b},u.textPosition(m,h,K.text,K.markerSel)),t.extendFlat(K.textUnsel,{positions:b},u.textPosition(m,h,K.text,K.markerUnsel))),K}}),th=xe((E,k)=>{var i=sr(),t=Nn(),e=Tl().DESELECTDIM;function n(l){var a=l[0],o=a.trace,s=a.t,r=s._scene,p=s.index,u=r.selectBatch[p],d=r.unselectBatch[p],g=r.textOptions[p],v=r.textSelectedOptions[p]||{},x=r.textUnselectedOptions[p]||{},y=i.extendFlat({},g),m,c;if(u.length||d.length){var h=v.color,b=x.color,_=g.color,w=i.isArrayOrTypedArray(_);for(y.color=new Array(o._length),m=0;m<u.length;m++)c=u[m],y.color[c]=h||(w?_[c]:_);for(m=0;m<d.length;m++){c=d[m];var K=w?_[c]:_;y.color[c]=b||(h?K:t.addOpacity(K,e))}}r.glText[p].update(y)}k.exports={styleTextSelection:n}}),Ey=xe((E,k)=>{var i=ti(),t=th().styleTextSelection;k.exports=function(e,n){var l=e.cd,a=e.xaxis,o=e.yaxis,s=[],r=l[0].trace,p=l[0].t,u=r._length,d=p.x,g=p.y,v=p._scene,x=p.index;if(!v)return s;var y=i.hasText(r),m=i.hasMarkers(r),c=!m&&!y;if(r.visible!==!0||c)return s;var h=[],b=[];if(n!==!1&&!n.degenerate)for(var _=0;_<u;_++)n.contains([p.xpx[_],p.ypx[_]],!1,_,e)?(h.push(_),s.push({pointNumber:_,x:a.c2d(d[_]),y:o.c2d(g[_])})):b.push(_);if(m){var w=v.scatter2d;if(!h.length&&!b.length){var K=new Array(v.count);K[x]=v.markerOptions[x],w.update.apply(w,K)}else if(!v.selectBatch[x].length&&!v.unselectBatch[x].length){var D=new Array(v.count);D[x]=v.markerUnselectedOptions[x],w.update.apply(w,D)}}return v.selectBatch[x]=h,v.unselectBatch[x]=b,y&&t(l),s}}),Py=xe((E,k)=>{var i=Ng();k.exports={moduleType:"trace",name:"scattergl",basePlotModule:xc(),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:Bd(),supplyDefaults:Rg(),crossTraceDefaults:xd(),colorbar:Td(),formatLabels:jg(),calc:Dy(),hoverPoints:i.hoverPoints,selectPoints:Ey(),meta:{}}}),Fy=xe((E,k)=>{var i=qs();k.exports=t,k.exports.to=t,k.exports.from=e;function t(n,l){l==null&&(l=!0);var a=n[0],o=n[1],s=n[2],r=n[3];r==null&&(r=l?1:255),l&&(a*=255,o*=255,s*=255,r*=255),a=i(a,0,255)&255,o=i(o,0,255)&255,s=i(s,0,255)&255,r=i(r,0,255)&255;var p=a*16777216+(o<<16)+(s<<8)+r;return p}function e(n,l){n=+n;var a=n>>>24,o=(n&16711680)>>>16,s=(n&65280)>>>8,r=n&255;return l===!1?[a,o,s,r]:[a/255,o/255,s/255,r/255]}}),Ea=xe((E,k)=>{var i=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function l(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var o={},s=0;s<10;s++)o["_"+String.fromCharCode(s)]=s;var r=Object.getOwnPropertyNames(o).map(function(u){return o[u]});if(r.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(u){p[u]=u}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}k.exports=l()?Object.assign:function(a,o){for(var s,r=n(a),p,u=1;u<arguments.length;u++){s=Object(arguments[u]);for(var d in s)t.call(s,d)&&(r[d]=s[d]);if(i){p=i(s);for(var g=0;g<p.length;g++)e.call(s,p[g])&&(r[p[g]]=s[p[g]])}}return r}}),Iy=xe((E,k)=>{k.exports=function(i){typeof i=="string"&&(i=[i]);for(var t=[].slice.call(arguments,1),e=[],n=0;n<i.length-1;n++)e.push(i[n],t[n]||"");return e.push(i[n]),e.join("")}}),rh=xe((E,k)=>{k.exports=function(i,t,e){Array.isArray(e)||(e=[].slice.call(arguments,2));for(var n=0,l=e.length;n<l;n++){var a=e[n];for(var o in a)if(!(t[o]!==void 0&&!Array.isArray(t[o])&&i[o]===t[o])&&o in t){var s;if(a[o]===!0)s=t[o];else if(a[o]===!1||typeof a[o]=="function"&&(s=a[o](t[o],i,t),s===void 0))continue;i[o]=s}}return i}}),Ny=xe((E,k)=>{k.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))}),Ec=xe((E,k)=>{k.exports=e,k.exports.float32=k.exports.float=e,k.exports.fract32=k.exports.fract=t;var i=new Float32Array(1);function t(n,l){if(n.length){if(n instanceof Float32Array)return new Float32Array(n.length);l instanceof Float32Array||(l=e(n));for(var a=0,o=l.length;a<o;a++)l[a]=n[a]-l[a];return l}return e(n-e(n))}function e(n){return n.length?n instanceof Float32Array?n:new Float32Array(n):(i[0]=n,i[0])}}),Ry=xe((E,k)=>{function i(H,z){var R=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(R!=null){var U,Z,G,P,A=[],O=!0,L=!1;try{if(G=(R=R.call(H)).next,z!==0)for(;!(O=(U=G.call(R)).done)&&(A.push(U.value),A.length!==z);O=!0);}catch(S){L=!0,Z=S}finally{try{if(!O&&R.return!=null&&(P=R.return(),Object(P)!==P))return}finally{if(L)throw Z}}return A}}function t(H,z){return l(H)||i(H,z)||o(H,z)||p()}function e(H){return n(H)||a(H)||o(H)||r()}function n(H){if(Array.isArray(H))return s(H)}function l(H){if(Array.isArray(H))return H}function a(H){if(typeof Symbol<"u"&&H[Symbol.iterator]!=null||H["@@iterator"]!=null)return Array.from(H)}function o(H,z){if(H){if(typeof H=="string")return s(H,z);var R=Object.prototype.toString.call(H).slice(8,-1);if(R==="Object"&&H.constructor&&(R=H.constructor.name),R==="Map"||R==="Set")return Array.from(H);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return s(H,z)}}function s(H,z){(z==null||z>H.length)&&(z=H.length);for(var R=0,U=new Array(z);R<z;R++)U[R]=H[R];return U}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=Xo(),d=Dl(),g=Fy(),v=Hd(),x=Ea(),y=Iy(),m=Qi(),c=rh(),h=El(),b=Ny(),_=Ec(),w=Ws(),K=D;function D(H,z){var R=this;if(!(this instanceof D))return new D(H,z);typeof H=="function"?(z||(z={}),z.regl=H):(z=H,H=null),z&&z.length&&(z.positions=z),H=z.regl;var U=H._gl,Z,G=[],P={},A=[],O=[null],L=[null],S=255,F=100;this.tooManyColors=b,Z=H.texture({data:new Uint8Array(S*4),width:S,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),x(this,{regl:H,gl:U,groups:A,markerCache:L,markerTextures:O,palette:G,paletteIds:P,paletteTexture:Z,maxColors:S,maxSize:F,canvas:U.canvas}),this.update(z);var W={uniforms:{constPointSize:!!z.constPointSize,opacity:H.prop("opacity"),paletteSize:function(se,q){return[R.tooManyColors?0:S,Z.height]},pixelRatio:H.context("pixelRatio"),scale:H.prop("scale"),scaleFract:H.prop("scaleFract"),translate:H.prop("translate"),translateFract:H.prop("translateFract"),markerTexture:H.prop("markerTexture"),paletteTexture:Z},attributes:{x:function(se,q){return q.xAttr||{buffer:q.positionBuffer,stride:8,offset:0}},y:function(se,q){return q.yAttr||{buffer:q.positionBuffer,stride:8,offset:4}},xFract:function(se,q){return q.xAttr?{constant:[0,0]}:{buffer:q.positionFractBuffer,stride:8,offset:0}},yFract:function(se,q){return q.yAttr?{constant:[0,0]}:{buffer:q.positionFractBuffer,stride:8,offset:4}},size:function(se,q){return q.size.length?{buffer:q.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(q.size*255/R.maxSize)]}},borderSize:function(se,q){return q.borderSize.length?{buffer:q.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(q.borderSize*255/R.maxSize)]}},colorId:function(se,q){return q.color.length?{buffer:q.colorBuffer,stride:R.tooManyColors?8:4,offset:0}:{constant:R.tooManyColors?G.slice(q.color*4,q.color*4+4):[q.color]}},borderColorId:function(se,q){return q.borderColor.length?{buffer:q.colorBuffer,stride:R.tooManyColors?8:4,offset:R.tooManyColors?4:2}:{constant:R.tooManyColors?G.slice(q.borderColor*4,q.borderColor*4+4):[q.borderColor]}},isActive:function(se,q){return q.activation===!0?{constant:[1]}:q.activation?q.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:H.prop("viewport")},viewport:H.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:H.prop("elements"),count:H.prop("count"),offset:H.prop("offset"),primitive:"points"},ue=x({},W);ue.frag=y([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ue.vert=y([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=H(ue);var ae=x({},W);ae.frag=y([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ae.vert=y([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),b&&(ae.frag=ae.frag.replace("smoothstep","smoothStep"),ue.frag=ue.frag.replace("smoothstep","smoothStep")),this.drawCircle=H(ae)}D.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},D.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},D.prototype.draw=function(){for(var H=this,z=arguments.length,R=new Array(z),U=0;U<z;U++)R[U]=arguments[U];var Z=this.groups;if(R.length===1&&Array.isArray(R[0])&&(R[0][0]===null||Array.isArray(R[0][0]))&&(R=R[0]),this.regl._refresh(),R.length)for(var G=0;G<R.length;G++)this.drawItem(G,R[G]);else Z.forEach(function(P,A){H.drawItem(A)});return this},D.prototype.drawItem=function(H,z){var R=this.groups,U=R[H];if(typeof z=="number"&&(H=z,U=R[z],z=null),!!(U&&U.count&&U.opacity)){U.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,U,z));for(var Z=[],G=1;G<U.activation.length;G++)!U.activation[G]||U.activation[G]!==!0&&!U.activation[G].data.length||Z.push.apply(Z,e(this.getMarkerDrawOptions(G,U,z)));Z.length&&this.drawMarker(Z)}},D.prototype.getMarkerDrawOptions=function(H,z,R){var U=z.range,Z=z.tree,G=z.viewport,P=z.activation,A=z.selectionBuffer,O=z.count;if(this.regl,!Z)return R?[x({},z,{markerTexture:this.markerTextures[H],activation:P[H],count:R.length,elements:R,offset:0})]:[x({},z,{markerTexture:this.markerTextures[H],activation:P[H],offset:0})];var L=[],S=Z.range(U,{lod:!0,px:[(U[2]-U[0])/G.width,(U[3]-U[1])/G.height]});if(R){for(var F=P[H],W=F.data,ue=new Uint8Array(O),ae=0;ae<R.length;ae++){var se=R[ae];ue[se]=W?W[se]:1}A.subdata(ue)}for(var q=S.length;q--;){var ee=t(S[q],2),B=ee[0],re=ee[1];L.push(x({},z,{markerTexture:this.markerTextures[H],activation:R?A:P[H],offset:B,count:re-B}))}return L},D.prototype.update=function(){for(var H=this,z=arguments.length,R=new Array(z),U=0;U<z;U++)R[U]=arguments[U];if(R.length){R.length===1&&Array.isArray(R[0])&&(R=R[0]);var Z=this.groups,G=this.gl,P=this.regl,A=this.maxSize,O=this.maxColors,L=this.palette;this.groups=Z=R.map(function(S,F){var W=Z[F];if(S===void 0)return W;S===null?S={positions:null}:typeof S=="function"?S={ondraw:S}:typeof S[0]=="number"&&(S={positions:S}),S=m(S,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),S.positions===null&&(S.positions=[]),S.tooManyColors!=null&&(H.tooManyColors=S.tooManyColors),W||(Z[F]=W={id:F,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:P.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:P.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:P.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:P.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:P.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},S=x({},D.defaults,S)),S.positions&&!("marker"in S)&&(S.marker=W.marker,delete W.marker),S.marker&&!("positions"in S)&&(S.positions=W.positions,delete W.positions);var ue=0,ae=0;if(c(W,S,[{snap:!0,size:function(ze,Re){return ze==null&&(ze=D.defaults.size),ue+=ze&&ze.length?1:0,ze},borderSize:function(ze,Re){return ze==null&&(ze=D.defaults.borderSize),ue+=ze&&ze.length?1:0,ze},opacity:parseFloat,color:function(ze,Re){return ze==null&&(ze=D.defaults.color),ze=H.updateColor(ze),ae++,ze},borderColor:function(ze,Re){return ze==null&&(ze=D.defaults.borderColor),ze=H.updateColor(ze),ae++,ze},bounds:function(ze,Re,Ae){return"range"in Ae||(Ae.range=null),ze},positions:function(ze,Re,Ae){var T=Re.snap,V=Re.positionBuffer,j=Re.positionFractBuffer,he=Re.selectionBuffer;if(ze.x||ze.y)return ze.x.length?Re.xAttr={buffer:P.buffer(ze.x),offset:0,stride:4,count:ze.x.length}:Re.xAttr={buffer:ze.x.buffer,offset:ze.x.offset*4||0,stride:(ze.x.stride||1)*4,count:ze.x.count},ze.y.length?Re.yAttr={buffer:P.buffer(ze.y),offset:0,stride:4,count:ze.y.length}:Re.yAttr={buffer:ze.y.buffer,offset:ze.y.offset*4||0,stride:(ze.y.stride||1)*4,count:ze.y.count},Re.count=Math.max(Re.xAttr.count,Re.yAttr.count),ze;ze=h(ze,"float64");var be=Re.count=Math.floor(ze.length/2),ke=Re.bounds=be?d(ze,2):null;if(!Ae.range&&!Re.range&&(delete Re.range,Ae.range=ke),!Ae.marker&&!Re.marker&&(delete Re.marker,Ae.marker=null),T&&(T===!0||be>T)?Re.tree=v(ze,{bounds:ke}):T&&T.length&&(Re.tree=T),Re.tree){var Ce={primitive:"points",usage:"static",data:Re.tree,type:"uint32"};Re.elements?Re.elements(Ce):Re.elements=P.elements(Ce)}var qe=_.float32(ze);V({data:qe,usage:"dynamic"});var at=_.fract32(ze,qe);return j({data:at,usage:"dynamic"}),he({data:new Uint8Array(be),type:"uint8",usage:"stream"}),ze}},{marker:function(ze,Re,Ae){var T=Re.activation;if(T.forEach(function(at){return at&&at.destroy&&at.destroy()}),T.length=0,!ze||typeof ze[0]=="number"){var V=H.addMarker(ze);T[V]=!0}else{for(var j=[],he=0,be=Math.min(ze.length,Re.count);he<be;he++){var ke=H.addMarker(ze[he]);j[ke]||(j[ke]=new Uint8Array(Re.count)),j[ke][he]=1}for(var Ce=0;Ce<j.length;Ce++)if(j[Ce]){var qe={data:j[Ce],type:"uint8",usage:"static"};T[Ce]?T[Ce](qe):T[Ce]=P.buffer(qe),T[Ce].data=j[Ce]}}return ze},range:function(ze,Re,Ae){var T=Re.bounds;if(T)return ze||(ze=T),Re.scale=[1/(ze[2]-ze[0]),1/(ze[3]-ze[1])],Re.translate=[-ze[0],-ze[1]],Re.scaleFract=_.fract(Re.scale),Re.translateFract=_.fract(Re.translate),ze},viewport:function(ze){var Re=w(ze||[G.drawingBufferWidth,G.drawingBufferHeight]);return Re}}]),ue){var se=W,q=se.count,ee=se.size,B=se.borderSize,re=se.sizeBuffer,J=new Uint8Array(q*2);if(ee.length||B.length)for(var X=0;X<q;X++)J[X*2]=Math.round((ee[X]==null?ee:ee[X])*255/A),J[X*2+1]=Math.round((B[X]==null?B:B[X])*255/A);re({data:J,usage:"dynamic"})}if(ae){var N=W,$=N.count,te=N.color,le=N.borderColor,pe=N.colorBuffer,fe;if(H.tooManyColors){if(te.length||le.length){fe=new Uint8Array($*8);for(var ye=0;ye<$;ye++){var Me=te[ye];fe[ye*8]=L[Me*4],fe[ye*8+1]=L[Me*4+1],fe[ye*8+2]=L[Me*4+2],fe[ye*8+3]=L[Me*4+3];var He=le[ye];fe[ye*8+4]=L[He*4],fe[ye*8+5]=L[He*4+1],fe[ye*8+6]=L[He*4+2],fe[ye*8+7]=L[He*4+3]}}}else if(te.length||le.length){fe=new Uint8Array($*4+2);for(var Ne=0;Ne<$;Ne++)te[Ne]!=null&&(fe[Ne*4]=te[Ne]%O,fe[Ne*4+1]=Math.floor(te[Ne]/O)),le[Ne]!=null&&(fe[Ne*4+2]=le[Ne]%O,fe[Ne*4+3]=Math.floor(le[Ne]/O))}pe({data:fe||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return W})}},D.prototype.addMarker=function(H){var z=this.markerTextures,R=this.regl,U=this.markerCache,Z=H==null?0:U.indexOf(H);if(Z>=0)return Z;var G;if(H instanceof Uint8Array||H instanceof Uint8ClampedArray)G=H;else{G=new Uint8Array(H.length);for(var P=0,A=H.length;P<A;P++)G[P]=H[P]*255}var O=Math.floor(Math.sqrt(G.length));return Z=z.length,U.push(H),z.push(R.texture({channels:1,data:G,radius:O,mag:"linear",min:"linear"})),Z},D.prototype.updateColor=function(H){var z=this.paletteIds,R=this.palette,U=this.maxColors;Array.isArray(H)||(H=[H]);var Z=[];if(typeof H[0]=="number"){var G=[];if(Array.isArray(H))for(var P=0;P<H.length;P+=4)G.push(H.slice(P,P+4));else for(var A=0;A<H.length;A+=4)G.push(H.subarray(A,A+4));H=G}for(var O=0;O<H.length;O++){var L=H[O];L=u(L,"uint8");var S=g(L,!1);if(z[S]==null){var F=R.length;z[S]=Math.floor(F/4),R[F]=L[0],R[F+1]=L[1],R[F+2]=L[2],R[F+3]=L[3]}Z[O]=z[S]}return!this.tooManyColors&&R.length>U*4&&(this.tooManyColors=!0),this.updatePalette(R),Z.length===1?Z[0]:Z},D.prototype.updatePalette=function(H){if(!this.tooManyColors){var z=this.maxColors,R=this.paletteTexture,U=Math.ceil(H.length*.25/z);if(U>1){H=H.slice();for(var Z=H.length*.25%z;Z<U*z;Z++)H.push(0,0,0,0)}R.height<U&&R.resize(z,U),R.subimage({width:Math.min(H.length*.25,z),height:U,data:H},0,0)}},D.prototype.destroy=function(){return this.groups.forEach(function(H){H.sizeBuffer.destroy(),H.positionBuffer.destroy(),H.positionFractBuffer.destroy(),H.colorBuffer.destroy(),H.activation.forEach(function(z){return z&&z.destroy&&z.destroy()}),H.selectionBuffer.destroy(),H.elements&&H.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(H){return H&&H.destroy&&H.destroy()}),this};var I=Ea(),C=function(H,z){var R=new K(H,z),U=R.render.bind(R);return I(U,{render:U,update:R.update.bind(R),draw:R.draw.bind(R),destroy:R.destroy.bind(R),regl:R.regl,gl:R.gl,canvas:R.gl.canvas,groups:R.groups,markers:R.markerCache,palette:R.palette}),U};k.exports=C}),jy=xe((E,k)=>{k.exports=i,k.exports.default=i;function i(P,A,O){O=O||2;var L=A&&A.length,S=L?A[0]*O:P.length,F=t(P,0,S,O,!0),W=[];if(!F||F.next===F.prev)return W;var ue,ae,se,q,ee,B,re;if(L&&(F=r(P,A,F,O)),P.length>80*O){ue=se=P[0],ae=q=P[1];for(var J=O;J<S;J+=O)ee=P[J],B=P[J+1],ee<ue&&(ue=ee),B<ae&&(ae=B),ee>se&&(se=ee),B>q&&(q=B);re=Math.max(se-ue,q-ae),re=re!==0?32767/re:0}return n(F,W,O,ue,ae,re,0),W}function t(P,A,O,L,S){var F,W;if(S===G(P,A,O,L)>0)for(F=A;F<O;F+=L)W=R(F,P[F],P[F+1],W);else for(F=O-L;F>=A;F-=L)W=R(F,P[F],P[F+1],W);return W&&_(W,W.next)&&(U(W),W=W.next),W}function e(P,A){if(!P)return P;A||(A=P);var O=P,L;do if(L=!1,!O.steiner&&(_(O,O.next)||b(O.prev,O,O.next)===0)){if(U(O),O=A=O.prev,O===O.next)break;L=!0}else O=O.next;while(L||O!==A);return A}function n(P,A,O,L,S,F,W){if(P){!W&&F&&v(P,L,S,F);for(var ue=P,ae,se;P.prev!==P.next;){if(ae=P.prev,se=P.next,F?a(P,L,S,F):l(P)){A.push(ae.i/O|0),A.push(P.i/O|0),A.push(se.i/O|0),U(P),P=se.next,ue=se.next;continue}if(P=se,P===ue){W?W===1?(P=o(e(P),A,O),n(P,A,O,L,S,F,2)):W===2&&s(P,A,O,L,S,F):n(e(P),A,O,L,S,F,1);break}}}}function l(P){var A=P.prev,O=P,L=P.next;if(b(A,O,L)>=0)return!1;for(var S=A.x,F=O.x,W=L.x,ue=A.y,ae=O.y,se=L.y,q=S<F?S<W?S:W:F<W?F:W,ee=ue<ae?ue<se?ue:se:ae<se?ae:se,B=S>F?S>W?S:W:F>W?F:W,re=ue>ae?ue>se?ue:se:ae>se?ae:se,J=L.next;J!==A;){if(J.x>=q&&J.x<=B&&J.y>=ee&&J.y<=re&&c(S,ue,F,ae,W,se,J.x,J.y)&&b(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function a(P,A,O,L){var S=P.prev,F=P,W=P.next;if(b(S,F,W)>=0)return!1;for(var ue=S.x,ae=F.x,se=W.x,q=S.y,ee=F.y,B=W.y,re=ue<ae?ue<se?ue:se:ae<se?ae:se,J=q<ee?q<B?q:B:ee<B?ee:B,X=ue>ae?ue>se?ue:se:ae>se?ae:se,N=q>ee?q>B?q:B:ee>B?ee:B,$=y(re,J,A,O,L),te=y(X,N,A,O,L),le=P.prevZ,pe=P.nextZ;le&&le.z>=$&&pe&&pe.z<=te;){if(le.x>=re&&le.x<=X&&le.y>=J&&le.y<=N&&le!==S&&le!==W&&c(ue,q,ae,ee,se,B,le.x,le.y)&&b(le.prev,le,le.next)>=0||(le=le.prevZ,pe.x>=re&&pe.x<=X&&pe.y>=J&&pe.y<=N&&pe!==S&&pe!==W&&c(ue,q,ae,ee,se,B,pe.x,pe.y)&&b(pe.prev,pe,pe.next)>=0))return!1;pe=pe.nextZ}for(;le&&le.z>=$;){if(le.x>=re&&le.x<=X&&le.y>=J&&le.y<=N&&le!==S&&le!==W&&c(ue,q,ae,ee,se,B,le.x,le.y)&&b(le.prev,le,le.next)>=0)return!1;le=le.prevZ}for(;pe&&pe.z<=te;){if(pe.x>=re&&pe.x<=X&&pe.y>=J&&pe.y<=N&&pe!==S&&pe!==W&&c(ue,q,ae,ee,se,B,pe.x,pe.y)&&b(pe.prev,pe,pe.next)>=0)return!1;pe=pe.nextZ}return!0}function o(P,A,O){var L=P;do{var S=L.prev,F=L.next.next;!_(S,F)&&w(S,L,L.next,F)&&C(S,F)&&C(F,S)&&(A.push(S.i/O|0),A.push(L.i/O|0),A.push(F.i/O|0),U(L),U(L.next),L=P=F),L=L.next}while(L!==P);return e(L)}function s(P,A,O,L,S,F){var W=P;do{for(var ue=W.next.next;ue!==W.prev;){if(W.i!==ue.i&&h(W,ue)){var ae=z(W,ue);W=e(W,W.next),ae=e(ae,ae.next),n(W,A,O,L,S,F,0),n(ae,A,O,L,S,F,0);return}ue=ue.next}W=W.next}while(W!==P)}function r(P,A,O,L){var S=[],F,W,ue,ae,se;for(F=0,W=A.length;F<W;F++)ue=A[F]*L,ae=F<W-1?A[F+1]*L:P.length,se=t(P,ue,ae,L,!1),se===se.next&&(se.steiner=!0),S.push(m(se));for(S.sort(p),F=0;F<S.length;F++)O=u(S[F],O);return O}function p(P,A){return P.x-A.x}function u(P,A){var O=d(P,A);if(!O)return A;var L=z(O,P);return e(L,L.next),e(O,O.next)}function d(P,A){var O=A,L=P.x,S=P.y,F=-1/0,W;do{if(S<=O.y&&S>=O.next.y&&O.next.y!==O.y){var ue=O.x+(S-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(ue<=L&&ue>F&&(F=ue,W=O.x<O.next.x?O:O.next,ue===L))return W}O=O.next}while(O!==A);if(!W)return null;var ae=W,se=W.x,q=W.y,ee=1/0,B;O=W;do L>=O.x&&O.x>=se&&L!==O.x&&c(S<q?L:F,S,se,q,S<q?F:L,S,O.x,O.y)&&(B=Math.abs(S-O.y)/(L-O.x),C(O,P)&&(B<ee||B===ee&&(O.x>W.x||O.x===W.x&&g(W,O)))&&(W=O,ee=B)),O=O.next;while(O!==ae);return W}function g(P,A){return b(P.prev,P,A.prev)<0&&b(A.next,P,P.next)<0}function v(P,A,O,L){var S=P;do S.z===0&&(S.z=y(S.x,S.y,A,O,L)),S.prevZ=S.prev,S.nextZ=S.next,S=S.next;while(S!==P);S.prevZ.nextZ=null,S.prevZ=null,x(S)}function x(P){var A,O,L,S,F,W,ue,ae,se=1;do{for(O=P,P=null,F=null,W=0;O;){for(W++,L=O,ue=0,A=0;A<se&&(ue++,L=L.nextZ,!!L);A++);for(ae=se;ue>0||ae>0&&L;)ue!==0&&(ae===0||!L||O.z<=L.z)?(S=O,O=O.nextZ,ue--):(S=L,L=L.nextZ,ae--),F?F.nextZ=S:P=S,S.prevZ=F,F=S;O=L}F.nextZ=null,se*=2}while(W>1);return P}function y(P,A,O,L,S){return P=(P-O)*S|0,A=(A-L)*S|0,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,A=(A|A<<8)&16711935,A=(A|A<<4)&252645135,A=(A|A<<2)&858993459,A=(A|A<<1)&1431655765,P|A<<1}function m(P){var A=P,O=P;do(A.x<O.x||A.x===O.x&&A.y<O.y)&&(O=A),A=A.next;while(A!==P);return O}function c(P,A,O,L,S,F,W,ue){return(S-W)*(A-ue)>=(P-W)*(F-ue)&&(P-W)*(L-ue)>=(O-W)*(A-ue)&&(O-W)*(F-ue)>=(S-W)*(L-ue)}function h(P,A){return P.next.i!==A.i&&P.prev.i!==A.i&&!I(P,A)&&(C(P,A)&&C(A,P)&&H(P,A)&&(b(P.prev,P,A.prev)||b(P,A.prev,A))||_(P,A)&&b(P.prev,P,P.next)>0&&b(A.prev,A,A.next)>0)}function b(P,A,O){return(A.y-P.y)*(O.x-A.x)-(A.x-P.x)*(O.y-A.y)}function _(P,A){return P.x===A.x&&P.y===A.y}function w(P,A,O,L){var S=D(b(P,A,O)),F=D(b(P,A,L)),W=D(b(O,L,P)),ue=D(b(O,L,A));return!!(S!==F&&W!==ue||S===0&&K(P,O,A)||F===0&&K(P,L,A)||W===0&&K(O,P,L)||ue===0&&K(O,A,L))}function K(P,A,O){return A.x<=Math.max(P.x,O.x)&&A.x>=Math.min(P.x,O.x)&&A.y<=Math.max(P.y,O.y)&&A.y>=Math.min(P.y,O.y)}function D(P){return P>0?1:P<0?-1:0}function I(P,A){var O=P;do{if(O.i!==P.i&&O.next.i!==P.i&&O.i!==A.i&&O.next.i!==A.i&&w(O,O.next,P,A))return!0;O=O.next}while(O!==P);return!1}function C(P,A){return b(P.prev,P,P.next)<0?b(P,A,P.next)>=0&&b(P,P.prev,A)>=0:b(P,A,P.prev)<0||b(P,P.next,A)<0}function H(P,A){var O=P,L=!1,S=(P.x+A.x)/2,F=(P.y+A.y)/2;do O.y>F!=O.next.y>F&&O.next.y!==O.y&&S<(O.next.x-O.x)*(F-O.y)/(O.next.y-O.y)+O.x&&(L=!L),O=O.next;while(O!==P);return L}function z(P,A){var O=new Z(P.i,P.x,P.y),L=new Z(A.i,A.x,A.y),S=P.next,F=A.prev;return P.next=A,A.prev=P,O.next=S,S.prev=O,L.next=O,O.prev=L,F.next=L,L.prev=F,L}function R(P,A,O,L){var S=new Z(P,A,O);return L?(S.next=L.next,S.prev=L,L.next.prev=S,L.next=S):(S.prev=S,S.next=S),S}function U(P){P.next.prev=P.prev,P.prev.next=P.next,P.prevZ&&(P.prevZ.nextZ=P.nextZ),P.nextZ&&(P.nextZ.prevZ=P.prevZ)}function Z(P,A,O){this.i=P,this.x=A,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i.deviation=function(P,A,O,L){var S=A&&A.length,F=S?A[0]*O:P.length,W=Math.abs(G(P,0,F,O));if(S)for(var ue=0,ae=A.length;ue<ae;ue++){var se=A[ue]*O,q=ue<ae-1?A[ue+1]*O:P.length;W-=Math.abs(G(P,se,q,O))}var ee=0;for(ue=0;ue<L.length;ue+=3){var B=L[ue]*O,re=L[ue+1]*O,J=L[ue+2]*O;ee+=Math.abs((P[B]-P[J])*(P[re+1]-P[B+1])-(P[B]-P[re])*(P[J+1]-P[B+1]))}return W===0&&ee===0?0:Math.abs((ee-W)/W)};function G(P,A,O,L){for(var S=0,F=A,W=O-L;F<O;F+=L)S+=(P[W]-P[F])*(P[F+1]+P[W+1]),W=F;return S}i.flatten=function(P){for(var A=P[0][0].length,O={vertices:[],holes:[],dimensions:A},L=0,S=0;S<P.length;S++){for(var F=0;F<P[S].length;F++)for(var W=0;W<A;W++)O.vertices.push(P[S][F][W]);S>0&&(L+=P[S-1].length,O.holes.push(L))}return O}}),zy=xe((E,k)=>{var i=Dl();k.exports=t;function t(e,n,l){if(!e||e.length==null)throw Error("Argument should be an array");n==null&&(n=1),l==null&&(l=i(e,n));for(var a=0;a<n;a++){var o=l[n+a],s=l[a],r=a,p=e.length;if(o===1/0&&s===-1/0)for(r=a;r<p;r+=n)e[r]=e[r]===o?1:e[r]===s?0:.5;else if(o===1/0)for(r=a;r<p;r+=n)e[r]=e[r]===o?1:0;else if(s===-1/0)for(r=a;r<p;r+=n)e[r]=e[r]===s?0:1;else{var u=o-s;for(r=a;r<p;r+=n)isNaN(e[r])||(e[r]=u===0?.5:(e[r]-s)/u)}}return e}}),By=xe((E,k)=>{k.exports=function(){var i,t;if(typeof WeakMap!="function")return!1;try{i=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(i)!=="[object WeakMap]"||typeof i.set!="function"||i.set({},1)!==i||typeof i.delete!="function"||typeof i.has!="function"||i.get(t)!=="one")}}),Uy=xe((E,k)=>{k.exports=function(){}}),Do=xe((E,k)=>{var i=Uy()();k.exports=function(t){return t!==i&&t!==null}}),nh=xe((E,k)=>{var i=Object.create,t=Object.getPrototypeOf,e={};k.exports=function(){var n=Object.setPrototypeOf,l=arguments[0]||i;return typeof n!="function"?!1:t(n(l(null),e))===e}}),ah=xe((E,k)=>{var i=Do(),t={function:!0,object:!0};k.exports=function(e){return i(e)&&t[typeof e]||!1}}),eo=xe((E,k)=>{var i=Do();k.exports=function(t){if(!i(t))throw new TypeError("Cannot use null or undefined");return t}}),Hy=xe((E,k)=>{var i=Object.create,t;nh()()||(t=ih()),k.exports=function(){var e,n,l;return!t||t.level!==1?i:(e={},n={},l={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(a){if(a==="__proto__"){n[a]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}n[a]=l}),Object.defineProperties(e,n),Object.defineProperty(t,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(a,o){return i(a===null?e:a,o)})}()}),ih=xe((E,k)=>{var i=ah(),t=eo(),e=Object.prototype.isPrototypeOf,n=Object.defineProperty,l={configurable:!0,enumerable:!1,writable:!0,value:void 0},a;a=function(o,s){if(t(o),s===null||i(s))return o;throw new TypeError("Prototype must be null or an object")},k.exports=function(o){var s,r;return o?(o.level===2?o.set?(r=o.set,s=function(p,u){return r.call(a(p,u),u),p}):s=function(p,u){return a(p,u).__proto__=u,p}:s=function p(u,d){var g;return a(u,d),g=e.call(p.nullPolyfill,u),g&&delete p.nullPolyfill.__proto__,d===null&&(d=p.nullPolyfill),u.__proto__=d,g&&n(p.nullPolyfill,"__proto__",l),u},Object.defineProperty(s,"level",{configurable:!1,enumerable:!1,writable:!1,value:o.level})):null}(function(){var o=Object.create(null),s={},r,p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(p){try{r=p.set,r.call(o,s)}catch{}if(Object.getPrototypeOf(o)===s)return{set:r,level:2}}return o.__proto__=s,Object.getPrototypeOf(o)===s?{level:2}:(o={},o.__proto__=s,Object.getPrototypeOf(o)===s?{level:1}:!1)}()),Hy()}),Pc=xe((E,k)=>{k.exports=nh()()?Object.setPrototypeOf:ih()}),Vy=xe((E,k)=>{var i=ah();k.exports=function(t){if(!i(t))throw new TypeError(t+" is not an Object");return t}}),qy=xe((E,k)=>{var i=Object.create(null),t=Math.random;k.exports=function(){var e;do e=t().toString(36).slice(2);while(i[e]);return e}}),Qo=xe((E,k)=>{var i=void 0;k.exports=function(t){return t!==i&&t!==null}}),Fc=xe((E,k)=>{var i=Qo(),t={object:!0,function:!0,undefined:!0};k.exports=function(e){return i(e)?hasOwnProperty.call(t,typeof e):!1}}),Wy=xe((E,k)=>{var i=Fc();k.exports=function(t){if(!i(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}}}),Yy=xe((E,k)=>{var i=Wy();k.exports=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!i(t)}}),oh=xe((E,k)=>{var i=Yy(),t=/^\s*class[\s{/}]/,e=Function.prototype.toString;k.exports=function(n){return!(!i(n)||t.test(e.call(n)))}}),Gy=xe((E,k)=>{k.exports=function(){var i=Object.assign,t;return typeof i!="function"?!1:(t={foo:"raz"},i(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}}),Jy=xe((E,k)=>{k.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}}),Zy=xe((E,k)=>{var i=Do(),t=Object.keys;k.exports=function(e){return t(i(e)?Object(e):e)}}),Ky=xe((E,k)=>{k.exports=Jy()()?Object.keys:Zy()}),$y=xe((E,k)=>{var i=Ky(),t=eo(),e=Math.max;k.exports=function(n,l){var a,o,s=e(arguments.length,2),r;for(n=Object(t(n)),r=function(p){try{n[p]=l[p]}catch(u){a||(a=u)}},o=1;o<s;++o)l=arguments[o],i(l).forEach(r);if(a!==void 0)throw a;return n}}),Ic=xe((E,k)=>{k.exports=Gy()()?Object.assign:$y()}),lh=xe((E,k)=>{var i=Do(),t=Array.prototype.forEach,e=Object.create,n=function(l,a){var o;for(o in l)a[o]=l[o]};k.exports=function(l){var a=e(null);return t.call(arguments,function(o){i(o)&&n(Object(o),a)}),a}}),Xy=xe((E,k)=>{var i="razdwatrzy";k.exports=function(){return typeof i.contains!="function"?!1:i.contains("dwa")===!0&&i.contains("foo")===!1}}),Qy=xe((E,k)=>{var i=String.prototype.indexOf;k.exports=function(t){return i.call(this,t,arguments[1])>-1}}),sh=xe((E,k)=>{k.exports=Xy()()?String.prototype.contains:Qy()}),to=xe((E,k)=>{var i=Qo(),t=oh(),e=Ic(),n=lh(),l=sh(),a=k.exports=function(o,s){var r,p,u,d,g;return arguments.length<2||typeof o!="string"?(d=s,s=o,o=null):d=arguments[2],i(o)?(r=l.call(o,"c"),p=l.call(o,"e"),u=l.call(o,"w")):(r=u=!0,p=!1),g={value:s,configurable:r,enumerable:p,writable:u},d?e(n(d),g):g};a.gs=function(o,s,r){var p,u,d,g;return typeof o!="string"?(d=r,r=s,s=o,o=null):d=arguments[3],i(s)?t(s)?i(r)?t(r)||(d=r,r=void 0):r=void 0:(d=s,s=r=void 0):s=void 0,i(o)?(p=l.call(o,"c"),u=l.call(o,"e")):(p=!0,u=!1),g={get:s,set:r,configurable:p,enumerable:u},d?e(n(d),g):g}}),$s=xe((E,k)=>{var i=Object.prototype.toString,t=i.call(function(){return arguments}());k.exports=function(e){return i.call(e)===t}}),Xs=xe((E,k)=>{var i=Object.prototype.toString,t=i.call("");k.exports=function(e){return typeof e=="string"||e&&typeof e=="object"&&(e instanceof String||i.call(e)===t)||!1}}),ev=xe((E,k)=>{k.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}}),tv=xe((E,k)=>{var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};k.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}()}),Qs=xe((E,k)=>{k.exports=ev()()?globalThis:tv()}),rv=xe((E,k)=>{var i=Qs(),t={object:!0,symbol:!0};k.exports=function(){var e=i.Symbol,n;if(typeof e!="function")return!1;n=e("test symbol");try{String(n)}catch{return!1}return!(!t[typeof e.iterator]||!t[typeof e.toPrimitive]||!t[typeof e.toStringTag])}}),nv=xe((E,k)=>{k.exports=function(i){return i?typeof i=="symbol"?!0:!i.constructor||i.constructor.name!=="Symbol"?!1:i[i.constructor.toStringTag]==="Symbol":!1}}),uh=xe((E,k)=>{var i=nv();k.exports=function(t){if(!i(t))throw new TypeError(t+" is not a symbol");return t}}),av=xe((E,k)=>{var i=to(),t=Object.create,e=Object.defineProperty,n=Object.prototype,l=t(null);k.exports=function(a){for(var o=0,s,r;l[a+(o||"")];)++o;return a+=o||"",l[a]=!0,s="@@"+a,e(n,s,i.gs(null,function(p){r||(r=!0,e(this,s,i(p)),r=!1)})),s}}),iv=xe((E,k)=>{var i=to(),t=Qs().Symbol;k.exports=function(e){return Object.defineProperties(e,{hasInstance:i("",t&&t.hasInstance||e("hasInstance")),isConcatSpreadable:i("",t&&t.isConcatSpreadable||e("isConcatSpreadable")),iterator:i("",t&&t.iterator||e("iterator")),match:i("",t&&t.match||e("match")),replace:i("",t&&t.replace||e("replace")),search:i("",t&&t.search||e("search")),species:i("",t&&t.species||e("species")),split:i("",t&&t.split||e("split")),toPrimitive:i("",t&&t.toPrimitive||e("toPrimitive")),toStringTag:i("",t&&t.toStringTag||e("toStringTag")),unscopables:i("",t&&t.unscopables||e("unscopables"))})}}),ov=xe((E,k)=>{var i=to(),t=uh(),e=Object.create(null);k.exports=function(n){return Object.defineProperties(n,{for:i(function(l){return e[l]?e[l]:e[l]=n(String(l))}),keyFor:i(function(l){var a;t(l);for(a in e)if(e[a]===l)return a})})}}),lv=xe((E,k)=>{var i=to(),t=uh(),e=Qs().Symbol,n=av(),l=iv(),a=ov(),o=Object.create,s=Object.defineProperties,r=Object.defineProperty,p,u,d;if(typeof e=="function")try{String(e()),d=!0}catch{}else e=null;u=function(g){if(this instanceof u)throw new TypeError("Symbol is not a constructor");return p(g)},k.exports=p=function g(v){var x;if(this instanceof g)throw new TypeError("Symbol is not a constructor");return d?e(v):(x=o(u.prototype),v=v===void 0?"":String(v),s(x,{__description__:i("",v),__name__:i("",n(v))}))},l(p),a(p),s(u.prototype,{constructor:i(p),toString:i("",function(){return this.__name__})}),s(p.prototype,{toString:i(function(){return"Symbol ("+t(this).__description__+")"}),valueOf:i(function(){return t(this)})}),r(p.prototype,p.toPrimitive,i("",function(){var g=t(this);return typeof g=="symbol"?g:g.toString()})),r(p.prototype,p.toStringTag,i("c","Symbol")),r(u.prototype,p.toStringTag,i("c",p.prototype[p.toStringTag])),r(u.prototype,p.toPrimitive,i("c",p.prototype[p.toPrimitive]))}),Eo=xe((E,k)=>{k.exports=rv()()?Qs().Symbol:lv()}),sv=xe((E,k)=>{var i=eo();k.exports=function(){return i(this).length=0,this}}),Nl=xe((E,k)=>{k.exports=function(i){if(typeof i!="function")throw new TypeError(i+" is not a function");return i}}),uv=xe((E,k)=>{var i=Qo(),t=Fc(),e=Object.prototype.toString;k.exports=function(n){if(!i(n))return null;if(t(n)){var l=n.toString;if(typeof l!="function"||l===e)return null}try{return""+n}catch{return null}}}),cv=xe((E,k)=>{k.exports=function(i){try{return i.toString()}catch{try{return String(i)}catch{return null}}}}),fv=xe((E,k)=>{var i=cv(),t=/[\n\r\u2028\u2029]/g;k.exports=function(e){var n=i(e);return n===null?"<Non-coercible to string value>":(n.length>100&&(n=n.slice(0,99)+"…"),n=n.replace(t,function(l){switch(l){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),n)}}),ch=xe((E,k)=>{var i=Qo(),t=Fc(),e=uv(),n=fv(),l=function(a,o){return a.replace("%v",n(o))};k.exports=function(a,o,s){if(!t(s))throw new TypeError(l(o,a));if(!i(a)){if("default"in s)return s.default;if(s.isOptional)return null}var r=e(s.errorMessage);throw i(r)||(r=o),new TypeError(l(r,a))}}),dv=xe((E,k)=>{var i=ch(),t=Qo();k.exports=function(e){return t(e)?e:i(e,"Cannot use %v",arguments[1])}}),hv=xe((E,k)=>{var i=ch(),t=oh();k.exports=function(e){return t(e)?e:i(e,"%v is not a plain function",arguments[1])}}),pv=xe((E,k)=>{k.exports=function(){var i=Array.from,t,e;return typeof i!="function"?!1:(t=["raz","dwa"],e=i(t),!!(e&&e!==t&&e[1]==="dwa"))}}),gv=xe((E,k)=>{var i=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);k.exports=function(e){return typeof e=="function"&&t(i.call(e))}}),yv=xe((E,k)=>{k.exports=function(){var i=Math.sign;return typeof i!="function"?!1:i(10)===1&&i(-20)===-1}}),vv=xe((E,k)=>{k.exports=function(i){return i=Number(i),isNaN(i)||i===0?i:i>0?1:-1}}),mv=xe((E,k)=>{k.exports=yv()()?Math.sign:vv()}),xv=xe((E,k)=>{var i=mv(),t=Math.abs,e=Math.floor;k.exports=function(n){return isNaN(n)?0:(n=Number(n),n===0||!isFinite(n)?n:i(n)*e(t(n)))}}),bv=xe((E,k)=>{var i=xv(),t=Math.max;k.exports=function(e){return t(0,i(e))}}),_v=xe((E,k)=>{var i=Eo().iterator,t=$s(),e=gv(),n=bv(),l=Nl(),a=eo(),o=Do(),s=Xs(),r=Array.isArray,p=Function.prototype.call,u={configurable:!0,enumerable:!0,writable:!0,value:null},d=Object.defineProperty;k.exports=function(g){var v=arguments[1],x=arguments[2],y,m,c,h,b,_,w,K,D,I;if(g=Object(a(g)),o(v)&&l(v),!this||this===Array||!e(this)){if(!v){if(t(g))return b=g.length,b!==1?Array.apply(null,g):(h=new Array(1),h[0]=g[0],h);if(r(g)){for(h=new Array(b=g.length),m=0;m<b;++m)h[m]=g[m];return h}}h=[]}else y=this;if(!r(g)){if((D=g[i])!==void 0){for(w=l(D).call(g),y&&(h=new y),K=w.next(),m=0;!K.done;)I=v?p.call(v,x,K.value,m):K.value,y?(u.value=I,d(h,m,u)):h[m]=I,K=w.next(),++m;b=m}else if(s(g)){for(b=g.length,y&&(h=new y),m=0,c=0;m<b;++m)I=g[m],m+1<b&&(_=I.charCodeAt(0),_>=55296&&_<=56319&&(I+=g[++m])),I=v?p.call(v,x,I,c):I,y?(u.value=I,d(h,c,u)):h[c]=I,++c;b=c}}if(b===void 0)for(b=n(g.length),y&&(h=new y(b)),m=0;m<b;++m)I=v?p.call(v,x,g[m],m):g[m],y?(u.value=I,d(h,m,u)):h[m]=I;return y&&(u.value=null,h.length=b),h}}),wv=xe((E,k)=>{k.exports=pv()()?Array.from:_v()}),Av=xe((E,k)=>{var i=wv(),t=Ic(),e=eo();k.exports=function(n){var l=Object(e(n)),a=arguments[1],o=Object(arguments[2]);if(l!==n&&!a)return l;var s={};return a?i(a,function(r){(o.ensure||r in n)&&(s[r]=n[r])}):t(s,n),s}}),Tv=xe((E,k)=>{var i=Nl(),t=eo(),e=Function.prototype.bind,n=Function.prototype.call,l=Object.keys,a=Object.prototype.propertyIsEnumerable;k.exports=function(o,s){return function(r,p){var u,d=arguments[2],g=arguments[3];return r=Object(t(r)),i(p),u=l(r),g&&u.sort(typeof g=="function"?e.call(g,r):void 0),typeof o!="function"&&(o=u[o]),n.call(o,u,function(v,x){return a.call(r,v)?n.call(p,d,r[v],v,r,x):s})}}}),kv=xe((E,k)=>{k.exports=Tv()("forEach")}),Mv=xe((E,k)=>{var i=Nl(),t=kv(),e=Function.prototype.call;k.exports=function(n,l){var a={},o=arguments[2];return i(l),t(n,function(s,r,p,u){a[r]=e.call(l,o,s,r,p,u)}),a}}),Sv=xe((E,k)=>{var i=Qo(),t=dv(),e=hv(),n=Av(),l=lh(),a=Mv(),o=Function.prototype.bind,s=Object.defineProperty,r=Object.prototype.hasOwnProperty,p;p=function(u,d,g){var v=t(d)&&e(d.value),x;return x=n(d),delete x.writable,delete x.value,x.get=function(){return!g.overwriteDefinition&&r.call(this,u)?v:(d.value=o.call(v,g.resolveContext?g.resolveContext(this):this),s(this,u,d),this[u])},x},k.exports=function(u){var d=l(arguments[1]);return i(d.resolveContext)&&e(d.resolveContext),a(u,function(g,v){return p(v,g,d)})}}),fh=xe((E,k)=>{var i=sv(),t=Ic(),e=Nl(),n=eo(),l=to(),a=Sv(),o=Eo(),s=Object.defineProperty,r=Object.defineProperties,p;k.exports=p=function(u,d){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");r(this,{__list__:l("w",n(u)),__context__:l("w",d),__nextIndex__:l("w",0)}),d&&(e(d.on),d.on("_add",this._onAdd),d.on("_delete",this._onDelete),d.on("_clear",this._onClear))},delete p.prototype.constructor,r(p.prototype,t({_next:l(function(){var u;if(this.__list__){if(this.__redo__&&(u=this.__redo__.shift(),u!==void 0))return u;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(u){return u===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(u)}}),_resolve:l(function(u){return this.__list__[u]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[o.toStringTag]||"Object")+"]"})},a({_onAdd:l(function(u){if(!(u>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){s(this,"__redo__",l("c",[u]));return}this.__redo__.forEach(function(d,g){d>=u&&(this.__redo__[g]=++d)},this),this.__redo__.push(u)}}),_onDelete:l(function(u){var d;u>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(d=this.__redo__.indexOf(u),d!==-1&&this.__redo__.splice(d,1),this.__redo__.forEach(function(g,v){g>u&&(this.__redo__[v]=--g)},this)))}),_onClear:l(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),s(p.prototype,o.iterator,l(function(){return this}))}),Ov=xe((E,k)=>{var i=Pc(),t=sh(),e=to(),n=Eo(),l=fh(),a=Object.defineProperty,o;o=k.exports=function(s,r){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");l.call(this,s),r?t.call(r,"key+value")?r="key+value":t.call(r,"key")?r="key":r="value":r="value",a(this,"__kind__",e("",r))},i&&i(o,l),delete o.prototype.constructor,o.prototype=Object.create(l.prototype,{_resolve:e(function(s){return this.__kind__==="value"?this.__list__[s]:this.__kind__==="key+value"?[s,this.__list__[s]]:s})}),a(o.prototype,n.toStringTag,e("c","Array Iterator"))}),Lv=xe((E,k)=>{var i=Pc(),t=to(),e=Eo(),n=fh(),l=Object.defineProperty,a;a=k.exports=function(o){if(!(this instanceof a))throw new TypeError("Constructor requires 'new'");o=String(o),n.call(this,o),l(this,"__length__",t("",o.length))},i&&i(a,n),delete a.prototype.constructor,a.prototype=Object.create(n.prototype,{_next:t(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:t(function(o){var s=this.__list__[o],r;return this.__nextIndex__===this.__length__?s:(r=s.charCodeAt(0),r>=55296&&r<=56319?s+this.__list__[this.__nextIndex__++]:s)})}),l(a.prototype,e.toStringTag,t("c","String Iterator"))}),Cv=xe((E,k)=>{var i=$s(),t=Do(),e=Xs(),n=Eo().iterator,l=Array.isArray;k.exports=function(a){return t(a)?l(a)||e(a)||i(a)?!0:typeof a[n]=="function":!1}}),Dv=xe((E,k)=>{var i=Cv();k.exports=function(t){if(!i(t))throw new TypeError(t+" is not iterable");return t}}),dh=xe((E,k)=>{var i=$s(),t=Xs(),e=Ov(),n=Lv(),l=Dv(),a=Eo().iterator;k.exports=function(o){return typeof l(o)[a]=="function"?o[a]():i(o)?new e(o):t(o)?new n(o):new e(o)}}),Ev=xe((E,k)=>{var i=$s(),t=Nl(),e=Xs(),n=dh(),l=Array.isArray,a=Function.prototype.call,o=Array.prototype.some;k.exports=function(s,r){var p,u=arguments[2],d,g,v,x,y,m,c;if(l(s)||i(s)?p="array":e(s)?p="string":s=n(s),t(r),g=function(){v=!0},p==="array"){o.call(s,function(h){return a.call(r,u,h,g),v});return}if(p==="string"){for(y=s.length,x=0;x<y&&(m=s[x],x+1<y&&(c=m.charCodeAt(0),c>=55296&&c<=56319&&(m+=s[++x])),a.call(r,u,m,g),!v);++x);return}for(d=s.next();!d.done;){if(a.call(r,u,d.value,g),v)return;d=s.next()}}}),Pv=xe((E,k)=>{k.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()}),Fv=xe((E,k)=>{var i=Do(),t=Pc(),e=Vy(),n=eo(),l=qy(),a=to(),o=dh(),s=Ev(),r=Eo().toStringTag,p=Pv(),u=Array.isArray,d=Object.defineProperty,g=Object.prototype.hasOwnProperty,v=Object.getPrototypeOf,x;k.exports=x=function(){var y=arguments[0],m;if(!(this instanceof x))throw new TypeError("Constructor requires 'new'");return m=p&&t&&WeakMap!==x?t(new WeakMap,v(this)):this,i(y)&&(u(y)||(y=o(y))),d(m,"__weakMapData__",a("c","$weakMap$"+l())),y&&s(y,function(c){n(c),m.set(c[0],c[1])}),m},p&&(t&&t(x,WeakMap),x.prototype=Object.create(WeakMap.prototype,{constructor:a(x)})),Object.defineProperties(x.prototype,{delete:a(function(y){return g.call(e(y),this.__weakMapData__)?(delete y[this.__weakMapData__],!0):!1}),get:a(function(y){if(g.call(e(y),this.__weakMapData__))return y[this.__weakMapData__]}),has:a(function(y){return g.call(e(y),this.__weakMapData__)}),set:a(function(y,m){return d(e(y),this.__weakMapData__,a("c",m)),this}),toString:a(function(){return"[object WeakMap]"})}),d(x.prototype,r,a("c","WeakMap"))}),hh=xe((E,k)=>{k.exports=By()()?WeakMap:Fv()}),Iv=xe((E,k)=>{k.exports=function(i,t,e){if(typeof Array.prototype.findIndex=="function")return i.findIndex(t,e);if(typeof t!="function")throw new TypeError("predicate must be a function");var n=Object(i),l=n.length;if(l===0)return-1;for(var a=0;a<l;a++)if(t.call(e,n[a],a,n))return a;return-1}}),Nv=xe((E,k)=>{var i=Xo(),t=Dl(),e=Ea(),n=Qi(),l=El(),a=jy(),o=zy(),{float32:s,fract32:r}=Ec(),p=hh(),u=Ws(),d=Iv(),g=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,v=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,x=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,y=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,m=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,c=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;k.exports=h;function h(b,_){if(!(this instanceof h))return new h(b,_);if(typeof b=="function"?(_||(_={}),_.regl=b):_=b,_.length&&(_.positions=_),b=_.regl,!b.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=b._gl,this.regl=b,this.passes=[],this.shaders=h.shaders.has(b)?h.shaders.get(b):h.shaders.set(b,h.createShaders(b)).get(b),this.update(_)}h.dashMult=2,h.maxPatternLength=256,h.precisionThreshold=3e6,h.maxPoints=1e4,h.maxLines=2048,h.shaders=new p,h.createShaders=function(b){let _=b.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),w={primitive:"triangle strip",instances:b.prop("count"),count:4,offset:0,uniforms:{miterMode:(I,C)=>C.join==="round"?2:1,miterLimit:b.prop("miterLimit"),scale:b.prop("scale"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),thickness:b.prop("thickness"),dashTexture:b.prop("dashTexture"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),dashLength:b.prop("dashLength"),viewport:(I,C)=>[C.viewport.x,C.viewport.y,I.viewportWidth,I.viewportHeight],depth:b.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:(I,C)=>!C.overlay},stencil:{enable:!1},scissor:{enable:!0,box:b.prop("viewport")},viewport:b.prop("viewport")},K=b(e({vert:g,frag:v,attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},w)),D;try{D=b(e({cull:{enable:!0,face:"back"},vert:m,frag:c,attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aColor:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:b.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},w))}catch{D=K}return{fill:b({primitive:"triangle",elements:(I,C)=>C.triangles,offset:0,vert:x,frag:y,uniforms:{scale:b.prop("scale"),color:b.prop("fill"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),viewport:(I,C)=>[C.viewport.x,C.viewport.y,I.viewportWidth,I.viewportHeight]},attributes:{position:{buffer:b.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8}},blend:w.blend,depth:{enable:!1},scissor:w.scissor,stencil:w.stencil,viewport:w.viewport}),rect:K,miter:D}},h.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},h.prototype.render=function(...b){b.length&&this.update(...b),this.draw()},h.prototype.draw=function(...b){return(b.length?b:this.passes).forEach((_,w)=>{if(_&&Array.isArray(_))return this.draw(..._);typeof _=="number"&&(_=this.passes[_]),_&&_.count>1&&_.opacity&&(this.regl._refresh(),_.fill&&_.triangles&&_.triangles.length>2&&this.shaders.fill(_),_.thickness&&(_.scale[0]*_.viewport.width>h.precisionThreshold||_.scale[1]*_.viewport.height>h.precisionThreshold?this.shaders.rect(_):_.join==="rect"||!_.join&&(_.thickness<=2||_.count>=h.maxPoints)?this.shaders.rect(_):this.shaders.miter(_)))}),this},h.prototype.update=function(b){if(!b)return;b.length!=null?typeof b[0]=="number"&&(b=[{positions:b}]):Array.isArray(b)||(b=[b]);let{regl:_,gl:w}=this;if(b.forEach((D,I)=>{let C=this.passes[I];if(D!==void 0){if(D===null){this.passes[I]=null;return}if(typeof D[0]=="number"&&(D={positions:D}),D=n(D,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),C||(this.passes[I]=C={id:I,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:_.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:_.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},D=e({},h.defaults,D)),D.thickness!=null&&(C.thickness=parseFloat(D.thickness)),D.opacity!=null&&(C.opacity=parseFloat(D.opacity)),D.miterLimit!=null&&(C.miterLimit=parseFloat(D.miterLimit)),D.overlay!=null&&(C.overlay=!!D.overlay,I<h.maxLines&&(C.depth=2*(h.maxLines-1-I%h.maxLines)/h.maxLines-1)),D.join!=null&&(C.join=D.join),D.hole!=null&&(C.hole=D.hole),D.fill!=null&&(C.fill=D.fill?i(D.fill,"uint8"):null),D.viewport!=null&&(C.viewport=u(D.viewport)),C.viewport||(C.viewport=u([w.drawingBufferWidth,w.drawingBufferHeight])),D.close!=null&&(C.close=D.close),D.positions===null&&(D.positions=[]),D.positions){let R,U;if(D.positions.x&&D.positions.y){let A=D.positions.x,O=D.positions.y;U=C.count=Math.max(A.length,O.length),R=new Float64Array(U*2);for(let L=0;L<U;L++)R[L*2]=A[L],R[L*2+1]=O[L]}else R=l(D.positions,"float64"),U=C.count=Math.floor(R.length/2);let Z=C.bounds=t(R,2);if(C.fill){let A=[],O={},L=0;for(let S=0,F=0,W=C.count;S<W;S++){let ue=R[S*2],ae=R[S*2+1];isNaN(ue)||isNaN(ae)||ue==null||ae==null?(ue=R[L*2],ae=R[L*2+1],O[S]=L):L=S,A[F++]=ue,A[F++]=ae}if(D.splitNull){C.count-1 in O||(O[C.count]=C.count-1);let S=Object.keys(O).map(Number).sort((ae,se)=>ae-se),F=[],W=0,ue=C.hole!=null?C.hole[0]:null;if(ue!=null){let ae=d(S,se=>se>=ue);S=S.slice(0,ae),S.push(ue)}for(let ae=0;ae<S.length;ae++){let se=A.slice(W*2,S[ae]*2).concat(ue?A.slice(ue*2):[]),q=(C.hole||[]).map(B=>B-ue+(S[ae]-W)),ee=a(se,q);ee=ee.map(B=>B+W+(B+W<S[ae]?0:ue-S[ae])),F.push(...ee),W=S[ae]+1}for(let ae=0,se=F.length;ae<se;ae++)O[F[ae]]!=null&&(F[ae]=O[F[ae]]);C.triangles=F}else{let S=a(A,C.hole||[]);for(let F=0,W=S.length;F<W;F++)O[S[F]]!=null&&(S[F]=O[S[F]]);C.triangles=S}}let G=new Float64Array(R);o(G,2,Z);let P=new Float64Array(U*2+6);C.close?R[0]===R[U*2-2]&&R[1]===R[U*2-1]?(P[0]=G[U*2-4],P[1]=G[U*2-3]):(P[0]=G[U*2-2],P[1]=G[U*2-1]):(P[0]=G[0],P[1]=G[1]),P.set(G,2),C.close?R[0]===R[U*2-2]&&R[1]===R[U*2-1]?(P[U*2+2]=G[2],P[U*2+3]=G[3],C.count-=1):(P[U*2+2]=G[0],P[U*2+3]=G[1],P[U*2+4]=G[2],P[U*2+5]=G[3]):(P[U*2+2]=G[U*2-2],P[U*2+3]=G[U*2-1],P[U*2+4]=G[U*2-2],P[U*2+5]=G[U*2-1]);var H=s(P);C.positionBuffer(H);var z=r(P,H);C.positionFractBuffer(z)}if(D.range?C.range=D.range:C.range||(C.range=C.bounds),(D.range||D.positions)&&C.count){let R=C.bounds,U=R[2]-R[0],Z=R[3]-R[1],G=C.range[2]-C.range[0],P=C.range[3]-C.range[1];C.scale=[U/G,Z/P],C.translate=[-C.range[0]/G+R[0]/G||0,-C.range[1]/P+R[1]/P||0],C.scaleFract=r(C.scale),C.translateFract=r(C.translate)}if(D.dashes){let R=0,U;if(!D.dashes||D.dashes.length<2)R=1,U=new Uint8Array([255,255,255,255,255,255,255,255]);else{R=0;for(let P=0;P<D.dashes.length;++P)R+=D.dashes[P];U=new Uint8Array(R*h.dashMult);let Z=0,G=255;for(let P=0;P<2;P++)for(let A=0;A<D.dashes.length;++A){for(let O=0,L=D.dashes[A]*h.dashMult*.5;O<L;++O)U[Z++]=G;G^=255}}C.dashLength=R,C.dashTexture({channels:1,data:U,width:U.length,height:1,mag:"linear",min:"linear"},0,0)}if(D.color){let R=C.count,U=D.color;U||(U="transparent");let Z=new Uint8Array(R*4+4);if(!Array.isArray(U)||typeof U[0]=="number"){let G=i(U,"uint8");for(let P=0;P<R+1;P++)Z.set(G,P*4)}else{for(let G=0;G<R;G++){let P=i(U[G],"uint8");Z.set(P,G*4)}Z.set(i(U[0],"uint8"),R*4)}C.colorBuffer({usage:"dynamic",type:"uint8",data:Z})}}}),b.length<this.passes.length){for(let D=b.length;D<this.passes.length;D++){let I=this.passes[D];I&&(I.colorBuffer.destroy(),I.positionBuffer.destroy(),I.dashTexture.destroy())}this.passes.length=b.length}let K=[];for(let D=0;D<this.passes.length;D++)this.passes[D]!==null&&K.push(this.passes[D]);return this.passes=K,this},h.prototype.destroy=function(){return this.passes.forEach(b=>{b.colorBuffer.destroy(),b.positionBuffer.destroy(),b.dashTexture.destroy()}),this.passes.length=0,this}}),Rv=xe((E,k)=>{var i=Dl(),t=Xo(),e=rh(),n=Qi(),l=Ea(),a=El(),{float32:o,fract32:s}=Ec();k.exports=p;var r=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function p(u,d){if(typeof u=="function"?(d||(d={}),d.regl=u):d=u,d.length&&(d.positions=d),u=d.regl,!u.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");let g=u._gl,v,x,y,m,c,h,b={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},_=[];return m=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),x=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),y=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),c=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=u.buffer({usage:"static",type:"float",data:r}),I(d),v=u({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:(H,z)=>[z.viewport.x,z.viewport.y,H.viewportWidth,H.viewportHeight]},attributes:{color:{buffer:m,offset:(H,z)=>z.offset*4,divisor:1},position:{buffer:x,offset:(H,z)=>z.offset*8,divisor:1},positionFract:{buffer:y,offset:(H,z)=>z.offset*8,divisor:1},error:{buffer:c,offset:(H,z)=>z.offset*16,divisor:1},direction:{buffer:h,stride:24,offset:0},lineOffset:{buffer:h,stride:24,offset:8},capOffset:{buffer:h,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:r.length}),l(w,{update:I,draw:K,destroy:C,regl:u,gl:g,canvas:g.canvas,groups:_}),w;function w(H){H?I(H):H===null&&C(),K()}function K(H){if(typeof H=="number")return D(H);H&&!Array.isArray(H)&&(H=[H]),u._refresh(),_.forEach((z,R)=>{if(z){if(H&&(H[R]?z.draw=!0:z.draw=!1),!z.draw){z.draw=!0;return}D(R)}})}function D(H){typeof H=="number"&&(H=_[H]),H!=null&&H&&H.count&&H.color&&H.opacity&&H.positions&&H.positions.length>1&&(H.scaleRatio=[H.scale[0]*H.viewport.width,H.scale[1]*H.viewport.height],v(H),H.after&&H.after(H))}function I(H){if(!H)return;H.length!=null?typeof H[0]=="number"&&(H=[{positions:H}]):Array.isArray(H)||(H=[H]);let z=0,R=0;if(w.groups=_=H.map((G,P)=>{let A=_[P];if(G)typeof G=="function"?G={after:G}:typeof G[0]=="number"&&(G={positions:G});else return A;return G=n(G,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),A||(_[P]=A={id:P,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},G=l({},b,G)),e(A,G,[{lineWidth:O=>+O*.5,capSize:O=>+O*.5,opacity:parseFloat,errors:O=>(O=a(O),R+=O.length,O),positions:(O,L)=>(O=a(O,"float64"),L.count=Math.floor(O.length/2),L.bounds=i(O,2),L.offset=z,z+=L.count,O)},{color:(O,L)=>{let S=L.count;if(O||(O="transparent"),!Array.isArray(O)||typeof O[0]=="number"){let W=O;O=Array(S);for(let ue=0;ue<S;ue++)O[ue]=W}if(O.length<S)throw Error("Not enough colors");let F=new Uint8Array(S*4);for(let W=0;W<S;W++){let ue=t(O[W],"uint8");F.set(ue,W*4)}return F},range:(O,L,S)=>{let F=L.bounds;return O||(O=F),L.scale=[1/(O[2]-O[0]),1/(O[3]-O[1])],L.translate=[-O[0],-O[1]],L.scaleFract=s(L.scale),L.translateFract=s(L.translate),O},viewport:O=>{let L;return Array.isArray(O)?L={x:O[0],y:O[1],width:O[2]-O[0],height:O[3]-O[1]}:O?(L={x:O.x||O.left||0,y:O.y||O.top||0},O.right?L.width=O.right-L.x:L.width=O.w||O.width||0,O.bottom?L.height=O.bottom-L.y:L.height=O.h||O.height||0):L={x:0,y:0,width:g.drawingBufferWidth,height:g.drawingBufferHeight},L}}]),A}),z||R){let G=_.reduce((L,S,F)=>L+(S?S.count:0),0),P=new Float64Array(G*2),A=new Uint8Array(G*4),O=new Float32Array(G*4);_.forEach((L,S)=>{if(!L)return;let{positions:F,count:W,offset:ue,color:ae,errors:se}=L;W&&(A.set(ae,ue*4),O.set(se,ue*4),P.set(F,ue*2))});var U=o(P);x(U);var Z=s(P,U);y(Z),m(A),c(O)}}function C(){x.destroy(),y.destroy(),m.destroy(),c.destroy(),h.destroy()}}}),jv=xe((E,k)=>{var i=/[\'\"]/;k.exports=function(t){return t?(i.test(t.charAt(0))&&(t=t.substr(1)),i.test(t.charAt(t.length-1))&&(t=t.substr(0,t.length-1)),t):""}}),ph=xe(()=>{}),gh=xe(()=>{}),yh=xe(()=>{}),vh=xe(()=>{}),mh=xe(()=>{}),zv=xe((E,k)=>{function i(n,l){if(typeof n!="string")return[n];var a=[n];typeof l=="string"||Array.isArray(l)?l={brackets:l}:l||(l={});var o=l.brackets?Array.isArray(l.brackets)?l.brackets:[l.brackets]:["{}","[]","()"],s=l.escape||"___",r=!!l.flat;o.forEach(function(d){var g=new RegExp(["\\",d[0],"[^\\",d[0],"\\",d[1],"]*\\",d[1]].join("")),v=[];function x(y,m,c){var h=a.push(y.slice(d[0].length,-d[1].length))-1;return v.push(h),s+h+s}a.forEach(function(y,m){for(var c,h=0;y!=c;)if(c=y,y=y.replace(g,x),h++>1e4)throw Error("References have circular dependency. Please, check them.");a[m]=y}),v=v.reverse(),a=a.map(function(y){return v.forEach(function(m){y=y.replace(new RegExp("(\\"+s+m+"\\"+s+")","g"),d[0]+"$1"+d[1])}),y})});var p=new RegExp("\\"+s+"([0-9]+)\\"+s);function u(d,g,v){for(var x=[],y,m=0;y=p.exec(d);){if(m++>1e4)throw Error("Circular references in parenthesis");x.push(d.slice(0,y.index)),x.push(u(g[y[1]],g)),d=d.slice(y.index+y[0].length)}return x.push(d),x}return r?a:u(a[0],a)}function t(n,l){if(l&&l.flat){var a=l&&l.escape||"___",o=n[0],s;if(!o)return"";for(var r=new RegExp("\\"+a+"([0-9]+)\\"+a),p=0;o!=s;){if(p++>1e4)throw Error("Circular references in "+n);s=o,o=o.replace(r,u)}return o}return n.reduce(function d(g,v){return Array.isArray(v)&&(v=v.reduce(d,"")),g+v},"");function u(d,g){if(n[g]==null)throw Error("Reference "+g+"is undefined");return n[g]}}function e(n,l){return Array.isArray(n)?t(n,l):i(n,l)}e.parse=i,e.stringify=t,k.exports=e}),Bv=xe((E,k)=>{var i=zv();k.exports=function(t,e,n){if(t==null)throw Error("First argument should be a string");if(e==null)throw Error("Separator should be a string or a RegExp");n?(typeof n=="string"||Array.isArray(n))&&(n={ignore:n}):n={},n.escape==null&&(n.escape=!0),n.ignore==null?n.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof n.ignore=="string"&&(n.ignore=[n.ignore]),n.ignore=n.ignore.map(function(d){return d.length===1&&(d=d+d),d}));var l=i.parse(t,{flat:!0,brackets:n.ignore}),a=l[0],o=a.split(e);if(n.escape){for(var s=[],r=0;r<o.length;r++){var p=o[r],u=o[r+1];p[p.length-1]==="\\"&&p[p.length-2]!=="\\"?(s.push(p+e+u),r++):s.push(p)}o=s}for(var r=0;r<o.length;r++)l[0]=o[r],o[r]=i.stringify(l,{flat:!0});return o}}),Uv=xe(()=>{}),xh=xe((E,k)=>{var i=Uv();k.exports={isSize:function(t){return/^[\d\.]/.test(t)||t.indexOf("/")!==-1||i.indexOf(t)!==-1}}}),Hv=xe((E,k)=>{var i=jv(),t=ph(),e=gh(),n=yh(),l=vh(),a=mh(),o=Bv(),s=xh().isSize;k.exports=p;var r=p.cache={};function p(d){if(typeof d!="string")throw new Error("Font argument must be a string.");if(r[d])return r[d];if(d==="")throw new Error("Cannot parse an empty string.");if(e.indexOf(d)!==-1)return r[d]={system:d};for(var g={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},v=o(d,/\s+/),x;x=v.shift();){if(t.indexOf(x)!==-1)return["style","variant","weight","stretch"].forEach(function(m){g[m]=x}),r[d]=g;if(l.indexOf(x)!==-1){g.style=x;continue}if(x==="normal"||x==="small-caps"){g.variant=x;continue}if(a.indexOf(x)!==-1){g.stretch=x;continue}if(n.indexOf(x)!==-1){g.weight=x;continue}if(s(x)){var y=o(x,"/");if(g.size=y[0],y[1]!=null?g.lineHeight=u(y[1]):v[0]==="/"&&(v.shift(),g.lineHeight=u(v.shift())),!v.length)throw new Error("Missing required font-family.");return g.family=o(v.join(" "),/\s*,\s*/).map(i),r[d]=g}throw new Error("Unknown or unsupported font token: "+x)}throw new Error("Missing required font-size.")}function u(d){var g=parseFloat(d);return g.toString()===d?g:d}}),bh=xe((E,k)=>{var i=Qi(),t=xh().isSize,e=d(ph()),n=d(gh()),l=d(yh()),a=d(vh()),o=d(mh()),s={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},p={size:"1rem",family:"serif"};k.exports=function(g){if(g=i(g,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),g.system)return g.system&&u(g.system,n),g.system;if(u(g.style,a),u(g.variant,s),u(g.weight,l),u(g.stretch,o),g.size==null&&(g.size=p.size),typeof g.size=="number"&&(g.size+="px"),!t)throw Error("Bad size value `"+g.size+"`");g.family||(g.family=p.family),Array.isArray(g.family)&&(g.family.length||(g.family=[p.family]),g.family=g.family.map(function(x){return r[x]?x:'"'+x+'"'}).join(", "));var v=[];return v.push(g.style),g.variant!==g.style&&v.push(g.variant),g.weight!==g.variant&&g.weight!==g.style&&v.push(g.weight),g.stretch!==g.weight&&g.stretch!==g.variant&&g.stretch!==g.style&&v.push(g.stretch),v.push(g.size+(g.lineHeight==null||g.lineHeight==="normal"||g.lineHeight+""=="1"?"":"/"+g.lineHeight)),v.push(g.family),v.filter(Boolean).join(" ")};function u(g,v){if(g&&!v[g]&&!e[g])throw Error("Unknown keyword `"+g+"`");return g}function d(g){for(var v={},x=0;x<g.length;x++)v[g[x]]=1;return v}}),Vv=xe((E,k)=>{k.exports={parse:Hv(),stringify:bh()}}),_h=xe((E,k)=>{(function(i,t){typeof E=="object"&&typeof k<"u"?k.exports=t():i.createREGL=t()})(E,function(){var i=function(Oe,it){for(var dt=Object.keys(it),Vt=0;Vt<dt.length;++Vt)Oe[dt[Vt]]=it[dt[Vt]];return Oe},t=0,e=0,n=5,l=6;function a(Oe,it){this.id=t++,this.type=Oe,this.data=it}function o(Oe){return Oe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function s(Oe){if(Oe.length===0)return[];var it=Oe.charAt(0),dt=Oe.charAt(Oe.length-1);if(Oe.length>1&&it===dt&&(it==='"'||it==="'"))return['"'+o(Oe.substr(1,Oe.length-2))+'"'];var Vt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Oe);if(Vt)return s(Oe.substr(0,Vt.index)).concat(s(Vt[1])).concat(s(Oe.substr(Vt.index+Vt[0].length)));var lr=Oe.split(".");if(lr.length===1)return['"'+o(Oe)+'"'];for(var er=[],Jt=0;Jt<lr.length;++Jt)er=er.concat(s(lr[Jt]));return er}function r(Oe){return"["+s(Oe).join("][")+"]"}function p(Oe,it){return new a(Oe,r(it+""))}function u(Oe){return typeof Oe=="function"&&!Oe._reglType||Oe instanceof a}function d(Oe,it){if(typeof Oe=="function")return new a(e,Oe);if(typeof Oe=="number"||typeof Oe=="boolean")return new a(n,Oe);if(Array.isArray(Oe))return new a(l,Oe.map(function(dt,Vt){return d(dt)}));if(Oe instanceof a)return Oe}var g={DynamicVariable:a,define:p,isDynamic:u,unbox:d,accessor:r},v={next:typeof requestAnimationFrame=="function"?function(Oe){return requestAnimationFrame(Oe)}:function(Oe){return setTimeout(Oe,16)},cancel:typeof cancelAnimationFrame=="function"?function(Oe){return cancelAnimationFrame(Oe)}:clearTimeout},x=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function y(){var Oe={"":0},it=[""];return{id:function(dt){var Vt=Oe[dt];return Vt||(Vt=Oe[dt]=it.length,it.push(dt),Vt)},str:function(dt){return it[dt]}}}function m(Oe,it,dt){var Vt=document.createElement("canvas");i(Vt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),Oe.appendChild(Vt),Oe===document.body&&(Vt.style.position="absolute",i(Oe.style,{margin:0,padding:0}));function lr(){var gr=window.innerWidth,_r=window.innerHeight;if(Oe!==document.body){var wr=Vt.getBoundingClientRect();gr=wr.right-wr.left,_r=wr.bottom-wr.top}Vt.width=dt*gr,Vt.height=dt*_r}var er;Oe!==document.body&&typeof ResizeObserver=="function"?(er=new ResizeObserver(function(){setTimeout(lr)}),er.observe(Oe)):window.addEventListener("resize",lr,!1);function Jt(){er?er.disconnect():window.removeEventListener("resize",lr),Oe.removeChild(Vt)}return lr(),{canvas:Vt,onDestroy:Jt}}function c(Oe,it){function dt(Vt){try{return Oe.getContext(Vt,it)}catch{return null}}return dt("webgl")||dt("experimental-webgl")||dt("webgl-experimental")}function h(Oe){return typeof Oe.nodeName=="string"&&typeof Oe.appendChild=="function"&&typeof Oe.getBoundingClientRect=="function"}function b(Oe){return typeof Oe.drawArrays=="function"||typeof Oe.drawElements=="function"}function _(Oe){return typeof Oe=="string"?Oe.split():Oe}function w(Oe){return typeof Oe=="string"?document.querySelector(Oe):Oe}function K(Oe){var it=Oe||{},dt,Vt,lr,er,Jt={},gr=[],_r=[],wr=typeof window>"u"?1:window.devicePixelRatio,Rr=!1,cn={},Zr=function(Pt){},Sr=function(){};if(typeof it=="string"?dt=document.querySelector(it):typeof it=="object"&&(h(it)?dt=it:b(it)?(er=it,lr=er.canvas):("gl"in it?er=it.gl:"canvas"in it?lr=w(it.canvas):"container"in it&&(Vt=w(it.container)),"attributes"in it&&(Jt=it.attributes),"extensions"in it&&(gr=_(it.extensions)),"optionalExtensions"in it&&(_r=_(it.optionalExtensions)),"onDone"in it&&(Zr=it.onDone),"profile"in it&&(Rr=!!it.profile),"pixelRatio"in it&&(wr=+it.pixelRatio),"cachedCode"in it&&(cn=it.cachedCode))),dt&&(dt.nodeName.toLowerCase()==="canvas"?lr=dt:Vt=dt),!er){if(!lr){var dr=m(Vt||document.body,Zr,wr);if(!dr)return null;lr=dr.canvas,Sr=dr.onDestroy}Jt.premultipliedAlpha===void 0&&(Jt.premultipliedAlpha=!0),er=c(lr,Jt)}return er?{gl:er,canvas:lr,container:Vt,extensions:gr,optionalExtensions:_r,pixelRatio:wr,profile:Rr,cachedCode:cn,onDone:Zr,onDestroy:Sr}:(Sr(),Zr("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function D(Oe,it){var dt={};function Vt(Jt){var gr=Jt.toLowerCase(),_r;try{_r=dt[gr]=Oe.getExtension(gr)}catch{}return!!_r}for(var lr=0;lr<it.extensions.length;++lr){var er=it.extensions[lr];if(!Vt(er))return it.onDestroy(),it.onDone('"'+er+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return it.optionalExtensions.forEach(Vt),{extensions:dt,restore:function(){Object.keys(dt).forEach(function(Jt){if(dt[Jt]&&!Vt(Jt))throw new Error("(regl): error restoring extension "+Jt)})}}}function I(Oe,it){for(var dt=Array(Oe),Vt=0;Vt<Oe;++Vt)dt[Vt]=it(Vt);return dt}var C=5120,H=5121,z=5122,R=5123,U=5124,Z=5125,G=5126;function P(Oe){for(var it=16;it<=1<<28;it*=16)if(Oe<=it)return it;return 0}function A(Oe){var it,dt;return it=(Oe>65535)<<4,Oe>>>=it,dt=(Oe>255)<<3,Oe>>>=dt,it|=dt,dt=(Oe>15)<<2,Oe>>>=dt,it|=dt,dt=(Oe>3)<<1,Oe>>>=dt,it|=dt,it|Oe>>1}function O(){var Oe=I(8,function(){return[]});function it(er){var Jt=P(er),gr=Oe[A(Jt)>>2];return gr.length>0?gr.pop():new ArrayBuffer(Jt)}function dt(er){Oe[A(er.byteLength)>>2].push(er)}function Vt(er,Jt){var gr=null;switch(er){case C:gr=new Int8Array(it(Jt),0,Jt);break;case H:gr=new Uint8Array(it(Jt),0,Jt);break;case z:gr=new Int16Array(it(2*Jt),0,Jt);break;case R:gr=new Uint16Array(it(2*Jt),0,Jt);break;case U:gr=new Int32Array(it(4*Jt),0,Jt);break;case Z:gr=new Uint32Array(it(4*Jt),0,Jt);break;case G:gr=new Float32Array(it(4*Jt),0,Jt);break;default:return null}return gr.length!==Jt?gr.subarray(0,Jt):gr}function lr(er){dt(er.buffer)}return{alloc:it,free:dt,allocType:Vt,freeType:lr}}var L=O();L.zero=O();var S=3408,F=3410,W=3411,ue=3412,ae=3413,se=3414,q=3415,ee=33901,B=33902,re=3379,J=3386,X=34921,N=36347,$=36348,te=35661,le=35660,pe=34930,fe=36349,ye=34076,Me=34024,He=7936,Ne=7937,ze=7938,Re=35724,Ae=34047,T=36063,V=34852,j=3553,he=34067,be=34069,ke=33984,Ce=6408,qe=5126,at=5121,ct=36160,vt=36053,St=36064,ot=16384,Ct=function(Oe,it){var dt=1;it.ext_texture_filter_anisotropic&&(dt=Oe.getParameter(Ae));var Vt=1,lr=1;it.webgl_draw_buffers&&(Vt=Oe.getParameter(V),lr=Oe.getParameter(T));var er=!!it.oes_texture_float;if(er){var Jt=Oe.createTexture();Oe.bindTexture(j,Jt),Oe.texImage2D(j,0,Ce,1,1,0,Ce,qe,null);var gr=Oe.createFramebuffer();if(Oe.bindFramebuffer(ct,gr),Oe.framebufferTexture2D(ct,St,j,Jt,0),Oe.bindTexture(j,null),Oe.checkFramebufferStatus(ct)!==vt)er=!1;else{Oe.viewport(0,0,1,1),Oe.clearColor(1,0,0,1),Oe.clear(ot);var _r=L.allocType(qe,4);Oe.readPixels(0,0,1,1,Ce,qe,_r),Oe.getError()?er=!1:(Oe.deleteFramebuffer(gr),Oe.deleteTexture(Jt),er=_r[0]===1),L.freeType(_r)}}var wr=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Rr=!0;if(!wr){var cn=Oe.createTexture(),Zr=L.allocType(at,36);Oe.activeTexture(ke),Oe.bindTexture(he,cn),Oe.texImage2D(be,0,Ce,3,3,0,Ce,at,Zr),L.freeType(Zr),Oe.bindTexture(he,null),Oe.deleteTexture(cn),Rr=!Oe.getError()}return{colorBits:[Oe.getParameter(F),Oe.getParameter(W),Oe.getParameter(ue),Oe.getParameter(ae)],depthBits:Oe.getParameter(se),stencilBits:Oe.getParameter(q),subpixelBits:Oe.getParameter(S),extensions:Object.keys(it).filter(function(Sr){return!!it[Sr]}),maxAnisotropic:dt,maxDrawbuffers:Vt,maxColorAttachments:lr,pointSizeDims:Oe.getParameter(ee),lineWidthDims:Oe.getParameter(B),maxViewportDims:Oe.getParameter(J),maxCombinedTextureUnits:Oe.getParameter(te),maxCubeMapSize:Oe.getParameter(ye),maxRenderbufferSize:Oe.getParameter(Me),maxTextureUnits:Oe.getParameter(pe),maxTextureSize:Oe.getParameter(re),maxAttributes:Oe.getParameter(X),maxVertexUniforms:Oe.getParameter(N),maxVertexTextureUnits:Oe.getParameter(le),maxVaryingVectors:Oe.getParameter($),maxFragmentUniforms:Oe.getParameter(fe),glsl:Oe.getParameter(Re),renderer:Oe.getParameter(Ne),vendor:Oe.getParameter(He),version:Oe.getParameter(ze),readFloat:er,npotTextureCube:Rr}},It=function(Oe){return Oe instanceof Uint8Array||Oe instanceof Uint16Array||Oe instanceof Uint32Array||Oe instanceof Int8Array||Oe instanceof Int16Array||Oe instanceof Int32Array||Oe instanceof Float32Array||Oe instanceof Float64Array||Oe instanceof Uint8ClampedArray};function At(Oe){return!!Oe&&typeof Oe=="object"&&Array.isArray(Oe.shape)&&Array.isArray(Oe.stride)&&typeof Oe.offset=="number"&&Oe.shape.length===Oe.stride.length&&(Array.isArray(Oe.data)||It(Oe.data))}var Nt=function(Oe){return Object.keys(Oe).map(function(it){return Oe[it]})},_e={shape:Se,flatten:we};function De(Oe,it,dt){for(var Vt=0;Vt<it;++Vt)dt[Vt]=Oe[Vt]}function je(Oe,it,dt,Vt){for(var lr=0,er=0;er<it;++er)for(var Jt=Oe[er],gr=0;gr<dt;++gr)Vt[lr++]=Jt[gr]}function ie(Oe,it,dt,Vt,lr,er){for(var Jt=er,gr=0;gr<it;++gr)for(var _r=Oe[gr],wr=0;wr<dt;++wr)for(var Rr=_r[wr],cn=0;cn<Vt;++cn)lr[Jt++]=Rr[cn]}function ve(Oe,it,dt,Vt,lr){for(var er=1,Jt=dt+1;Jt<it.length;++Jt)er*=it[Jt];var gr=it[dt];if(it.length-dt===4){var _r=it[dt+1],wr=it[dt+2],Rr=it[dt+3];for(Jt=0;Jt<gr;++Jt)ie(Oe[Jt],_r,wr,Rr,Vt,lr),lr+=er}else for(Jt=0;Jt<gr;++Jt)ve(Oe[Jt],it,dt+1,Vt,lr),lr+=er}function we(Oe,it,dt,Vt){var lr=1;if(it.length)for(var er=0;er<it.length;++er)lr*=it[er];else lr=0;var Jt=Vt||L.allocType(dt,lr);switch(it.length){case 0:break;case 1:De(Oe,it[0],Jt);break;case 2:je(Oe,it[0],it[1],Jt);break;case 3:ie(Oe,it[0],it[1],it[2],Jt,0);break;default:ve(Oe,it,0,Jt,0)}return Jt}function Se(Oe){for(var it=[],dt=Oe;dt.length;dt=dt[0])it.push(dt.length);return it}var Ue={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Le=5120,tt=5122,nt=5124,ut=5121,Ye=5123,st=5125,xt=5126,Tt=5126,tr={int8:Le,int16:tt,int32:nt,uint8:ut,uint16:Ye,uint32:st,float:xt,float32:Tt},cr=35048,Er=35040,nr={dynamic:cr,stream:Er,static:35044},yr=_e.flatten,qt=_e.shape,Zt=35044,jr=35040,Ar=5121,kr=5126,rr=[];rr[5120]=1,rr[5122]=2,rr[5124]=4,rr[5121]=1,rr[5123]=2,rr[5125]=4,rr[5126]=4;function zt(Oe){return Ue[Object.prototype.toString.call(Oe)]|0}function xr(Oe,it){for(var dt=0;dt<it.length;++dt)Oe[dt]=it[dt]}function Gr(Oe,it,dt,Vt,lr,er,Jt){for(var gr=0,_r=0;_r<dt;++_r)for(var wr=0;wr<Vt;++wr)Oe[gr++]=it[lr*_r+er*wr+Jt]}function fn(Oe,it,dt,Vt){var lr=0,er={};function Jt(Pt){this.id=lr++,this.buffer=Oe.createBuffer(),this.type=Pt,this.usage=Zt,this.byteLength=0,this.dimension=1,this.dtype=Ar,this.persistentData=null,dt.profile&&(this.stats={size:0})}Jt.prototype.bind=function(){Oe.bindBuffer(this.type,this.buffer)},Jt.prototype.destroy=function(){Zr(this)};var gr=[];function _r(Pt,$t){var vr=gr.pop();return vr||(vr=new Jt(Pt)),vr.bind(),cn(vr,$t,jr,0,1,!1),vr}function wr(Pt){gr.push(Pt)}function Rr(Pt,$t,vr){Pt.byteLength=$t.byteLength,Oe.bufferData(Pt.type,$t,vr)}function cn(Pt,$t,vr,Or,ur,Hr){var Nr;if(Pt.usage=vr,Array.isArray($t)){if(Pt.dtype=Or||kr,$t.length>0){var sn;if(Array.isArray($t[0])){Nr=qt($t);for(var fr=1,ar=1;ar<Nr.length;++ar)fr*=Nr[ar];Pt.dimension=fr,sn=yr($t,Nr,Pt.dtype),Rr(Pt,sn,vr),Hr?Pt.persistentData=sn:L.freeType(sn)}else if(typeof $t[0]=="number"){Pt.dimension=ur;var Vr=L.allocType(Pt.dtype,$t.length);xr(Vr,$t),Rr(Pt,Vr,vr),Hr?Pt.persistentData=Vr:L.freeType(Vr)}else It($t[0])&&(Pt.dimension=$t[0].length,Pt.dtype=Or||zt($t[0])||kr,sn=yr($t,[$t.length,$t[0].length],Pt.dtype),Rr(Pt,sn,vr),Hr?Pt.persistentData=sn:L.freeType(sn))}}else if(It($t))Pt.dtype=Or||zt($t),Pt.dimension=ur,Rr(Pt,$t,vr),Hr&&(Pt.persistentData=new Uint8Array(new Uint8Array($t.buffer)));else if(At($t)){Nr=$t.shape;var Ur=$t.stride,Dr=$t.offset,Lr=0,zr=0,Cn=0,Tn=0;Nr.length===1?(Lr=Nr[0],zr=1,Cn=Ur[0],Tn=0):Nr.length===2&&(Lr=Nr[0],zr=Nr[1],Cn=Ur[0],Tn=Ur[1]),Pt.dtype=Or||zt($t.data)||kr,Pt.dimension=zr;var Br=L.allocType(Pt.dtype,Lr*zr);Gr(Br,$t.data,Lr,zr,Cn,Tn,Dr),Rr(Pt,Br,vr),Hr?Pt.persistentData=Br:L.freeType(Br)}else $t instanceof ArrayBuffer&&(Pt.dtype=Ar,Pt.dimension=ur,Rr(Pt,$t,vr),Hr&&(Pt.persistentData=new Uint8Array(new Uint8Array($t))))}function Zr(Pt){it.bufferCount--,Vt(Pt);var $t=Pt.buffer;Oe.deleteBuffer($t),Pt.buffer=null,delete er[Pt.id]}function Sr(Pt,$t,vr,Or){it.bufferCount++;var ur=new Jt($t);er[ur.id]=ur;function Hr(fr){var ar=Zt,Vr=null,Ur=0,Dr=0,Lr=1;return Array.isArray(fr)||It(fr)||At(fr)||fr instanceof ArrayBuffer?Vr=fr:typeof fr=="number"?Ur=fr|0:fr&&("data"in fr&&(Vr=fr.data),"usage"in fr&&(ar=nr[fr.usage]),"type"in fr&&(Dr=tr[fr.type]),"dimension"in fr&&(Lr=fr.dimension|0),"length"in fr&&(Ur=fr.length|0)),ur.bind(),Vr?cn(ur,Vr,ar,Dr,Lr,Or):(Ur&&Oe.bufferData(ur.type,Ur,ar),ur.dtype=Dr||Ar,ur.usage=ar,ur.dimension=Lr,ur.byteLength=Ur),dt.profile&&(ur.stats.size=ur.byteLength*rr[ur.dtype]),Hr}function Nr(fr,ar){Oe.bufferSubData(ur.type,ar,fr)}function sn(fr,ar){var Vr=(ar||0)|0,Ur;if(ur.bind(),It(fr)||fr instanceof ArrayBuffer)Nr(fr,Vr);else if(Array.isArray(fr)){if(fr.length>0){if(typeof fr[0]=="number"){var Dr=L.allocType(ur.dtype,fr.length);xr(Dr,fr),Nr(Dr,Vr),L.freeType(Dr)}else if(Array.isArray(fr[0])||It(fr[0])){Ur=qt(fr);var Lr=yr(fr,Ur,ur.dtype);Nr(Lr,Vr),L.freeType(Lr)}}}else if(At(fr)){Ur=fr.shape;var zr=fr.stride,Cn=0,Tn=0,Br=0,Kr=0;Ur.length===1?(Cn=Ur[0],Tn=1,Br=zr[0],Kr=0):Ur.length===2&&(Cn=Ur[0],Tn=Ur[1],Br=zr[0],Kr=zr[1]);var Ln=Array.isArray(fr.data)?ur.dtype:zt(fr.data),Dn=L.allocType(Ln,Cn*Tn);Gr(Dn,fr.data,Cn,Tn,Br,Kr,fr.offset),Nr(Dn,Vr),L.freeType(Dn)}return Hr}return vr||Hr(Pt),Hr._reglType="buffer",Hr._buffer=ur,Hr.subdata=sn,dt.profile&&(Hr.stats=ur.stats),Hr.destroy=function(){Zr(ur)},Hr}function dr(){Nt(er).forEach(function(Pt){Pt.buffer=Oe.createBuffer(),Oe.bindBuffer(Pt.type,Pt.buffer),Oe.bufferData(Pt.type,Pt.persistentData||Pt.byteLength,Pt.usage)})}return dt.profile&&(it.getTotalBufferSize=function(){var Pt=0;return Object.keys(er).forEach(function($t){Pt+=er[$t].stats.size}),Pt}),{create:Sr,createStream:_r,destroyStream:wr,clear:function(){Nt(er).forEach(Zr),gr.forEach(Zr)},getBuffer:function(Pt){return Pt&&Pt._buffer instanceof Jt?Pt._buffer:null},restore:dr,_initBuffer:cn}}var br=0,Jr=0,$r=1,Sn=1,Bt=4,gn=4,oe={points:br,point:Jr,lines:$r,line:Sn,triangles:Bt,triangle:gn,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},de=0,Ge=1,We=4,Pe=5120,Ie=5121,Ve=5122,Ze=5123,Be=5124,Je=5125,Xe=34963,rt=35040,kt=35044;function Dt(Oe,it,dt,Vt){var lr={},er=0,Jt={uint8:Ie,uint16:Ze};it.oes_element_index_uint&&(Jt.uint32=Je);function gr(dr){this.id=er++,lr[this.id]=this,this.buffer=dr,this.primType=We,this.vertCount=0,this.type=0}gr.prototype.bind=function(){this.buffer.bind()};var _r=[];function wr(dr){var Pt=_r.pop();return Pt||(Pt=new gr(dt.create(null,Xe,!0,!1)._buffer)),cn(Pt,dr,rt,-1,-1,0,0),Pt}function Rr(dr){_r.push(dr)}function cn(dr,Pt,$t,vr,Or,ur,Hr){dr.buffer.bind();var Nr;if(Pt){var sn=Hr;!Hr&&(!It(Pt)||At(Pt)&&!It(Pt.data))&&(sn=it.oes_element_index_uint?Je:Ze),dt._initBuffer(dr.buffer,Pt,$t,sn,3)}else Oe.bufferData(Xe,ur,$t),dr.buffer.dtype=Nr||Ie,dr.buffer.usage=$t,dr.buffer.dimension=3,dr.buffer.byteLength=ur;if(Nr=Hr,!Hr){switch(dr.buffer.dtype){case Ie:case Pe:Nr=Ie;break;case Ze:case Ve:Nr=Ze;break;case Je:case Be:Nr=Je;break}dr.buffer.dtype=Nr}dr.type=Nr;var fr=Or;fr<0&&(fr=dr.buffer.byteLength,Nr===Ze?fr>>=1:Nr===Je&&(fr>>=2)),dr.vertCount=fr;var ar=vr;if(vr<0){ar=We;var Vr=dr.buffer.dimension;Vr===1&&(ar=de),Vr===2&&(ar=Ge),Vr===3&&(ar=We)}dr.primType=ar}function Zr(dr){Vt.elementsCount--,delete lr[dr.id],dr.buffer.destroy(),dr.buffer=null}function Sr(dr,Pt){var $t=dt.create(null,Xe,!0),vr=new gr($t._buffer);Vt.elementsCount++;function Or(ur){if(!ur)$t(),vr.primType=We,vr.vertCount=0,vr.type=Ie;else if(typeof ur=="number")$t(ur),vr.primType=We,vr.vertCount=ur|0,vr.type=Ie;else{var Hr=null,Nr=kt,sn=-1,fr=-1,ar=0,Vr=0;Array.isArray(ur)||It(ur)||At(ur)?Hr=ur:("data"in ur&&(Hr=ur.data),"usage"in ur&&(Nr=nr[ur.usage]),"primitive"in ur&&(sn=oe[ur.primitive]),"count"in ur&&(fr=ur.count|0),"type"in ur&&(Vr=Jt[ur.type]),"length"in ur?ar=ur.length|0:(ar=fr,Vr===Ze||Vr===Ve?ar*=2:(Vr===Je||Vr===Be)&&(ar*=4))),cn(vr,Hr,Nr,sn,fr,ar,Vr)}return Or}return Or(dr),Or._reglType="elements",Or._elements=vr,Or.subdata=function(ur,Hr){return $t.subdata(ur,Hr),Or},Or.destroy=function(){Zr(vr)},Or}return{create:Sr,createStream:wr,destroyStream:Rr,getElements:function(dr){return typeof dr=="function"&&dr._elements instanceof gr?dr._elements:null},clear:function(){Nt(lr).forEach(Zr)}}}var Rt=new Float32Array(1),Kt=new Uint32Array(Rt.buffer),ir=5123;function Fr(Oe){for(var it=L.allocType(ir,Oe.length),dt=0;dt<Oe.length;++dt)if(isNaN(Oe[dt]))it[dt]=65535;else if(Oe[dt]===1/0)it[dt]=31744;else if(Oe[dt]===-1/0)it[dt]=64512;else{Rt[0]=Oe[dt];var Vt=Kt[0],lr=Vt>>>31<<15,er=(Vt<<1>>>24)-127,Jt=Vt>>13&1023;if(er<-24)it[dt]=lr;else if(er<-14){var gr=-14-er;it[dt]=lr+(Jt+1024>>gr)}else er>15?it[dt]=lr+31744:it[dt]=lr+(er+15<<10)+Jt}return it}function or(Oe){return Array.isArray(Oe)||It(Oe)}var mr=34467,Mr=3553,Qr=34067,hn=34069,Fn=6408,wn=6406,Pn=6407,aa=6409,oa=6410,jn=32854,Ir=32855,qn=36194,Wn=32819,ya=32820,ia=33635,xn=34042,yn=6402,An=34041,Yn=35904,Zn=35906,Xn=36193,ea=33776,Kn=33777,Ta=33778,la=33779,fa=35986,Un=35987,ka=34798,La=35840,Fa=35841,Ua=35842,Ja=35843,Ia=36196,ta=5121,_a=5123,pi=5125,sa=5126,ra=10242,ma=10243,da=10497,In=33071,ua=33648,Ka=10240,mi=10241,Ti=9728,ki=9729,oi=9984,ro=9985,Hi=9986,no=9987,Vi=33170,qi=4352,Nc=4353,Rc=4354,eu=34046,Po=3317,jc=37440,Rl=37441,tu=37443,xi=37444,ao=33984,jl=[oi,Hi,ro,no],io=[0,aa,oa,Pn,Fn],Ha={};Ha[aa]=Ha[wn]=Ha[yn]=1,Ha[An]=Ha[oa]=2,Ha[Pn]=Ha[Yn]=3,Ha[Fn]=Ha[Zn]=4;function Mi(Oe){return"[object "+Oe+"]"}var zl=Mi("HTMLCanvasElement"),ru=Mi("OffscreenCanvas"),nu=Mi("CanvasRenderingContext2D"),au=Mi("ImageBitmap"),Bl=Mi("HTMLImageElement"),Ul=Mi("HTMLVideoElement"),zc=Object.keys(Ue).concat([zl,ru,nu,au,Bl,Ul]),oo=[];oo[ta]=1,oo[sa]=4,oo[Xn]=2,oo[_a]=2,oo[pi]=4;var Na=[];Na[jn]=2,Na[Ir]=2,Na[qn]=2,Na[An]=4,Na[ea]=.5,Na[Kn]=.5,Na[Ta]=1,Na[la]=1,Na[fa]=.5,Na[Un]=1,Na[ka]=1,Na[La]=.5,Na[Fa]=.25,Na[Ua]=.5,Na[Ja]=.25,Na[Ia]=.5;function iu(Oe){return Array.isArray(Oe)&&(Oe.length===0||typeof Oe[0]=="number")}function ou(Oe){if(!Array.isArray(Oe))return!1;var it=Oe.length;return!(it===0||!or(Oe[0]))}function Wi(Oe){return Object.prototype.toString.call(Oe)}function lu(Oe){return Wi(Oe)===zl}function su(Oe){return Wi(Oe)===ru}function Bc(Oe){return Wi(Oe)===nu}function Uc(Oe){return Wi(Oe)===au}function Hc(Oe){return Wi(Oe)===Bl}function Vc(Oe){return Wi(Oe)===Ul}function Hl(Oe){if(!Oe)return!1;var it=Wi(Oe);return zc.indexOf(it)>=0?!0:iu(Oe)||ou(Oe)||At(Oe)}function Vl(Oe){return Ue[Object.prototype.toString.call(Oe)]|0}function uu(Oe,it){var dt=it.length;switch(Oe.type){case ta:case _a:case pi:case sa:var Vt=L.allocType(Oe.type,dt);Vt.set(it),Oe.data=Vt;break;case Xn:Oe.data=Fr(it);break}}function ql(Oe,it){return L.allocType(Oe.type===Xn?sa:Oe.type,it)}function Wl(Oe,it){Oe.type===Xn?(Oe.data=Fr(it),L.freeType(it)):Oe.data=it}function qc(Oe,it,dt,Vt,lr,er){for(var Jt=Oe.width,gr=Oe.height,_r=Oe.channels,wr=Jt*gr*_r,Rr=ql(Oe,wr),cn=0,Zr=0;Zr<gr;++Zr)for(var Sr=0;Sr<Jt;++Sr)for(var dr=0;dr<_r;++dr)Rr[cn++]=it[dt*Sr+Vt*Zr+lr*dr+er];Wl(Oe,Rr)}function el(Oe,it,dt,Vt,lr,er){var Jt;if(typeof Na[Oe]<"u"?Jt=Na[Oe]:Jt=Ha[Oe]*oo[it],er&&(Jt*=6),lr){for(var gr=0,_r=dt;_r>=1;)gr+=Jt*_r*_r,_r/=2;return gr}else return Jt*dt*Vt}function lo(Oe,it,dt,Vt,lr,er,Jt){var gr={"don't care":qi,"dont care":qi,nice:Rc,fast:Nc},_r={repeat:da,clamp:In,mirror:ua},wr={nearest:Ti,linear:ki},Rr=i({mipmap:no,"nearest mipmap nearest":oi,"linear mipmap nearest":ro,"nearest mipmap linear":Hi,"linear mipmap linear":no},wr),cn={none:0,browser:xi},Zr={uint8:ta,rgba4:Wn,rgb565:ia,"rgb5 a1":ya},Sr={alpha:wn,luminance:aa,"luminance alpha":oa,rgb:Pn,rgba:Fn,rgba4:jn,"rgb5 a1":Ir,rgb565:qn},dr={};it.ext_srgb&&(Sr.srgb=Yn,Sr.srgba=Zn),it.oes_texture_float&&(Zr.float32=Zr.float=sa),it.oes_texture_half_float&&(Zr.float16=Zr["half float"]=Xn),it.webgl_depth_texture&&(i(Sr,{depth:yn,"depth stencil":An}),i(Zr,{uint16:_a,uint32:pi,"depth stencil":xn})),it.webgl_compressed_texture_s3tc&&i(dr,{"rgb s3tc dxt1":ea,"rgba s3tc dxt1":Kn,"rgba s3tc dxt3":Ta,"rgba s3tc dxt5":la}),it.webgl_compressed_texture_atc&&i(dr,{"rgb atc":fa,"rgba atc explicit alpha":Un,"rgba atc interpolated alpha":ka}),it.webgl_compressed_texture_pvrtc&&i(dr,{"rgb pvrtc 4bppv1":La,"rgb pvrtc 2bppv1":Fa,"rgba pvrtc 4bppv1":Ua,"rgba pvrtc 2bppv1":Ja}),it.webgl_compressed_texture_etc1&&(dr["rgb etc1"]=Ia);var Pt=Array.prototype.slice.call(Oe.getParameter(mr));Object.keys(dr).forEach(function(ft){var Yt=dr[ft];Pt.indexOf(Yt)>=0&&(Sr[ft]=Yt)});var $t=Object.keys(Sr);dt.textureFormats=$t;var vr=[];Object.keys(Sr).forEach(function(ft){var Yt=Sr[ft];vr[Yt]=ft});var Or=[];Object.keys(Zr).forEach(function(ft){var Yt=Zr[ft];Or[Yt]=ft});var ur=[];Object.keys(wr).forEach(function(ft){var Yt=wr[ft];ur[Yt]=ft});var Hr=[];Object.keys(Rr).forEach(function(ft){var Yt=Rr[ft];Hr[Yt]=ft});var Nr=[];Object.keys(_r).forEach(function(ft){var Yt=_r[ft];Nr[Yt]=ft});var sn=$t.reduce(function(ft,Yt){var Wt=Sr[Yt];return Wt===aa||Wt===wn||Wt===aa||Wt===oa||Wt===yn||Wt===An||it.ext_srgb&&(Wt===Yn||Wt===Zn)?ft[Wt]=Wt:Wt===Ir||Yt.indexOf("rgba")>=0?ft[Wt]=Fn:ft[Wt]=Pn,ft},{});function fr(){this.internalformat=Fn,this.format=Fn,this.type=ta,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=xi,this.width=0,this.height=0,this.channels=0}function ar(ft,Yt){ft.internalformat=Yt.internalformat,ft.format=Yt.format,ft.type=Yt.type,ft.compressed=Yt.compressed,ft.premultiplyAlpha=Yt.premultiplyAlpha,ft.flipY=Yt.flipY,ft.unpackAlignment=Yt.unpackAlignment,ft.colorSpace=Yt.colorSpace,ft.width=Yt.width,ft.height=Yt.height,ft.channels=Yt.channels}function Vr(ft,Yt){if(!(typeof Yt!="object"||!Yt)){if("premultiplyAlpha"in Yt&&(ft.premultiplyAlpha=Yt.premultiplyAlpha),"flipY"in Yt&&(ft.flipY=Yt.flipY),"alignment"in Yt&&(ft.unpackAlignment=Yt.alignment),"colorSpace"in Yt&&(ft.colorSpace=cn[Yt.colorSpace]),"type"in Yt){var Wt=Yt.type;ft.type=Zr[Wt]}var rn=ft.width,Rn=ft.height,xa=ft.channels,nn=!1;"shape"in Yt?(rn=Yt.shape[0],Rn=Yt.shape[1],Yt.shape.length===3&&(xa=Yt.shape[2],nn=!0)):("radius"in Yt&&(rn=Rn=Yt.radius),"width"in Yt&&(rn=Yt.width),"height"in Yt&&(Rn=Yt.height),"channels"in Yt&&(xa=Yt.channels,nn=!0)),ft.width=rn|0,ft.height=Rn|0,ft.channels=xa|0;var $e=!1;if("format"in Yt){var lt=Yt.format,mt=ft.internalformat=Sr[lt];ft.format=sn[mt],lt in Zr&&("type"in Yt||(ft.type=Zr[lt])),lt in dr&&(ft.compressed=!0),$e=!0}!nn&&$e?ft.channels=Ha[ft.format]:nn&&!$e&&ft.channels!==io[ft.format]&&(ft.format=ft.internalformat=io[ft.channels])}}function Ur(ft){Oe.pixelStorei(jc,ft.flipY),Oe.pixelStorei(Rl,ft.premultiplyAlpha),Oe.pixelStorei(tu,ft.colorSpace),Oe.pixelStorei(Po,ft.unpackAlignment)}function Dr(){fr.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Lr(ft,Yt){var Wt=null;if(Hl(Yt)?Wt=Yt:Yt&&(Vr(ft,Yt),"x"in Yt&&(ft.xOffset=Yt.x|0),"y"in Yt&&(ft.yOffset=Yt.y|0),Hl(Yt.data)&&(Wt=Yt.data)),Yt.copy){var rn=lr.viewportWidth,Rn=lr.viewportHeight;ft.width=ft.width||rn-ft.xOffset,ft.height=ft.height||Rn-ft.yOffset,ft.needsCopy=!0}else if(!Wt)ft.width=ft.width||1,ft.height=ft.height||1,ft.channels=ft.channels||4;else if(It(Wt))ft.channels=ft.channels||4,ft.data=Wt,!("type"in Yt)&&ft.type===ta&&(ft.type=Vl(Wt));else if(iu(Wt))ft.channels=ft.channels||4,uu(ft,Wt),ft.alignment=1,ft.needsFree=!0;else if(At(Wt)){var xa=Wt.data;!Array.isArray(xa)&&ft.type===ta&&(ft.type=Vl(xa));var nn=Wt.shape,$e=Wt.stride,lt,mt,Gt,Ut,jt,Ft;nn.length===3?(Gt=nn[2],Ft=$e[2]):(Gt=1,Ft=1),lt=nn[0],mt=nn[1],Ut=$e[0],jt=$e[1],ft.alignment=1,ft.width=lt,ft.height=mt,ft.channels=Gt,ft.format=ft.internalformat=io[Gt],ft.needsFree=!0,qc(ft,xa,Ut,jt,Ft,Wt.offset)}else if(lu(Wt)||su(Wt)||Bc(Wt))lu(Wt)||su(Wt)?ft.element=Wt:ft.element=Wt.canvas,ft.width=ft.element.width,ft.height=ft.element.height,ft.channels=4;else if(Uc(Wt))ft.element=Wt,ft.width=Wt.width,ft.height=Wt.height,ft.channels=4;else if(Hc(Wt))ft.element=Wt,ft.width=Wt.naturalWidth,ft.height=Wt.naturalHeight,ft.channels=4;else if(Vc(Wt))ft.element=Wt,ft.width=Wt.videoWidth,ft.height=Wt.videoHeight,ft.channels=4;else if(ou(Wt)){var Et=ft.width||Wt[0].length,pt=ft.height||Wt.length,wt=ft.channels;or(Wt[0][0])?wt=wt||Wt[0][0].length:wt=wt||1;for(var ht=_e.shape(Wt),Ht=1,Xt=0;Xt<ht.length;++Xt)Ht*=ht[Xt];var hr=ql(ft,Ht);_e.flatten(Wt,ht,"",hr),Wl(ft,hr),ft.alignment=1,ft.width=Et,ft.height=pt,ft.channels=wt,ft.format=ft.internalformat=io[wt],ft.needsFree=!0}ft.type===sa||ft.type}function zr(ft,Yt,Wt){var rn=ft.element,Rn=ft.data,xa=ft.internalformat,nn=ft.format,$e=ft.type,lt=ft.width,mt=ft.height;Ur(ft),rn?Oe.texImage2D(Yt,Wt,nn,nn,$e,rn):ft.compressed?Oe.compressedTexImage2D(Yt,Wt,xa,lt,mt,0,Rn):ft.needsCopy?(Vt(),Oe.copyTexImage2D(Yt,Wt,nn,ft.xOffset,ft.yOffset,lt,mt,0)):Oe.texImage2D(Yt,Wt,nn,lt,mt,0,nn,$e,Rn||null)}function Cn(ft,Yt,Wt,rn,Rn){var xa=ft.element,nn=ft.data,$e=ft.internalformat,lt=ft.format,mt=ft.type,Gt=ft.width,Ut=ft.height;Ur(ft),xa?Oe.texSubImage2D(Yt,Rn,Wt,rn,lt,mt,xa):ft.compressed?Oe.compressedTexSubImage2D(Yt,Rn,Wt,rn,$e,Gt,Ut,nn):ft.needsCopy?(Vt(),Oe.copyTexSubImage2D(Yt,Rn,Wt,rn,ft.xOffset,ft.yOffset,Gt,Ut)):Oe.texSubImage2D(Yt,Rn,Wt,rn,Gt,Ut,lt,mt,nn)}var Tn=[];function Br(){return Tn.pop()||new Dr}function Kr(ft){ft.needsFree&&L.freeType(ft.data),Dr.call(ft),Tn.push(ft)}function Ln(){fr.call(this),this.genMipmaps=!1,this.mipmapHint=qi,this.mipmask=0,this.images=Array(16)}function Dn(ft,Yt,Wt){var rn=ft.images[0]=Br();ft.mipmask=1,rn.width=ft.width=Yt,rn.height=ft.height=Wt,rn.channels=ft.channels=4}function zn(ft,Yt){var Wt=null;if(Hl(Yt))Wt=ft.images[0]=Br(),ar(Wt,ft),Lr(Wt,Yt),ft.mipmask=1;else if(Vr(ft,Yt),Array.isArray(Yt.mipmap))for(var rn=Yt.mipmap,Rn=0;Rn<rn.length;++Rn)Wt=ft.images[Rn]=Br(),ar(Wt,ft),Wt.width>>=Rn,Wt.height>>=Rn,Lr(Wt,rn[Rn]),ft.mipmask|=1<<Rn;else Wt=ft.images[0]=Br(),ar(Wt,ft),Lr(Wt,Yt),ft.mipmask=1;ar(ft,ft.images[0]),ft.compressed&&(ft.internalformat===ea||ft.internalformat===Kn||ft.internalformat===Ta||ft.internalformat)}function Ca(ft,Yt){for(var Wt=ft.images,rn=0;rn<Wt.length;++rn){if(!Wt[rn])return;zr(Wt[rn],Yt,rn)}}var qa=[];function Vn(){var ft=qa.pop()||new Ln;fr.call(ft),ft.mipmask=0;for(var Yt=0;Yt<16;++Yt)ft.images[Yt]=null;return ft}function ai(ft){for(var Yt=ft.images,Wt=0;Wt<Yt.length;++Wt)Yt[Wt]&&Kr(Yt[Wt]),Yt[Wt]=null;qa.push(ft)}function pa(){this.minFilter=Ti,this.magFilter=Ti,this.wrapS=In,this.wrapT=In,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=qi}function Xa(ft,Yt){if("min"in Yt){var Wt=Yt.min;ft.minFilter=Rr[Wt],jl.indexOf(ft.minFilter)>=0&&!("faces"in Yt)&&(ft.genMipmaps=!0)}if("mag"in Yt){var rn=Yt.mag;ft.magFilter=wr[rn]}var Rn=ft.wrapS,xa=ft.wrapT;if("wrap"in Yt){var nn=Yt.wrap;typeof nn=="string"?Rn=xa=_r[nn]:Array.isArray(nn)&&(Rn=_r[nn[0]],xa=_r[nn[1]])}else{if("wrapS"in Yt){var $e=Yt.wrapS;Rn=_r[$e]}if("wrapT"in Yt){var lt=Yt.wrapT;xa=_r[lt]}}if(ft.wrapS=Rn,ft.wrapT=xa,"anisotropic"in Yt&&(Yt.anisotropic,ft.anisotropic=Yt.anisotropic),"mipmap"in Yt){var mt=!1;switch(typeof Yt.mipmap){case"string":ft.mipmapHint=gr[Yt.mipmap],ft.genMipmaps=!0,mt=!0;break;case"boolean":mt=ft.genMipmaps=Yt.mipmap;break;case"object":ft.genMipmaps=!1,mt=!0;break}mt&&!("min"in Yt)&&(ft.minFilter=oi)}}function vi(ft,Yt){Oe.texParameteri(Yt,mi,ft.minFilter),Oe.texParameteri(Yt,Ka,ft.magFilter),Oe.texParameteri(Yt,ra,ft.wrapS),Oe.texParameteri(Yt,ma,ft.wrapT),it.ext_texture_filter_anisotropic&&Oe.texParameteri(Yt,eu,ft.anisotropic),ft.genMipmaps&&(Oe.hint(Vi,ft.mipmapHint),Oe.generateMipmap(Yt))}var si=0,ja={},Wa=dt.maxTextureUnits,Ya=Array(Wa).map(function(){return null});function En(ft){fr.call(this),this.mipmask=0,this.internalformat=Fn,this.id=si++,this.refCount=1,this.target=ft,this.texture=Oe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new pa,Jt.profile&&(this.stats={size:0})}function Qa(ft){Oe.activeTexture(ao),Oe.bindTexture(ft.target,ft.texture)}function ga(){var ft=Ya[0];ft?Oe.bindTexture(ft.target,ft.texture):Oe.bindTexture(Mr,null)}function ui(ft){var Yt=ft.texture,Wt=ft.unit,rn=ft.target;Wt>=0&&(Oe.activeTexture(ao+Wt),Oe.bindTexture(rn,null),Ya[Wt]=null),Oe.deleteTexture(Yt),ft.texture=null,ft.params=null,ft.pixels=null,ft.refCount=0,delete ja[ft.id],er.textureCount--}i(En.prototype,{bind:function(){var ft=this;ft.bindCount+=1;var Yt=ft.unit;if(Yt<0){for(var Wt=0;Wt<Wa;++Wt){var rn=Ya[Wt];if(rn){if(rn.bindCount>0)continue;rn.unit=-1}Ya[Wt]=ft,Yt=Wt;break}Jt.profile&&er.maxTextureUnits<Yt+1&&(er.maxTextureUnits=Yt+1),ft.unit=Yt,Oe.activeTexture(ao+Yt),Oe.bindTexture(ft.target,ft.texture)}return Yt},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ui(this)}});function ci(ft,Yt){var Wt=new En(Mr);ja[Wt.id]=Wt,er.textureCount++;function rn(nn,$e){var lt=Wt.texInfo;pa.call(lt);var mt=Vn();return typeof nn=="number"?typeof $e=="number"?Dn(mt,nn|0,$e|0):Dn(mt,nn|0,nn|0):nn?(Xa(lt,nn),zn(mt,nn)):Dn(mt,1,1),lt.genMipmaps&&(mt.mipmask=(mt.width<<1)-1),Wt.mipmask=mt.mipmask,ar(Wt,mt),Wt.internalformat=mt.internalformat,rn.width=mt.width,rn.height=mt.height,Qa(Wt),Ca(mt,Mr),vi(lt,Mr),ga(),ai(mt),Jt.profile&&(Wt.stats.size=el(Wt.internalformat,Wt.type,mt.width,mt.height,lt.genMipmaps,!1)),rn.format=vr[Wt.internalformat],rn.type=Or[Wt.type],rn.mag=ur[lt.magFilter],rn.min=Hr[lt.minFilter],rn.wrapS=Nr[lt.wrapS],rn.wrapT=Nr[lt.wrapT],rn}function Rn(nn,$e,lt,mt){var Gt=$e|0,Ut=lt|0,jt=mt|0,Ft=Br();return ar(Ft,Wt),Ft.width=0,Ft.height=0,Lr(Ft,nn),Ft.width=Ft.width||(Wt.width>>jt)-Gt,Ft.height=Ft.height||(Wt.height>>jt)-Ut,Qa(Wt),Cn(Ft,Mr,Gt,Ut,jt),ga(),Kr(Ft),rn}function xa(nn,$e){var lt=nn|0,mt=$e|0||lt;if(lt===Wt.width&&mt===Wt.height)return rn;rn.width=Wt.width=lt,rn.height=Wt.height=mt,Qa(Wt);for(var Gt=0;Wt.mipmask>>Gt;++Gt){var Ut=lt>>Gt,jt=mt>>Gt;if(!Ut||!jt)break;Oe.texImage2D(Mr,Gt,Wt.format,Ut,jt,0,Wt.format,Wt.type,null)}return ga(),Jt.profile&&(Wt.stats.size=el(Wt.internalformat,Wt.type,lt,mt,!1,!1)),rn}return rn(ft,Yt),rn.subimage=Rn,rn.resize=xa,rn._reglType="texture2d",rn._texture=Wt,Jt.profile&&(rn.stats=Wt.stats),rn.destroy=function(){Wt.decRef()},rn}function kn(ft,Yt,Wt,rn,Rn,xa){var nn=new En(Qr);ja[nn.id]=nn,er.cubeCount++;var $e=new Array(6);function lt(Ut,jt,Ft,Et,pt,wt){var ht,Ht=nn.texInfo;for(pa.call(Ht),ht=0;ht<6;++ht)$e[ht]=Vn();if(typeof Ut=="number"||!Ut){var Xt=Ut|0||1;for(ht=0;ht<6;++ht)Dn($e[ht],Xt,Xt)}else if(typeof Ut=="object")if(jt)zn($e[0],Ut),zn($e[1],jt),zn($e[2],Ft),zn($e[3],Et),zn($e[4],pt),zn($e[5],wt);else if(Xa(Ht,Ut),Vr(nn,Ut),"faces"in Ut){var hr=Ut.faces;for(ht=0;ht<6;++ht)ar($e[ht],nn),zn($e[ht],hr[ht])}else for(ht=0;ht<6;++ht)zn($e[ht],Ut);for(ar(nn,$e[0]),Ht.genMipmaps?nn.mipmask=($e[0].width<<1)-1:nn.mipmask=$e[0].mipmask,nn.internalformat=$e[0].internalformat,lt.width=$e[0].width,lt.height=$e[0].height,Qa(nn),ht=0;ht<6;++ht)Ca($e[ht],hn+ht);for(vi(Ht,Qr),ga(),Jt.profile&&(nn.stats.size=el(nn.internalformat,nn.type,lt.width,lt.height,Ht.genMipmaps,!0)),lt.format=vr[nn.internalformat],lt.type=Or[nn.type],lt.mag=ur[Ht.magFilter],lt.min=Hr[Ht.minFilter],lt.wrapS=Nr[Ht.wrapS],lt.wrapT=Nr[Ht.wrapT],ht=0;ht<6;++ht)ai($e[ht]);return lt}function mt(Ut,jt,Ft,Et,pt){var wt=Ft|0,ht=Et|0,Ht=pt|0,Xt=Br();return ar(Xt,nn),Xt.width=0,Xt.height=0,Lr(Xt,jt),Xt.width=Xt.width||(nn.width>>Ht)-wt,Xt.height=Xt.height||(nn.height>>Ht)-ht,Qa(nn),Cn(Xt,hn+Ut,wt,ht,Ht),ga(),Kr(Xt),lt}function Gt(Ut){var jt=Ut|0;if(jt!==nn.width){lt.width=nn.width=jt,lt.height=nn.height=jt,Qa(nn);for(var Ft=0;Ft<6;++Ft)for(var Et=0;nn.mipmask>>Et;++Et)Oe.texImage2D(hn+Ft,Et,nn.format,jt>>Et,jt>>Et,0,nn.format,nn.type,null);return ga(),Jt.profile&&(nn.stats.size=el(nn.internalformat,nn.type,lt.width,lt.height,!1,!0)),lt}}return lt(ft,Yt,Wt,rn,Rn,xa),lt.subimage=mt,lt.resize=Gt,lt._reglType="textureCube",lt._texture=nn,Jt.profile&&(lt.stats=nn.stats),lt.destroy=function(){nn.decRef()},lt}function $n(){for(var ft=0;ft<Wa;++ft)Oe.activeTexture(ao+ft),Oe.bindTexture(Mr,null),Ya[ft]=null;Nt(ja).forEach(ui),er.cubeCount=0,er.textureCount=0}Jt.profile&&(er.getTotalTextureSize=function(){var ft=0;return Object.keys(ja).forEach(function(Yt){ft+=ja[Yt].stats.size}),ft});function va(){for(var ft=0;ft<Wa;++ft){var Yt=Ya[ft];Yt&&(Yt.bindCount=0,Yt.unit=-1,Ya[ft]=null)}Nt(ja).forEach(function(Wt){Wt.texture=Oe.createTexture(),Oe.bindTexture(Wt.target,Wt.texture);for(var rn=0;rn<32;++rn)if(Wt.mipmask&1<<rn)if(Wt.target===Mr)Oe.texImage2D(Mr,rn,Wt.internalformat,Wt.width>>rn,Wt.height>>rn,0,Wt.internalformat,Wt.type,null);else for(var Rn=0;Rn<6;++Rn)Oe.texImage2D(hn+Rn,rn,Wt.internalformat,Wt.width>>rn,Wt.height>>rn,0,Wt.internalformat,Wt.type,null);vi(Wt.texInfo,Wt.target)})}function Ga(){for(var ft=0;ft<Wa;++ft){var Yt=Ya[ft];Yt&&(Yt.bindCount=0,Yt.unit=-1,Ya[ft]=null),Oe.activeTexture(ao+ft),Oe.bindTexture(Mr,null),Oe.bindTexture(Qr,null)}}return{create2D:ci,createCube:kn,clear:$n,getTexture:function(ft){return null},restore:va,refresh:Ga}}var Ii=36161,tl=32854,cu=32855,fu=36194,Yl=33189,du=36168,hu=34041,pu=35907,Gl=34836,gu=34842,yu=34843,gi=[];gi[tl]=2,gi[cu]=2,gi[fu]=2,gi[Yl]=2,gi[du]=1,gi[hu]=4,gi[pu]=4,gi[Gl]=16,gi[gu]=8,gi[yu]=6;function vu(Oe,it,dt){return gi[Oe]*it*dt}var Wc=function(Oe,it,dt,Vt,lr){var er={rgba4:tl,rgb565:fu,"rgb5 a1":cu,depth:Yl,stencil:du,"depth stencil":hu};it.ext_srgb&&(er.srgba=pu),it.ext_color_buffer_half_float&&(er.rgba16f=gu,er.rgb16f=yu),it.webgl_color_buffer_float&&(er.rgba32f=Gl);var Jt=[];Object.keys(er).forEach(function(Sr){var dr=er[Sr];Jt[dr]=Sr});var gr=0,_r={};function wr(Sr){this.id=gr++,this.refCount=1,this.renderbuffer=Sr,this.format=tl,this.width=0,this.height=0,lr.profile&&(this.stats={size:0})}wr.prototype.decRef=function(){--this.refCount<=0&&Rr(this)};function Rr(Sr){var dr=Sr.renderbuffer;Oe.bindRenderbuffer(Ii,null),Oe.deleteRenderbuffer(dr),Sr.renderbuffer=null,Sr.refCount=0,delete _r[Sr.id],Vt.renderbufferCount--}function cn(Sr,dr){var Pt=new wr(Oe.createRenderbuffer());_r[Pt.id]=Pt,Vt.renderbufferCount++;function $t(Or,ur){var Hr=0,Nr=0,sn=tl;if(typeof Or=="object"&&Or){var fr=Or;if("shape"in fr){var ar=fr.shape;Hr=ar[0]|0,Nr=ar[1]|0}else"radius"in fr&&(Hr=Nr=fr.radius|0),"width"in fr&&(Hr=fr.width|0),"height"in fr&&(Nr=fr.height|0);"format"in fr&&(sn=er[fr.format])}else typeof Or=="number"?(Hr=Or|0,typeof ur=="number"?Nr=ur|0:Nr=Hr):Or||(Hr=Nr=1);if(!(Hr===Pt.width&&Nr===Pt.height&&sn===Pt.format))return $t.width=Pt.width=Hr,$t.height=Pt.height=Nr,Pt.format=sn,Oe.bindRenderbuffer(Ii,Pt.renderbuffer),Oe.renderbufferStorage(Ii,sn,Hr,Nr),lr.profile&&(Pt.stats.size=vu(Pt.format,Pt.width,Pt.height)),$t.format=Jt[Pt.format],$t}function vr(Or,ur){var Hr=Or|0,Nr=ur|0||Hr;return Hr===Pt.width&&Nr===Pt.height||($t.width=Pt.width=Hr,$t.height=Pt.height=Nr,Oe.bindRenderbuffer(Ii,Pt.renderbuffer),Oe.renderbufferStorage(Ii,Pt.format,Hr,Nr),lr.profile&&(Pt.stats.size=vu(Pt.format,Pt.width,Pt.height))),$t}return $t(Sr,dr),$t.resize=vr,$t._reglType="renderbuffer",$t._renderbuffer=Pt,lr.profile&&($t.stats=Pt.stats),$t.destroy=function(){Pt.decRef()},$t}lr.profile&&(Vt.getTotalRenderbufferSize=function(){var Sr=0;return Object.keys(_r).forEach(function(dr){Sr+=_r[dr].stats.size}),Sr});function Zr(){Nt(_r).forEach(function(Sr){Sr.renderbuffer=Oe.createRenderbuffer(),Oe.bindRenderbuffer(Ii,Sr.renderbuffer),Oe.renderbufferStorage(Ii,Sr.format,Sr.width,Sr.height)}),Oe.bindRenderbuffer(Ii,null)}return{create:cn,clear:function(){Nt(_r).forEach(Rr)},restore:Zr}},bi=36160,Jl=36161,so=3553,mu=34069,uo=36064,co=36096,yi=36128,xu=33306,Yc=36193,Gc=5121,Jc=5126,bu=6407,Zc=6408,Zl=[];Zl[Zc]=4,Zl[bu]=3;var rl=[];rl[Gc]=1,rl[Jc]=4,rl[Yc]=2;function Kc(Oe,it,dt,Vt,lr,er){var Jt={cur:null,next:null,dirty:!1,setFBO:null},gr=["rgba"],_r=["rgba4","rgb565","rgb5 a1"];it.ext_srgb&&_r.push("srgba"),it.ext_color_buffer_half_float&&_r.push("rgba16f","rgb16f"),it.webgl_color_buffer_float&&_r.push("rgba32f");var wr=["uint8"];it.oes_texture_half_float&&wr.push("half float","float16"),it.oes_texture_float&&wr.push("float","float32");function Rr(Dr,Lr,zr){this.target=Dr,this.texture=Lr,this.renderbuffer=zr;var Cn=0,Tn=0;Lr?(Cn=Lr.width,Tn=Lr.height):zr&&(Cn=zr.width,Tn=zr.height),this.width=Cn,this.height=Tn}function cn(Dr){Dr&&(Dr.texture&&Dr.texture._texture.decRef(),Dr.renderbuffer&&Dr.renderbuffer._renderbuffer.decRef())}function Zr(Dr,Lr,zr){if(Dr)if(Dr.texture){var Cn=Dr.texture._texture;Math.max(1,Cn.width),Math.max(1,Cn.height),Cn.refCount+=1}else{var Tn=Dr.renderbuffer._renderbuffer;Tn.refCount+=1}}function Sr(Dr,Lr){Lr&&(Lr.texture?Oe.framebufferTexture2D(bi,Dr,Lr.target,Lr.texture._texture.texture,0):Oe.framebufferRenderbuffer(bi,Dr,Jl,Lr.renderbuffer._renderbuffer.renderbuffer))}function dr(Dr){var Lr=so,zr=null,Cn=null,Tn=Dr;typeof Dr=="object"&&(Tn=Dr.data,"target"in Dr&&(Lr=Dr.target|0));var Br=Tn._reglType;return Br==="texture2d"||Br==="textureCube"?zr=Tn:Br==="renderbuffer"&&(Cn=Tn,Lr=Jl),new Rr(Lr,zr,Cn)}function Pt(Dr,Lr,zr,Cn,Tn){if(zr){var Br=Vt.create2D({width:Dr,height:Lr,format:Cn,type:Tn});return Br._texture.refCount=0,new Rr(so,Br,null)}else{var Kr=lr.create({width:Dr,height:Lr,format:Cn});return Kr._renderbuffer.refCount=0,new Rr(Jl,null,Kr)}}function $t(Dr){return Dr&&(Dr.texture||Dr.renderbuffer)}function vr(Dr,Lr,zr){Dr&&(Dr.texture?Dr.texture.resize(Lr,zr):Dr.renderbuffer&&Dr.renderbuffer.resize(Lr,zr),Dr.width=Lr,Dr.height=zr)}var Or=0,ur={};function Hr(){this.id=Or++,ur[this.id]=this,this.framebuffer=Oe.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Nr(Dr){Dr.colorAttachments.forEach(cn),cn(Dr.depthAttachment),cn(Dr.stencilAttachment),cn(Dr.depthStencilAttachment)}function sn(Dr){var Lr=Dr.framebuffer;Oe.deleteFramebuffer(Lr),Dr.framebuffer=null,er.framebufferCount--,delete ur[Dr.id]}function fr(Dr){var Lr;Oe.bindFramebuffer(bi,Dr.framebuffer);var zr=Dr.colorAttachments;for(Lr=0;Lr<zr.length;++Lr)Sr(uo+Lr,zr[Lr]);for(Lr=zr.length;Lr<dt.maxColorAttachments;++Lr)Oe.framebufferTexture2D(bi,uo+Lr,so,null,0);Oe.framebufferTexture2D(bi,xu,so,null,0),Oe.framebufferTexture2D(bi,co,so,null,0),Oe.framebufferTexture2D(bi,yi,so,null,0),Sr(co,Dr.depthAttachment),Sr(yi,Dr.stencilAttachment),Sr(xu,Dr.depthStencilAttachment),Oe.checkFramebufferStatus(bi),Oe.isContextLost(),Oe.bindFramebuffer(bi,Jt.next?Jt.next.framebuffer:null),Jt.cur=Jt.next,Oe.getError()}function ar(Dr,Lr){var zr=new Hr;er.framebufferCount++;function Cn(Br,Kr){var Ln,Dn=0,zn=0,Ca=!0,qa=!0,Vn=null,ai=!0,pa="rgba",Xa="uint8",vi=1,si=null,ja=null,Wa=null,Ya=!1;if(typeof Br=="number")Dn=Br|0,zn=Kr|0||Dn;else if(!Br)Dn=zn=1;else{var En=Br;if("shape"in En){var Qa=En.shape;Dn=Qa[0],zn=Qa[1]}else"radius"in En&&(Dn=zn=En.radius),"width"in En&&(Dn=En.width),"height"in En&&(zn=En.height);("color"in En||"colors"in En)&&(Vn=En.color||En.colors,Array.isArray(Vn)),Vn||("colorCount"in En&&(vi=En.colorCount|0),"colorTexture"in En&&(ai=!!En.colorTexture,pa="rgba4"),"colorType"in En&&(Xa=En.colorType,ai||(Xa==="half float"||Xa==="float16"?pa="rgba16f":(Xa==="float"||Xa==="float32")&&(pa="rgba32f"))),"colorFormat"in En&&(pa=En.colorFormat,gr.indexOf(pa)>=0?ai=!0:_r.indexOf(pa)>=0&&(ai=!1))),("depthTexture"in En||"depthStencilTexture"in En)&&(Ya=!!(En.depthTexture||En.depthStencilTexture)),"depth"in En&&(typeof En.depth=="boolean"?Ca=En.depth:(si=En.depth,qa=!1)),"stencil"in En&&(typeof En.stencil=="boolean"?qa=En.stencil:(ja=En.stencil,Ca=!1)),"depthStencil"in En&&(typeof En.depthStencil=="boolean"?Ca=qa=En.depthStencil:(Wa=En.depthStencil,Ca=!1,qa=!1))}var ga=null,ui=null,ci=null,kn=null;if(Array.isArray(Vn))ga=Vn.map(dr);else if(Vn)ga=[dr(Vn)];else for(ga=new Array(vi),Ln=0;Ln<vi;++Ln)ga[Ln]=Pt(Dn,zn,ai,pa,Xa);for(Dn=Dn||ga[0].width,zn=zn||ga[0].height,si?ui=dr(si):Ca&&!qa&&(ui=Pt(Dn,zn,Ya,"depth","uint32")),ja?ci=dr(ja):qa&&!Ca&&(ci=Pt(Dn,zn,!1,"stencil","uint8")),Wa?kn=dr(Wa):!si&&!ja&&qa&&Ca&&(kn=Pt(Dn,zn,Ya,"depth stencil","depth stencil")),Ln=0;Ln<ga.length;++Ln)Zr(ga[Ln]),ga[Ln]&&ga[Ln].texture&&Zl[ga[Ln].texture._texture.format]*rl[ga[Ln].texture._texture.type];return Zr(ui),Zr(ci),Zr(kn),Nr(zr),zr.width=Dn,zr.height=zn,zr.colorAttachments=ga,zr.depthAttachment=ui,zr.stencilAttachment=ci,zr.depthStencilAttachment=kn,Cn.color=ga.map($t),Cn.depth=$t(ui),Cn.stencil=$t(ci),Cn.depthStencil=$t(kn),Cn.width=zr.width,Cn.height=zr.height,fr(zr),Cn}function Tn(Br,Kr){var Ln=Math.max(Br|0,1),Dn=Math.max(Kr|0||Ln,1);if(Ln===zr.width&&Dn===zr.height)return Cn;for(var zn=zr.colorAttachments,Ca=0;Ca<zn.length;++Ca)vr(zn[Ca],Ln,Dn);return vr(zr.depthAttachment,Ln,Dn),vr(zr.stencilAttachment,Ln,Dn),vr(zr.depthStencilAttachment,Ln,Dn),zr.width=Cn.width=Ln,zr.height=Cn.height=Dn,fr(zr),Cn}return Cn(Dr,Lr),i(Cn,{resize:Tn,_reglType:"framebuffer",_framebuffer:zr,destroy:function(){sn(zr),Nr(zr)},use:function(Br){Jt.setFBO({framebuffer:Cn},Br)}})}function Vr(Dr){var Lr=Array(6);function zr(Tn){var Br,Kr={color:null},Ln=0,Dn=null,zn="rgba",Ca="uint8",qa=1;if(typeof Tn=="number")Ln=Tn|0;else if(!Tn)Ln=1;else{var Vn=Tn;if("shape"in Vn){var ai=Vn.shape;Ln=ai[0]}else"radius"in Vn&&(Ln=Vn.radius|0),"width"in Vn?(Ln=Vn.width|0,"height"in Vn):"height"in Vn&&(Ln=Vn.height|0);("color"in Vn||"colors"in Vn)&&(Dn=Vn.color||Vn.colors,Array.isArray(Dn)),Dn||("colorCount"in Vn&&(qa=Vn.colorCount|0),"colorType"in Vn&&(Ca=Vn.colorType),"colorFormat"in Vn&&(zn=Vn.colorFormat)),"depth"in Vn&&(Kr.depth=Vn.depth),"stencil"in Vn&&(Kr.stencil=Vn.stencil),"depthStencil"in Vn&&(Kr.depthStencil=Vn.depthStencil)}var pa;if(Dn)if(Array.isArray(Dn))for(pa=[],Br=0;Br<Dn.length;++Br)pa[Br]=Dn[Br];else pa=[Dn];else{pa=Array(qa);var Xa={radius:Ln,format:zn,type:Ca};for(Br=0;Br<qa;++Br)pa[Br]=Vt.createCube(Xa)}for(Kr.color=Array(pa.length),Br=0;Br<pa.length;++Br){var vi=pa[Br];Ln=Ln||vi.width,Kr.color[Br]={target:mu,data:pa[Br]}}for(Br=0;Br<6;++Br){for(var si=0;si<pa.length;++si)Kr.color[si].target=mu+Br;Br>0&&(Kr.depth=Lr[0].depth,Kr.stencil=Lr[0].stencil,Kr.depthStencil=Lr[0].depthStencil),Lr[Br]?Lr[Br](Kr):Lr[Br]=ar(Kr)}return i(zr,{width:Ln,height:Ln,color:pa})}function Cn(Tn){var Br,Kr=Tn|0;if(Kr===zr.width)return zr;var Ln=zr.color;for(Br=0;Br<Ln.length;++Br)Ln[Br].resize(Kr);for(Br=0;Br<6;++Br)Lr[Br].resize(Kr);return zr.width=zr.height=Kr,zr}return zr(Dr),i(zr,{faces:Lr,resize:Cn,_reglType:"framebufferCube",destroy:function(){Lr.forEach(function(Tn){Tn.destroy()})}})}function Ur(){Jt.cur=null,Jt.next=null,Jt.dirty=!0,Nt(ur).forEach(function(Dr){Dr.framebuffer=Oe.createFramebuffer(),fr(Dr)})}return i(Jt,{getFramebuffer:function(Dr){if(typeof Dr=="function"&&Dr._reglType==="framebuffer"){var Lr=Dr._framebuffer;if(Lr instanceof Hr)return Lr}return null},create:ar,createCube:Vr,clear:function(){Nt(ur).forEach(sn)},restore:Ur})}var $c=5126,nl=34962,fo=34963;function Kl(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=$c,this.offset=0,this.stride=0,this.divisor=0}function Xc(Oe,it,dt,Vt,lr,er,Jt){for(var gr=dt.maxAttributes,_r=new Array(gr),wr=0;wr<gr;++wr)_r[wr]=new Kl;var Rr=0,cn={},Zr={Record:Kl,scope:{},state:_r,currentVAO:null,targetVAO:null,restore:dr()?Nr:function(){},createVAO:sn,getVAO:$t,destroyBuffer:Sr,setVAO:dr()?vr:Or,clear:dr()?ur:function(){}};function Sr(fr){for(var ar=0;ar<_r.length;++ar){var Vr=_r[ar];Vr.buffer===fr&&(Oe.disableVertexAttribArray(ar),Vr.buffer=null)}}function dr(){return it.oes_vertex_array_object}function Pt(){return it.angle_instanced_arrays}function $t(fr){return typeof fr=="function"&&fr._vao?fr._vao:null}function vr(fr){if(fr!==Zr.currentVAO){var ar=dr();fr?ar.bindVertexArrayOES(fr.vao):ar.bindVertexArrayOES(null),Zr.currentVAO=fr}}function Or(fr){if(fr!==Zr.currentVAO){if(fr)fr.bindAttrs();else{for(var ar=Pt(),Vr=0;Vr<_r.length;++Vr){var Ur=_r[Vr];Ur.buffer?(Oe.enableVertexAttribArray(Vr),Ur.buffer.bind(),Oe.vertexAttribPointer(Vr,Ur.size,Ur.type,Ur.normalized,Ur.stride,Ur.offfset),ar&&Ur.divisor&&ar.vertexAttribDivisorANGLE(Vr,Ur.divisor)):(Oe.disableVertexAttribArray(Vr),Oe.vertexAttrib4f(Vr,Ur.x,Ur.y,Ur.z,Ur.w))}Jt.elements?Oe.bindBuffer(fo,Jt.elements.buffer.buffer):Oe.bindBuffer(fo,null)}Zr.currentVAO=fr}}function ur(){Nt(cn).forEach(function(fr){fr.destroy()})}function Hr(){this.id=++Rr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var fr=dr();fr?this.vao=fr.createVertexArrayOES():this.vao=null,cn[this.id]=this,this.buffers=[]}Hr.prototype.bindAttrs=function(){for(var fr=Pt(),ar=this.attributes,Vr=0;Vr<ar.length;++Vr){var Ur=ar[Vr];Ur.buffer?(Oe.enableVertexAttribArray(Vr),Oe.bindBuffer(nl,Ur.buffer.buffer),Oe.vertexAttribPointer(Vr,Ur.size,Ur.type,Ur.normalized,Ur.stride,Ur.offset),fr&&Ur.divisor&&fr.vertexAttribDivisorANGLE(Vr,Ur.divisor)):(Oe.disableVertexAttribArray(Vr),Oe.vertexAttrib4f(Vr,Ur.x,Ur.y,Ur.z,Ur.w))}for(var Dr=ar.length;Dr<gr;++Dr)Oe.disableVertexAttribArray(Dr);var Lr=er.getElements(this.elements);Lr?Oe.bindBuffer(fo,Lr.buffer.buffer):Oe.bindBuffer(fo,null)},Hr.prototype.refresh=function(){var fr=dr();fr&&(fr.bindVertexArrayOES(this.vao),this.bindAttrs(),Zr.currentVAO=null,fr.bindVertexArrayOES(null))},Hr.prototype.destroy=function(){if(this.vao){var fr=dr();this===Zr.currentVAO&&(Zr.currentVAO=null,fr.bindVertexArrayOES(null)),fr.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cn[this.id]&&(delete cn[this.id],Vt.vaoCount-=1)};function Nr(){var fr=dr();fr&&Nt(cn).forEach(function(ar){ar.refresh()})}function sn(fr){var ar=new Hr;Vt.vaoCount+=1;function Vr(Ur){var Dr;if(Array.isArray(Ur))Dr=Ur,ar.elements&&ar.ownsElements&&ar.elements.destroy(),ar.elements=null,ar.ownsElements=!1,ar.offset=0,ar.count=0,ar.instances=-1,ar.primitive=4;else{if(Ur.elements){var Lr=Ur.elements;ar.ownsElements?typeof Lr=="function"&&Lr._reglType==="elements"?(ar.elements.destroy(),ar.ownsElements=!1):(ar.elements(Lr),ar.ownsElements=!1):er.getElements(Ur.elements)?(ar.elements=Ur.elements,ar.ownsElements=!1):(ar.elements=er.create(Ur.elements),ar.ownsElements=!0)}else ar.elements=null,ar.ownsElements=!1;Dr=Ur.attributes,ar.offset=0,ar.count=-1,ar.instances=-1,ar.primitive=4,ar.elements&&(ar.count=ar.elements._elements.vertCount,ar.primitive=ar.elements._elements.primType),"offset"in Ur&&(ar.offset=Ur.offset|0),"count"in Ur&&(ar.count=Ur.count|0),"instances"in Ur&&(ar.instances=Ur.instances|0),"primitive"in Ur&&(ar.primitive=oe[Ur.primitive])}var zr={},Cn=ar.attributes;Cn.length=Dr.length;for(var Tn=0;Tn<Dr.length;++Tn){var Br=Dr[Tn],Kr=Cn[Tn]=new Kl,Ln=Br.data||Br;if(Array.isArray(Ln)||It(Ln)||At(Ln)){var Dn;ar.buffers[Tn]&&(Dn=ar.buffers[Tn],It(Ln)&&Dn._buffer.byteLength>=Ln.byteLength?Dn.subdata(Ln):(Dn.destroy(),ar.buffers[Tn]=null)),ar.buffers[Tn]||(Dn=ar.buffers[Tn]=lr.create(Br,nl,!1,!0)),Kr.buffer=lr.getBuffer(Dn),Kr.size=Kr.buffer.dimension|0,Kr.normalized=!1,Kr.type=Kr.buffer.dtype,Kr.offset=0,Kr.stride=0,Kr.divisor=0,Kr.state=1,zr[Tn]=1}else lr.getBuffer(Br)?(Kr.buffer=lr.getBuffer(Br),Kr.size=Kr.buffer.dimension|0,Kr.normalized=!1,Kr.type=Kr.buffer.dtype,Kr.offset=0,Kr.stride=0,Kr.divisor=0,Kr.state=1):lr.getBuffer(Br.buffer)?(Kr.buffer=lr.getBuffer(Br.buffer),Kr.size=(+Br.size||Kr.buffer.dimension)|0,Kr.normalized=!!Br.normalized||!1,"type"in Br?Kr.type=tr[Br.type]:Kr.type=Kr.buffer.dtype,Kr.offset=(Br.offset||0)|0,Kr.stride=(Br.stride||0)|0,Kr.divisor=(Br.divisor||0)|0,Kr.state=1):"x"in Br&&(Kr.x=+Br.x||0,Kr.y=+Br.y||0,Kr.z=+Br.z||0,Kr.w=+Br.w||0,Kr.state=2)}for(var zn=0;zn<ar.buffers.length;++zn)!zr[zn]&&ar.buffers[zn]&&(ar.buffers[zn].destroy(),ar.buffers[zn]=null);return ar.refresh(),Vr}return Vr.destroy=function(){for(var Ur=0;Ur<ar.buffers.length;++Ur)ar.buffers[Ur]&&ar.buffers[Ur].destroy();ar.buffers.length=0,ar.ownsElements&&(ar.elements.destroy(),ar.elements=null,ar.ownsElements=!1),ar.destroy()},Vr._vao=ar,Vr._reglType="vao",Vr(fr)}return Zr}var _u=35632,Qc=35633,wu=35718,ef=35721;function tf(Oe,it,dt,Vt){var lr={},er={};function Jt(Pt,$t,vr,Or){this.name=Pt,this.id=$t,this.location=vr,this.info=Or}function gr(Pt,$t){for(var vr=0;vr<Pt.length;++vr)if(Pt[vr].id===$t.id){Pt[vr].location=$t.location;return}Pt.push($t)}function _r(Pt,$t,vr){var Or=Pt===_u?lr:er,ur=Or[$t];if(!ur){var Hr=it.str($t);ur=Oe.createShader(Pt),Oe.shaderSource(ur,Hr),Oe.compileShader(ur),Or[$t]=ur}return ur}var wr={},Rr=[],cn=0;function Zr(Pt,$t){this.id=cn++,this.fragId=Pt,this.vertId=$t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Vt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Sr(Pt,$t,vr){var Or,ur,Hr=_r(_u,Pt.fragId),Nr=_r(Qc,Pt.vertId),sn=Pt.program=Oe.createProgram();if(Oe.attachShader(sn,Hr),Oe.attachShader(sn,Nr),vr)for(Or=0;Or<vr.length;++Or){var fr=vr[Or];Oe.bindAttribLocation(sn,fr[0],fr[1])}Oe.linkProgram(sn);var ar=Oe.getProgramParameter(sn,wu);Vt.profile&&(Pt.stats.uniformsCount=ar);var Vr=Pt.uniforms;for(Or=0;Or<ar;++Or)if(ur=Oe.getActiveUniform(sn,Or),ur)if(ur.size>1)for(var Ur=0;Ur<ur.size;++Ur){var Dr=ur.name.replace("[0]","["+Ur+"]");gr(Vr,new Jt(Dr,it.id(Dr),Oe.getUniformLocation(sn,Dr),ur))}else gr(Vr,new Jt(ur.name,it.id(ur.name),Oe.getUniformLocation(sn,ur.name),ur));var Lr=Oe.getProgramParameter(sn,ef);Vt.profile&&(Pt.stats.attributesCount=Lr);var zr=Pt.attributes;for(Or=0;Or<Lr;++Or)ur=Oe.getActiveAttrib(sn,Or),ur&&gr(zr,new Jt(ur.name,it.id(ur.name),Oe.getAttribLocation(sn,ur.name),ur))}Vt.profile&&(dt.getMaxUniformsCount=function(){var Pt=0;return Rr.forEach(function($t){$t.stats.uniformsCount>Pt&&(Pt=$t.stats.uniformsCount)}),Pt},dt.getMaxAttributesCount=function(){var Pt=0;return Rr.forEach(function($t){$t.stats.attributesCount>Pt&&(Pt=$t.stats.attributesCount)}),Pt});function dr(){lr={},er={};for(var Pt=0;Pt<Rr.length;++Pt)Sr(Rr[Pt],null,Rr[Pt].attributes.map(function($t){return[$t.location,$t.name]}))}return{clear:function(){var Pt=Oe.deleteShader.bind(Oe);Nt(lr).forEach(Pt),lr={},Nt(er).forEach(Pt),er={},Rr.forEach(function($t){Oe.deleteProgram($t.program)}),Rr.length=0,wr={},dt.shaderCount=0},program:function(Pt,$t,vr,Or){var ur=wr[$t];ur||(ur=wr[$t]={});var Hr=ur[Pt];if(Hr&&(Hr.refCount++,!Or))return Hr;var Nr=new Zr($t,Pt);return dt.shaderCount++,Sr(Nr,vr,Or),Hr||(ur[Pt]=Nr),Rr.push(Nr),i(Nr,{destroy:function(){if(Nr.refCount--,Nr.refCount<=0){Oe.deleteProgram(Nr.program);var sn=Rr.indexOf(Nr);Rr.splice(sn,1),dt.shaderCount--}ur[Nr.vertId].refCount<=0&&(Oe.deleteShader(er[Nr.vertId]),delete er[Nr.vertId],delete wr[Nr.fragId][Nr.vertId]),Object.keys(wr[Nr.fragId]).length||(Oe.deleteShader(lr[Nr.fragId]),delete lr[Nr.fragId],delete wr[Nr.fragId])}})},restore:dr,shader:_r,frag:-1,vert:-1}}var $l=6408,Xl=5121,Au=3333,Tu=5126;function rf(Oe,it,dt,Vt,lr,er,Jt){function gr(Rr){var cn;it.next===null?cn=Xl:cn=it.next.colorAttachments[0].texture._texture.type;var Zr=0,Sr=0,dr=Vt.framebufferWidth,Pt=Vt.framebufferHeight,$t=null;It(Rr)?$t=Rr:Rr&&(Zr=Rr.x|0,Sr=Rr.y|0,dr=(Rr.width||Vt.framebufferWidth-Zr)|0,Pt=(Rr.height||Vt.framebufferHeight-Sr)|0,$t=Rr.data||null),dt();var vr=dr*Pt*4;return $t||(cn===Xl?$t=new Uint8Array(vr):cn===Tu&&($t=$t||new Float32Array(vr))),Oe.pixelStorei(Au,4),Oe.readPixels(Zr,Sr,dr,Pt,$l,cn,$t),$t}function _r(Rr){var cn;return it.setFBO({framebuffer:Rr.framebuffer},function(){cn=gr(Rr)}),cn}function wr(Rr){return!Rr||!("framebuffer"in Rr)?gr(Rr):_r(Rr)}return wr}function nf(Oe){return Mu(ku(Su(Oe)))}function ku(Oe){return es(al(Ql(Oe),Oe.length*8))}function Mu(Oe){for(var it="0123456789abcdef",dt="",Vt,lr=0;lr<Oe.length;lr++)Vt=Oe.charCodeAt(lr),dt+=it.charAt(Vt>>>4&15)+it.charAt(Vt&15);return dt}function Su(Oe){for(var it="",dt=-1,Vt,lr;++dt<Oe.length;)Vt=Oe.charCodeAt(dt),lr=dt+1<Oe.length?Oe.charCodeAt(dt+1):0,55296<=Vt&&Vt<=56319&&56320<=lr&&lr<=57343&&(Vt=65536+((Vt&1023)<<10)+(lr&1023),dt++),Vt<=127?it+=String.fromCharCode(Vt):Vt<=2047?it+=String.fromCharCode(192|Vt>>>6&31,128|Vt&63):Vt<=65535?it+=String.fromCharCode(224|Vt>>>12&15,128|Vt>>>6&63,128|Vt&63):Vt<=2097151&&(it+=String.fromCharCode(240|Vt>>>18&7,128|Vt>>>12&63,128|Vt>>>6&63,128|Vt&63));return it}function Ql(Oe){for(var it=Array(Oe.length>>2),dt=0;dt<it.length;dt++)it[dt]=0;for(var dt=0;dt<Oe.length*8;dt+=8)it[dt>>5]|=(Oe.charCodeAt(dt/8)&255)<<24-dt%32;return it}function es(Oe){for(var it="",dt=0;dt<Oe.length*32;dt+=8)it+=String.fromCharCode(Oe[dt>>5]>>>24-dt%32&255);return it}function _i(Oe,it){return Oe>>>it|Oe<<32-it}function Ou(Oe,it){return Oe>>>it}function af(Oe,it,dt){return Oe&it^~Oe&dt}function of(Oe,it,dt){return Oe&it^Oe&dt^it&dt}function lf(Oe){return _i(Oe,2)^_i(Oe,13)^_i(Oe,22)}function Lu(Oe){return _i(Oe,6)^_i(Oe,11)^_i(Oe,25)}function Cu(Oe){return _i(Oe,7)^_i(Oe,18)^Ou(Oe,3)}function ts(Oe){return _i(Oe,17)^_i(Oe,19)^Ou(Oe,10)}var Du=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);function al(Oe,it){var dt=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),Vt=new Array(64),lr,er,Jt,gr,_r,wr,Rr,cn,Zr,Sr,dr,Pt;for(Oe[it>>5]|=128<<24-it%32,Oe[(it+64>>9<<4)+15]=it,Zr=0;Zr<Oe.length;Zr+=16){for(lr=dt[0],er=dt[1],Jt=dt[2],gr=dt[3],_r=dt[4],wr=dt[5],Rr=dt[6],cn=dt[7],Sr=0;Sr<64;Sr++)Sr<16?Vt[Sr]=Oe[Sr+Zr]:Vt[Sr]=Sa(Sa(Sa(ts(Vt[Sr-2]),Vt[Sr-7]),Cu(Vt[Sr-15])),Vt[Sr-16]),dr=Sa(Sa(Sa(Sa(cn,Lu(_r)),af(_r,wr,Rr)),Du[Sr]),Vt[Sr]),Pt=Sa(lf(lr),of(lr,er,Jt)),cn=Rr,Rr=wr,wr=_r,_r=Sa(gr,dr),gr=Jt,Jt=er,er=lr,lr=Sa(dr,Pt);dt[0]=Sa(lr,dt[0]),dt[1]=Sa(er,dt[1]),dt[2]=Sa(Jt,dt[2]),dt[3]=Sa(gr,dt[3]),dt[4]=Sa(_r,dt[4]),dt[5]=Sa(wr,dt[5]),dt[6]=Sa(Rr,dt[6]),dt[7]=Sa(cn,dt[7])}return dt}function Sa(Oe,it){var dt=(Oe&65535)+(it&65535),Vt=(Oe>>16)+(it>>16)+(dt>>16);return Vt<<16|dt&65535}function ho(Oe){return Array.prototype.slice.call(Oe)}function Ni(Oe){return ho(Oe).join("")}function Eu(Oe){var it=Oe&&Oe.cache,dt=0,Vt=[],lr=[],er=[];function Jt(dr,Pt){var $t=Pt&&Pt.stable;if(!$t){for(var vr=0;vr<lr.length;++vr)if(lr[vr]===dr&&!er[vr])return Vt[vr]}var Or="g"+dt++;return Vt.push(Or),lr.push(dr),er.push($t),Or}function gr(){var dr=[];function Pt(){dr.push.apply(dr,ho(arguments))}var $t=[];function vr(){var Or="v"+dt++;return $t.push(Or),arguments.length>0&&(dr.push(Or,"="),dr.push.apply(dr,ho(arguments)),dr.push(";")),Or}return i(Pt,{def:vr,toString:function(){return Ni([$t.length>0?"var "+$t.join(",")+";":"",Ni(dr)])}})}function _r(){var dr=gr(),Pt=gr(),$t=dr.toString,vr=Pt.toString;function Or(ur,Hr){Pt(ur,Hr,"=",dr.def(ur,Hr),";")}return i(function(){dr.apply(dr,ho(arguments))},{def:dr.def,entry:dr,exit:Pt,save:Or,set:function(ur,Hr,Nr){Or(ur,Hr),dr(ur,Hr,"=",Nr,";")},toString:function(){return $t()+vr()}})}function wr(){var dr=Ni(arguments),Pt=_r(),$t=_r(),vr=Pt.toString,Or=$t.toString;return i(Pt,{then:function(){return Pt.apply(Pt,ho(arguments)),this},else:function(){return $t.apply($t,ho(arguments)),this},toString:function(){var ur=Or();return ur&&(ur="else{"+ur+"}"),Ni(["if(",dr,"){",vr(),"}",ur])}})}var Rr=gr(),cn={};function Zr(dr,Pt){var $t=[];function vr(){var sn="a"+$t.length;return $t.push(sn),sn}Pt=Pt||0;for(var Or=0;Or<Pt;++Or)vr();var ur=_r(),Hr=ur.toString,Nr=cn[dr]=i(ur,{arg:vr,toString:function(){return Ni(["function(",$t.join(),"){",Hr(),"}"])}});return Nr}function Sr(){var dr=['"use strict";',Rr,"return {"];Object.keys(cn).forEach(function(Or){dr.push('"',Or,'":',cn[Or].toString(),",")}),dr.push("}");var Pt=Ni(dr).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),$t;if(it&&($t=nf(Pt),it[$t]))return it[$t].apply(null,lr);var vr=Function.apply(null,Vt.concat(Pt));return it&&(it[$t]=vr),vr.apply(null,lr)}return{global:Rr,link:Jt,block:gr,proc:Zr,scope:_r,cond:wr,compile:Sr}}var po="xyzw".split(""),Pu=5121,Yi=1,il=2,ol=0,Fo=1,Io=2,ll=3,sl=4,rs=5,No=6,ns="dither",Fu="blend.enable",Iu="blend.color",as="blend.equation",is="blend.func",os="depth.enable",ls="depth.func",ss="depth.range",us="depth.mask",cs="colorMask",Ro="cull.enable",Nu="cull.face",fs="frontFace",ul="lineWidth",ds="polygonOffset.enable",hs="polygonOffset.offset",jo="sample.alpha",zo="sample.enable",cl="sample.coverage",ps="stencil.enable",fl="stencil.mask",li="stencil.func",dl="stencil.opFront",Bo="stencil.opBack",hl="scissor.enable",go="scissor.box",Si="viewport",pl="profile",yo="framebuffer",Gi="vert",vo="frag",Ji="elements",mo="primitive",xo="count",gs="offset",ni="instances",Uo="vao",gl="Width",wi="Height",Ri=yo+gl,ji=yo+wi,sf=Si+gl,uf=Si+wi,Ru="drawingBuffer",ys=Ru+gl,vs=Ru+wi,ju=[is,as,li,dl,Bo,cl,Si,go,hs],Zi=34962,ms=34963,zu=2884,cf=3042,ff=3024,df=2960,Bu=2929,Uu=3089,yl=32823,Hu=32926,vl=32928,xs=5126,Ki=35664,wa=35665,ml=35666,zi=5124,bo=35667,Ho=35668,bs=35669,xl=35670,_o=35671,bl=35672,_s=35673,ws=35674,As=35675,Ts=35676,Vo=35678,ks=35680,Ms=4,f=1028,M=1029,Y=2304,Q=2305,ne=32775,ce=32776,me=519,ge=7680,Te=0,Ee=1,Fe=32774,Ke=513,Qe=36160,_t=36064,Ot={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},et={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},yt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},bt={cw:Y,ccw:Q};function Mt(Oe){return Array.isArray(Oe)||It(Oe)||At(Oe)}function Lt(Oe){return Oe.sort(function(it,dt){return it===Si?-1:dt===Si?1:it<dt?-1:1})}function gt(Oe,it,dt,Vt){this.thisDep=Oe,this.contextDep=it,this.propDep=dt,this.append=Vt}function Qt(Oe){return Oe&&!(Oe.thisDep||Oe.contextDep||Oe.propDep)}function pr(Oe){return new gt(!1,!1,!1,Oe)}function Tr(Oe,it){var dt=Oe.type;if(dt===ol){var Vt=Oe.data.length;return new gt(!0,Vt>=1,Vt>=2,it)}else if(dt===sl){var lr=Oe.data;return new gt(lr.thisDep,lr.contextDep,lr.propDep,it)}else{if(dt===rs)return new gt(!1,!1,!1,it);if(dt===No){for(var er=!1,Jt=!1,gr=!1,_r=0;_r<Oe.data.length;++_r){var wr=Oe.data[_r];if(wr.type===Fo)gr=!0;else if(wr.type===Io)Jt=!0;else if(wr.type===ll)er=!0;else if(wr.type===ol){er=!0;var Rr=wr.data;Rr>=1&&(Jt=!0),Rr>=2&&(gr=!0)}else wr.type===sl&&(er=er||wr.data.thisDep,Jt=Jt||wr.data.contextDep,gr=gr||wr.data.propDep)}return new gt(er,Jt,gr,it)}else return new gt(dt===ll,dt===Io,dt===Fo,it)}}var Pr=new gt(!1,!1,!1,function(){});function qr(Oe,it,dt,Vt,lr,er,Jt,gr,_r,wr,Rr,cn,Zr,Sr,dr,Pt){var $t=wr.Record,vr={add:32774,subtract:32778,"reverse subtract":32779};dt.ext_blend_minmax&&(vr.min=ne,vr.max=ce);var Or=dt.angle_instanced_arrays,ur=dt.webgl_draw_buffers,Hr=dt.oes_vertex_array_object,Nr={dirty:!0,profile:Pt.profile},sn={},fr=[],ar={},Vr={};function Ur($e){return $e.replace(".","_")}function Dr($e,lt,mt){var Gt=Ur($e);fr.push($e),sn[Gt]=Nr[Gt]=!!mt,ar[Gt]=lt}function Lr($e,lt,mt){var Gt=Ur($e);fr.push($e),Array.isArray(mt)?(Nr[Gt]=mt.slice(),sn[Gt]=mt.slice()):Nr[Gt]=sn[Gt]=mt,Vr[Gt]=lt}function zr($e){return!!isNaN($e)}Dr(ns,ff),Dr(Fu,cf),Lr(Iu,"blendColor",[0,0,0,0]),Lr(as,"blendEquationSeparate",[Fe,Fe]),Lr(is,"blendFuncSeparate",[Ee,Te,Ee,Te]),Dr(os,Bu,!0),Lr(ls,"depthFunc",Ke),Lr(ss,"depthRange",[0,1]),Lr(us,"depthMask",!0),Lr(cs,cs,[!0,!0,!0,!0]),Dr(Ro,zu),Lr(Nu,"cullFace",M),Lr(fs,fs,Q),Lr(ul,ul,1),Dr(ds,yl),Lr(hs,"polygonOffset",[0,0]),Dr(jo,Hu),Dr(zo,vl),Lr(cl,"sampleCoverage",[1,!1]),Dr(ps,df),Lr(fl,"stencilMask",-1),Lr(li,"stencilFunc",[me,0,-1]),Lr(dl,"stencilOpSeparate",[f,ge,ge,ge]),Lr(Bo,"stencilOpSeparate",[M,ge,ge,ge]),Dr(hl,Uu),Lr(go,"scissor",[0,0,Oe.drawingBufferWidth,Oe.drawingBufferHeight]),Lr(Si,Si,[0,0,Oe.drawingBufferWidth,Oe.drawingBufferHeight]);var Cn={gl:Oe,context:Zr,strings:it,next:sn,current:Nr,draw:cn,elements:er,buffer:lr,shader:Rr,attributes:wr.state,vao:wr,uniforms:_r,framebuffer:gr,extensions:dt,timer:Sr,isBufferArgs:Mt},Tn={primTypes:oe,compareFuncs:et,blendFuncs:Ot,blendEquations:vr,stencilOps:yt,glTypes:tr,orientationType:bt};ur&&(Tn.backBuffer=[M],Tn.drawBuffer=I(Vt.maxDrawbuffers,function($e){return $e===0?[0]:I($e,function(lt){return _t+lt})}));var Br=0;function Kr(){var $e=Eu({cache:dr}),lt=$e.link,mt=$e.global;$e.id=Br++,$e.batchId="0";var Gt=lt(Cn),Ut=$e.shared={props:"a0"};Object.keys(Cn).forEach(function(wt){Ut[wt]=mt.def(Gt,".",wt)});var jt=$e.next={},Ft=$e.current={};Object.keys(Vr).forEach(function(wt){Array.isArray(Nr[wt])&&(jt[wt]=mt.def(Ut.next,".",wt),Ft[wt]=mt.def(Ut.current,".",wt))});var Et=$e.constants={};Object.keys(Tn).forEach(function(wt){Et[wt]=mt.def(JSON.stringify(Tn[wt]))}),$e.invoke=function(wt,ht){switch(ht.type){case ol:var Ht=["this",Ut.context,Ut.props,$e.batchId];return wt.def(lt(ht.data),".call(",Ht.slice(0,Math.max(ht.data.length+1,4)),")");case Fo:return wt.def(Ut.props,ht.data);case Io:return wt.def(Ut.context,ht.data);case ll:return wt.def("this",ht.data);case sl:return ht.data.append($e,wt),ht.data.ref;case rs:return ht.data.toString();case No:return ht.data.map(function(Xt){return $e.invoke(wt,Xt)})}},$e.attribCache={};var pt={};return $e.scopeAttrib=function(wt){var ht=it.id(wt);if(ht in pt)return pt[ht];var Ht=wr.scope[ht];Ht||(Ht=wr.scope[ht]=new $t);var Xt=pt[ht]=lt(Ht);return Xt},$e}function Ln($e){var lt=$e.static,mt=$e.dynamic,Gt;if(pl in lt){var Ut=!!lt[pl];Gt=pr(function(Ft,Et){return Ut}),Gt.enable=Ut}else if(pl in mt){var jt=mt[pl];Gt=Tr(jt,function(Ft,Et){return Ft.invoke(Et,jt)})}return Gt}function Dn($e,lt){var mt=$e.static,Gt=$e.dynamic;if(yo in mt){var Ut=mt[yo];return Ut?(Ut=gr.getFramebuffer(Ut),pr(function(Ft,Et){var pt=Ft.link(Ut),wt=Ft.shared;Et.set(wt.framebuffer,".next",pt);var ht=wt.context;return Et.set(ht,"."+Ri,pt+".width"),Et.set(ht,"."+ji,pt+".height"),pt})):pr(function(Ft,Et){var pt=Ft.shared;Et.set(pt.framebuffer,".next","null");var wt=pt.context;return Et.set(wt,"."+Ri,wt+"."+ys),Et.set(wt,"."+ji,wt+"."+vs),"null"})}else if(yo in Gt){var jt=Gt[yo];return Tr(jt,function(Ft,Et){var pt=Ft.invoke(Et,jt),wt=Ft.shared,ht=wt.framebuffer,Ht=Et.def(ht,".getFramebuffer(",pt,")");Et.set(ht,".next",Ht);var Xt=wt.context;return Et.set(Xt,"."+Ri,Ht+"?"+Ht+".width:"+Xt+"."+ys),Et.set(Xt,"."+ji,Ht+"?"+Ht+".height:"+Xt+"."+vs),Ht})}else return null}function zn($e,lt,mt){var Gt=$e.static,Ut=$e.dynamic;function jt(pt){if(pt in Gt){var wt=Gt[pt],ht=!0,Ht=wt.x|0,Xt=wt.y|0,hr,dn;return"width"in wt?hr=wt.width|0:ht=!1,"height"in wt?dn=wt.height|0:ht=!1,new gt(!ht&&lt&&lt.thisDep,!ht&&lt&&lt.contextDep,!ht&&lt&&lt.propDep,function(un,tn){var pn=un.shared.context,en=hr;"width"in wt||(en=tn.def(pn,".",Ri,"-",Ht));var an=dn;return"height"in wt||(an=tn.def(pn,".",ji,"-",Xt)),[Ht,Xt,en,an]})}else if(pt in Ut){var ln=Ut[pt],Yr=Tr(ln,function(un,tn){var pn=un.invoke(tn,ln),en=un.shared.context,an=tn.def(pn,".x|0"),on=tn.def(pn,".y|0"),Mn=tn.def('"width" in ',pn,"?",pn,".width|0:","(",en,".",Ri,"-",an,")"),ba=tn.def('"height" in ',pn,"?",pn,".height|0:","(",en,".",ji,"-",on,")");return[an,on,Mn,ba]});return lt&&(Yr.thisDep=Yr.thisDep||lt.thisDep,Yr.contextDep=Yr.contextDep||lt.contextDep,Yr.propDep=Yr.propDep||lt.propDep),Yr}else return lt?new gt(lt.thisDep,lt.contextDep,lt.propDep,function(un,tn){var pn=un.shared.context;return[0,0,tn.def(pn,".",Ri),tn.def(pn,".",ji)]}):null}var Ft=jt(Si);if(Ft){var Et=Ft;Ft=new gt(Ft.thisDep,Ft.contextDep,Ft.propDep,function(pt,wt){var ht=Et.append(pt,wt),Ht=pt.shared.context;return wt.set(Ht,"."+sf,ht[2]),wt.set(Ht,"."+uf,ht[3]),ht})}return{viewport:Ft,scissor_box:jt(go)}}function Ca($e,lt){var mt=$e.static,Gt=typeof mt[vo]=="string"&&typeof mt[Gi]=="string";if(Gt){if(Object.keys(lt.dynamic).length>0)return null;var Ut=lt.static,jt=Object.keys(Ut);if(jt.length>0&&typeof Ut[jt[0]]=="number"){for(var Ft=[],Et=0;Et<jt.length;++Et)Ft.push([Ut[jt[Et]]|0,jt[Et]]);return Ft}}return null}function qa($e,lt,mt){var Gt=$e.static,Ut=$e.dynamic;function jt(ht){if(ht in Gt){var Ht=it.id(Gt[ht]),Xt=pr(function(){return Ht});return Xt.id=Ht,Xt}else if(ht in Ut){var hr=Ut[ht];return Tr(hr,function(dn,ln){var Yr=dn.invoke(ln,hr),un=ln.def(dn.shared.strings,".id(",Yr,")");return un})}return null}var Ft=jt(vo),Et=jt(Gi),pt=null,wt;return Qt(Ft)&&Qt(Et)?(pt=Rr.program(Et.id,Ft.id,null,mt),wt=pr(function(ht,Ht){return ht.link(pt)})):wt=new gt(Ft&&Ft.thisDep||Et&&Et.thisDep,Ft&&Ft.contextDep||Et&&Et.contextDep,Ft&&Ft.propDep||Et&&Et.propDep,function(ht,Ht){var Xt=ht.shared.shader,hr;Ft?hr=Ft.append(ht,Ht):hr=Ht.def(Xt,".",vo);var dn;Et?dn=Et.append(ht,Ht):dn=Ht.def(Xt,".",Gi);var ln=Xt+".program("+dn+","+hr;return Ht.def(ln+")")}),{frag:Ft,vert:Et,progVar:wt,program:pt}}function Vn($e,lt){var mt=$e.static,Gt=$e.dynamic,Ut={},jt=!1;function Ft(){if(Uo in mt){var tn=mt[Uo];return tn!==null&&wr.getVAO(tn)===null&&(tn=wr.createVAO(tn)),jt=!0,Ut.vao=tn,pr(function(en){var an=wr.getVAO(tn);return an?en.link(an):"null"})}else if(Uo in Gt){jt=!0;var pn=Gt[Uo];return Tr(pn,function(en,an){var on=en.invoke(an,pn);return an.def(en.shared.vao+".getVAO("+on+")")})}return null}var Et=Ft(),pt=!1;function wt(){if(Ji in mt){var tn=mt[Ji];if(Ut.elements=tn,Mt(tn)){var pn=Ut.elements=er.create(tn,!0);tn=er.getElements(pn),pt=!0}else tn&&(tn=er.getElements(tn),pt=!0);var en=pr(function(on,Mn){if(tn){var ba=on.link(tn);return on.ELEMENTS=ba,ba}return on.ELEMENTS=null,null});return en.value=tn,en}else if(Ji in Gt){pt=!0;var an=Gt[Ji];return Tr(an,function(on,Mn){var ba=on.shared,di=ba.isBufferArgs,$i=ba.elements,wo=on.invoke(Mn,an),Ao=Mn.def("null"),Ai=Mn.def(di,"(",wo,")"),Ss=on.cond(Ai).then(Ao,"=",$i,".createStream(",wo,");").else(Ao,"=",$i,".getElements(",wo,");");return Mn.entry(Ss),Mn.exit(on.cond(Ai).then($i,".destroyStream(",Ao,");")),on.ELEMENTS=Ao,Ao})}else if(jt)return new gt(Et.thisDep,Et.contextDep,Et.propDep,function(on,Mn){return Mn.def(on.shared.vao+".currentVAO?"+on.shared.elements+".getElements("+on.shared.vao+".currentVAO.elements):null")});return null}var ht=wt();function Ht(){if(mo in mt){var tn=mt[mo];return Ut.primitive=tn,pr(function(en,an){return oe[tn]})}else if(mo in Gt){var pn=Gt[mo];return Tr(pn,function(en,an){var on=en.constants.primTypes,Mn=en.invoke(an,pn);return an.def(on,"[",Mn,"]")})}else{if(pt)return Qt(ht)?ht.value?pr(function(en,an){return an.def(en.ELEMENTS,".primType")}):pr(function(){return Ms}):new gt(ht.thisDep,ht.contextDep,ht.propDep,function(en,an){var on=en.ELEMENTS;return an.def(on,"?",on,".primType:",Ms)});if(jt)return new gt(Et.thisDep,Et.contextDep,Et.propDep,function(en,an){return an.def(en.shared.vao+".currentVAO?"+en.shared.vao+".currentVAO.primitive:"+Ms)})}return null}function Xt(tn,pn){if(tn in mt){var en=mt[tn]|0;return pn?Ut.offset=en:Ut.instances=en,pr(function(on,Mn){return pn&&(on.OFFSET=en),en})}else if(tn in Gt){var an=Gt[tn];return Tr(an,function(on,Mn){var ba=on.invoke(Mn,an);return pn&&(on.OFFSET=ba),ba})}else if(pn){if(pt)return pr(function(on,Mn){return on.OFFSET=0,0});if(jt)return new gt(Et.thisDep,Et.contextDep,Et.propDep,function(on,Mn){return Mn.def(on.shared.vao+".currentVAO?"+on.shared.vao+".currentVAO.offset:0")})}else if(jt)return new gt(Et.thisDep,Et.contextDep,Et.propDep,function(on,Mn){return Mn.def(on.shared.vao+".currentVAO?"+on.shared.vao+".currentVAO.instances:-1")});return null}var hr=Xt(gs,!0);function dn(){if(xo in mt){var tn=mt[xo]|0;return Ut.count=tn,pr(function(){return tn})}else if(xo in Gt){var pn=Gt[xo];return Tr(pn,function(Mn,ba){var di=Mn.invoke(ba,pn);return di})}else if(pt)if(Qt(ht)){if(ht)return hr?new gt(hr.thisDep,hr.contextDep,hr.propDep,function(Mn,ba){var di=ba.def(Mn.ELEMENTS,".vertCount-",Mn.OFFSET);return di}):pr(function(Mn,ba){return ba.def(Mn.ELEMENTS,".vertCount")});var en=pr(function(){return-1});return en}else{var an=new gt(ht.thisDep||hr.thisDep,ht.contextDep||hr.contextDep,ht.propDep||hr.propDep,function(Mn,ba){var di=Mn.ELEMENTS;return Mn.OFFSET?ba.def(di,"?",di,".vertCount-",Mn.OFFSET,":-1"):ba.def(di,"?",di,".vertCount:-1")});return an}else if(jt){var on=new gt(Et.thisDep,Et.contextDep,Et.propDep,function(Mn,ba){return ba.def(Mn.shared.vao,".currentVAO?",Mn.shared.vao,".currentVAO.count:-1")});return on}return null}var ln=Ht(),Yr=dn(),un=Xt(ni,!1);return{elements:ht,primitive:ln,count:Yr,instances:un,offset:hr,vao:Et,vaoActive:jt,elementsActive:pt,static:Ut}}function ai($e,lt){var mt=$e.static,Gt=$e.dynamic,Ut={};return fr.forEach(function(jt){var Ft=Ur(jt);function Et(pt,wt){if(jt in mt){var ht=pt(mt[jt]);Ut[Ft]=pr(function(){return ht})}else if(jt in Gt){var Ht=Gt[jt];Ut[Ft]=Tr(Ht,function(Xt,hr){return wt(Xt,hr,Xt.invoke(hr,Ht))})}}switch(jt){case Ro:case Fu:case ns:case ps:case os:case hl:case ds:case jo:case zo:case us:return Et(function(pt){return pt},function(pt,wt,ht){return ht});case ls:return Et(function(pt){return et[pt]},function(pt,wt,ht){var Ht=pt.constants.compareFuncs;return wt.def(Ht,"[",ht,"]")});case ss:return Et(function(pt){return pt},function(pt,wt,ht){var Ht=wt.def("+",ht,"[0]"),Xt=wt.def("+",ht,"[1]");return[Ht,Xt]});case is:return Et(function(pt){var wt="srcRGB"in pt?pt.srcRGB:pt.src,ht="srcAlpha"in pt?pt.srcAlpha:pt.src,Ht="dstRGB"in pt?pt.dstRGB:pt.dst,Xt="dstAlpha"in pt?pt.dstAlpha:pt.dst;return[Ot[wt],Ot[Ht],Ot[ht],Ot[Xt]]},function(pt,wt,ht){var Ht=pt.constants.blendFuncs;function Xt(pn,en){var an=wt.def('"',pn,en,'" in ',ht,"?",ht,".",pn,en,":",ht,".",pn);return an}var hr=Xt("src","RGB"),dn=Xt("dst","RGB"),ln=wt.def(Ht,"[",hr,"]"),Yr=wt.def(Ht,"[",Xt("src","Alpha"),"]"),un=wt.def(Ht,"[",dn,"]"),tn=wt.def(Ht,"[",Xt("dst","Alpha"),"]");return[ln,un,Yr,tn]});case as:return Et(function(pt){if(typeof pt=="string")return[vr[pt],vr[pt]];if(typeof pt=="object")return[vr[pt.rgb],vr[pt.alpha]]},function(pt,wt,ht){var Ht=pt.constants.blendEquations,Xt=wt.def(),hr=wt.def(),dn=pt.cond("typeof ",ht,'==="string"');return dn.then(Xt,"=",hr,"=",Ht,"[",ht,"];"),dn.else(Xt,"=",Ht,"[",ht,".rgb];",hr,"=",Ht,"[",ht,".alpha];"),wt(dn),[Xt,hr]});case Iu:return Et(function(pt){return I(4,function(wt){return+pt[wt]})},function(pt,wt,ht){return I(4,function(Ht){return wt.def("+",ht,"[",Ht,"]")})});case fl:return Et(function(pt){return pt|0},function(pt,wt,ht){return wt.def(ht,"|0")});case li:return Et(function(pt){var wt=pt.cmp||"keep",ht=pt.ref||0,Ht="mask"in pt?pt.mask:-1;return[et[wt],ht,Ht]},function(pt,wt,ht){var Ht=pt.constants.compareFuncs,Xt=wt.def('"cmp" in ',ht,"?",Ht,"[",ht,".cmp]",":",ge),hr=wt.def(ht,".ref|0"),dn=wt.def('"mask" in ',ht,"?",ht,".mask|0:-1");return[Xt,hr,dn]});case dl:case Bo:return Et(function(pt){var wt=pt.fail||"keep",ht=pt.zfail||"keep",Ht=pt.zpass||"keep";return[jt===Bo?M:f,yt[wt],yt[ht],yt[Ht]]},function(pt,wt,ht){var Ht=pt.constants.stencilOps;function Xt(hr){return wt.def('"',hr,'" in ',ht,"?",Ht,"[",ht,".",hr,"]:",ge)}return[jt===Bo?M:f,Xt("fail"),Xt("zfail"),Xt("zpass")]});case hs:return Et(function(pt){var wt=pt.factor|0,ht=pt.units|0;return[wt,ht]},function(pt,wt,ht){var Ht=wt.def(ht,".factor|0"),Xt=wt.def(ht,".units|0");return[Ht,Xt]});case Nu:return Et(function(pt){var wt=0;return pt==="front"?wt=f:pt==="back"&&(wt=M),wt},function(pt,wt,ht){return wt.def(ht,'==="front"?',f,":",M)});case ul:return Et(function(pt){return pt},function(pt,wt,ht){return ht});case fs:return Et(function(pt){return bt[pt]},function(pt,wt,ht){return wt.def(ht+'==="cw"?'+Y+":"+Q)});case cs:return Et(function(pt){return pt.map(function(wt){return!!wt})},function(pt,wt,ht){return I(4,function(Ht){return"!!"+ht+"["+Ht+"]"})});case cl:return Et(function(pt){var wt="value"in pt?pt.value:1,ht=!!pt.invert;return[wt,ht]},function(pt,wt,ht){var Ht=wt.def('"value" in ',ht,"?+",ht,".value:1"),Xt=wt.def("!!",ht,".invert");return[Ht,Xt]})}}),Ut}function pa($e,lt){var mt=$e.static,Gt=$e.dynamic,Ut={};return Object.keys(mt).forEach(function(jt){var Ft=mt[jt],Et;if(typeof Ft=="number"||typeof Ft=="boolean")Et=pr(function(){return Ft});else if(typeof Ft=="function"){var pt=Ft._reglType;pt==="texture2d"||pt==="textureCube"?Et=pr(function(wt){return wt.link(Ft)}):(pt==="framebuffer"||pt==="framebufferCube")&&(Et=pr(function(wt){return wt.link(Ft.color[0])}))}else or(Ft)&&(Et=pr(function(wt){var ht=wt.global.def("[",I(Ft.length,function(Ht){return Ft[Ht]}),"]");return ht}));Et.value=Ft,Ut[jt]=Et}),Object.keys(Gt).forEach(function(jt){var Ft=Gt[jt];Ut[jt]=Tr(Ft,function(Et,pt){return Et.invoke(pt,Ft)})}),Ut}function Xa($e,lt){var mt=$e.static,Gt=$e.dynamic,Ut={};return Object.keys(mt).forEach(function(jt){var Ft=mt[jt],Et=it.id(jt),pt=new $t;if(Mt(Ft))pt.state=Yi,pt.buffer=lr.getBuffer(lr.create(Ft,Zi,!1,!0)),pt.type=0;else{var wt=lr.getBuffer(Ft);if(wt)pt.state=Yi,pt.buffer=wt,pt.type=0;else if("constant"in Ft){var ht=Ft.constant;pt.buffer="null",pt.state=il,typeof ht=="number"?pt.x=ht:po.forEach(function(un,tn){tn<ht.length&&(pt[un]=ht[tn])})}else{Mt(Ft.buffer)?wt=lr.getBuffer(lr.create(Ft.buffer,Zi,!1,!0)):wt=lr.getBuffer(Ft.buffer);var Ht=Ft.offset|0,Xt=Ft.stride|0,hr=Ft.size|0,dn=!!Ft.normalized,ln=0;"type"in Ft&&(ln=tr[Ft.type]);var Yr=Ft.divisor|0;pt.buffer=wt,pt.state=Yi,pt.size=hr,pt.normalized=dn,pt.type=ln||wt.dtype,pt.offset=Ht,pt.stride=Xt,pt.divisor=Yr}}Ut[jt]=pr(function(un,tn){var pn=un.attribCache;if(Et in pn)return pn[Et];var en={isStream:!1};return Object.keys(pt).forEach(function(an){en[an]=pt[an]}),pt.buffer&&(en.buffer=un.link(pt.buffer),en.type=en.type||en.buffer+".dtype"),pn[Et]=en,en})}),Object.keys(Gt).forEach(function(jt){var Ft=Gt[jt];function Et(pt,wt){var ht=pt.invoke(wt,Ft),Ht=pt.shared,Xt=pt.constants,hr=Ht.isBufferArgs,dn=Ht.buffer,ln={isStream:wt.def(!1)},Yr=new $t;Yr.state=Yi,Object.keys(Yr).forEach(function(en){ln[en]=wt.def(""+Yr[en])});var un=ln.buffer,tn=ln.type;wt("if(",hr,"(",ht,")){",ln.isStream,"=true;",un,"=",dn,".createStream(",Zi,",",ht,");",tn,"=",un,".dtype;","}else{",un,"=",dn,".getBuffer(",ht,");","if(",un,"){",tn,"=",un,".dtype;",'}else if("constant" in ',ht,"){",ln.state,"=",il,";","if(typeof "+ht+'.constant === "number"){',ln[po[0]],"=",ht,".constant;",po.slice(1).map(function(en){return ln[en]}).join("="),"=0;","}else{",po.map(function(en,an){return ln[en]+"="+ht+".constant.length>"+an+"?"+ht+".constant["+an+"]:0;"}).join(""),"}}else{","if(",hr,"(",ht,".buffer)){",un,"=",dn,".createStream(",Zi,",",ht,".buffer);","}else{",un,"=",dn,".getBuffer(",ht,".buffer);","}",tn,'="type" in ',ht,"?",Xt.glTypes,"[",ht,".type]:",un,".dtype;",ln.normalized,"=!!",ht,".normalized;");function pn(en){wt(ln[en],"=",ht,".",en,"|0;")}return pn("size"),pn("offset"),pn("stride"),pn("divisor"),wt("}}"),wt.exit("if(",ln.isStream,"){",dn,".destroyStream(",un,");","}"),ln}Ut[jt]=Tr(Ft,Et)}),Ut}function vi($e){var lt=$e.static,mt=$e.dynamic,Gt={};return Object.keys(lt).forEach(function(Ut){var jt=lt[Ut];Gt[Ut]=pr(function(Ft,Et){return typeof jt=="number"||typeof jt=="boolean"?""+jt:Ft.link(jt)})}),Object.keys(mt).forEach(function(Ut){var jt=mt[Ut];Gt[Ut]=Tr(jt,function(Ft,Et){return Ft.invoke(Et,jt)})}),Gt}function si($e,lt,mt,Gt,Ut){$e.static,$e.dynamic;var jt=Ca($e,lt),Ft=Dn($e),Et=zn($e,Ft),pt=Vn($e),wt=ai($e),ht=qa($e,Ut,jt);function Ht(un){var tn=Et[un];tn&&(wt[un]=tn)}Ht(Si),Ht(Ur(go));var Xt=Object.keys(wt).length>0,hr={framebuffer:Ft,draw:pt,shader:ht,state:wt,dirty:Xt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(hr.profile=Ln($e),hr.uniforms=pa(mt),hr.drawVAO=hr.scopeVAO=pt.vao,!hr.drawVAO&&ht.program&&!jt&&dt.angle_instanced_arrays&&pt.static.elements){var dn=!0,ln=ht.program.attributes.map(function(un){var tn=lt.static[un];return dn=dn&&!!tn,tn});if(dn&&ln.length>0){var Yr=wr.getVAO(wr.createVAO({attributes:ln,elements:pt.static.elements}));hr.drawVAO=new gt(null,null,null,function(un,tn){return un.link(Yr)}),hr.useVAO=!0}}return jt?hr.useVAO=!0:hr.attributes=Xa(lt),hr.context=vi(Gt),hr}function ja($e,lt,mt){var Gt=$e.shared,Ut=Gt.context,jt=$e.scope();Object.keys(mt).forEach(function(Ft){lt.save(Ut,"."+Ft);var Et=mt[Ft],pt=Et.append($e,lt);Array.isArray(pt)?jt(Ut,".",Ft,"=[",pt.join(),"];"):jt(Ut,".",Ft,"=",pt,";")}),lt(jt)}function Wa($e,lt,mt,Gt){var Ut=$e.shared,jt=Ut.gl,Ft=Ut.framebuffer,Et;ur&&(Et=lt.def(Ut.extensions,".webgl_draw_buffers"));var pt=$e.constants,wt=pt.drawBuffer,ht=pt.backBuffer,Ht;mt?Ht=mt.append($e,lt):Ht=lt.def(Ft,".next"),Gt||lt("if(",Ht,"!==",Ft,".cur){"),lt("if(",Ht,"){",jt,".bindFramebuffer(",Qe,",",Ht,".framebuffer);"),ur&&lt(Et,".drawBuffersWEBGL(",wt,"[",Ht,".colorAttachments.length]);"),lt("}else{",jt,".bindFramebuffer(",Qe,",null);"),ur&&lt(Et,".drawBuffersWEBGL(",ht,");"),lt("}",Ft,".cur=",Ht,";"),Gt||lt("}")}function Ya($e,lt,mt){var Gt=$e.shared,Ut=Gt.gl,jt=$e.current,Ft=$e.next,Et=Gt.current,pt=Gt.next,wt=$e.cond(Et,".dirty");fr.forEach(function(ht){var Ht=Ur(ht);if(!(Ht in mt.state)){var Xt,hr;if(Ht in Ft){Xt=Ft[Ht],hr=jt[Ht];var dn=I(Nr[Ht].length,function(Yr){return wt.def(Xt,"[",Yr,"]")});wt($e.cond(dn.map(function(Yr,un){return Yr+"!=="+hr+"["+un+"]"}).join("||")).then(Ut,".",Vr[Ht],"(",dn,");",dn.map(function(Yr,un){return hr+"["+un+"]="+Yr}).join(";"),";"))}else{Xt=wt.def(pt,".",Ht);var ln=$e.cond(Xt,"!==",Et,".",Ht);wt(ln),Ht in ar?ln($e.cond(Xt).then(Ut,".enable(",ar[Ht],");").else(Ut,".disable(",ar[Ht],");"),Et,".",Ht,"=",Xt,";"):ln(Ut,".",Vr[Ht],"(",Xt,");",Et,".",Ht,"=",Xt,";")}}}),Object.keys(mt.state).length===0&&wt(Et,".dirty=false;"),lt(wt)}function En($e,lt,mt,Gt){var Ut=$e.shared,jt=$e.current,Ft=Ut.current,Et=Ut.gl,pt;Lt(Object.keys(mt)).forEach(function(wt){var ht=mt[wt];if(!(Gt&&!Gt(ht))){var Ht=ht.append($e,lt);if(ar[wt]){var Xt=ar[wt];Qt(ht)?(pt=$e.link(Ht,{stable:!0}),lt($e.cond(pt).then(Et,".enable(",Xt,");").else(Et,".disable(",Xt,");")),lt(Ft,".",wt,"=",pt,";")):(lt($e.cond(Ht).then(Et,".enable(",Xt,");").else(Et,".disable(",Xt,");")),lt(Ft,".",wt,"=",Ht,";"))}else if(or(Ht)){var hr=jt[wt];lt(Et,".",Vr[wt],"(",Ht,");",Ht.map(function(dn,ln){return hr+"["+ln+"]="+dn}).join(";"),";")}else Qt(ht)?(pt=$e.link(Ht,{stable:!0}),lt(Et,".",Vr[wt],"(",pt,");",Ft,".",wt,"=",pt,";")):lt(Et,".",Vr[wt],"(",Ht,");",Ft,".",wt,"=",Ht,";")}})}function Qa($e,lt){Or&&($e.instancing=lt.def($e.shared.extensions,".angle_instanced_arrays"))}function ga($e,lt,mt,Gt,Ut){var jt=$e.shared,Ft=$e.stats,Et=jt.current,pt=jt.timer,wt=mt.profile;function ht(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Ht,Xt;function hr(pn){Ht=lt.def(),pn(Ht,"=",ht(),";"),typeof Ut=="string"?pn(Ft,".count+=",Ut,";"):pn(Ft,".count++;"),Sr&&(Gt?(Xt=lt.def(),pn(Xt,"=",pt,".getNumPendingQueries();")):pn(pt,".beginQuery(",Ft,");"))}function dn(pn){pn(Ft,".cpuTime+=",ht(),"-",Ht,";"),Sr&&(Gt?pn(pt,".pushScopeStats(",Xt,",",pt,".getNumPendingQueries(),",Ft,");"):pn(pt,".endQuery();"))}function ln(pn){var en=lt.def(Et,".profile");lt(Et,".profile=",pn,";"),lt.exit(Et,".profile=",en,";")}var Yr;if(wt){if(Qt(wt)){wt.enable?(hr(lt),dn(lt.exit),ln("true")):ln("false");return}Yr=wt.append($e,lt),ln(Yr)}else Yr=lt.def(Et,".profile");var un=$e.block();hr(un),lt("if(",Yr,"){",un,"}");var tn=$e.block();dn(tn),lt.exit("if(",Yr,"){",tn,"}")}function ui($e,lt,mt,Gt,Ut){var jt=$e.shared;function Ft(pt){switch(pt){case Ki:case bo:case _o:return 2;case wa:case Ho:case bl:return 3;case ml:case bs:case _s:return 4;default:return 1}}function Et(pt,wt,ht){var Ht=jt.gl,Xt=lt.def(pt,".location"),hr=lt.def(jt.attributes,"[",Xt,"]"),dn=ht.state,ln=ht.buffer,Yr=[ht.x,ht.y,ht.z,ht.w],un=["buffer","normalized","offset","stride"];function tn(){lt("if(!",hr,".buffer){",Ht,".enableVertexAttribArray(",Xt,");}");var en=ht.type,an;if(ht.size?an=lt.def(ht.size,"||",wt):an=wt,lt("if(",hr,".type!==",en,"||",hr,".size!==",an,"||",un.map(function(Mn){return hr+"."+Mn+"!=="+ht[Mn]}).join("||"),"){",Ht,".bindBuffer(",Zi,",",ln,".buffer);",Ht,".vertexAttribPointer(",[Xt,an,en,ht.normalized,ht.stride,ht.offset],");",hr,".type=",en,";",hr,".size=",an,";",un.map(function(Mn){return hr+"."+Mn+"="+ht[Mn]+";"}).join(""),"}"),Or){var on=ht.divisor;lt("if(",hr,".divisor!==",on,"){",$e.instancing,".vertexAttribDivisorANGLE(",[Xt,on],");",hr,".divisor=",on,";}")}}function pn(){lt("if(",hr,".buffer){",Ht,".disableVertexAttribArray(",Xt,");",hr,".buffer=null;","}if(",po.map(function(en,an){return hr+"."+en+"!=="+Yr[an]}).join("||"),"){",Ht,".vertexAttrib4f(",Xt,",",Yr,");",po.map(function(en,an){return hr+"."+en+"="+Yr[an]+";"}).join(""),"}")}dn===Yi?tn():dn===il?pn():(lt("if(",dn,"===",Yi,"){"),tn(),lt("}else{"),pn(),lt("}"))}Gt.forEach(function(pt){var wt=pt.name,ht=mt.attributes[wt],Ht;if(ht){if(!Ut(ht))return;Ht=ht.append($e,lt)}else{if(!Ut(Pr))return;var Xt=$e.scopeAttrib(wt);Ht={},Object.keys(new $t).forEach(function(hr){Ht[hr]=lt.def(Xt,".",hr)})}Et($e.link(pt),Ft(pt.info.type),Ht)})}function ci($e,lt,mt,Gt,Ut,jt){for(var Ft=$e.shared,Et=Ft.gl,pt,wt=0;wt<Gt.length;++wt){var ht=Gt[wt],Ht=ht.name,Xt=ht.info.type,hr=mt.uniforms[Ht],dn=$e.link(ht),ln=dn+".location",Yr;if(hr){if(!Ut(hr))continue;if(Qt(hr)){var un=hr.value;if(Xt===Vo||Xt===ks){var tn=$e.link(un._texture||un.color[0]._texture);lt(Et,".uniform1i(",ln,",",tn+".bind());"),lt.exit(tn,".unbind();")}else if(Xt===ws||Xt===As||Xt===Ts){var pn=$e.global.def("new Float32Array(["+Array.prototype.slice.call(un)+"])"),en=2;Xt===As?en=3:Xt===Ts&&(en=4),lt(Et,".uniformMatrix",en,"fv(",ln,",false,",pn,");")}else{switch(Xt){case xs:pt="1f";break;case Ki:pt="2f";break;case wa:pt="3f";break;case ml:pt="4f";break;case xl:pt="1i";break;case zi:pt="1i";break;case _o:pt="2i";break;case bo:pt="2i";break;case bl:pt="3i";break;case Ho:pt="3i";break;case _s:pt="4i";break;case bs:pt="4i";break}lt(Et,".uniform",pt,"(",ln,",",or(un)?Array.prototype.slice.call(un):un,");")}continue}else Yr=hr.append($e,lt)}else{if(!Ut(Pr))continue;Yr=lt.def(Ft.uniforms,"[",it.id(Ht),"]")}Xt===Vo?lt("if(",Yr,"&&",Yr,'._reglType==="framebuffer"){',Yr,"=",Yr,".color[0];","}"):Xt===ks&&lt("if(",Yr,"&&",Yr,'._reglType==="framebufferCube"){',Yr,"=",Yr,".color[0];","}");var an=1;switch(Xt){case Vo:case ks:var on=lt.def(Yr,"._texture");lt(Et,".uniform1i(",ln,",",on,".bind());"),lt.exit(on,".unbind();");continue;case zi:case xl:pt="1i";break;case bo:case _o:pt="2i",an=2;break;case Ho:case bl:pt="3i",an=3;break;case bs:case _s:pt="4i",an=4;break;case xs:pt="1f";break;case Ki:pt="2f",an=2;break;case wa:pt="3f",an=3;break;case ml:pt="4f",an=4;break;case ws:pt="Matrix2fv";break;case As:pt="Matrix3fv";break;case Ts:pt="Matrix4fv";break}if(pt.charAt(0)==="M"){lt(Et,".uniform",pt,"(",ln,",");var Mn=Math.pow(Xt-ws+2,2),ba=$e.global.def("new Float32Array(",Mn,")");Array.isArray(Yr)?lt("false,(",I(Mn,function(Ai){return ba+"["+Ai+"]="+Yr[Ai]}),",",ba,")"):lt("false,(Array.isArray(",Yr,")||",Yr," instanceof Float32Array)?",Yr,":(",I(Mn,function(Ai){return ba+"["+Ai+"]="+Yr+"["+Ai+"]"}),",",ba,")"),lt(");")}else if(an>1){for(var di=[],$i=[],wo=0;wo<an;++wo)Array.isArray(Yr)?$i.push(Yr[wo]):$i.push(lt.def(Yr+"["+wo+"]")),jt&&di.push(lt.def());jt&&lt("if(!",$e.batchId,"||",di.map(function(Ai,Ss){return Ai+"!=="+$i[Ss]}).join("||"),"){",di.map(function(Ai,Ss){return Ai+"="+$i[Ss]+";"}).join("")),lt(Et,".uniform",pt,"(",ln,",",$i.join(","),");"),jt&&lt("}")}else{if(jt){var Ao=lt.def();lt("if(!",$e.batchId,"||",Ao,"!==",Yr,"){",Ao,"=",Yr,";")}lt(Et,".uniform",pt,"(",ln,",",Yr,");"),jt&&lt("}")}}}function kn($e,lt,mt,Gt){var Ut=$e.shared,jt=Ut.gl,Ft=Ut.draw,Et=Gt.draw;function pt(){var an=Et.elements,on,Mn=lt;return an?((an.contextDep&&Gt.contextDynamic||an.propDep)&&(Mn=mt),on=an.append($e,Mn),Et.elementsActive&&Mn("if("+on+")"+jt+".bindBuffer("+ms+","+on+".buffer.buffer);")):(on=Mn.def(),Mn(on,"=",Ft,".",Ji,";","if(",on,"){",jt,".bindBuffer(",ms,",",on,".buffer.buffer);}","else if(",Ut.vao,".currentVAO){",on,"=",$e.shared.elements+".getElements("+Ut.vao,".currentVAO.elements);",Hr?"":"if("+on+")"+jt+".bindBuffer("+ms+","+on+".buffer.buffer);","}")),on}function wt(){var an=Et.count,on,Mn=lt;return an?((an.contextDep&&Gt.contextDynamic||an.propDep)&&(Mn=mt),on=an.append($e,Mn)):on=Mn.def(Ft,".",xo),on}var ht=pt();function Ht(an){var on=Et[an];return on?on.contextDep&&Gt.contextDynamic||on.propDep?on.append($e,mt):on.append($e,lt):lt.def(Ft,".",an)}var Xt=Ht(mo),hr=Ht(gs),dn=wt();if(typeof dn=="number"){if(dn===0)return}else mt("if(",dn,"){"),mt.exit("}");var ln,Yr;Or&&(ln=Ht(ni),Yr=$e.instancing);var un=ht+".type",tn=Et.elements&&Qt(Et.elements)&&!Et.vaoActive;function pn(){function an(){mt(Yr,".drawElementsInstancedANGLE(",[Xt,dn,un,hr+"<<(("+un+"-"+Pu+")>>1)",ln],");")}function on(){mt(Yr,".drawArraysInstancedANGLE(",[Xt,hr,dn,ln],");")}ht&&ht!=="null"?tn?an():(mt("if(",ht,"){"),an(),mt("}else{"),on(),mt("}")):on()}function en(){function an(){mt(jt+".drawElements("+[Xt,dn,un,hr+"<<(("+un+"-"+Pu+")>>1)"]+");")}function on(){mt(jt+".drawArrays("+[Xt,hr,dn]+");")}ht&&ht!=="null"?tn?an():(mt("if(",ht,"){"),an(),mt("}else{"),on(),mt("}")):on()}Or&&(typeof ln!="number"||ln>=0)?typeof ln=="string"?(mt("if(",ln,">0){"),pn(),mt("}else if(",ln,"<0){"),en(),mt("}")):pn():en()}function $n($e,lt,mt,Gt,Ut){var jt=Kr(),Ft=jt.proc("body",Ut);return Or&&(jt.instancing=Ft.def(jt.shared.extensions,".angle_instanced_arrays")),$e(jt,Ft,mt,Gt),jt.compile().body}function va($e,lt,mt,Gt){Qa($e,lt),mt.useVAO?mt.drawVAO?lt($e.shared.vao,".setVAO(",mt.drawVAO.append($e,lt),");"):lt($e.shared.vao,".setVAO(",$e.shared.vao,".targetVAO);"):(lt($e.shared.vao,".setVAO(null);"),ui($e,lt,mt,Gt.attributes,function(){return!0})),ci($e,lt,mt,Gt.uniforms,function(){return!0},!1),kn($e,lt,lt,mt)}function Ga($e,lt){var mt=$e.proc("draw",1);Qa($e,mt),ja($e,mt,lt.context),Wa($e,mt,lt.framebuffer),Ya($e,mt,lt),En($e,mt,lt.state),ga($e,mt,lt,!1,!0);var Gt=lt.shader.progVar.append($e,mt);if(mt($e.shared.gl,".useProgram(",Gt,".program);"),lt.shader.program)va($e,mt,lt,lt.shader.program);else{mt($e.shared.vao,".setVAO(null);");var Ut=$e.global.def("{}"),jt=mt.def(Gt,".id"),Ft=mt.def(Ut,"[",jt,"]");mt($e.cond(Ft).then(Ft,".call(this,a0);").else(Ft,"=",Ut,"[",jt,"]=",$e.link(function(Et){return $n(va,$e,lt,Et,1)}),"(",Gt,");",Ft,".call(this,a0);"))}Object.keys(lt.state).length>0&&mt($e.shared.current,".dirty=true;"),$e.shared.vao&&mt($e.shared.vao,".setVAO(null);")}function ft($e,lt,mt,Gt){$e.batchId="a1",Qa($e,lt);function Ut(){return!0}ui($e,lt,mt,Gt.attributes,Ut),ci($e,lt,mt,Gt.uniforms,Ut,!1),kn($e,lt,lt,mt)}function Yt($e,lt,mt,Gt){Qa($e,lt);var Ut=mt.contextDep,jt=lt.def(),Ft="a0",Et="a1",pt=lt.def();$e.shared.props=pt,$e.batchId=jt;var wt=$e.scope(),ht=$e.scope();lt(wt.entry,"for(",jt,"=0;",jt,"<",Et,";++",jt,"){",pt,"=",Ft,"[",jt,"];",ht,"}",wt.exit);function Ht(un){return un.contextDep&&Ut||un.propDep}function Xt(un){return!Ht(un)}if(mt.needsContext&&ja($e,ht,mt.context),mt.needsFramebuffer&&Wa($e,ht,mt.framebuffer),En($e,ht,mt.state,Ht),mt.profile&&Ht(mt.profile)&&ga($e,ht,mt,!1,!0),Gt)mt.useVAO?mt.drawVAO?Ht(mt.drawVAO)?ht($e.shared.vao,".setVAO(",mt.drawVAO.append($e,ht),");"):wt($e.shared.vao,".setVAO(",mt.drawVAO.append($e,wt),");"):wt($e.shared.vao,".setVAO(",$e.shared.vao,".targetVAO);"):(wt($e.shared.vao,".setVAO(null);"),ui($e,wt,mt,Gt.attributes,Xt),ui($e,ht,mt,Gt.attributes,Ht)),ci($e,wt,mt,Gt.uniforms,Xt,!1),ci($e,ht,mt,Gt.uniforms,Ht,!0),kn($e,wt,ht,mt);else{var hr=$e.global.def("{}"),dn=mt.shader.progVar.append($e,ht),ln=ht.def(dn,".id"),Yr=ht.def(hr,"[",ln,"]");ht($e.shared.gl,".useProgram(",dn,".program);","if(!",Yr,"){",Yr,"=",hr,"[",ln,"]=",$e.link(function(un){return $n(ft,$e,mt,un,2)}),"(",dn,");}",Yr,".call(this,a0[",jt,"],",jt,");")}}function Wt($e,lt){var mt=$e.proc("batch",2);$e.batchId="0",Qa($e,mt);var Gt=!1,Ut=!0;Object.keys(lt.context).forEach(function(hr){Gt=Gt||lt.context[hr].propDep}),Gt||(ja($e,mt,lt.context),Ut=!1);var jt=lt.framebuffer,Ft=!1;jt?(jt.propDep?Gt=Ft=!0:jt.contextDep&&Gt&&(Ft=!0),Ft||Wa($e,mt,jt)):Wa($e,mt,null),lt.state.viewport&&lt.state.viewport.propDep&&(Gt=!0);function Et(hr){return hr.contextDep&&Gt||hr.propDep}Ya($e,mt,lt),En($e,mt,lt.state,function(hr){return!Et(hr)}),(!lt.profile||!Et(lt.profile))&&ga($e,mt,lt,!1,"a1"),lt.contextDep=Gt,lt.needsContext=Ut,lt.needsFramebuffer=Ft;var pt=lt.shader.progVar;if(pt.contextDep&&Gt||pt.propDep)Yt($e,mt,lt,null);else{var wt=pt.append($e,mt);if(mt($e.shared.gl,".useProgram(",wt,".program);"),lt.shader.program)Yt($e,mt,lt,lt.shader.program);else{mt($e.shared.vao,".setVAO(null);");var ht=$e.global.def("{}"),Ht=mt.def(wt,".id"),Xt=mt.def(ht,"[",Ht,"]");mt($e.cond(Xt).then(Xt,".call(this,a0,a1);").else(Xt,"=",ht,"[",Ht,"]=",$e.link(function(hr){return $n(Yt,$e,lt,hr,2)}),"(",wt,");",Xt,".call(this,a0,a1);"))}}Object.keys(lt.state).length>0&&mt($e.shared.current,".dirty=true;"),$e.shared.vao&&mt($e.shared.vao,".setVAO(null);")}function rn($e,lt){var mt=$e.proc("scope",3);$e.batchId="a2";var Gt=$e.shared,Ut=Gt.current;if(ja($e,mt,lt.context),lt.framebuffer&&lt.framebuffer.append($e,mt),Lt(Object.keys(lt.state)).forEach(function(Et){var pt=lt.state[Et],wt=pt.append($e,mt);or(wt)?wt.forEach(function(ht,Ht){zr(ht)?mt.set($e.next[Et],"["+Ht+"]",ht):mt.set($e.next[Et],"["+Ht+"]",$e.link(ht,{stable:!0}))}):Qt(pt)?mt.set(Gt.next,"."+Et,$e.link(wt,{stable:!0})):mt.set(Gt.next,"."+Et,wt)}),ga($e,mt,lt,!0,!0),[Ji,gs,xo,ni,mo].forEach(function(Et){var pt=lt.draw[Et];if(pt){var wt=pt.append($e,mt);zr(wt)?mt.set(Gt.draw,"."+Et,wt):mt.set(Gt.draw,"."+Et,$e.link(wt),{stable:!0})}}),Object.keys(lt.uniforms).forEach(function(Et){var pt=lt.uniforms[Et].append($e,mt);Array.isArray(pt)&&(pt="["+pt.map(function(wt){return zr(wt)?wt:$e.link(wt,{stable:!0})})+"]"),mt.set(Gt.uniforms,"["+$e.link(it.id(Et),{stable:!0})+"]",pt)}),Object.keys(lt.attributes).forEach(function(Et){var pt=lt.attributes[Et].append($e,mt),wt=$e.scopeAttrib(Et);Object.keys(new $t).forEach(function(ht){mt.set(wt,"."+ht,pt[ht])})}),lt.scopeVAO){var jt=lt.scopeVAO.append($e,mt);zr(jt)?mt.set(Gt.vao,".targetVAO",jt):mt.set(Gt.vao,".targetVAO",$e.link(jt,{stable:!0}))}function Ft(Et){var pt=lt.shader[Et];if(pt){var wt=pt.append($e,mt);zr(wt)?mt.set(Gt.shader,"."+Et,wt):mt.set(Gt.shader,"."+Et,$e.link(wt,{stable:!0}))}}Ft(Gi),Ft(vo),Object.keys(lt.state).length>0&&(mt(Ut,".dirty=true;"),mt.exit(Ut,".dirty=true;")),mt("a1(",$e.shared.context,",a0,",$e.batchId,");")}function Rn($e){if(!(typeof $e!="object"||or($e))){for(var lt=Object.keys($e),mt=0;mt<lt.length;++mt)if(g.isDynamic($e[lt[mt]]))return!0;return!1}}function xa($e,lt,mt){var Gt=lt.static[mt];if(!Gt||!Rn(Gt))return;var Ut=$e.global,jt=Object.keys(Gt),Ft=!1,Et=!1,pt=!1,wt=$e.global.def("{}");jt.forEach(function(Ht){var Xt=Gt[Ht];if(g.isDynamic(Xt)){typeof Xt=="function"&&(Xt=Gt[Ht]=g.unbox(Xt));var hr=Tr(Xt,null);Ft=Ft||hr.thisDep,pt=pt||hr.propDep,Et=Et||hr.contextDep}else{switch(Ut(wt,".",Ht,"="),typeof Xt){case"number":Ut(Xt);break;case"string":Ut('"',Xt,'"');break;case"object":Array.isArray(Xt)&&Ut("[",Xt.join(),"]");break;default:Ut($e.link(Xt));break}Ut(";")}});function ht(Ht,Xt){jt.forEach(function(hr){var dn=Gt[hr];if(g.isDynamic(dn)){var ln=Ht.invoke(Xt,dn);Xt(wt,".",hr,"=",ln,";")}})}lt.dynamic[mt]=new g.DynamicVariable(sl,{thisDep:Ft,contextDep:Et,propDep:pt,ref:wt,append:ht}),delete lt.static[mt]}function nn($e,lt,mt,Gt,Ut){var jt=Kr();jt.stats=jt.link(Ut),Object.keys(lt.static).forEach(function(Et){xa(jt,lt,Et)}),ju.forEach(function(Et){xa(jt,$e,Et)});var Ft=si($e,lt,mt,Gt,jt);return Ft.shader.program&&(Ft.shader.program.attributes.sort(function(Et,pt){return Et.name<pt.name?-1:1}),Ft.shader.program.uniforms.sort(function(Et,pt){return Et.name<pt.name?-1:1})),Ga(jt,Ft),rn(jt,Ft),Wt(jt,Ft),i(jt.compile(),{destroy:function(){Ft.shader.program.destroy()}})}return{next:sn,current:Nr,procs:function(){var $e=Kr(),lt=$e.proc("poll"),mt=$e.proc("refresh"),Gt=$e.block();lt(Gt),mt(Gt);var Ut=$e.shared,jt=Ut.gl,Ft=Ut.next,Et=Ut.current;Gt(Et,".dirty=false;"),Wa($e,lt),Wa($e,mt,null,!0);var pt;Or&&(pt=$e.link(Or)),dt.oes_vertex_array_object&&mt($e.link(dt.oes_vertex_array_object),".bindVertexArrayOES(null);");var wt=mt.def(Ut.attributes),ht=mt.def(0),Ht=$e.cond(ht,".buffer");Ht.then(jt,".enableVertexAttribArray(i);",jt,".bindBuffer(",Zi,",",ht,".buffer.buffer);",jt,".vertexAttribPointer(i,",ht,".size,",ht,".type,",ht,".normalized,",ht,".stride,",ht,".offset);").else(jt,".disableVertexAttribArray(i);",jt,".vertexAttrib4f(i,",ht,".x,",ht,".y,",ht,".z,",ht,".w);",ht,".buffer=null;");var Xt=$e.link(Vt.maxAttributes,{stable:!0});return mt("for(var i=0;i<",Xt,";++i){",ht,"=",wt,"[i];",Ht,"}"),Or&&mt("for(var i=0;i<",Xt,";++i){",pt,".vertexAttribDivisorANGLE(i,",wt,"[i].divisor);","}"),mt($e.shared.vao,".currentVAO=null;",$e.shared.vao,".setVAO(",$e.shared.vao,".targetVAO);"),Object.keys(ar).forEach(function(hr){var dn=ar[hr],ln=Gt.def(Ft,".",hr),Yr=$e.block();Yr("if(",ln,"){",jt,".enable(",dn,")}else{",jt,".disable(",dn,")}",Et,".",hr,"=",ln,";"),mt(Yr),lt("if(",ln,"!==",Et,".",hr,"){",Yr,"}")}),Object.keys(Vr).forEach(function(hr){var dn=Vr[hr],ln=Nr[hr],Yr,un,tn=$e.block();if(tn(jt,".",dn,"("),or(ln)){var pn=ln.length;Yr=$e.global.def(Ft,".",hr),un=$e.global.def(Et,".",hr),tn(I(pn,function(en){return Yr+"["+en+"]"}),");",I(pn,function(en){return un+"["+en+"]="+Yr+"["+en+"];"}).join("")),lt("if(",I(pn,function(en){return Yr+"["+en+"]!=="+un+"["+en+"]"}).join("||"),"){",tn,"}")}else Yr=Gt.def(Ft,".",hr),un=Gt.def(Et,".",hr),tn(Yr,");",Et,".",hr,"=",Yr,";"),lt("if(",Yr,"!==",un,"){",tn,"}");mt(tn)}),$e.compile()}(),compile:nn}}function Wr(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var bn=34918,Xr=34919,vn=35007,Gn=function(Oe,it){if(!it.ext_disjoint_timer_query)return null;var dt=[];function Vt(){return dt.pop()||it.ext_disjoint_timer_query.createQueryEXT()}function lr(vr){dt.push(vr)}var er=[];function Jt(vr){var Or=Vt();it.ext_disjoint_timer_query.beginQueryEXT(vn,Or),er.push(Or),Sr(er.length-1,er.length,vr)}function gr(){it.ext_disjoint_timer_query.endQueryEXT(vn)}function _r(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var wr=[];function Rr(){return wr.pop()||new _r}function cn(vr){wr.push(vr)}var Zr=[];function Sr(vr,Or,ur){var Hr=Rr();Hr.startQueryIndex=vr,Hr.endQueryIndex=Or,Hr.sum=0,Hr.stats=ur,Zr.push(Hr)}var dr=[],Pt=[];function $t(){var vr,Or,ur=er.length;if(ur!==0){Pt.length=Math.max(Pt.length,ur+1),dr.length=Math.max(dr.length,ur+1),dr[0]=0,Pt[0]=0;var Hr=0;for(vr=0,Or=0;Or<er.length;++Or){var Nr=er[Or];it.ext_disjoint_timer_query.getQueryObjectEXT(Nr,Xr)?(Hr+=it.ext_disjoint_timer_query.getQueryObjectEXT(Nr,bn),lr(Nr)):er[vr++]=Nr,dr[Or+1]=Hr,Pt[Or+1]=vr}for(er.length=vr,vr=0,Or=0;Or<Zr.length;++Or){var sn=Zr[Or],fr=sn.startQueryIndex,ar=sn.endQueryIndex;sn.sum+=dr[ar]-dr[fr];var Vr=Pt[fr],Ur=Pt[ar];Ur===Vr?(sn.stats.gpuTime+=sn.sum/1e6,cn(sn)):(sn.startQueryIndex=Vr,sn.endQueryIndex=Ur,Zr[vr++]=sn)}Zr.length=vr}}return{beginQuery:Jt,endQuery:gr,pushScopeStats:Sr,update:$t,getNumPendingQueries:function(){return er.length},clear:function(){dt.push.apply(dt,er);for(var vr=0;vr<dt.length;vr++)it.ext_disjoint_timer_query.deleteQueryEXT(dt[vr]);er.length=0,dt.length=0},restore:function(){er.length=0,dt.length=0}}},Aa=16384,Qn=256,Cr=1024,_n=34962,On="webglcontextlost",Hn="webglcontextrestored",ha=1,Oa=2,Ra=3;function Va(Oe,it){for(var dt=0;dt<Oe.length;++dt)if(Oe[dt]===it)return dt;return-1}function $a(Oe){var it=K(Oe);if(!it)return null;var dt=it.gl,Vt=dt.getContextAttributes();dt.isContextLost();var lr=D(dt,it);if(!lr)return null;var er=y(),Jt=Wr(),gr=it.cachedCode||{},_r=lr.extensions,wr=Gn(dt,_r),Rr=x(),cn=dt.drawingBufferWidth,Zr=dt.drawingBufferHeight,Sr={tick:0,time:0,viewportWidth:cn,viewportHeight:Zr,framebufferWidth:cn,framebufferHeight:Zr,drawingBufferWidth:cn,drawingBufferHeight:Zr,pixelRatio:it.pixelRatio},dr={},Pt={elements:null,primitive:4,count:-1,offset:0,instances:-1},$t=Ct(dt,_r),vr=fn(dt,Jt,it,Hr),Or=Dt(dt,_r,vr,Jt),ur=Xc(dt,_r,$t,Jt,vr,Or,Pt);function Hr(kn){return ur.destroyBuffer(kn)}var Nr=tf(dt,er,Jt,it),sn=lo(dt,_r,$t,function(){Vr.procs.poll()},Sr,Jt,it),fr=Wc(dt,_r,$t,Jt,it),ar=Kc(dt,_r,$t,sn,fr,Jt),Vr=qr(dt,er,_r,$t,vr,Or,sn,ar,dr,ur,Nr,Pt,Sr,wr,gr,it),Ur=rf(dt,ar,Vr.procs.poll,Sr),Dr=Vr.next,Lr=dt.canvas,zr=[],Cn=[],Tn=[],Br=[it.onDestroy],Kr=null;function Ln(){if(zr.length===0){wr&&wr.update(),Kr=null;return}Kr=v.next(Ln),Wa();for(var kn=zr.length-1;kn>=0;--kn){var $n=zr[kn];$n&&$n(Sr,null,0)}dt.flush(),wr&&wr.update()}function Dn(){!Kr&&zr.length>0&&(Kr=v.next(Ln))}function zn(){Kr&&(v.cancel(Ln),Kr=null)}function Ca(kn){kn.preventDefault(),zn(),Cn.forEach(function($n){$n()})}function qa(kn){dt.getError(),lr.restore(),Nr.restore(),vr.restore(),sn.restore(),fr.restore(),ar.restore(),ur.restore(),wr&&wr.restore(),Vr.procs.refresh(),Dn(),Tn.forEach(function($n){$n()})}Lr&&(Lr.addEventListener(On,Ca,!1),Lr.addEventListener(Hn,qa,!1));function Vn(){zr.length=0,zn(),Lr&&(Lr.removeEventListener(On,Ca),Lr.removeEventListener(Hn,qa)),Nr.clear(),ar.clear(),fr.clear(),ur.clear(),sn.clear(),Or.clear(),vr.clear(),wr&&wr.clear(),Br.forEach(function(kn){kn()})}function ai(kn){function $n(Ut){var jt=i({},Ut);delete jt.uniforms,delete jt.attributes,delete jt.context,delete jt.vao,"stencil"in jt&&jt.stencil.op&&(jt.stencil.opBack=jt.stencil.opFront=jt.stencil.op,delete jt.stencil.op);function Ft(Et){if(Et in jt){var pt=jt[Et];delete jt[Et],Object.keys(pt).forEach(function(wt){jt[Et+"."+wt]=pt[wt]})}}return Ft("blend"),Ft("depth"),Ft("cull"),Ft("stencil"),Ft("polygonOffset"),Ft("scissor"),Ft("sample"),"vao"in Ut&&(jt.vao=Ut.vao),jt}function va(Ut,jt){var Ft={},Et={};return Object.keys(Ut).forEach(function(pt){var wt=Ut[pt];if(g.isDynamic(wt)){Et[pt]=g.unbox(wt,pt);return}else if(jt&&Array.isArray(wt)){for(var ht=0;ht<wt.length;++ht)if(g.isDynamic(wt[ht])){Et[pt]=g.unbox(wt,pt);return}}Ft[pt]=wt}),{dynamic:Et,static:Ft}}var Ga=va(kn.context||{},!0),ft=va(kn.uniforms||{},!0),Yt=va(kn.attributes||{},!1),Wt=va($n(kn),!1),rn={gpuTime:0,cpuTime:0,count:0},Rn=Vr.compile(Wt,Yt,ft,Ga,rn),xa=Rn.draw,nn=Rn.batch,$e=Rn.scope,lt=[];function mt(Ut){for(;lt.length<Ut;)lt.push(null);return lt}function Gt(Ut,jt){var Ft;if(typeof Ut=="function")return $e.call(this,null,Ut,0);if(typeof jt=="function")if(typeof Ut=="number")for(Ft=0;Ft<Ut;++Ft)$e.call(this,null,jt,Ft);else if(Array.isArray(Ut))for(Ft=0;Ft<Ut.length;++Ft)$e.call(this,Ut[Ft],jt,Ft);else return $e.call(this,Ut,jt,0);else if(typeof Ut=="number"){if(Ut>0)return nn.call(this,mt(Ut|0),Ut|0)}else if(Array.isArray(Ut)){if(Ut.length)return nn.call(this,Ut,Ut.length)}else return xa.call(this,Ut)}return i(Gt,{stats:rn,destroy:function(){Rn.destroy()}})}var pa=ar.setFBO=ai({framebuffer:g.define.call(null,ha,"framebuffer")});function Xa(kn,$n){var va=0;Vr.procs.poll();var Ga=$n.color;Ga&&(dt.clearColor(+Ga[0]||0,+Ga[1]||0,+Ga[2]||0,+Ga[3]||0),va|=Aa),"depth"in $n&&(dt.clearDepth(+$n.depth),va|=Qn),"stencil"in $n&&(dt.clearStencil($n.stencil|0),va|=Cr),dt.clear(va)}function vi(kn){if("framebuffer"in kn)if(kn.framebuffer&&kn.framebuffer_reglType==="framebufferCube")for(var $n=0;$n<6;++$n)pa(i({framebuffer:kn.framebuffer.faces[$n]},kn),Xa);else pa(kn,Xa);else Xa(null,kn)}function si(kn){zr.push(kn);function $n(){var va=Va(zr,kn);function Ga(){var ft=Va(zr,Ga);zr[ft]=zr[zr.length-1],zr.length-=1,zr.length<=0&&zn()}zr[va]=Ga}return Dn(),{cancel:$n}}function ja(){var kn=Dr.viewport,$n=Dr.scissor_box;kn[0]=kn[1]=$n[0]=$n[1]=0,Sr.viewportWidth=Sr.framebufferWidth=Sr.drawingBufferWidth=kn[2]=$n[2]=dt.drawingBufferWidth,Sr.viewportHeight=Sr.framebufferHeight=Sr.drawingBufferHeight=kn[3]=$n[3]=dt.drawingBufferHeight}function Wa(){Sr.tick+=1,Sr.time=En(),ja(),Vr.procs.poll()}function Ya(){sn.refresh(),ja(),Vr.procs.refresh(),wr&&wr.update()}function En(){return(x()-Rr)/1e3}Ya();function Qa(kn,$n){var va;switch(kn){case"frame":return si($n);case"lost":va=Cn;break;case"restore":va=Tn;break;case"destroy":va=Br;break}return va.push($n),{cancel:function(){for(var Ga=0;Ga<va.length;++Ga)if(va[Ga]===$n){va[Ga]=va[va.length-1],va.pop();return}}}}function ga(){return gr}function ui(kn){Object.entries(kn).forEach(function($n){gr[$n[0]]=$n[1]})}var ci=i(ai,{clear:vi,prop:g.define.bind(null,ha),context:g.define.bind(null,Oa),this:g.define.bind(null,Ra),draw:ai({}),buffer:function(kn){return vr.create(kn,_n,!1,!1)},elements:function(kn){return Or.create(kn,!1)},texture:sn.create2D,cube:sn.createCube,renderbuffer:fr.create,framebuffer:ar.create,framebufferCube:ar.createCube,vao:ur.createVAO,attributes:Vt,frame:si,on:Qa,limits:$t,hasExtension:function(kn){return $t.extensions.indexOf(kn.toLowerCase())>=0},read:Ur,destroy:Vn,_gl:dt,_refresh:Ya,poll:function(){Wa(),wr&&wr.update()},now:En,stats:Jt,getCachedCode:ga,preloadCachedCode:ui});return it.onDone(null,ci),ci}return $a})}),qv=xe((E,k)=>{var i=Qi();k.exports=function(o){if(o?typeof o=="string"&&(o={container:o}):o={},e(o)?o={container:o}:n(o)?o={container:o}:l(o)?o={gl:o}:o=i(o,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),o.pixelRatio||(o.pixelRatio=window.pixelRatio||1),o.gl)return o.gl;if(o.canvas&&(o.container=o.canvas.parentNode),o.container){if(typeof o.container=="string"){var s=document.querySelector(o.container);if(!s)throw Error("Element "+o.container+" is not found");o.container=s}e(o.container)?(o.canvas=o.container,o.container=o.canvas.parentNode):o.canvas||(o.canvas=a(),o.container.appendChild(o.canvas),t(o))}else if(!o.canvas)if(typeof document<"u")o.container=document.body||document.documentElement,o.canvas=a(),o.container.appendChild(o.canvas),t(o);else throw Error("Not DOM environment. Use headless-gl.");return o.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(r){try{o.gl=o.canvas.getContext(r,o.attrs)}catch{}return o.gl}),o.gl};function t(o){if(o.container)if(o.container==document.body)document.body.style.width||(o.canvas.width=o.width||o.pixelRatio*window.innerWidth),document.body.style.height||(o.canvas.height=o.height||o.pixelRatio*window.innerHeight);else{var s=o.container.getBoundingClientRect();o.canvas.width=o.width||s.right-s.left,o.canvas.height=o.height||s.bottom-s.top}}function e(o){return typeof o.getContext=="function"&&"width"in o&&"height"in o}function n(o){return typeof o.nodeName=="string"&&typeof o.appendChild=="function"&&typeof o.getBoundingClientRect=="function"}function l(o){return typeof o.drawArrays=="function"||typeof o.drawElements=="function"}function a(){var o=document.createElement("canvas");return o.style.position="absolute",o.style.top=0,o.style.left=0,o}}),Wv=xe((E,k)=>{var i=bh(),t=[32,126];k.exports=e;function e(n){n=n||{};var l=n.shape?n.shape:n.canvas?[n.canvas.width,n.canvas.height]:[512,512],a=n.canvas||document.createElement("canvas"),o=n.font,s=typeof n.step=="number"?[n.step,n.step]:n.step||[32,32],r=n.chars||t;if(o&&typeof o!="string"&&(o=i(o)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var p=[],u=r[0],d=0;u<=r[1];u++)p[d++]=String.fromCharCode(u);r=p}l=l.slice(),a.width=l[0],a.height=l[1];var g=a.getContext("2d");g.fillStyle="#000",g.fillRect(0,0,a.width,a.height),g.font=o,g.textAlign="center",g.textBaseline="middle",g.fillStyle="#fff";for(var v=s[0]/2,x=s[1]/2,u=0;u<r.length;u++)g.fillText(r[u],v,x),(v+=s[0])>l[0]-s[0]/2&&(v=s[0]/2,x+=s[1]);return a}}),wh=xe(E=>{"use restrict";var k=32;E.INT_BITS=k,E.INT_MAX=2147483647,E.INT_MIN=-1<<k-1,E.sign=function(e){return(e>0)-(e<0)},E.abs=function(e){var n=e>>k-1;return(e^n)-n},E.min=function(e,n){return n^(e^n)&-(e<n)},E.max=function(e,n){return e^(e^n)&-(e<n)},E.isPow2=function(e){return!(e&e-1)&&!!e},E.log2=function(e){var n,l;return n=(e>65535)<<4,e>>>=n,l=(e>255)<<3,e>>>=l,n|=l,l=(e>15)<<2,e>>>=l,n|=l,l=(e>3)<<1,e>>>=l,n|=l,n|e>>1},E.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},E.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function i(e){var n=32;return e&=-e,e&&n--,e&65535&&(n-=16),e&16711935&&(n-=8),e&252645135&&(n-=4),e&858993459&&(n-=2),e&1431655765&&(n-=1),n}E.countTrailingZeros=i,E.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},E.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},E.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var t=new Array(256);(function(e){for(var n=0;n<256;++n){var l=n,a=n,o=7;for(l>>>=1;l;l>>>=1)a<<=1,a|=l&1,--o;e[n]=a<<o&255}})(t),E.reverse=function(e){return t[e&255]<<24|t[e>>>8&255]<<16|t[e>>>16&255]<<8|t[e>>>24&255]},E.interleave2=function(e,n){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e|n<<1},E.deinterleave2=function(e,n){return e=e>>>n&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},E.interleave3=function(e,n,l){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|=n<<1,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,e|l<<2},E.deinterleave3=function(e,n){return e=e>>>n&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},E.nextCombination=function(e){var n=e|e-1;return n+1|(~n&-~n)-1>>>i(e)+1}}),Yv=xe((E,k)=>{function i(n,l,a){var o=n[a]|0;if(o<=0)return[];var s=new Array(o),r;if(a===n.length-1)for(r=0;r<o;++r)s[r]=l;else for(r=0;r<o;++r)s[r]=i(n,l,a+1);return s}function t(n,l){var a,o;for(a=new Array(n),o=0;o<n;++o)a[o]=l;return a}function e(n,l){switch(typeof l>"u"&&(l=0),typeof n){case"number":if(n>0)return t(n|0,l);break;case"object":if(typeof n.length=="number")return i(n,l,0);break}return[]}k.exports=e}),Gv=xe(E=>{E.byteLength=o,E.toByteArray=r,E.fromByteArray=d;var k=[],i=[],t=typeof Uint8Array<"u"?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(n=0,l=e.length;n<l;++n)k[n]=e[n],i[e.charCodeAt(n)]=n;var n,l;i[45]=62,i[95]=63;function a(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=g.indexOf("=");x===-1&&(x=v);var y=x===v?0:4-x%4;return[x,y]}function o(g){var v=a(g),x=v[0],y=v[1];return(x+y)*3/4-y}function s(g,v,x){return(v+x)*3/4-x}function r(g){var v,x=a(g),y=x[0],m=x[1],c=new t(s(g,y,m)),h=0,b=m>0?y-4:y,_;for(_=0;_<b;_+=4)v=i[g.charCodeAt(_)]<<18|i[g.charCodeAt(_+1)]<<12|i[g.charCodeAt(_+2)]<<6|i[g.charCodeAt(_+3)],c[h++]=v>>16&255,c[h++]=v>>8&255,c[h++]=v&255;return m===2&&(v=i[g.charCodeAt(_)]<<2|i[g.charCodeAt(_+1)]>>4,c[h++]=v&255),m===1&&(v=i[g.charCodeAt(_)]<<10|i[g.charCodeAt(_+1)]<<4|i[g.charCodeAt(_+2)]>>2,c[h++]=v>>8&255,c[h++]=v&255),c}function p(g){return k[g>>18&63]+k[g>>12&63]+k[g>>6&63]+k[g&63]}function u(g,v,x){for(var y,m=[],c=v;c<x;c+=3)y=(g[c]<<16&16711680)+(g[c+1]<<8&65280)+(g[c+2]&255),m.push(p(y));return m.join("")}function d(g){for(var v,x=g.length,y=x%3,m=[],c=16383,h=0,b=x-y;h<b;h+=c)m.push(u(g,h,h+c>b?b:h+c));return y===1?(v=g[x-1],m.push(k[v>>2]+k[v<<4&63]+"==")):y===2&&(v=(g[x-2]<<8)+g[x-1],m.push(k[v>>10]+k[v>>4&63]+k[v<<2&63]+"=")),m.join("")}}),Jv=xe(E=>{E.read=function(k,i,t,e,n){var l,a,o=n*8-e-1,s=(1<<o)-1,r=s>>1,p=-7,u=t?n-1:0,d=t?-1:1,g=k[i+u];for(u+=d,l=g&(1<<-p)-1,g>>=-p,p+=o;p>0;l=l*256+k[i+u],u+=d,p-=8);for(a=l&(1<<-p)-1,l>>=-p,p+=e;p>0;a=a*256+k[i+u],u+=d,p-=8);if(l===0)l=1-r;else{if(l===s)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,e),l=l-r}return(g?-1:1)*a*Math.pow(2,l-e)},E.write=function(k,i,t,e,n,l){var a,o,s,r=l*8-n-1,p=(1<<r)-1,u=p>>1,d=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=e?0:l-1,v=e?1:-1,x=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(o=isNaN(i)?1:0,a=p):(a=Math.floor(Math.log(i)/Math.LN2),i*(s=Math.pow(2,-a))<1&&(a--,s*=2),a+u>=1?i+=d/s:i+=d*Math.pow(2,1-u),i*s>=2&&(a++,s/=2),a+u>=p?(o=0,a=p):a+u>=1?(o=(i*s-1)*Math.pow(2,n),a=a+u):(o=i*Math.pow(2,u-1)*Math.pow(2,n),a=0));n>=8;k[t+g]=o&255,g+=v,o/=256,n-=8);for(a=a<<n|o,r+=n;r>0;k[t+g]=a&255,g+=v,a/=256,r-=8);k[t+g-v]|=x*128}}),Zv=xe(E=>{var k=Gv(),i=Jv(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;E.Buffer=a,E.SlowBuffer=m,E.INSPECT_MAX_BYTES=50;var e=2147483647;E.kMaxLength=e,a.TYPED_ARRAY_SUPPORT=n(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{let T=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(T,V),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function l(T){if(T>e)throw new RangeError('The value "'+T+'" is invalid for option "size"');let V=new Uint8Array(T);return Object.setPrototypeOf(V,a.prototype),V}function a(T,V,j){if(typeof T=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(T)}return o(T,V,j)}a.poolSize=8192;function o(T,V,j){if(typeof T=="string")return u(T,V);if(ArrayBuffer.isView(T))return g(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(He(T,ArrayBuffer)||T&&He(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(T,SharedArrayBuffer)||T&&He(T.buffer,SharedArrayBuffer)))return v(T,V,j);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let he=T.valueOf&&T.valueOf();if(he!=null&&he!==T)return a.from(he,V,j);let be=x(T);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),V,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,V,j){return o(T,V,j)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function s(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function r(T,V,j){return s(T),T<=0?l(T):V!==void 0?typeof j=="string"?l(T).fill(V,j):l(T).fill(V):l(T)}a.alloc=function(T,V,j){return r(T,V,j)};function p(T){return s(T),l(T<0?0:y(T)|0)}a.allocUnsafe=function(T){return p(T)},a.allocUnsafeSlow=function(T){return p(T)};function u(T,V){if((typeof V!="string"||V==="")&&(V="utf8"),!a.isEncoding(V))throw new TypeError("Unknown encoding: "+V);let j=c(T,V)|0,he=l(j),be=he.write(T,V);return be!==j&&(he=he.slice(0,be)),he}function d(T){let V=T.length<0?0:y(T.length)|0,j=l(V);for(let he=0;he<V;he+=1)j[he]=T[he]&255;return j}function g(T){if(He(T,Uint8Array)){let V=new Uint8Array(T);return v(V.buffer,V.byteOffset,V.byteLength)}return d(T)}function v(T,V,j){if(V<0||T.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<V+(j||0))throw new RangeError('"length" is outside of buffer bounds');let he;return V===void 0&&j===void 0?he=new Uint8Array(T):j===void 0?he=new Uint8Array(T,V):he=new Uint8Array(T,V,j),Object.setPrototypeOf(he,a.prototype),he}function x(T){if(a.isBuffer(T)){let V=y(T.length)|0,j=l(V);return j.length===0||T.copy(j,0,0,V),j}if(T.length!==void 0)return typeof T.length!="number"||Ne(T.length)?l(0):d(T);if(T.type==="Buffer"&&Array.isArray(T.data))return d(T.data)}function y(T){if(T>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return T|0}function m(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==a.prototype},a.compare=function(T,V){if(He(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),He(V,Uint8Array)&&(V=a.from(V,V.offset,V.byteLength)),!a.isBuffer(T)||!a.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===V)return 0;let j=T.length,he=V.length;for(let be=0,ke=Math.min(j,he);be<ke;++be)if(T[be]!==V[be]){j=T[be],he=V[be];break}return j<he?-1:he<j?1:0},a.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(T,V){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return a.alloc(0);let j;if(V===void 0)for(V=0,j=0;j<T.length;++j)V+=T[j].length;let he=a.allocUnsafe(V),be=0;for(j=0;j<T.length;++j){let ke=T[j];if(He(ke,Uint8Array))be+ke.length>he.length?(a.isBuffer(ke)||(ke=a.from(ke)),ke.copy(he,be)):Uint8Array.prototype.set.call(he,ke,be);else if(a.isBuffer(ke))ke.copy(he,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=ke.length}return he};function c(T,V){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||He(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);let j=T.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&j===0)return 0;let be=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return le(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return ye(T).length;default:if(be)return he?-1:le(T).length;V=(""+V).toLowerCase(),be=!0}}a.byteLength=c;function h(T,V,j){let he=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,V>>>=0,j<=V))return"";for(T||(T="utf8");;)switch(T){case"hex":return A(this,V,j);case"utf8":case"utf-8":return R(this,V,j);case"ascii":return G(this,V,j);case"latin1":case"binary":return P(this,V,j);case"base64":return z(this,V,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,V,j);default:if(he)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),he=!0}}a.prototype._isBuffer=!0;function b(T,V,j){let he=T[V];T[V]=T[j],T[j]=he}a.prototype.swap16=function(){let T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<T;V+=2)b(this,V,V+1);return this},a.prototype.swap32=function(){let T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<T;V+=4)b(this,V,V+3),b(this,V+1,V+2);return this},a.prototype.swap64=function(){let T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<T;V+=8)b(this,V,V+7),b(this,V+1,V+6),b(this,V+2,V+5),b(this,V+3,V+4);return this},a.prototype.toString=function(){let T=this.length;return T===0?"":arguments.length===0?R(this,0,T):h.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(T){if(!a.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:a.compare(this,T)===0},a.prototype.inspect=function(){let T="",V=E.INSPECT_MAX_BYTES;return T=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(T+=" ... "),"<Buffer "+T+">"},t&&(a.prototype[t]=a.prototype.inspect),a.prototype.compare=function(T,V,j,he,be){if(He(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(V===void 0&&(V=0),j===void 0&&(j=T?T.length:0),he===void 0&&(he=0),be===void 0&&(be=this.length),V<0||j>T.length||he<0||be>this.length)throw new RangeError("out of range index");if(he>=be&&V>=j)return 0;if(he>=be)return-1;if(V>=j)return 1;if(V>>>=0,j>>>=0,he>>>=0,be>>>=0,this===T)return 0;let ke=be-he,Ce=j-V,qe=Math.min(ke,Ce),at=this.slice(he,be),ct=T.slice(V,j);for(let vt=0;vt<qe;++vt)if(at[vt]!==ct[vt]){ke=at[vt],Ce=ct[vt];break}return ke<Ce?-1:Ce<ke?1:0};function _(T,V,j,he,be){if(T.length===0)return-1;if(typeof j=="string"?(he=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,Ne(j)&&(j=be?0:T.length-1),j<0&&(j=T.length+j),j>=T.length){if(be)return-1;j=T.length-1}else if(j<0)if(be)j=0;else return-1;if(typeof V=="string"&&(V=a.from(V,he)),a.isBuffer(V))return V.length===0?-1:w(T,V,j,he,be);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?be?Uint8Array.prototype.indexOf.call(T,V,j):Uint8Array.prototype.lastIndexOf.call(T,V,j):w(T,[V],j,he,be);throw new TypeError("val must be string, number or Buffer")}function w(T,V,j,he,be){let ke=1,Ce=T.length,qe=V.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(T.length<2||V.length<2)return-1;ke=2,Ce/=2,qe/=2,j/=2}function at(vt,St){return ke===1?vt[St]:vt.readUInt16BE(St*ke)}let ct;if(be){let vt=-1;for(ct=j;ct<Ce;ct++)if(at(T,ct)===at(V,vt===-1?0:ct-vt)){if(vt===-1&&(vt=ct),ct-vt+1===qe)return vt*ke}else vt!==-1&&(ct-=ct-vt),vt=-1}else for(j+qe>Ce&&(j=Ce-qe),ct=j;ct>=0;ct--){let vt=!0;for(let St=0;St<qe;St++)if(at(T,ct+St)!==at(V,St)){vt=!1;break}if(vt)return ct}return-1}a.prototype.includes=function(T,V,j){return this.indexOf(T,V,j)!==-1},a.prototype.indexOf=function(T,V,j){return _(this,T,V,j,!0)},a.prototype.lastIndexOf=function(T,V,j){return _(this,T,V,j,!1)};function K(T,V,j,he){j=Number(j)||0;let be=T.length-j;he?(he=Number(he),he>be&&(he=be)):he=be;let ke=V.length;he>ke/2&&(he=ke/2);let Ce;for(Ce=0;Ce<he;++Ce){let qe=parseInt(V.substr(Ce*2,2),16);if(Ne(qe))return Ce;T[j+Ce]=qe}return Ce}function D(T,V,j,he){return Me(le(V,T.length-j),T,j,he)}function I(T,V,j,he){return Me(pe(V),T,j,he)}function C(T,V,j,he){return Me(ye(V),T,j,he)}function H(T,V,j,he){return Me(fe(V,T.length-j),T,j,he)}a.prototype.write=function(T,V,j,he){if(V===void 0)he="utf8",j=this.length,V=0;else if(j===void 0&&typeof V=="string")he=V,j=this.length,V=0;else if(isFinite(V))V=V>>>0,isFinite(j)?(j=j>>>0,he===void 0&&(he="utf8")):(he=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let be=this.length-V;if((j===void 0||j>be)&&(j=be),T.length>0&&(j<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let ke=!1;for(;;)switch(he){case"hex":return K(this,T,V,j);case"utf8":case"utf-8":return D(this,T,V,j);case"ascii":case"latin1":case"binary":return I(this,T,V,j);case"base64":return C(this,T,V,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,T,V,j);default:if(ke)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),ke=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(T,V,j){return V===0&&j===T.length?k.fromByteArray(T):k.fromByteArray(T.slice(V,j))}function R(T,V,j){j=Math.min(T.length,j);let he=[],be=V;for(;be<j;){let ke=T[be],Ce=null,qe=ke>239?4:ke>223?3:ke>191?2:1;if(be+qe<=j){let at,ct,vt,St;switch(qe){case 1:ke<128&&(Ce=ke);break;case 2:at=T[be+1],(at&192)===128&&(St=(ke&31)<<6|at&63,St>127&&(Ce=St));break;case 3:at=T[be+1],ct=T[be+2],(at&192)===128&&(ct&192)===128&&(St=(ke&15)<<12|(at&63)<<6|ct&63,St>2047&&(St<55296||St>57343)&&(Ce=St));break;case 4:at=T[be+1],ct=T[be+2],vt=T[be+3],(at&192)===128&&(ct&192)===128&&(vt&192)===128&&(St=(ke&15)<<18|(at&63)<<12|(ct&63)<<6|vt&63,St>65535&&St<1114112&&(Ce=St))}}Ce===null?(Ce=65533,qe=1):Ce>65535&&(Ce-=65536,he.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),he.push(Ce),be+=qe}return Z(he)}var U=4096;function Z(T){let V=T.length;if(V<=U)return String.fromCharCode.apply(String,T);let j="",he=0;for(;he<V;)j+=String.fromCharCode.apply(String,T.slice(he,he+=U));return j}function G(T,V,j){let he="";j=Math.min(T.length,j);for(let be=V;be<j;++be)he+=String.fromCharCode(T[be]&127);return he}function P(T,V,j){let he="";j=Math.min(T.length,j);for(let be=V;be<j;++be)he+=String.fromCharCode(T[be]);return he}function A(T,V,j){let he=T.length;(!V||V<0)&&(V=0),(!j||j<0||j>he)&&(j=he);let be="";for(let ke=V;ke<j;++ke)be+=ze[T[ke]];return be}function O(T,V,j){let he=T.slice(V,j),be="";for(let ke=0;ke<he.length-1;ke+=2)be+=String.fromCharCode(he[ke]+he[ke+1]*256);return be}a.prototype.slice=function(T,V){let j=this.length;T=~~T,V=V===void 0?j:~~V,T<0?(T+=j,T<0&&(T=0)):T>j&&(T=j),V<0?(V+=j,V<0&&(V=0)):V>j&&(V=j),V<T&&(V=T);let he=this.subarray(T,V);return Object.setPrototypeOf(he,a.prototype),he};function L(T,V,j){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+V>j)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(T,V,j){T=T>>>0,V=V>>>0,j||L(T,V,this.length);let he=this[T],be=1,ke=0;for(;++ke<V&&(be*=256);)he+=this[T+ke]*be;return he},a.prototype.readUintBE=a.prototype.readUIntBE=function(T,V,j){T=T>>>0,V=V>>>0,j||L(T,V,this.length);let he=this[T+--V],be=1;for(;V>0&&(be*=256);)he+=this[T+--V]*be;return he},a.prototype.readUint8=a.prototype.readUInt8=function(T,V){return T=T>>>0,V||L(T,1,this.length),this[T]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(T,V){return T=T>>>0,V||L(T,2,this.length),this[T]|this[T+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(T,V){return T=T>>>0,V||L(T,2,this.length),this[T]<<8|this[T+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(T,V){return T=T>>>0,V||L(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(T,V){return T=T>>>0,V||L(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},a.prototype.readBigUInt64LE=Re(function(T){T=T>>>0,X(T,"offset");let V=this[T],j=this[T+7];(V===void 0||j===void 0)&&N(T,this.length-8);let he=V+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,be=this[++T]+this[++T]*2**8+this[++T]*2**16+j*2**24;return BigInt(he)+(BigInt(be)<<BigInt(32))}),a.prototype.readBigUInt64BE=Re(function(T){T=T>>>0,X(T,"offset");let V=this[T],j=this[T+7];(V===void 0||j===void 0)&&N(T,this.length-8);let he=V*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],be=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+j;return(BigInt(he)<<BigInt(32))+BigInt(be)}),a.prototype.readIntLE=function(T,V,j){T=T>>>0,V=V>>>0,j||L(T,V,this.length);let he=this[T],be=1,ke=0;for(;++ke<V&&(be*=256);)he+=this[T+ke]*be;return be*=128,he>=be&&(he-=Math.pow(2,8*V)),he},a.prototype.readIntBE=function(T,V,j){T=T>>>0,V=V>>>0,j||L(T,V,this.length);let he=V,be=1,ke=this[T+--he];for(;he>0&&(be*=256);)ke+=this[T+--he]*be;return be*=128,ke>=be&&(ke-=Math.pow(2,8*V)),ke},a.prototype.readInt8=function(T,V){return T=T>>>0,V||L(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},a.prototype.readInt16LE=function(T,V){T=T>>>0,V||L(T,2,this.length);let j=this[T]|this[T+1]<<8;return j&32768?j|4294901760:j},a.prototype.readInt16BE=function(T,V){T=T>>>0,V||L(T,2,this.length);let j=this[T+1]|this[T]<<8;return j&32768?j|4294901760:j},a.prototype.readInt32LE=function(T,V){return T=T>>>0,V||L(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},a.prototype.readInt32BE=function(T,V){return T=T>>>0,V||L(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},a.prototype.readBigInt64LE=Re(function(T){T=T>>>0,X(T,"offset");let V=this[T],j=this[T+7];(V===void 0||j===void 0)&&N(T,this.length-8);let he=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(j<<24);return(BigInt(he)<<BigInt(32))+BigInt(V+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),a.prototype.readBigInt64BE=Re(function(T){T=T>>>0,X(T,"offset");let V=this[T],j=this[T+7];(V===void 0||j===void 0)&&N(T,this.length-8);let he=(V<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(he)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+j)}),a.prototype.readFloatLE=function(T,V){return T=T>>>0,V||L(T,4,this.length),i.read(this,T,!0,23,4)},a.prototype.readFloatBE=function(T,V){return T=T>>>0,V||L(T,4,this.length),i.read(this,T,!1,23,4)},a.prototype.readDoubleLE=function(T,V){return T=T>>>0,V||L(T,8,this.length),i.read(this,T,!0,52,8)},a.prototype.readDoubleBE=function(T,V){return T=T>>>0,V||L(T,8,this.length),i.read(this,T,!1,52,8)};function S(T,V,j,he,be,ke){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>be||V<ke)throw new RangeError('"value" argument is out of bounds');if(j+he>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(T,V,j,he){if(T=+T,V=V>>>0,j=j>>>0,!he){let Ce=Math.pow(2,8*j)-1;S(this,T,V,j,Ce,0)}let be=1,ke=0;for(this[V]=T&255;++ke<j&&(be*=256);)this[V+ke]=T/be&255;return V+j},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(T,V,j,he){if(T=+T,V=V>>>0,j=j>>>0,!he){let Ce=Math.pow(2,8*j)-1;S(this,T,V,j,Ce,0)}let be=j-1,ke=1;for(this[V+be]=T&255;--be>=0&&(ke*=256);)this[V+be]=T/ke&255;return V+j},a.prototype.writeUint8=a.prototype.writeUInt8=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,1,255,0),this[V]=T&255,V+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,2,65535,0),this[V]=T&255,this[V+1]=T>>>8,V+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,2,65535,0),this[V]=T>>>8,this[V+1]=T&255,V+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,4,4294967295,0),this[V+3]=T>>>24,this[V+2]=T>>>16,this[V+1]=T>>>8,this[V]=T&255,V+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,4,4294967295,0),this[V]=T>>>24,this[V+1]=T>>>16,this[V+2]=T>>>8,this[V+3]=T&255,V+4};function F(T,V,j,he,be){J(V,he,be,T,j,7);let ke=Number(V&BigInt(4294967295));T[j++]=ke,ke=ke>>8,T[j++]=ke,ke=ke>>8,T[j++]=ke,ke=ke>>8,T[j++]=ke;let Ce=Number(V>>BigInt(32)&BigInt(4294967295));return T[j++]=Ce,Ce=Ce>>8,T[j++]=Ce,Ce=Ce>>8,T[j++]=Ce,Ce=Ce>>8,T[j++]=Ce,j}function W(T,V,j,he,be){J(V,he,be,T,j,7);let ke=Number(V&BigInt(4294967295));T[j+7]=ke,ke=ke>>8,T[j+6]=ke,ke=ke>>8,T[j+5]=ke,ke=ke>>8,T[j+4]=ke;let Ce=Number(V>>BigInt(32)&BigInt(4294967295));return T[j+3]=Ce,Ce=Ce>>8,T[j+2]=Ce,Ce=Ce>>8,T[j+1]=Ce,Ce=Ce>>8,T[j]=Ce,j+8}a.prototype.writeBigUInt64LE=Re(function(T,V=0){return F(this,T,V,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Re(function(T,V=0){return W(this,T,V,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(T,V,j,he){if(T=+T,V=V>>>0,!he){let qe=Math.pow(2,8*j-1);S(this,T,V,j,qe-1,-qe)}let be=0,ke=1,Ce=0;for(this[V]=T&255;++be<j&&(ke*=256);)T<0&&Ce===0&&this[V+be-1]!==0&&(Ce=1),this[V+be]=(T/ke>>0)-Ce&255;return V+j},a.prototype.writeIntBE=function(T,V,j,he){if(T=+T,V=V>>>0,!he){let qe=Math.pow(2,8*j-1);S(this,T,V,j,qe-1,-qe)}let be=j-1,ke=1,Ce=0;for(this[V+be]=T&255;--be>=0&&(ke*=256);)T<0&&Ce===0&&this[V+be+1]!==0&&(Ce=1),this[V+be]=(T/ke>>0)-Ce&255;return V+j},a.prototype.writeInt8=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,1,127,-128),T<0&&(T=255+T+1),this[V]=T&255,V+1},a.prototype.writeInt16LE=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,2,32767,-32768),this[V]=T&255,this[V+1]=T>>>8,V+2},a.prototype.writeInt16BE=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,2,32767,-32768),this[V]=T>>>8,this[V+1]=T&255,V+2},a.prototype.writeInt32LE=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,4,2147483647,-2147483648),this[V]=T&255,this[V+1]=T>>>8,this[V+2]=T>>>16,this[V+3]=T>>>24,V+4},a.prototype.writeInt32BE=function(T,V,j){return T=+T,V=V>>>0,j||S(this,T,V,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[V]=T>>>24,this[V+1]=T>>>16,this[V+2]=T>>>8,this[V+3]=T&255,V+4},a.prototype.writeBigInt64LE=Re(function(T,V=0){return F(this,T,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Re(function(T,V=0){return W(this,T,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ue(T,V,j,he,be,ke){if(j+he>T.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function ae(T,V,j,he,be){return V=+V,j=j>>>0,be||ue(T,V,j,4),i.write(T,V,j,he,23,4),j+4}a.prototype.writeFloatLE=function(T,V,j){return ae(this,T,V,!0,j)},a.prototype.writeFloatBE=function(T,V,j){return ae(this,T,V,!1,j)};function se(T,V,j,he,be){return V=+V,j=j>>>0,be||ue(T,V,j,8),i.write(T,V,j,he,52,8),j+8}a.prototype.writeDoubleLE=function(T,V,j){return se(this,T,V,!0,j)},a.prototype.writeDoubleBE=function(T,V,j){return se(this,T,V,!1,j)},a.prototype.copy=function(T,V,j,he){if(!a.isBuffer(T))throw new TypeError("argument should be a Buffer");if(j||(j=0),!he&&he!==0&&(he=this.length),V>=T.length&&(V=T.length),V||(V=0),he>0&&he<j&&(he=j),he===j||T.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),T.length-V<he-j&&(he=T.length-V+j);let be=he-j;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(V,j,he):Uint8Array.prototype.set.call(T,this.subarray(j,he),V),be},a.prototype.fill=function(T,V,j,he){if(typeof T=="string"){if(typeof V=="string"?(he=V,V=0,j=this.length):typeof j=="string"&&(he=j,j=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!a.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(T.length===1){let ke=T.charCodeAt(0);(he==="utf8"&&ke<128||he==="latin1")&&(T=ke)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(V<0||this.length<V||this.length<j)throw new RangeError("Out of range index");if(j<=V)return this;V=V>>>0,j=j===void 0?this.length:j>>>0,T||(T=0);let be;if(typeof T=="number")for(be=V;be<j;++be)this[be]=T;else{let ke=a.isBuffer(T)?T:a.from(T,he),Ce=ke.length;if(Ce===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(be=0;be<j-V;++be)this[be+V]=ke[be%Ce]}return this};var q={};function ee(T,V,j){q[T]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(T,V){return`The "${T}" argument must be of type number. Received type ${typeof V}`},TypeError),ee("ERR_OUT_OF_RANGE",function(T,V,j){let he=`The value of "${T}" is out of range.`,be=j;return Number.isInteger(j)&&Math.abs(j)>2**32?be=B(String(j)):typeof j=="bigint"&&(be=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(be=B(be)),be+="n"),he+=` It must be ${V}. Received ${be}`,he},RangeError);function B(T){let V="",j=T.length,he=T[0]==="-"?1:0;for(;j>=he+4;j-=3)V=`_${T.slice(j-3,j)}${V}`;return`${T.slice(0,j)}${V}`}function re(T,V,j){X(V,"offset"),(T[V]===void 0||T[V+j]===void 0)&&N(V,T.length-(j+1))}function J(T,V,j,he,be,ke){if(T>j||T<V){let Ce=typeof V=="bigint"?"n":"",qe;throw V===0||V===BigInt(0)?qe=`>= 0${Ce} and < 2${Ce} ** ${(ke+1)*8}${Ce}`:qe=`>= -(2${Ce} ** ${(ke+1)*8-1}${Ce}) and < 2 ** ${(ke+1)*8-1}${Ce}`,new q.ERR_OUT_OF_RANGE("value",qe,T)}re(he,be,ke)}function X(T,V){if(typeof T!="number")throw new q.ERR_INVALID_ARG_TYPE(V,"number",T)}function N(T,V,j){throw Math.floor(T)!==T?(X(T,j),new q.ERR_OUT_OF_RANGE("offset","an integer",T)):V<0?new q.ERR_BUFFER_OUT_OF_BOUNDS:new q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${V}`,T)}var $=/[^+/0-9A-Za-z-_]/g;function te(T){if(T=T.split("=")[0],T=T.trim().replace($,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function le(T,V){V=V||1/0;let j,he=T.length,be=null,ke=[];for(let Ce=0;Ce<he;++Ce){if(j=T.charCodeAt(Ce),j>55295&&j<57344){if(!be){if(j>56319){(V-=3)>-1&&ke.push(239,191,189);continue}else if(Ce+1===he){(V-=3)>-1&&ke.push(239,191,189);continue}be=j;continue}if(j<56320){(V-=3)>-1&&ke.push(239,191,189),be=j;continue}j=(be-55296<<10|j-56320)+65536}else be&&(V-=3)>-1&&ke.push(239,191,189);if(be=null,j<128){if((V-=1)<0)break;ke.push(j)}else if(j<2048){if((V-=2)<0)break;ke.push(j>>6|192,j&63|128)}else if(j<65536){if((V-=3)<0)break;ke.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((V-=4)<0)break;ke.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return ke}function pe(T){let V=[];for(let j=0;j<T.length;++j)V.push(T.charCodeAt(j)&255);return V}function fe(T,V){let j,he,be,ke=[];for(let Ce=0;Ce<T.length&&!((V-=2)<0);++Ce)j=T.charCodeAt(Ce),he=j>>8,be=j%256,ke.push(be),ke.push(he);return ke}function ye(T){return k.toByteArray(te(T))}function Me(T,V,j,he){let be;for(be=0;be<he&&!(be+j>=V.length||be>=T.length);++be)V[be+j]=T[be];return be}function He(T,V){return T instanceof V||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===V.name}function Ne(T){return T!==T}var ze=function(){let T="0123456789abcdef",V=new Array(256);for(let j=0;j<16;++j){let he=j*16;for(let be=0;be<16;++be)V[he+be]=T[j]+T[be]}return V}();function Re(T){return typeof BigInt>"u"?Ae:T}function Ae(){throw new Error("BigInt not supported")}}),Kv=xe(E=>{var k=wh(),i=Yv(),t=Zv().Buffer;window.__TYPEDARRAY_POOL||(window.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var e=typeof Uint8ClampedArray<"u",n=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",a=window.__TYPEDARRAY_POOL;a.UINT8C||(a.UINT8C=i([32,0])),a.BIGUINT64||(a.BIGUINT64=i([32,0])),a.BIGINT64||(a.BIGINT64=i([32,0])),a.BUFFER||(a.BUFFER=i([32,0]));var o=a.DATA,s=a.BUFFER;E.free=function(I){if(t.isBuffer(I))s[k.log2(I.length)].push(I);else{if(Object.prototype.toString.call(I)!=="[object ArrayBuffer]"&&(I=I.buffer),!I)return;var C=I.length||I.byteLength,H=k.log2(C)|0;o[H].push(I)}};function r(I){if(I){var C=I.length||I.byteLength,H=k.log2(C);o[H].push(I)}}function p(I){r(I.buffer)}E.freeUint8=E.freeUint16=E.freeUint32=E.freeBigUint64=E.freeInt8=E.freeInt16=E.freeInt32=E.freeBigInt64=E.freeFloat32=E.freeFloat=E.freeFloat64=E.freeDouble=E.freeUint8Clamped=E.freeDataView=p,E.freeArrayBuffer=r,E.freeBuffer=function(I){s[k.log2(I.length)].push(I)},E.malloc=function(I,C){if(C===void 0||C==="arraybuffer")return u(I);switch(C){case"uint8":return d(I);case"uint16":return g(I);case"uint32":return v(I);case"int8":return x(I);case"int16":return y(I);case"int32":return m(I);case"float":case"float32":return c(I);case"double":case"float64":return h(I);case"uint8_clamped":return b(I);case"bigint64":return w(I);case"biguint64":return _(I);case"buffer":return D(I);case"data":case"dataview":return K(I);default:return null}return null};function u(C){var C=k.nextPow2(C),H=k.log2(C),z=o[H];return z.length>0?z.pop():new ArrayBuffer(C)}E.mallocArrayBuffer=u;function d(I){return new Uint8Array(u(I),0,I)}E.mallocUint8=d;function g(I){return new Uint16Array(u(2*I),0,I)}E.mallocUint16=g;function v(I){return new Uint32Array(u(4*I),0,I)}E.mallocUint32=v;function x(I){return new Int8Array(u(I),0,I)}E.mallocInt8=x;function y(I){return new Int16Array(u(2*I),0,I)}E.mallocInt16=y;function m(I){return new Int32Array(u(4*I),0,I)}E.mallocInt32=m;function c(I){return new Float32Array(u(4*I),0,I)}E.mallocFloat32=E.mallocFloat=c;function h(I){return new Float64Array(u(8*I),0,I)}E.mallocFloat64=E.mallocDouble=h;function b(I){return e?new Uint8ClampedArray(u(I),0,I):d(I)}E.mallocUint8Clamped=b;function _(I){return n?new BigUint64Array(u(8*I),0,I):null}E.mallocBigUint64=_;function w(I){return l?new BigInt64Array(u(8*I),0,I):null}E.mallocBigInt64=w;function K(I){return new DataView(u(I),0,I)}E.mallocDataView=K;function D(I){I=k.nextPow2(I);var C=k.log2(I),H=s[C];return H.length>0?H.pop():new t(I)}E.mallocBuffer=D,E.clearCache=function(){for(var I=0;I<32;++I)a.UINT8[I].length=0,a.UINT16[I].length=0,a.UINT32[I].length=0,a.INT8[I].length=0,a.INT16[I].length=0,a.INT32[I].length=0,a.FLOAT[I].length=0,a.DOUBLE[I].length=0,a.BIGUINT64[I].length=0,a.BIGINT64[I].length=0,a.UINT8C[I].length=0,o[I].length=0,s[I].length=0}}),$v=xe((E,k)=>{var i=Object.prototype.toString;k.exports=function(t){var e;return i.call(t)==="[object Object]"&&(e=Object.getPrototypeOf(t),e===null||e===Object.getPrototypeOf({}))}}),Ah=xe((E,k)=>{k.exports=function(i,t){t||(t=[0,""]),i=String(i);var e=parseFloat(i,10);return t[0]=e,t[1]=i.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}}),Xv=xe((E,k)=>{var i=Ah();k.exports=l;var t=96;function e(a,o){var s=i(getComputedStyle(a).getPropertyValue(o));return s[0]*l(s[1],a)}function n(a,o){var s=document.createElement("div");s.style["font-size"]="128"+a,o.appendChild(s);var r=e(s,"font-size")/128;return o.removeChild(s),r}function l(a,o){switch(o=o||document.body,a=(a||"px").trim().toLowerCase(),(o===window||o===document)&&(o=document.body),a){case"%":return o.clientHeight/100;case"ch":case"ex":return n(a,o);case"em":return e(o,"font-size");case"rem":return e(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return t;case"cm":return t/2.54;case"mm":return t/25.4;case"pt":return t/72;case"pc":return t/6}return 1}}),Qv=xe((E,k)=>{k.exports=n;var i=n.canvas=document.createElement("canvas"),t=i.getContext("2d"),e=l([32,126]);n.createPairs=l,n.ascii=e;function n(a,o){Array.isArray(a)&&(a=a.join(", "));var s={},r,p=16,u=.05;o&&(o.length===2&&typeof o[0]=="number"?r=l(o):Array.isArray(o)?r=o:(o.o?r=l(o.o):o.pairs&&(r=o.pairs),o.fontSize&&(p=o.fontSize),o.threshold!=null&&(u=o.threshold))),r||(r=e),t.font=p+"px "+a;for(var d=0;d<r.length;d++){var g=r[d],v=t.measureText(g[0]).width+t.measureText(g[1]).width,x=t.measureText(g).width;if(Math.abs(v-x)>p*u){var y=(x-v)/p;s[g]=y*1e3}}return s}function l(a){for(var o=[],s=a[0];s<=a[1];s++)for(var r=String.fromCharCode(s),p=a[0];p<a[1];p++){var u=String.fromCharCode(p),d=r+u;o.push(d)}return o}}),e1=xe((E,k)=>{k.exports=i,i.canvas=document.createElement("canvas"),i.cache={};function i(u,a){a||(a={}),(typeof u=="string"||Array.isArray(u))&&(a.family=u);var o=Array.isArray(a.family)?a.family.join(", "):a.family;if(!o)throw Error("`family` must be defined");var s=a.size||a.fontSize||a.em||48,r=a.weight||a.fontWeight||"",p=a.style||a.fontStyle||"",u=[p,r,s].join(" ")+"px "+o,d=a.origin||"top";if(i.cache[o]&&s<=i.cache[o].em)return t(i.cache[o],d);var g=a.canvas||i.canvas,v=g.getContext("2d"),x={upper:a.upper!==void 0?a.upper:"H",lower:a.lower!==void 0?a.lower:"x",descent:a.descent!==void 0?a.descent:"p",ascent:a.ascent!==void 0?a.ascent:"h",tittle:a.tittle!==void 0?a.tittle:"i",overshoot:a.overshoot!==void 0?a.overshoot:"O"},y=Math.ceil(s*1.5);g.height=y,g.width=y*.5,v.font=u;var m="H",c={top:0};v.clearRect(0,0,y,y),v.textBaseline="top",v.fillStyle="black",v.fillText(m,0,0);var h=e(v.getImageData(0,0,y,y));v.clearRect(0,0,y,y),v.textBaseline="bottom",v.fillText(m,0,y);var b=e(v.getImageData(0,0,y,y));c.lineHeight=c.bottom=y-b+h,v.clearRect(0,0,y,y),v.textBaseline="alphabetic",v.fillText(m,0,y);var _=e(v.getImageData(0,0,y,y)),w=y-_-1+h;c.baseline=c.alphabetic=w,v.clearRect(0,0,y,y),v.textBaseline="middle",v.fillText(m,0,y*.5);var K=e(v.getImageData(0,0,y,y));c.median=c.middle=y-K-1+h-y*.5,v.clearRect(0,0,y,y),v.textBaseline="hanging",v.fillText(m,0,y*.5);var D=e(v.getImageData(0,0,y,y));c.hanging=y-D-1+h-y*.5,v.clearRect(0,0,y,y),v.textBaseline="ideographic",v.fillText(m,0,y);var I=e(v.getImageData(0,0,y,y));if(c.ideographic=y-I-1+h,x.upper&&(v.clearRect(0,0,y,y),v.textBaseline="top",v.fillText(x.upper,0,0),c.upper=e(v.getImageData(0,0,y,y)),c.capHeight=c.baseline-c.upper),x.lower&&(v.clearRect(0,0,y,y),v.textBaseline="top",v.fillText(x.lower,0,0),c.lower=e(v.getImageData(0,0,y,y)),c.xHeight=c.baseline-c.lower),x.tittle&&(v.clearRect(0,0,y,y),v.textBaseline="top",v.fillText(x.tittle,0,0),c.tittle=e(v.getImageData(0,0,y,y))),x.ascent&&(v.clearRect(0,0,y,y),v.textBaseline="top",v.fillText(x.ascent,0,0),c.ascent=e(v.getImageData(0,0,y,y))),x.descent&&(v.clearRect(0,0,y,y),v.textBaseline="top",v.fillText(x.descent,0,0),c.descent=n(v.getImageData(0,0,y,y))),x.overshoot){v.clearRect(0,0,y,y),v.textBaseline="top",v.fillText(x.overshoot,0,0);var C=n(v.getImageData(0,0,y,y));c.overshoot=C-w}for(var H in c)c[H]/=s;return c.em=s,i.cache[o]=c,t(c,d)}function t(l,a){var o={};typeof a=="string"&&(a=l[a]);for(var s in l)s!=="em"&&(o[s]=l[s]-a);return o}function e(l){for(var a=l.height,o=l.data,s=3;s<o.length;s+=4)if(o[s]!==0)return Math.floor((s-3)*.25/a)}function n(l){for(var a=l.height,o=l.data,s=o.length-1;s>0;s-=4)if(o[s]!==0)return Math.floor((s-3)*.25/a)}}),t1=xe((E,k)=>{var i=Vv(),t=Qi(),e=_h(),n=qv(),l=hh(),a=Xo(),o=Wv(),s=Kv(),r=Ws(),p=$v(),u=Ah(),d=Xv(),g=Qv(),v=Ea(),x=e1(),y=El(),m=wh(),c=m.nextPow2,h=new l,b=!1;document.body&&(_=document.body.appendChild(document.createElement("div")),_.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(_).fontStretch&&(b=!0),document.body.removeChild(_));var _,w=function(D){K(D)?(D={regl:D},this.gl=D.regl._gl):this.gl=n(D),this.shader=h.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=D.regl||e({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),h.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(p(D)?D:{})};w.prototype.createShader=function(){var D=this.regl,I=D({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:D.prop("count"),offset:D.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:D.this("sizeBuffer")},width:{offset:0,stride:8,buffer:D.this("sizeBuffer")},char:D.this("charBuffer"),position:D.this("position")},uniforms:{atlasSize:function(H,z){return[z.atlas.width,z.atlas.height]},atlasDim:function(H,z){return[z.atlas.cols,z.atlas.rows]},atlas:function(H,z){return z.atlas.texture},charStep:function(H,z){return z.atlas.step},em:function(H,z){return z.atlas.em},color:D.prop("color"),opacity:D.prop("opacity"),viewport:D.this("viewportArray"),scale:D.this("scale"),align:D.prop("align"),baseline:D.prop("baseline"),translate:D.this("translate"),positionOffset:D.prop("positionOffset")},primitive:"points",viewport:D.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),C={};return{regl:D,draw:I,atlas:C}},w.prototype.update=function(D){var I=this;if(typeof D=="string")D={text:D};else if(!D)return;D=t(D,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),D.opacity!=null&&(Array.isArray(D.opacity)?this.opacity=D.opacity.map(function(V){return parseFloat(V)}):this.opacity=parseFloat(D.opacity)),D.viewport!=null&&(this.viewport=r(D.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),D.kerning!=null&&(this.kerning=D.kerning),D.offset!=null&&(typeof D.offset=="number"&&(D.offset=[D.offset,0]),this.positionOffset=y(D.offset)),D.direction&&(this.direction=D.direction),D.range&&(this.range=D.range,this.scale=[1/(D.range[2]-D.range[0]),1/(D.range[3]-D.range[1])],this.translate=[-D.range[0],-D.range[1]]),D.scale&&(this.scale=D.scale),D.translate&&(this.translate=D.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!D.font&&(D.font=w.baseFontSize+"px sans-serif");var C=!1,H=!1;if(D.font&&(Array.isArray(D.font)?D.font:[D.font]).forEach(function(V,j){if(typeof V=="string")try{V=i.parse(V)}catch{V=i.parse(w.baseFontSize+"px "+V)}else{var he=V.style,be=V.weight,ke=V.stretch,Ce=V.variant;V=i.parse(i.stringify(V)),he&&(V.style=he),be&&(V.weight=be),ke&&(V.stretch=ke),Ce&&(V.variant=Ce)}var qe=i.stringify({size:w.baseFontSize,family:V.family,stretch:b?V.stretch:void 0,variant:V.variant,weight:V.weight,style:V.style}),at=u(V.size),ct=Math.round(at[0]*d(at[1]));if(ct!==I.fontSize[j]&&(H=!0,I.fontSize[j]=ct),(!I.font[j]||qe!=I.font[j].baseString)&&(C=!0,I.font[j]=w.fonts[qe],!I.font[j])){var vt=V.family.join(", "),St=[V.style];V.style!=V.variant&&St.push(V.variant),V.variant!=V.weight&&St.push(V.weight),b&&V.weight!=V.stretch&&St.push(V.stretch),I.font[j]={baseString:qe,family:vt,weight:V.weight,stretch:V.stretch,style:V.style,variant:V.variant,width:{},kerning:{},metrics:x(vt,{origin:"top",fontSize:w.baseFontSize,fontStyle:St.join(" ")})},w.fonts[qe]=I.font[j]}}),(C||H)&&this.font.forEach(function(V,j){var he=i.stringify({size:I.fontSize[j],family:V.family,stretch:b?V.stretch:void 0,variant:V.variant,weight:V.weight,style:V.style});if(I.fontAtlas[j]=I.shader.atlas[he],!I.fontAtlas[j]){var be=V.metrics;I.shader.atlas[he]=I.fontAtlas[j]={fontString:he,step:Math.ceil(I.fontSize[j]*be.bottom*.5)*2,em:I.fontSize[j],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:I.regl.texture()}}D.text==null&&(D.text=I.text)}),typeof D.text=="string"&&D.position&&D.position.length>2){for(var z=Array(D.position.length*.5),R=0;R<z.length;R++)z[R]=D.text;D.text=z}var U;if(D.text!=null||C){if(this.textOffsets=[0],Array.isArray(D.text)){this.count=D.text[0].length,this.counts=[this.count];for(var Z=1;Z<D.text.length;Z++)this.textOffsets[Z]=this.textOffsets[Z-1]+D.text[Z-1].length,this.count+=D.text[Z].length,this.counts.push(D.text[Z].length);this.text=D.text.join("")}else this.text=D.text,this.count=this.text.length,this.counts=[this.count];U=[],this.font.forEach(function(V,j){w.atlasContext.font=V.baseString;for(var he=I.fontAtlas[j],be=0;be<I.text.length;be++){var ke=I.text.charAt(be);if(he.ids[ke]==null&&(he.ids[ke]=he.chars.length,he.chars.push(ke),U.push(ke)),V.width[ke]==null&&(V.width[ke]=w.atlasContext.measureText(ke).width/w.baseFontSize,I.kerning)){var Ce=[];for(var qe in V.width)Ce.push(qe+ke,ke+qe);v(V.kerning,g(V.family,{pairs:Ce}))}}})}if(D.position)if(D.position.length>2){for(var G=!D.position[0].length,P=s.mallocFloat(this.count*2),A=0,O=0;A<this.counts.length;A++){var L=this.counts[A];if(G)for(var S=0;S<L;S++)P[O++]=D.position[A*2],P[O++]=D.position[A*2+1];else for(var F=0;F<L;F++)P[O++]=D.position[A][0],P[O++]=D.position[A][1]}this.position.call?this.position({type:"float",data:P}):this.position=this.regl.buffer({type:"float",data:P}),s.freeFloat(P)}else this.position.destroy&&this.position.destroy(),this.position={constant:D.position};if(D.text||C){var W=s.mallocUint8(this.count),ue=s.mallocFloat(this.count*2);this.textWidth=[];for(var ae=0,se=0;ae<this.counts.length;ae++){for(var q=this.counts[ae],ee=this.font[ae]||this.font[0],B=this.fontAtlas[ae]||this.fontAtlas[0],re=0;re<q;re++){var J=this.text.charAt(se),X=this.text.charAt(se-1);if(W[se]=B.ids[J],ue[se*2]=ee.width[J],re){var N=ue[se*2-2],$=ue[se*2],te=ue[se*2-1],le=te+N*.5+$*.5;if(this.kerning){var pe=ee.kerning[X+J];pe&&(le+=pe*.001)}ue[se*2+1]=le}else ue[se*2+1]=ue[se*2]*.5;se++}this.textWidth.push(ue.length?ue[se*2-2]*.5+ue[se*2-1]:0)}D.align||(D.align=this.align),this.charBuffer({data:W,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ue,type:"float",usage:"stream"}),s.freeUint8(W),s.freeFloat(ue),U.length&&this.font.forEach(function(V,j){var he=I.fontAtlas[j],be=he.step,ke=Math.floor(w.maxAtlasSize/be),Ce=Math.min(ke,he.chars.length),qe=Math.ceil(he.chars.length/Ce),at=c(Ce*be),ct=c(qe*be);he.width=at,he.height=ct,he.rows=qe,he.cols=Ce,he.em&&he.texture({data:o({canvas:w.atlasCanvas,font:he.fontString,chars:he.chars,shape:[at,ct],step:[be,be]})})})}if(D.align&&(this.align=D.align,this.alignOffset=this.textWidth.map(function(V,j){var he=Array.isArray(I.align)?I.align.length>1?I.align[j]:I.align[0]:I.align;if(typeof he=="number")return he;switch(he){case"right":case"end":return-V;case"center":case"centre":case"middle":return-V*.5}return 0})),this.baseline==null&&D.baseline==null&&(D.baseline=0),D.baseline!=null&&(this.baseline=D.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(V,j){var he=(I.font[j]||I.font[0]).metrics,be=0;return be+=he.bottom*.5,typeof V=="number"?be+=V-he.baseline:be+=-he[V],be*=-1,be})),D.color!=null)if(D.color||(D.color="transparent"),typeof D.color=="string"||!isNaN(D.color))this.color=a(D.color,"uint8");else{var fe;if(typeof D.color[0]=="number"&&D.color.length>this.counts.length){var ye=D.color.length;fe=s.mallocUint8(ye);for(var Me=(D.color.subarray||D.color.slice).bind(D.color),He=0;He<ye;He+=4)fe.set(a(Me(He,He+4),"uint8"),He)}else{var Ne=D.color.length;fe=s.mallocUint8(Ne*4);for(var ze=0;ze<Ne;ze++)fe.set(a(D.color[ze]||0,"uint8"),ze*4)}this.color=fe}if(D.position||D.text||D.color||D.baseline||D.align||D.font||D.offset||D.opacity){var Re=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Re){var Ae=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ae);for(var T=0;T<this.batch.length;T++)this.batch[T]={count:this.counts.length>1?this.counts[T]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[T]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(T*4,T*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[T]:this.opacity,baseline:this.baselineOffset[T]!=null?this.baselineOffset[T]:this.baselineOffset[0],align:this.align?this.alignOffset[T]!=null?this.alignOffset[T]:this.alignOffset[0]:0,atlas:this.fontAtlas[T]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(T*2,T*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function K(D){return typeof D=="function"&&D._gl&&D.prop&&D.texture&&D.buffer}k.exports=w}),r1=xe((E,k)=>{var i=Nn(),t=function(){};k.exports=function(e){for(var n in e)typeof e[n]=="function"&&(e[n]=t);e.destroy=function(){e.container.parentNode.removeChild(e.container)};var l=document.createElement("div");l.className="no-webgl",l.style.cursor="pointer",l.style.fontSize="24px",l.style.color=i.defaults[0],l.style.position="absolute",l.style.left=l.style.top="0px",l.style.width=l.style.height="100%",l.style["background-color"]=i.lightLine,l.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",l.appendChild(a),e.container.appendChild(l),e.container.style.background="#FFFFFF",e.container.onclick=function(){window.open("https://get.webgl.org")},!1}}),n1=xe((E,k)=>{var i=r1(),t=_h();k.exports=function(e,n,l){var a=e._fullLayout,o=!0;return a._glcanvas.each(function(s){if(s.regl){s.regl.preloadCachedCode(l);return}if(!(s.pick&&!a._has("parcoords"))){try{s.regl=t({canvas:this,attributes:{antialias:!s.pick,preserveDrawingBuffer:!0},pixelRatio:e._context.plotGlPixelRatio||window.devicePixelRatio,extensions:n||[],cachedCode:l||{}})}catch{o=!1}s.regl||(o=!1),o&&this.addEventListener("webglcontextlost",function(r){e&&e.emit&&e.emit("plotly_webglcontextlost",{event:r,layer:s.key})},!1)}}),o||i({container:a._glcontainer.node()}),o}}),a1=xe((g,k)=>{var i=Ry(),t=Nv(),e=Rv(),n=t1(),l=sr(),a=Zo().selectMode,o=n1(),s=ti(),r=Ad(),p=th().styleTextSelection,u={};function d(v,x,y,m){var c=v._size,h=v.width*m,b=v.height*m,_=c.l*m,w=c.b*m,K=c.r*m,D=c.t*m,I=c.w*m,C=c.h*m;return[_+x.domain[0]*I,w+y.domain[0]*C,h-K-(1-x.domain[1])*I,b-D-(1-y.domain[1])*C]}var g=k.exports=function(v,x,y){if(y.length){var m=v._fullLayout,c=x._scene,h=x.xaxis,b=x.yaxis,_,w;if(c){var K=o(v,["ANGLE_instanced_arrays","OES_element_index_uint"],u);if(!K){c.init();return}var D=c.count,I=m._glcanvas.data()[0].regl;if(r(v,x,y),c.dirty){if((c.line2d||c.error2d)&&!(c.scatter2d||c.fill2d||c.glText)&&I.clear({}),c.error2d===!0&&(c.error2d=e(I)),c.line2d===!0&&(c.line2d=t(I)),c.scatter2d===!0&&(c.scatter2d=i(I)),c.fill2d===!0&&(c.fill2d=t(I)),c.glText===!0)for(c.glText=new Array(D),_=0;_<D;_++)c.glText[_]=new n(I);if(c.glText){if(D>c.glText.length){var C=D-c.glText.length;for(_=0;_<C;_++)c.glText.push(new n(I))}else if(D<c.glText.length){var H=c.glText.length-D,z=c.glText.splice(D,H);z.forEach(function(X){X.destroy()})}for(_=0;_<D;_++)c.glText[_].update(c.textOptions[_])}if(c.line2d&&(c.line2d.update(c.lineOptions),c.lineOptions=c.lineOptions.map(function(X){if(X&&X.positions){for(var N=X.positions,$=0;$<N.length&&(isNaN(N[$])||isNaN(N[$+1]));)$+=2;for(var te=N.length-2;te>$&&(isNaN(N[te])||isNaN(N[te+1]));)te-=2;X.positions=N.slice($,te+2)}return X}),c.line2d.update(c.lineOptions)),c.error2d){var R=(c.errorXOptions||[]).concat(c.errorYOptions||[]);c.error2d.update(R)}c.scatter2d&&c.scatter2d.update(c.markerOptions),c.fillOrder=l.repeat(null,D),c.fill2d&&(c.fillOptions=c.fillOptions.map(function(X,N){var $=y[N];if(!(!X||!$||!$[0]||!$[0].trace)){var te=$[0],le=te.trace,pe=te.t,fe=c.lineOptions[N],ye,Me,He=[];le._ownfill&&He.push(N),le._nexttrace&&He.push(N+1),He.length&&(c.fillOrder[N]=He);var Ne=[],ze=fe&&fe.positions||pe.positions,Re,Ae;if(le.fill==="tozeroy"){for(Re=0;Re<ze.length&&isNaN(ze[Re+1]);)Re+=2;for(Ae=ze.length-2;Ae>Re&&isNaN(ze[Ae+1]);)Ae-=2;ze[Re+1]!==0&&(Ne=[ze[Re],0]),Ne=Ne.concat(ze.slice(Re,Ae+2)),ze[Ae+1]!==0&&(Ne=Ne.concat([ze[Ae],0]))}else if(le.fill==="tozerox"){for(Re=0;Re<ze.length&&isNaN(ze[Re]);)Re+=2;for(Ae=ze.length-2;Ae>Re&&isNaN(ze[Ae]);)Ae-=2;ze[Re]!==0&&(Ne=[0,ze[Re+1]]),Ne=Ne.concat(ze.slice(Re,Ae+2)),ze[Ae]!==0&&(Ne=Ne.concat([0,ze[Ae+1]]))}else if(le.fill==="toself"||le.fill==="tonext"){for(Ne=[],ye=0,X.splitNull=!0,Me=0;Me<ze.length;Me+=2)(isNaN(ze[Me])||isNaN(ze[Me+1]))&&(Ne=Ne.concat(ze.slice(ye,Me)),Ne.push(ze[ye],ze[ye+1]),Ne.push(null,null),ye=Me+2);Ne=Ne.concat(ze.slice(ye)),ye&&Ne.push(ze[ye],ze[ye+1])}else{var T=le._nexttrace;if(T){var V=c.lineOptions[N+1];if(V){var j=V.positions;if(le.fill==="tonexty"){for(Ne=ze.slice(),N=Math.floor(j.length/2);N--;){var he=j[N*2],be=j[N*2+1];isNaN(he)||isNaN(be)||Ne.push(he,be)}X.fill=T.fillcolor}}}}if(le._prevtrace&&le._prevtrace.fill==="tonext"){var ke=c.lineOptions[N-1].positions,Ce=Ne.length/2;ye=Ce;var qe=[ye];for(Me=0;Me<ke.length;Me+=2)(isNaN(ke[Me])||isNaN(ke[Me+1]))&&(qe.push(Me/2+Ce+1),ye=Me+2);Ne=Ne.concat(ke),X.hole=qe}return X.fillmode=le.fill,X.opacity=le.opacity,X.positions=Ne,X}}),c.fill2d.update(c.fillOptions))}var U=m.dragmode,Z=a(U),G=m.clickmode.indexOf("select")>-1;for(_=0;_<D;_++){var P=y[_][0],A=P.trace,O=P.t,L=O.index,S=A._length,F=O.x,W=O.y;if(A.selectedpoints||Z||G){if(Z||(Z=!0),A.selectedpoints){var ue=c.selectBatch[L]=l.selIndices2selPoints(A),ae={};for(w=0;w<ue.length;w++)ae[ue[w]]=1;var se=[];for(w=0;w<S;w++)ae[w]||se.push(w);c.unselectBatch[L]=se}var q=O.xpx=new Array(S),ee=O.ypx=new Array(S);for(w=0;w<S;w++)q[w]=h.c2p(F[w]),ee[w]=b.c2p(W[w])}else O.xpx=O.ypx=null}if(Z){if(c.select2d||(c.select2d=i(m._glcanvas.data()[1].regl)),c.scatter2d){var B=new Array(D);for(_=0;_<D;_++)B[_]=c.selectBatch[_].length||c.unselectBatch[_].length?c.markerUnselectedOptions[_]:{};c.scatter2d.update(B)}c.select2d&&(c.select2d.update(c.markerOptions),c.select2d.update(c.markerSelectedOptions)),c.glText&&y.forEach(function(X){var N=((X||[])[0]||{}).trace||{};s.hasText(N)&&p(X)})}else c.scatter2d&&c.scatter2d.update(c.markerOptions);var re={viewport:d(m,h,b,v._context.plotGlPixelRatio),range:[(h._rl||h.range)[0],(b._rl||b.range)[0],(h._rl||h.range)[1],(b._rl||b.range)[1]]},J=l.repeat(re,c.count);c.fill2d&&c.fill2d.update(J),c.line2d&&c.line2d.update(J),c.error2d&&c.error2d.update(J.concat(J)),c.scatter2d&&c.scatter2d.update(J),c.select2d&&c.select2d.update(J),c.glText&&c.glText.forEach(function(X){X.update(re)})}}};g.reglPrecompiled=u}),i1=xe((E,k)=>{var i=Py();i.plot=a1(),k.exports=i}),o1=xe((E,k)=>{k.exports=i1()}),ri=xe((E,k)=>{var i=Ea();function t(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}i(t.prototype,{instance:function(s,r){s=(s||"gregorian").toLowerCase(),r=r||"";var p=this._localCals[s+"-"+r];if(!p&&this.calendars[s]&&(p=new this.calendars[s](r),this._localCals[s+"-"+r]=p),!p)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,s);return p},newDate:function(s,r,p,u,d){return u=(s!=null&&s.year?s.calendar():typeof u=="string"?this.instance(u,d):u)||this.instance(),u.newDate(s,r,p)},substituteDigits:function(s){return function(r){return(r+"").replace(/[0-9]/g,function(p){return s[p]})}},substituteChineseDigits:function(s,r){return function(p){for(var u="",d=0;p>0;){var g=p%10;u=(g===0?"":s[g]+r[d])+u,d++,p=Math.floor(p/10)}return u.indexOf(s[1]+r[1])===0&&(u=u.substr(1)),u||s[0]}}});function e(s,r,p,u){if(this._calendar=s,this._year=r,this._month=p,this._day=u,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function n(s,r){return s=""+s,"000000".substring(0,r-s.length)+s}i(e.prototype,{newDate:function(s,r,p){return this._calendar.newDate(s??this,r,p)},year:function(s){return arguments.length===0?this._year:this.set(s,"y")},month:function(s){return arguments.length===0?this._month:this.set(s,"m")},day:function(s){return arguments.length===0?this._day:this.set(s,"d")},date:function(s,r,p){if(!this._calendar.isValid(s,r,p))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=s,this._month=r,this._day=p,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(s,r){return this._calendar.add(this,s,r)},set:function(s,r){return this._calendar.set(this,s,r)},compareTo:function(s){if(this._calendar.name!==s._calendar.name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,s._calendar.local.name);var r=this._year!==s._year?this._year-s._year:this._month!==s._month?this.monthOfYear()-s.monthOfYear():this._day-s._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(s){return this._calendar.fromJD(s)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(s){return this._calendar.fromJSDate(s)},toString:function(){return(this.year()<0?"-":"")+n(Math.abs(this.year()),4)+"-"+n(this.month(),2)+"-"+n(this.day(),2)}});function l(){this.shortYearCutoff="+10"}i(l.prototype,{_validateLevel:0,newDate:function(s,r,p){return s==null?this.today():(s.year&&(this._validate(s,r,p,o.local.invalidDate||o.regionalOptions[""].invalidDate),p=s.day(),r=s.month(),s=s.year()),new e(this,s,r,p))},today:function(){return this.fromJSDate(new Date)},epoch:function(s){var r=this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(s){var r=this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+n(Math.abs(r.year()),4)},monthsInYear:function(s){return this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),12},monthOfYear:function(s,r){var p=this._validate(s,r,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return(p.month()+this.monthsInYear(p)-this.firstMonth)%this.monthsInYear(p)+this.minMonth},fromMonthOfYear:function(s,r){var p=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(s)+this.minMonth;return this._validate(s,p,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth),p},daysInYear:function(s){var r=this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(s,r,p){var u=this._validate(s,r,p,o.local.invalidDate||o.regionalOptions[""].invalidDate);return u.toJD()-this.newDate(u.year(),this.fromMonthOfYear(u.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(s,r,p){var u=this._validate(s,r,p,o.local.invalidDate||o.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(u))+2)%this.daysInWeek()},extraInfo:function(s,r,p){return this._validate(s,r,p,o.local.invalidDate||o.regionalOptions[""].invalidDate),{}},add:function(s,r,p){return this._validate(s,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate),this._correctAdd(s,this._add(s,r,p),r,p)},_add:function(s,r,p){if(this._validateLevel++,p==="d"||p==="w"){var u=s.toJD()+r*(p==="w"?this.daysInWeek():1),d=s.calendar().fromJD(u);return this._validateLevel--,[d.year(),d.month(),d.day()]}try{var g=s.year()+(p==="y"?r:0),v=s.monthOfYear()+(p==="m"?r:0),d=s.day(),x=function(c){for(;v<c.minMonth;)g--,v+=c.monthsInYear(g);for(var h=c.monthsInYear(g);v>h-1+c.minMonth;)g++,v-=h,h=c.monthsInYear(g)};p==="y"?(s.month()!==this.fromMonthOfYear(g,v)&&(v=this.newDate(g,s.month(),this.minDay).monthOfYear()),v=Math.min(v,this.monthsInYear(g)),d=Math.min(d,this.daysInMonth(g,this.fromMonthOfYear(g,v)))):p==="m"&&(x(this),d=Math.min(d,this.daysInMonth(g,this.fromMonthOfYear(g,v))));var y=[g,this.fromMonthOfYear(g,v),d];return this._validateLevel--,y}catch(m){throw this._validateLevel--,m}},_correctAdd:function(s,r,p,u){if(!this.hasYearZero&&(u==="y"||u==="m")&&(r[0]===0||s.year()>0!=r[0]>0)){var d={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[u],g=p<0?-1:1;r=this._add(s,p*d[0]+g*d[1],d[2])}return s.date(r[0],r[1],r[2])},set:function(s,r,p){this._validate(s,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate);var u=p==="y"?r:s.year(),d=p==="m"?r:s.month(),g=p==="d"?r:s.day();return(p==="y"||p==="m")&&(g=Math.min(g,this.daysInMonth(u,d))),s.date(u,d,g)},isValid:function(s,r,p){this._validateLevel++;var u=this.hasYearZero||s!==0;if(u){var d=this.newDate(s,r,this.minDay);u=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(d)&&p>=this.minDay&&p-this.minDay<this.daysInMonth(d)}return this._validateLevel--,u},toJSDate:function(s,r,p){var u=this._validate(s,r,p,o.local.invalidDate||o.regionalOptions[""].invalidDate);return o.instance().fromJD(this.toJD(u)).toJSDate()},fromJSDate:function(s){return this.fromJD(o.instance().fromJSDate(s).toJD())},_validate:function(s,r,p,u){if(s.year){if(this._validateLevel===0&&this.name!==s.calendar().name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,s.calendar().local.name);return s}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(s,r,p))throw u.replace(/\{0\}/,this.local.name);var d=this.newDate(s,r,p);return this._validateLevel--,d}catch(g){throw this._validateLevel--,g}}});function a(s){this.local=this.regionalOptions[s]||this.regionalOptions[""]}a.prototype=new l,i(a.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var r=this._validate(p,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),p=r.year()+(r.year()<0?1:0);return p%4===0&&(p%100!==0||p%400===0)},weekOfYear:function(s,r,p){var u=this.newDate(s,r,p);return u.add(4-(u.dayOfWeek()||7),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(s,r){var p=this._validate(s,r,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(s,r,p){return(this.dayOfWeek(s,r,p)||7)<6},toJD:function(s,r,p){var u=this._validate(s,r,p,o.local.invalidDate||o.regionalOptions[""].invalidDate);s=u.year(),r=u.month(),p=u.day(),s<0&&s++,r<3&&(r+=12,s--);var d=Math.floor(s/100),g=2-d+Math.floor(d/4);return Math.floor(365.25*(s+4716))+Math.floor(30.6001*(r+1))+p+g-1524.5},fromJD:function(s){var r=Math.floor(s+.5),p=Math.floor((r-186721625e-2)/36524.25);p=r+1+p-Math.floor(p/4);var u=p+1524,d=Math.floor((u-122.1)/365.25),g=Math.floor(365.25*d),v=Math.floor((u-g)/30.6001),x=u-g-Math.floor(v*30.6001),y=v-(v>13.5?13:1),m=d-(y>2.5?4716:4715);return m<=0&&m--,this.newDate(m,y,x)},toJSDate:function(s,r,p){var u=this._validate(s,r,p,o.local.invalidDate||o.regionalOptions[""].invalidDate),d=new Date(u.year(),u.month()-1,u.day());return d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0),d.setHours(d.getHours()>12?d.getHours()+2:0),d},fromJSDate:function(s){return this.newDate(s.getFullYear(),s.getMonth()+1,s.getDate())}});var o=k.exports=new t;o.cdate=e,o.baseCalendar=l,o.calendars.gregorian=a}),l1=xe(()=>{var E=Ea(),k=ri();E(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],E(k.cdate.prototype,{formatDate:function(i,t){return typeof i!="string"&&(t=i,i=""),this._calendar.formatDate(i||"",this,t)}}),E(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,t,e){if(typeof i!="string"&&(e=t,t=i,i=""),!t)return"";if(t.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,e=e||{};for(var n=e.dayNamesShort||this.local.dayNamesShort,l=e.dayNames||this.local.dayNames,a=e.monthNumbers||this.local.monthNumbers,o=e.monthNamesShort||this.local.monthNamesShort,s=e.monthNames||this.local.monthNames,r=e.calculateWeek||this.local.calculateWeek,p=function(_,w){for(var K=1;b+K<i.length&&i.charAt(b+K)===_;)K++;return b+=K-1,Math.floor(K/(w||1))>1},u=function(_,w,K,D){var I=""+w;if(p(_,D))for(;I.length<K;)I="0"+I;return I},d=function(_,w,K,D){return p(_)?D[w]:K[w]},g=this,v=function(_){return typeof a=="function"?a.call(g,_,p("m")):m(u("m",_.month(),2))},x=function(_,w){return w?typeof s=="function"?s.call(g,_):s[_.month()-g.minMonth]:typeof o=="function"?o.call(g,_):o[_.month()-g.minMonth]},y=this.local.digits,m=function(_){return e.localNumbers&&y?y(_):_},c="",h=!1,b=0;b<i.length;b++)if(h)i.charAt(b)==="'"&&!p("'")?h=!1:c+=i.charAt(b);else switch(i.charAt(b)){case"d":c+=m(u("d",t.day(),2));break;case"D":c+=d("D",t.dayOfWeek(),n,l);break;case"o":c+=u("o",t.dayOfYear(),3);break;case"w":c+=u("w",t.weekOfYear(),2);break;case"m":c+=v(t);break;case"M":c+=x(t,p("M"));break;case"y":c+=p("y",2)?t.year():(t.year()%100<10?"0":"")+t.year()%100;break;case"Y":p("Y",2),c+=t.formatYear();break;case"J":c+=t.toJD();break;case"@":c+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":c+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":p("'")?c+="'":h=!0;break;default:c+=i.charAt(b)}return c},parseDate:function(i,t,e){if(t==null)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if(t=typeof t=="object"?t.toString():t+"",t==="")return null;i=i||this.local.dateFormat,e=e||{};var n=e.shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var l=e.dayNamesShort||this.local.dayNamesShort,a=e.dayNames||this.local.dayNames,o=e.parseMonth||this.local.parseMonth,s=e.monthNumbers||this.local.monthNumbers,r=e.monthNamesShort||this.local.monthNamesShort,p=e.monthNames||this.local.monthNames,u=-1,d=-1,g=-1,v=-1,x=-1,y=!1,m=!1,c=function(R,U){for(var Z=1;C+Z<i.length&&i.charAt(C+Z)===R;)Z++;return C+=Z-1,Math.floor(Z/(U||1))>1},h=function(R,U){var Z=c(R,U),G=[2,3,Z?4:2,Z?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],P=new RegExp("^-?\\d{1,"+G+"}"),A=t.substring(I).match(P);if(!A)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,I);return I+=A[0].length,parseInt(A[0],10)},b=this,_=function(){if(typeof s=="function"){c("m");var R=s.call(b,t.substring(I));return I+=R.length,R}return h("m")},w=function(R,U,Z,G){for(var P=c(R,G)?Z:U,A=0;A<P.length;A++)if(t.substr(I,P[A].length).toLowerCase()===P[A].toLowerCase())return I+=P[A].length,A+b.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,I)},K=function(){if(typeof p=="function"){var R=c("M")?p.call(b,t.substring(I)):r.call(b,t.substring(I));return I+=R.length,R}return w("M",r,p)},D=function(){if(t.charAt(I)!==i.charAt(C))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,I);I++},I=0,C=0;C<i.length;C++)if(m)i.charAt(C)==="'"&&!c("'")?m=!1:D();else switch(i.charAt(C)){case"d":v=h("d");break;case"D":w("D",l,a);break;case"o":x=h("o");break;case"w":h("w");break;case"m":g=_();break;case"M":g=K();break;case"y":var H=C;y=!c("y",2),C=H,d=h("y",2);break;case"Y":d=h("Y",2);break;case"J":u=h("J")+.5,t.charAt(I)==="."&&(I++,h("J"));break;case"@":u=h("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=h("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":I=t.length;break;case"'":c("'")?D():m=!0;break;default:D()}if(I<t.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(d===-1?d=this.today().year():d<100&&y&&(d+=n===-1?1900:this.today().year()-this.today().year()%100-(d<=n?0:100)),typeof g=="string"&&(g=o.call(this,d,g)),x>-1){g=1,v=x;for(var z=this.daysInMonth(d,g);v>z;z=this.daysInMonth(d,g))g++,v-=z}return u>-1?this.fromJD(u):this.newDate(d,g,v)},determineDate:function(i,t,e,n,l){e&&typeof e!="object"&&(l=n,n=e,e=null),typeof n!="string"&&(l=n,n="");var a=this,o=function(s){try{return a.parseDate(n,s,l)}catch{}s=s.toLowerCase();for(var r=(s.match(/^c/)&&e?e.newDate():null)||a.today(),p=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=p.exec(s);u;)r.add(parseInt(u[1],10),u[2]||"d"),u=p.exec(s);return r};return t=t?t.newDate():null,i=i==null?t:typeof i=="string"?o(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?t:a.today().add(i,"d"):a.newDate(i),i}})}),s1=xe(()=>{var E=ri(),k=Ea(),i=E.instance();function t(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}t.prototype=new E.baseCalendar,k(t.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,d){if(typeof u=="string"){var g=u.match(n);return g?g[0]:""}var v=this._validateYear(u),x=u.month(),y=""+this.toChineseMonth(v,x);return d&&y.length<2&&(y="0"+y),this.isIntercalaryMonth(v,x)&&(y+="i"),y},monthNames:function(u){if(typeof u=="string"){var d=u.match(l);return d?d[0]:""}var g=this._validateYear(u),v=u.month(),x=this.toChineseMonth(g,v),y=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][x-1];return this.isIntercalaryMonth(g,v)&&(y="闰"+y),y},monthNamesShort:function(u){if(typeof u=="string"){var d=u.match(a);return d?d[0]:""}var g=this._validateYear(u),v=u.month(),x=this.toChineseMonth(g,v),y=["一","二","三","四","五","六","七","八","九","十","十一","十二"][x-1];return this.isIntercalaryMonth(g,v)&&(y="闰"+y),y},parseMonth:function(u,d){u=this._validateYear(u);var g=parseInt(d),v;if(isNaN(g))d[0]==="闰"&&(v=!0,d=d.substring(1)),d[d.length-1]==="月"&&(d=d.substring(0,d.length-1)),g=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(d);else{var x=d[d.length-1];v=x==="i"||x==="I"}var y=this.toMonthIndex(u,g,v);return y},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,d){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw d.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,d,g){var v=this.intercalaryMonth(u),x=g&&d!==v;if(x||d<1||d>12)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var y;return v?!g&&d<=v?y=d-1:y=d:y=d-1,y},toChineseMonth:function(u,d){u.year&&(u=u.year(),d=u.month());var g=this.intercalaryMonth(u),v=g?12:11;if(d<0||d>v)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var x;return g?d<g?x=d+1:x=d:x=d+1,x},intercalaryMonth:function(u){u=this._validateYear(u);var d=o[u-o[0]],g=d>>13;return g},isIntercalaryMonth:function(u,d){u.year&&(u=u.year(),d=u.month());var g=this.intercalaryMonth(u);return!!g&&g===d},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,d,g){var v=this._validateYear(u,E.local.invalidyear),x=s[v-s[0]],y=x>>9&4095,m=x>>5&15,c=x&31,h;h=i.newDate(y,m,c),h.add(4-(h.dayOfWeek()||7),"d");var b=this.toJD(u,d,g)-h.toJD();return 1+Math.floor(b/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,d){u.year&&(d=u.month(),u=u.year()),u=this._validateYear(u);var g=o[u-o[0]],v=g>>13,x=v?12:11;if(d>x)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var y=g&1<<12-d?30:29;return y},weekDay:function(u,d,g){return(this.dayOfWeek(u,d,g)||7)<6},toJD:function(u,d,g){var v=this._validate(u,y,g,E.local.invalidDate);u=this._validateYear(v.year()),d=v.month(),g=v.day();var x=this.isIntercalaryMonth(u,d),y=this.toChineseMonth(u,d),m=p(u,y,g,x);return i.toJD(m.year,m.month,m.day)},fromJD:function(u){var d=i.fromJD(u),g=r(d.year(),d.month(),d.day()),v=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,v,g.day)},fromString:function(u){var d=u.match(e),g=this._validateYear(+d[1]),v=+d[2],x=!!d[3],y=this.toMonthIndex(g,v,x),m=+d[4];return this.newDate(g,y,m)},add:function(u,d,g){var v=u.year(),x=u.month(),y=this.isIntercalaryMonth(v,x),m=this.toChineseMonth(v,x),c=Object.getPrototypeOf(t.prototype).add.call(this,u,d,g);if(g==="y"){var h=c.year(),b=c.month(),_=this.isIntercalaryMonth(h,m),w=y&&_?this.toMonthIndex(h,m,!0):this.toMonthIndex(h,m,!1);w!==b&&c.month(w)}return c}});var e=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,n=/^\d?\d[iI]?/m,l=/^闰?十?[一二三四五六七八九]?月/m,a=/^闰?十?[一二三四五六七八九]?/m;E.calendars.chinese=t;var o=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function r(u,d,g,v){var x,y;if(typeof u=="object")x=u,y=d||{};else{var m=typeof u=="number"&&u>=1888&&u<=2111;if(!m)throw new Error("Solar year outside range 1888-2111");var c=typeof d=="number"&&d>=1&&d<=12;if(!c)throw new Error("Solar month outside range 1 - 12");var h=typeof g=="number"&&g>=1&&g<=31;if(!h)throw new Error("Solar day outside range 1 - 31");x={year:u,month:d,day:g},y={}}var b=s[x.year-s[0]],_=x.year<<9|x.month<<5|x.day;y.year=_>=b?x.year:x.year-1,b=s[y.year-s[0]];var w=b>>9&4095,K=b>>5&15,D=b&31,I,C=new Date(w,K-1,D),H=new Date(x.year,x.month-1,x.day);I=Math.round((H-C)/(24*3600*1e3));var z=o[y.year-o[0]],R;for(R=0;R<13;R++){var U=z&1<<12-R?30:29;if(I<U)break;I-=U}var Z=z>>13;return!Z||R<Z?(y.isIntercalary=!1,y.month=1+R):R===Z?(y.isIntercalary=!0,y.month=R):(y.isIntercalary=!1,y.month=R),y.day=1+I,y}function p(u,d,g,v,x){var y,m;if(typeof u=="object")m=u,y=d||{};else{var c=typeof u=="number"&&u>=1888&&u<=2111;if(!c)throw new Error("Lunar year outside range 1888-2111");var h=typeof d=="number"&&d>=1&&d<=12;if(!h)throw new Error("Lunar month outside range 1 - 12");var b=typeof g=="number"&&g>=1&&g<=30;if(!b)throw new Error("Lunar day outside range 1 - 30");var _;typeof v=="object"?(_=!1,y=v):(_=!!v,y={}),m={year:u,month:d,day:g,isIntercalary:_}}var w;w=m.day-1;var K=o[m.year-o[0]],D=K>>13,I;D&&(m.month>D||m.isIntercalary)?I=m.month:I=m.month-1;for(var C=0;C<I;C++){var H=K&1<<12-C?30:29;w+=H}var z=s[m.year-s[0]],R=z>>9&4095,U=z>>5&15,Z=z&31,G=new Date(R,U-1,Z+w);return y.year=G.getFullYear(),y.month=1+G.getMonth(),y.day=G.getDate(),y}}),u1=xe(()=>{var E=ri(),k=Ea();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var e=this._validate(n,this.minMonth,this.minDay,E.local.invalidYear),n=e.year()+(e.year()<0?1:0);return n%4===3||n%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,n){var l=this.newDate(t,e,n);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===13&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var l=this._validate(t,e,n,E.local.invalidDate);return t=l.year(),t<0&&t++,l.day()+(l.month()-1)*30+(t-1)*365+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,n=Math.floor((e-Math.floor((e+366)/1461))/365)+1;n<=0&&n--,e=Math.floor(t)+.5-this.newDate(n,1,1).toJD();var l=Math.floor(e/30)+1,a=e-(l-1)*30+1;return this.newDate(n,l,a)}}),E.calendars.coptic=i}),c1=xe(()=>{var E=ri(),k=Ea();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,E.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,E.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,E.local.invalidYear),400},weekOfYear:function(e,n,l){var a=this.newDate(e,n,l);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/8)+1},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,n,l){var a=this._validate(e,n,l,E.local.invalidDate);return(a.day()+1)%8},weekDay:function(e,n,l){var a=this.dayOfWeek(e,n,l);return a>=2&&a<=6},extraInfo:function(e,n,l){var a=this._validate(e,n,l,E.local.invalidDate);return{century:t[Math.floor((a.year()-1)/100)+1]||""}},toJD:function(e,n,l){var a=this._validate(e,n,l,E.local.invalidDate);return e=a.year()+(a.year()<0?1:0),n=a.month(),l=a.day(),l+(n>1?16:0)+(n>2?(n-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var n=Math.floor(e/400)+1;e-=(n-1)*400,e+=e>15?16:0;var l=Math.floor(e/32)+1,a=e-(l-1)*32+1;return this.newDate(n<=0?n-1:n,l,a)}});var t={20:"Fruitbat",21:"Anchovy"};E.calendars.discworld=i}),f1=xe(()=>{var E=ri(),k=Ea();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var e=this._validate(n,this.minMonth,this.minDay,E.local.invalidYear),n=e.year()+(e.year()<0?1:0);return n%4===3||n%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,n){var l=this.newDate(t,e,n);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===13&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var l=this._validate(t,e,n,E.local.invalidDate);return t=l.year(),t<0&&t++,l.day()+(l.month()-1)*30+(t-1)*365+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,n=Math.floor((e-Math.floor((e+366)/1461))/365)+1;n<=0&&n--,e=Math.floor(t)+.5-this.newDate(n,1,1).toJD();var l=Math.floor(e/30)+1,a=e-(l-1)*30+1;return this.newDate(n,l,a)}}),E.calendars.ethiopian=i}),d1=xe(()=>{var E=ri(),k=Ea();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,E.local.invalidYear);return this._leapYear(n.year())},_leapYear:function(e){return e=e<0?e+1:e,t(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,E.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,n,l){var a=this.newDate(e,n,l);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,E.local.invalidYear);return e=n.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,n){return e.year&&(n=e.month(),e=e.year()),this._validate(e,n,this.minDay,E.local.invalidMonth),n===12&&this.leapYear(e)||n===8&&t(this.daysInYear(e),10)===5?30:n===9&&t(this.daysInYear(e),10)===3?29:this.daysPerMonth[n-1]},weekDay:function(e,n,l){return this.dayOfWeek(e,n,l)!==6},extraInfo:function(e,n,l){var a=this._validate(e,n,l,E.local.invalidDate);return{yearType:(this.leapYear(a)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(a)%10-3]}},toJD:function(e,n,l){var a=this._validate(e,n,l,E.local.invalidDate);e=a.year(),n=a.month(),l=a.day();var o=e<=0?e+1:e,s=this.jdEpoch+this._delay1(o)+this._delay2(o)+l+1;if(n<7){for(var r=7;r<=this.monthsInYear(e);r++)s+=this.daysInMonth(e,r);for(var r=1;r<n;r++)s+=this.daysInMonth(e,r)}else for(var r=7;r<n;r++)s+=this.daysInMonth(e,r);return s},_delay1:function(e){var n=Math.floor((235*e-234)/19),l=12084+13753*n,a=n*29+Math.floor(l/25920);return t(3*(a+1),7)<3&&a++,a},_delay2:function(e){var n=this._delay1(e-1),l=this._delay1(e),a=this._delay1(e+1);return a-l===356?2:l-n===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var n=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(n===-1?1:n+1,7,1);)n++;for(var l=e<this.toJD(n,1,1)?7:1;e>this.toJD(n,l,this.daysInMonth(n,l));)l++;var a=e-this.toJD(n,l,1)+1;return this.newDate(n,l,a)}});function t(e,n){return e-n*Math.floor(e/n)}E.calendars.hebrew=i}),h1=xe(()=>{var E=ri(),k=Ea();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,E.local.invalidYear);return(e.year()*11+14)%30<11},weekOfYear:function(t,e,n){var l=this.newDate(t,e,n);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(t){return this.leapYear(t)?355:354},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===12&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return this.dayOfWeek(t,e,n)!==5},toJD:function(t,e,n){var l=this._validate(t,e,n,E.local.invalidDate);return t=l.year(),e=l.month(),n=l.day(),t=t<=0?t+1:t,n+Math.ceil(29.5*(e-1))+(t-1)*354+Math.floor((3+11*t)/30)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var e=Math.floor((30*(t-this.jdEpoch)+10646)/10631);e=e<=0?e-1:e;var n=Math.min(12,Math.ceil((t-29-this.toJD(e,1,1))/29.5)+1),l=t-this.toJD(e,n,1)+1;return this.newDate(e,n,l)}}),E.calendars.islamic=i}),p1=xe(()=>{var E=ri(),k=Ea();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var e=this._validate(n,this.minMonth,this.minDay,E.local.invalidYear),n=e.year()<0?e.year()+1:e.year();return n%4===0},weekOfYear:function(t,e,n){var l=this.newDate(t,e,n);return l.add(4-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var l=this._validate(t,e,n,E.local.invalidDate);return t=l.year(),e=l.month(),n=l.day(),t<0&&t++,e<=2&&(t--,e+=12),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+n-1524.5},fromJD:function(t){var e=Math.floor(t+.5),n=e+1524,l=Math.floor((n-122.1)/365.25),a=Math.floor(365.25*l),o=Math.floor((n-a)/30.6001),s=o-Math.floor(o<14?1:13),r=l-Math.floor(s>2?4716:4715),p=n-a-Math.floor(30.6001*o);return r<=0&&r--,this.newDate(r,s,p)}}),E.calendars.julian=i}),g1=xe(()=>{var E=ri(),k=Ea();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,E.local.invalidYear),!1},formatYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,E.local.invalidYear);n=l.year();var a=Math.floor(n/400);n=n%400,n+=n<0?400:0;var o=Math.floor(n/20);return a+"."+o+"."+n%20},forYear:function(n){if(n=n.split("."),n.length<3)throw"Invalid Mayan year";for(var l=0,a=0;a<n.length;a++){var o=parseInt(n[a],10);if(Math.abs(o)>19||a>0&&o<0)throw"Invalid Mayan year";l=l*20+o}return l},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,E.local.invalidYear),18},weekOfYear:function(n,l,a){return this._validate(n,l,a,E.local.invalidDate),0},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,E.local.invalidYear),360},daysInMonth:function(n,l){return this._validate(n,l,this.minDay,E.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(n,l,a){var o=this._validate(n,l,a,E.local.invalidDate);return o.day()},weekDay:function(n,l,a){return this._validate(n,l,a,E.local.invalidDate),!0},extraInfo:function(n,l,a){var o=this._validate(n,l,a,E.local.invalidDate),s=o.toJD(),r=this._toHaab(s),p=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[p[0]-1],tzolkinDay:p[0],tzolkinTrecena:p[1]}},_toHaab:function(n){n-=this.jdEpoch;var l=t(n+8+17*20,365);return[Math.floor(l/20)+1,t(l,20)]},_toTzolkin:function(n){return n-=this.jdEpoch,[e(n+20,20),e(n+4,13)]},toJD:function(n,l,a){var o=this._validate(n,l,a,E.local.invalidDate);return o.day()+o.month()*20+o.year()*360+this.jdEpoch},fromJD:function(n){n=Math.floor(n)+.5-this.jdEpoch;var l=Math.floor(n/360);n=n%360,n+=n<0?360:0;var a=Math.floor(n/20),o=n%20;return this.newDate(l,a,o)}});function t(n,l){return n-l*Math.floor(n/l)}function e(n,l){return t(n-1,l)+1}E.calendars.mayan=i}),y1=xe(()=>{var E=ri(),k=Ea();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar;var t=E.instance("gregorian");k(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear);return t.leapYear(n.year()+(n.year()<1?1:0)+1469)},weekOfYear:function(e,n,l){var a=this.newDate(e,n,l);return a.add(1-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(e,n,l){return(this.dayOfWeek(e,n,l)||7)<6},toJD:function(o,n,l){var a=this._validate(o,n,l,E.local.invalidMonth),o=a.year();o<0&&o++;for(var s=a.day(),r=1;r<a.month();r++)s+=this.daysPerMonth[r-1];return s+t.toJD(o+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var n=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(n+1,1,1);)n++;for(var l=e-Math.floor(this.toJD(n,1,1)+.5)+1,a=1;l>this.daysInMonth(n,a);)l-=this.daysInMonth(n,a),a++;return this.newDate(n,a,l)}}),E.calendars.nanakshahi=i}),v1=xe(()=>{var E=ri(),k=Ea();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(t){return this.daysInYear(t)!==this.daysPerYear},weekOfYear:function(t,e,n){var l=this.newDate(t,e,n);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,E.local.invalidYear);if(t=e.year(),typeof this.NEPALI_CALENDAR_DATA[t]>"u")return this.daysPerYear;for(var n=0,l=this.minMonth;l<=12;l++)n+=this.NEPALI_CALENDAR_DATA[t][l];return n},daysInMonth:function(t,e){return t.year&&(e=t.month(),t=t.year()),this._validate(t,e,this.minDay,E.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[t]>"u"?this.daysPerMonth[e-1]:this.NEPALI_CALENDAR_DATA[t][e]},weekDay:function(t,e,n){return this.dayOfWeek(t,e,n)!==6},toJD:function(t,e,n){var l=this._validate(t,e,n,E.local.invalidDate);t=l.year(),e=l.month(),n=l.day();var a=E.instance(),o=0,s=e,r=t;this._createMissingCalendarData(t);var p=t-(s>9||s===9&&n>=this.NEPALI_CALENDAR_DATA[r][0]?56:57);for(e!==9&&(o=n,s--);s!==9;)s<=0&&(s=12,r--),o+=this.NEPALI_CALENDAR_DATA[r][s],s--;return e===9?(o+=n-this.NEPALI_CALENDAR_DATA[r][0],o<0&&(o+=a.daysInYear(p))):o+=this.NEPALI_CALENDAR_DATA[r][9]-this.NEPALI_CALENDAR_DATA[r][0],a.newDate(p,1,1).add(o,"d").toJD()},fromJD:function(t){var e=E.instance(),n=e.fromJD(t),l=n.year(),a=n.dayOfYear(),o=l+56;this._createMissingCalendarData(o);for(var s=9,r=this.NEPALI_CALENDAR_DATA[o][0],p=this.NEPALI_CALENDAR_DATA[o][s]-r+1;a>p;)s++,s>12&&(s=1,o++),p+=this.NEPALI_CALENDAR_DATA[o][s];var u=this.NEPALI_CALENDAR_DATA[o][s]-(p-a);return this.newDate(o,s,u)},_createMissingCalendarData:function(t){var e=this.daysPerMonth.slice(0);e.unshift(17);for(var n=t-1;n<t+2;n++)typeof this.NEPALI_CALENDAR_DATA[n]>"u"&&(this.NEPALI_CALENDAR_DATA[n]=e)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),E.calendars.nepali=i}),m1=xe(()=>{var E=ri(),k=Ea();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,E.local.invalidYear);return((n.year()-(n.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,n,l){var a=this.newDate(e,n,l);return a.add(-((a.dayOfWeek()+1)%7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(e,n,l){return this.dayOfWeek(e,n,l)!==5},toJD:function(e,n,l){var a=this._validate(e,n,l,E.local.invalidDate);e=a.year(),n=a.month(),l=a.day();var o=e-(e>=0?474:473),s=474+t(o,2820);return l+(n<=7?(n-1)*31:(n-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(o/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var n=e-this.toJD(475,1,1),l=Math.floor(n/1029983),a=t(n,1029983),o=2820;if(a!==1029982){var s=Math.floor(a/366),r=t(a,366);o=Math.floor((2134*s+2816*r+2815)/1028522)+s+1}var p=o+2820*l+474;p=p<=0?p-1:p;var u=e-this.toJD(p,1,1)+1,d=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),g=e-this.toJD(p,d,1)+1;return this.newDate(p,d,g)}});function t(e,n){return e-n*Math.floor(e/n)}E.calendars.persian=i,E.calendars.jalali=i}),x1=xe(()=>{var E=ri(),k=Ea(),i=E.instance();function t(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}t.prototype=new E.baseCalendar,k(t.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(l){var n=this._validate(l,this.minMonth,this.minDay,E.local.invalidYear),l=this._t2gYear(n.year());return i.leapYear(l)},weekOfYear:function(o,n,l){var a=this._validate(o,this.minMonth,this.minDay,E.local.invalidYear),o=this._t2gYear(a.year());return i.weekOfYear(o,a.month(),a.day())},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(e,n,l){return(this.dayOfWeek(e,n,l)||7)<6},toJD:function(o,n,l){var a=this._validate(o,n,l,E.local.invalidDate),o=this._t2gYear(a.year());return i.toJD(o,a.month(),a.day())},fromJD:function(e){var n=i.fromJD(e),l=this._g2tYear(n.year());return this.newDate(l,n.month(),n.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}}),E.calendars.taiwan=t}),b1=xe(()=>{var E=ri(),k=Ea(),i=E.instance();function t(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}t.prototype=new E.baseCalendar,k(t.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var n=this._validate(l,this.minMonth,this.minDay,E.local.invalidYear),l=this._t2gYear(n.year());return i.leapYear(l)},weekOfYear:function(o,n,l){var a=this._validate(o,this.minMonth,this.minDay,E.local.invalidYear),o=this._t2gYear(a.year());return i.weekOfYear(o,a.month(),a.day())},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(e,n,l){return(this.dayOfWeek(e,n,l)||7)<6},toJD:function(o,n,l){var a=this._validate(o,n,l,E.local.invalidDate),o=this._t2gYear(a.year());return i.toJD(o,a.month(),a.day())},fromJD:function(e){var n=i.fromJD(e),l=this._g2tYear(n.year());return this.newDate(l,n.month(),n.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}}),E.calendars.thai=t}),_1=xe(()=>{var E=ri(),k=Ea();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,k(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,E.local.invalidYear);return this.daysInYear(n.year())===355},weekOfYear:function(e,n,l){var a=this.newDate(e,n,l);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var n=0,l=1;l<=12;l++)n+=this.daysInMonth(e,l);return n},daysInMonth:function(e,n){for(var l=this._validate(e,n,this.minDay,E.local.invalidMonth),a=l.toJD()-24e5+.5,o=0,s=0;s<t.length;s++){if(t[s]>a)return t[o]-t[o-1];o++}return 30},weekDay:function(e,n,l){return this.dayOfWeek(e,n,l)!==5},toJD:function(e,n,l){var a=this._validate(e,n,l,E.local.invalidDate),o=12*(a.year()-1)+a.month()-15292,s=a.day()+t[o-1]-1;return s+24e5-.5},fromJD:function(e){for(var n=e-24e5+.5,l=0,a=0;a<t.length&&!(t[a]>n);a++)l++;var o=l+15292,s=Math.floor((o-1)/12),r=s+1,p=o-12*s,u=n-t[l-1]+1;return this.newDate(r,p,u)},isValid:function(e,n,l){var a=E.baseCalendar.prototype.isValid.apply(this,arguments);return a&&(e=e.year!=null?e.year:e,a=e>=1276&&e<=1500),a},_validate:function(e,n,l,a){var o=E.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw a.replace(/\{0\}/,this.local.name);return o}}),E.calendars.ummalqura=i;var t=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),w1=xe((E,k)=>{k.exports=ri(),l1(),s1(),u1(),c1(),f1(),d1(),h1(),p1(),g1(),y1(),v1(),m1(),x1(),b1(),_1()}),A1=xe((E,k)=>{var i=w1(),t=sr(),e=Pa(),n=e.EPOCHJD,l=e.ONEDAY,a={valType:"enumerated",values:t.sortObjectKeys(i.calendars),editType:"calc",dflt:"gregorian"},o=function(K,D,I,C){var H={};return H[I]=a,t.coerce(K,D,H,I,C)},s=function(K,D,I,C){for(var H=0;H<I.length;H++)o(K,D,I[H]+"calendar",C.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},p={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},u={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},d="##",g={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:d,w:d,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function v(K,D,I){for(var C=Math.floor((D+.05)/l)+n,H=y(I).fromJD(C),z=0,R,U,Z,G,P;(z=K.indexOf("%",z))!==-1;)R=K.charAt(z+1),R==="0"||R==="-"||R==="_"?(Z=3,U=K.charAt(z+2),R==="_"&&(R="-")):(U=R,R="0",Z=2),G=g[U],G?(G===d?P=d:P=H.formatDate(G[R]),K=K.substr(0,z)+P+K.substr(z+Z),z+=P.length):z+=Z;return K}var x={};function y(K){var D=x[K];return D||(D=x[K]=i.instance(K),D)}function m(K){return t.extendFlat({},a,{description:K})}function c(K){return"Sets the calendar system to use with `"+K+"` date data."}var h={xcalendar:m(c("x"))},b=t.extendFlat({},h,{ycalendar:m(c("y"))}),_=t.extendFlat({},b,{zcalendar:m(c("z"))}),w=m(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));k.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:b,bar:b,box:b,heatmap:b,contour:b,histogram:b,histogram2d:b,histogram2dcontour:b,scatter3d:_,surface:_,mesh3d:_,scattergl:b,ohlc:h,candlestick:h},layout:{calendar:m(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}}},layoutAttributes:a,handleDefaults:o,handleTraceDefaults:s,CANONICAL_SUNDAY:p,CANONICAL_TICK:r,DFLTRANGE:u,getCal:y,worldCalFmt:v}}),T1=xe((E,k)=>{k.exports=A1()}),k1=xe((E,k)=>{var i=Ig();i.register([o1(),T1()]),k.exports=i});return k1()})();/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/return window.Plotly=qo,qo})});export default S1();
